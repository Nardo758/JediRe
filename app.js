function DL(t,s){for(var a=0;a<s.length;a++){const r=s[a];if(typeof r!="string"&&!Array.isArray(r)){for(const n in r)if(n!=="default"&&!(n in t)){const i=Object.getOwnPropertyDescriptor(r,n);i&&Object.defineProperty(t,n,i.get?i:{enumerable:!0,get:()=>r[n]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function a(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=a(n);fetch(n.href,i)}})();function ON(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var zy={exports:{}},th={},Vy={exports:{}},js={};var Xk;function FL(){if(Xk)return js;Xk=1;var t=Symbol.for("react.element"),s=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),n=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),f=Symbol.iterator;function g($){return $===null||typeof $!="object"?null:($=f&&$[f]||$["@@iterator"],typeof $=="function"?$:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,y={};function w($,L,W){this.props=$,this.context=L,this.refs=y,this.updater=W||b}w.prototype.isReactComponent={},w.prototype.setState=function($,L){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,L,"setState")},w.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function k(){}k.prototype=w.prototype;function C($,L,W){this.props=$,this.context=L,this.refs=y,this.updater=W||b}var _=C.prototype=new k;_.constructor=C,v(_,w.prototype),_.isPureReactComponent=!0;var M=Array.isArray,E=Object.prototype.hasOwnProperty,R={current:null},z={key:!0,ref:!0,__self:!0,__source:!0};function A($,L,W){var re,se={},ge=null,K=null;if(L!=null)for(re in L.ref!==void 0&&(K=L.ref),L.key!==void 0&&(ge=""+L.key),L)E.call(L,re)&&!z.hasOwnProperty(re)&&(se[re]=L[re]);var J=arguments.length-2;if(J===1)se.children=W;else if(1<J){for(var je=Array(J),ze=0;ze<J;ze++)je[ze]=arguments[ze+2];se.children=je}if($&&$.defaultProps)for(re in J=$.defaultProps,J)se[re]===void 0&&(se[re]=J[re]);return{$$typeof:t,type:$,key:ge,ref:K,props:se,_owner:R.current}}function V($,L){return{$$typeof:t,type:$.type,key:L,ref:$.ref,props:$.props,_owner:$._owner}}function H($){return typeof $=="object"&&$!==null&&$.$$typeof===t}function I($){var L={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(W){return L[W]})}var q=/\/+/g;function fe($,L){return typeof $=="object"&&$!==null&&$.key!=null?I(""+$.key):L.toString(36)}function oe($,L,W,re,se){var ge=typeof $;(ge==="undefined"||ge==="boolean")&&($=null);var K=!1;if($===null)K=!0;else switch(ge){case"string":case"number":K=!0;break;case"object":switch($.$$typeof){case t:case s:K=!0}}if(K)return K=$,se=se(K),$=re===""?"."+fe(K,0):re,M(se)?(W="",$!=null&&(W=$.replace(q,"$&/")+"/"),oe(se,L,W,"",function(ze){return ze})):se!=null&&(H(se)&&(se=V(se,W+(!se.key||K&&K.key===se.key?"":(""+se.key).replace(q,"$&/")+"/")+$)),L.push(se)),1;if(K=0,re=re===""?".":re+":",M($))for(var J=0;J<$.length;J++){ge=$[J];var je=re+fe(ge,J);K+=oe(ge,L,W,je,se)}else if(je=g($),typeof je=="function")for($=je.call($),J=0;!(ge=$.next()).done;)ge=ge.value,je=re+fe(ge,J++),K+=oe(ge,L,W,je,se);else if(ge==="object")throw L=String($),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.");return K}function Ee($,L,W){if($==null)return $;var re=[],se=0;return oe($,re,"","",function(ge){return L.call(W,ge,se++)}),re}function me($){if($._status===-1){var L=$._result;L=L(),L.then(function(W){($._status===0||$._status===-1)&&($._status=1,$._result=W)},function(W){($._status===0||$._status===-1)&&($._status=2,$._result=W)}),$._status===-1&&($._status=0,$._result=L)}if($._status===1)return $._result.default;throw $._result}var ie={current:null},B={transition:null},ae={ReactCurrentDispatcher:ie,ReactCurrentBatchConfig:B,ReactCurrentOwner:R};function ke(){throw Error("act(...) is not supported in production builds of React.")}return js.Children={map:Ee,forEach:function($,L,W){Ee($,function(){L.apply(this,arguments)},W)},count:function($){var L=0;return Ee($,function(){L++}),L},toArray:function($){return Ee($,function(L){return L})||[]},only:function($){if(!H($))throw Error("React.Children.only expected to receive a single React element child.");return $}},js.Component=w,js.Fragment=a,js.Profiler=n,js.PureComponent=C,js.StrictMode=r,js.Suspense=u,js.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ae,js.act=ke,js.cloneElement=function($,L,W){if($==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+$+".");var re=v({},$.props),se=$.key,ge=$.ref,K=$._owner;if(L!=null){if(L.ref!==void 0&&(ge=L.ref,K=R.current),L.key!==void 0&&(se=""+L.key),$.type&&$.type.defaultProps)var J=$.type.defaultProps;for(je in L)E.call(L,je)&&!z.hasOwnProperty(je)&&(re[je]=L[je]===void 0&&J!==void 0?J[je]:L[je])}var je=arguments.length-2;if(je===1)re.children=W;else if(1<je){J=Array(je);for(var ze=0;ze<je;ze++)J[ze]=arguments[ze+2];re.children=J}return{$$typeof:t,type:$.type,key:se,ref:ge,props:re,_owner:K}},js.createContext=function($){return $={$$typeof:l,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},$.Provider={$$typeof:i,_context:$},$.Consumer=$},js.createElement=A,js.createFactory=function($){var L=A.bind(null,$);return L.type=$,L},js.createRef=function(){return{current:null}},js.forwardRef=function($){return{$$typeof:c,render:$}},js.isValidElement=H,js.lazy=function($){return{$$typeof:x,_payload:{_status:-1,_result:$},_init:me}},js.memo=function($,L){return{$$typeof:m,type:$,compare:L===void 0?null:L}},js.startTransition=function($){var L=B.transition;B.transition={};try{$()}finally{B.transition=L}},js.unstable_act=ke,js.useCallback=function($,L){return ie.current.useCallback($,L)},js.useContext=function($){return ie.current.useContext($)},js.useDebugValue=function(){},js.useDeferredValue=function($){return ie.current.useDeferredValue($)},js.useEffect=function($,L){return ie.current.useEffect($,L)},js.useId=function(){return ie.current.useId()},js.useImperativeHandle=function($,L,W){return ie.current.useImperativeHandle($,L,W)},js.useInsertionEffect=function($,L){return ie.current.useInsertionEffect($,L)},js.useLayoutEffect=function($,L){return ie.current.useLayoutEffect($,L)},js.useMemo=function($,L){return ie.current.useMemo($,L)},js.useReducer=function($,L,W){return ie.current.useReducer($,L,W)},js.useRef=function($){return ie.current.useRef($)},js.useState=function($){return ie.current.useState($)},js.useSyncExternalStore=function($,L,W){return ie.current.useSyncExternalStore($,L,W)},js.useTransition=function(){return ie.current.useTransition()},js.version="18.3.1",js}var Zk;function Xg(){return Zk||(Zk=1,Vy.exports=FL()),Vy.exports}var Jk;function ML(){if(Jk)return th;Jk=1;var t=Xg(),s=Symbol.for("react.element"),a=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,n=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function l(c,u,m){var x,f={},g=null,b=null;m!==void 0&&(g=""+m),u.key!==void 0&&(g=""+u.key),u.ref!==void 0&&(b=u.ref);for(x in u)r.call(u,x)&&!i.hasOwnProperty(x)&&(f[x]=u[x]);if(c&&c.defaultProps)for(x in u=c.defaultProps,u)f[x]===void 0&&(f[x]=u[x]);return{$$typeof:s,type:c,key:g,ref:b,props:f,_owner:n.current}}return th.Fragment=a,th.jsx=l,th.jsxs=l,th}var eC;function IL(){return eC||(eC=1,zy.exports=ML()),zy.exports}var e=IL(),Xp={},Uy={exports:{}},$n={},qy={exports:{}},Hy={};var tC;function RL(){return tC||(tC=1,(function(t){function s(B,ae){var ke=B.length;B.push(ae);e:for(;0<ke;){var $=ke-1>>>1,L=B[$];if(0<n(L,ae))B[$]=ae,B[ke]=L,ke=$;else break e}}function a(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var ae=B[0],ke=B.pop();if(ke!==ae){B[0]=ke;e:for(var $=0,L=B.length,W=L>>>1;$<W;){var re=2*($+1)-1,se=B[re],ge=re+1,K=B[ge];if(0>n(se,ke))ge<L&&0>n(K,se)?(B[$]=K,B[ge]=ke,$=ge):(B[$]=se,B[re]=ke,$=re);else if(ge<L&&0>n(K,ke))B[$]=K,B[ge]=ke,$=ge;else break e}}return ae}function n(B,ae){var ke=B.sortIndex-ae.sortIndex;return ke!==0?ke:B.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var u=[],m=[],x=1,f=null,g=3,b=!1,v=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(B){for(var ae=a(m);ae!==null;){if(ae.callback===null)r(m);else if(ae.startTime<=B)r(m),ae.sortIndex=ae.expirationTime,s(u,ae);else break;ae=a(m)}}function M(B){if(y=!1,_(B),!v)if(a(u)!==null)v=!0,me(E);else{var ae=a(m);ae!==null&&ie(M,ae.startTime-B)}}function E(B,ae){v=!1,y&&(y=!1,k(A),A=-1),b=!0;var ke=g;try{for(_(ae),f=a(u);f!==null&&(!(f.expirationTime>ae)||B&&!I());){var $=f.callback;if(typeof $=="function"){f.callback=null,g=f.priorityLevel;var L=$(f.expirationTime<=ae);ae=t.unstable_now(),typeof L=="function"?f.callback=L:f===a(u)&&r(u),_(ae)}else r(u);f=a(u)}if(f!==null)var W=!0;else{var re=a(m);re!==null&&ie(M,re.startTime-ae),W=!1}return W}finally{f=null,g=ke,b=!1}}var R=!1,z=null,A=-1,V=5,H=-1;function I(){return!(t.unstable_now()-H<V)}function q(){if(z!==null){var B=t.unstable_now();H=B;var ae=!0;try{ae=z(!0,B)}finally{ae?fe():(R=!1,z=null)}}else R=!1}var fe;if(typeof C=="function")fe=function(){C(q)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,Ee=oe.port2;oe.port1.onmessage=q,fe=function(){Ee.postMessage(null)}}else fe=function(){w(q,0)};function me(B){z=B,R||(R=!0,fe())}function ie(B,ae){A=w(function(){B(t.unstable_now())},ae)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){v||b||(v=!0,me(E))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return a(u)},t.unstable_next=function(B){switch(g){case 1:case 2:case 3:var ae=3;break;default:ae=g}var ke=g;g=ae;try{return B()}finally{g=ke}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,ae){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var ke=g;g=B;try{return ae()}finally{g=ke}},t.unstable_scheduleCallback=function(B,ae,ke){var $=t.unstable_now();switch(typeof ke=="object"&&ke!==null?(ke=ke.delay,ke=typeof ke=="number"&&0<ke?$+ke:$):ke=$,B){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=ke+L,B={id:x++,callback:ae,priorityLevel:B,startTime:ke,expirationTime:L,sortIndex:-1},ke>$?(B.sortIndex=ke,s(m,B),a(u)===null&&B===a(m)&&(y?(k(A),A=-1):y=!0,ie(M,ke-$))):(B.sortIndex=L,s(u,B),v||b||(v=!0,me(E))),B},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(B){var ae=g;return function(){var ke=g;g=ae;try{return B.apply(this,arguments)}finally{g=ke}}}})(Hy)),Hy}var sC;function LL(){return sC||(sC=1,qy.exports=RL()),qy.exports}var aC;function OL(){if(aC)return $n;aC=1;var t=Xg(),s=LL();function a(o){for(var d="https://reactjs.org/docs/error-decoder.html?invariant="+o,p=1;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p]);return"Minified React error #"+o+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,n={};function i(o,d){l(o,d),l(o+"Capture",d)}function l(o,d){for(n[o]=d,o=0;o<d.length;o++)r.add(d[o])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,x={},f={};function g(o){return u.call(f,o)?!0:u.call(x,o)?!1:m.test(o)?f[o]=!0:(x[o]=!0,!1)}function b(o,d,p,j){if(p!==null&&p.type===0)return!1;switch(typeof d){case"function":case"symbol":return!0;case"boolean":return j?!1:p!==null?!p.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function v(o,d,p,j){if(d===null||typeof d>"u"||b(o,d,p,j))return!0;if(j)return!1;if(p!==null)switch(p.type){case 3:return!d;case 4:return d===!1;case 5:return isNaN(d);case 6:return isNaN(d)||1>d}return!1}function y(o,d,p,j,T,D,U){this.acceptsBooleans=d===2||d===3||d===4,this.attributeName=j,this.attributeNamespace=T,this.mustUseProperty=p,this.propertyName=o,this.type=d,this.sanitizeURL=D,this.removeEmptyString=U}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){w[o]=new y(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var d=o[0];w[d]=new y(d,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){w[o]=new y(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){w[o]=new y(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){w[o]=new y(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){w[o]=new y(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){w[o]=new y(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){w[o]=new y(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){w[o]=new y(o,5,!1,o.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function C(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var d=o.replace(k,C);w[d]=new y(d,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var d=o.replace(k,C);w[d]=new y(d,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var d=o.replace(k,C);w[d]=new y(d,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){w[o]=new y(o,1,!1,o.toLowerCase(),null,!1,!1)}),w.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){w[o]=new y(o,1,!1,o.toLowerCase(),null,!0,!0)});function _(o,d,p,j){var T=w.hasOwnProperty(d)?w[d]:null;(T!==null?T.type!==0:j||!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(v(d,p,T,j)&&(p=null),j||T===null?g(d)&&(p===null?o.removeAttribute(d):o.setAttribute(d,""+p)):T.mustUseProperty?o[T.propertyName]=p===null?T.type===3?!1:"":p:(d=T.attributeName,j=T.attributeNamespace,p===null?o.removeAttribute(d):(T=T.type,p=T===3||T===4&&p===!0?"":""+p,j?o.setAttributeNS(j,d,p):o.setAttribute(d,p))))}var M=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=Symbol.for("react.element"),R=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),H=Symbol.for("react.provider"),I=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),fe=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),Ee=Symbol.for("react.memo"),me=Symbol.for("react.lazy"),ie=Symbol.for("react.offscreen"),B=Symbol.iterator;function ae(o){return o===null||typeof o!="object"?null:(o=B&&o[B]||o["@@iterator"],typeof o=="function"?o:null)}var ke=Object.assign,$;function L(o){if($===void 0)try{throw Error()}catch(p){var d=p.stack.trim().match(/\n( *(at )?)/);$=d&&d[1]||""}return`
`+$+o}var W=!1;function re(o,d){if(!o||W)return"";W=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error()},Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(De){var j=De}Reflect.construct(o,[],d)}else{try{d.call()}catch(De){j=De}o.call(d.prototype)}else{try{throw Error()}catch(De){j=De}o()}}catch(De){if(De&&j&&typeof De.stack=="string"){for(var T=De.stack.split(`
`),D=j.stack.split(`
`),U=T.length-1,ee=D.length-1;1<=U&&0<=ee&&T[U]!==D[ee];)ee--;for(;1<=U&&0<=ee;U--,ee--)if(T[U]!==D[ee]){if(U!==1||ee!==1)do if(U--,ee--,0>ee||T[U]!==D[ee]){var ue=`
`+T[U].replace(" at new "," at ");return o.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",o.displayName)),ue}while(1<=U&&0<=ee);break}}}finally{W=!1,Error.prepareStackTrace=p}return(o=o?o.displayName||o.name:"")?L(o):""}function se(o){switch(o.tag){case 5:return L(o.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return o=re(o.type,!1),o;case 11:return o=re(o.type.render,!1),o;case 1:return o=re(o.type,!0),o;default:return""}}function ge(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case z:return"Fragment";case R:return"Portal";case V:return"Profiler";case A:return"StrictMode";case fe:return"Suspense";case oe:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case I:return(o.displayName||"Context")+".Consumer";case H:return(o._context.displayName||"Context")+".Provider";case q:var d=o.render;return o=o.displayName,o||(o=d.displayName||d.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case Ee:return d=o.displayName||null,d!==null?d:ge(o.type)||"Memo";case me:d=o._payload,o=o._init;try{return ge(o(d))}catch{}}return null}function K(o){var d=o.type;switch(o.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=d.render,o=o.displayName||o.name||"",d.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ge(d);case 8:return d===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d}return null}function J(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function je(o){var d=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function ze(o){var d=je(o)?"checked":"value",p=Object.getOwnPropertyDescriptor(o.constructor.prototype,d),j=""+o[d];if(!o.hasOwnProperty(d)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var T=p.get,D=p.set;return Object.defineProperty(o,d,{configurable:!0,get:function(){return T.call(this)},set:function(U){j=""+U,D.call(this,U)}}),Object.defineProperty(o,d,{enumerable:p.enumerable}),{getValue:function(){return j},setValue:function(U){j=""+U},stopTracking:function(){o._valueTracker=null,delete o[d]}}}}function ft(o){o._valueTracker||(o._valueTracker=ze(o))}function Nt(o){if(!o)return!1;var d=o._valueTracker;if(!d)return!0;var p=d.getValue(),j="";return o&&(j=je(o)?o.checked?"true":"false":o.value),o=j,o!==p?(d.setValue(o),!0):!1}function ht(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function Lt(o,d){var p=d.checked;return ke({},d,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:p??o._wrapperState.initialChecked})}function gs(o,d){var p=d.defaultValue==null?"":d.defaultValue,j=d.checked!=null?d.checked:d.defaultChecked;p=J(d.value!=null?d.value:p),o._wrapperState={initialChecked:j,initialValue:p,controlled:d.type==="checkbox"||d.type==="radio"?d.checked!=null:d.value!=null}}function ks(o,d){d=d.checked,d!=null&&_(o,"checked",d,!1)}function Ys(o,d){ks(o,d);var p=J(d.value),j=d.type;if(p!=null)j==="number"?(p===0&&o.value===""||o.value!=p)&&(o.value=""+p):o.value!==""+p&&(o.value=""+p);else if(j==="submit"||j==="reset"){o.removeAttribute("value");return}d.hasOwnProperty("value")?ce(o,d.type,p):d.hasOwnProperty("defaultValue")&&ce(o,d.type,J(d.defaultValue)),d.checked==null&&d.defaultChecked!=null&&(o.defaultChecked=!!d.defaultChecked)}function cs(o,d,p){if(d.hasOwnProperty("value")||d.hasOwnProperty("defaultValue")){var j=d.type;if(!(j!=="submit"&&j!=="reset"||d.value!==void 0&&d.value!==null))return;d=""+o._wrapperState.initialValue,p||d===o.value||(o.value=d),o.defaultValue=d}p=o.name,p!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,p!==""&&(o.name=p)}function ce(o,d,p){(d!=="number"||ht(o.ownerDocument)!==o)&&(p==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+p&&(o.defaultValue=""+p))}var at=Array.isArray;function Z(o,d,p,j){if(o=o.options,d){d={};for(var T=0;T<p.length;T++)d["$"+p[T]]=!0;for(p=0;p<o.length;p++)T=d.hasOwnProperty("$"+o[p].value),o[p].selected!==T&&(o[p].selected=T),T&&j&&(o[p].defaultSelected=!0)}else{for(p=""+J(p),d=null,T=0;T<o.length;T++){if(o[T].value===p){o[T].selected=!0,j&&(o[T].defaultSelected=!0);return}d!==null||o[T].disabled||(d=o[T])}d!==null&&(d.selected=!0)}}function xe(o,d){if(d.dangerouslySetInnerHTML!=null)throw Error(a(91));return ke({},d,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function Ae(o,d){var p=d.value;if(p==null){if(p=d.children,d=d.defaultValue,p!=null){if(d!=null)throw Error(a(92));if(at(p)){if(1<p.length)throw Error(a(93));p=p[0]}d=p}d==null&&(d=""),p=d}o._wrapperState={initialValue:J(p)}}function Qe(o,d){var p=J(d.value),j=J(d.defaultValue);p!=null&&(p=""+p,p!==o.value&&(o.value=p),d.defaultValue==null&&o.defaultValue!==p&&(o.defaultValue=p)),j!=null&&(o.defaultValue=""+j)}function Ue(o){var d=o.textContent;d===o._wrapperState.initialValue&&d!==""&&d!==null&&(o.value=d)}function Ve(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ut(o,d){return o==null||o==="http://www.w3.org/1999/xhtml"?Ve(d):o==="http://www.w3.org/2000/svg"&&d==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var $t,ss=(function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(d,p,j,T){MSApp.execUnsafeLocalFunction(function(){return o(d,p,j,T)})}:o})(function(o,d){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=d;else{for($t=$t||document.createElement("div"),$t.innerHTML="<svg>"+d.valueOf().toString()+"</svg>",d=$t.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;d.firstChild;)o.appendChild(d.firstChild)}});function Ds(o,d){if(d){var p=o.firstChild;if(p&&p===o.lastChild&&p.nodeType===3){p.nodeValue=d;return}}o.textContent=d}var Hs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sa=["Webkit","ms","Moz","O"];Object.keys(Hs).forEach(function(o){sa.forEach(function(d){d=d+o.charAt(0).toUpperCase()+o.substring(1),Hs[d]=Hs[o]})});function pr(o,d,p){return d==null||typeof d=="boolean"||d===""?"":p||typeof d!="number"||d===0||Hs.hasOwnProperty(o)&&Hs[o]?(""+d).trim():d+"px"}function ar(o,d){o=o.style;for(var p in d)if(d.hasOwnProperty(p)){var j=p.indexOf("--")===0,T=pr(p,d[p],j);p==="float"&&(p="cssFloat"),j?o.setProperty(p,T):o[p]=T}}var wa=ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Re(o,d){if(d){if(wa[o]&&(d.children!=null||d.dangerouslySetInnerHTML!=null))throw Error(a(137,o));if(d.dangerouslySetInnerHTML!=null){if(d.children!=null)throw Error(a(60));if(typeof d.dangerouslySetInnerHTML!="object"||!("__html"in d.dangerouslySetInnerHTML))throw Error(a(61))}if(d.style!=null&&typeof d.style!="object")throw Error(a(62))}}function Ct(o,d){if(o.indexOf("-")===-1)return typeof d.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ls=null;function aa(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Zs=null,Ga=null,Cr=null;function rr(o){if(o=Bm(o)){if(typeof Zs!="function")throw Error(a(280));var d=o.stateNode;d&&(d=mp(d),Zs(o.stateNode,o.type,d))}}function Hr(o){Ga?Cr?Cr.push(o):Cr=[o]:Ga=o}function gi(){if(Ga){var o=Ga,d=Cr;if(Cr=Ga=null,rr(o),d)for(o=0;o<d.length;o++)rr(d[o])}}function vs(o,d){return o(d)}function Ka(){}var dn=!1;function Fr(o,d,p){if(dn)return o(d,p);dn=!0;try{return vs(o,d,p)}finally{dn=!1,(Ga!==null||Cr!==null)&&(Ka(),gi())}}function Pn(o,d){var p=o.stateNode;if(p===null)return null;var j=mp(p);if(j===null)return null;p=j[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(j=!j.disabled)||(o=o.type,j=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!j;break e;default:o=!1}if(o)return null;if(p&&typeof p!="function")throw Error(a(231,d,typeof p));return p}var xl=!1;if(c)try{var Kn={};Object.defineProperty(Kn,"passive",{get:function(){xl=!0}}),window.addEventListener("test",Kn,Kn),window.removeEventListener("test",Kn,Kn)}catch{xl=!1}function Ri(o,d,p,j,T,D,U,ee,ue){var De=Array.prototype.slice.call(arguments,3);try{d.apply(p,De)}catch(Ke){this.onError(Ke)}}var fr=!1,Wr=null,Li=!1,yc=null,Dd={onError:function(o){fr=!0,Wr=o}};function jc(o,d,p,j,T,D,U,ee,ue){fr=!1,Wr=null,Ri.apply(Dd,arguments)}function An(o,d,p,j,T,D,U,ee,ue){if(jc.apply(this,arguments),fr){if(fr){var De=Wr;fr=!1,Wr=null}else throw Error(a(198));Li||(Li=!0,yc=De)}}function vi(o){var d=o,p=o;if(o.alternate)for(;d.return;)d=d.return;else{o=d;do d=o,(d.flags&4098)!==0&&(p=d.return),o=d.return;while(o)}return d.tag===3?p:null}function wo(o){if(o.tag===13){var d=o.memoizedState;if(d===null&&(o=o.alternate,o!==null&&(d=o.memoizedState)),d!==null)return d.dehydrated}return null}function ko(o){if(vi(o)!==o)throw Error(a(188))}function Fd(o){var d=o.alternate;if(!d){if(d=vi(o),d===null)throw Error(a(188));return d!==o?null:o}for(var p=o,j=d;;){var T=p.return;if(T===null)break;var D=T.alternate;if(D===null){if(j=T.return,j!==null){p=j;continue}break}if(T.child===D.child){for(D=T.child;D;){if(D===p)return ko(T),o;if(D===j)return ko(T),d;D=D.sibling}throw Error(a(188))}if(p.return!==j.return)p=T,j=D;else{for(var U=!1,ee=T.child;ee;){if(ee===p){U=!0,p=T,j=D;break}if(ee===j){U=!0,j=T,p=D;break}ee=ee.sibling}if(!U){for(ee=D.child;ee;){if(ee===p){U=!0,p=D,j=T;break}if(ee===j){U=!0,j=D,p=T;break}ee=ee.sibling}if(!U)throw Error(a(189))}}if(p.alternate!==j)throw Error(a(190))}if(p.tag!==3)throw Error(a(188));return p.stateNode.current===p?o:d}function bc(o){return o=Fd(o),o!==null?Dt(o):null}function Dt(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var d=Dt(o);if(d!==null)return d;o=o.sibling}return null}var le=s.unstable_scheduleCallback,Xe=s.unstable_cancelCallback,gt=s.unstable_shouldYield,Qs=s.unstable_requestPaint,hs=s.unstable_now,ma=s.unstable_getCurrentPriorityLevel,ra=s.unstable_ImmediatePriority,un=s.unstable_UserBlockingPriority,Dn=s.unstable_NormalPriority,Vl=s.unstable_LowPriority,_a=s.unstable_IdlePriority,Ul=null,mn=null;function Xx(o){if(mn&&typeof mn.onCommitFiberRoot=="function")try{mn.onCommitFiberRoot(Ul,o,void 0,(o.current.flags&128)===128)}catch{}}var na=Math.clz32?Math.clz32:Co,Md=Math.log,mv=Math.LN2;function Co(o){return o>>>=0,o===0?32:31-(Md(o)/mv|0)|0}var pl=64,Fn=4194304;function So(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function To(o,d){var p=o.pendingLanes;if(p===0)return 0;var j=0,T=o.suspendedLanes,D=o.pingedLanes,U=p&268435455;if(U!==0){var ee=U&~T;ee!==0?j=So(ee):(D&=U,D!==0&&(j=So(D)))}else U=p&~T,U!==0?j=So(U):D!==0&&(j=So(D));if(j===0)return 0;if(d!==0&&d!==j&&(d&T)===0&&(T=j&-j,D=d&-d,T>=D||T===16&&(D&4194240)!==0))return d;if((j&4)!==0&&(j|=p&16),d=o.entangledLanes,d!==0)for(o=o.entanglements,d&=j;0<d;)p=31-na(d),T=1<<p,j|=o[p],d&=~T;return j}function fl(o,d){switch(o){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yn(o,d){for(var p=o.suspendedLanes,j=o.pingedLanes,T=o.expirationTimes,D=o.pendingLanes;0<D;){var U=31-na(D),ee=1<<U,ue=T[U];ue===-1?((ee&p)===0||(ee&j)!==0)&&(T[U]=fl(ee,d)):ue<=d&&(o.expiredLanes|=ee),D&=~ee}}function Nc(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function km(){var o=pl;return pl<<=1,(pl&4194240)===0&&(pl=64),o}function Cm(o){for(var d=[],p=0;31>p;p++)d.push(o);return d}function wc(o,d,p){o.pendingLanes|=d,d!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,d=31-na(d),o[d]=p}function G(o,d){var p=o.pendingLanes&~d;o.pendingLanes=d,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=d,o.mutableReadLanes&=d,o.entangledLanes&=d,d=o.entanglements;var j=o.eventTimes;for(o=o.expirationTimes;0<p;){var T=31-na(p),D=1<<T;d[T]=0,j[T]=-1,o[T]=-1,p&=~D}}function Oe(o,d){var p=o.entangledLanes|=d;for(o=o.entanglements;p;){var j=31-na(p),T=1<<j;T&d|o[j]&d&&(o[j]|=d),p&=~T}}var Se=0;function Ts(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var is,ys,Xs,Ya,yi,ha=!1,Oa=[],gl=null,vl=null,ql=null,kc=new Map,Hl=new Map,yl=[],eR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function M2(o,d){switch(o){case"focusin":case"focusout":gl=null;break;case"dragenter":case"dragleave":vl=null;break;case"mouseover":case"mouseout":ql=null;break;case"pointerover":case"pointerout":kc.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hl.delete(d.pointerId)}}function Sm(o,d,p,j,T,D){return o===null||o.nativeEvent!==D?(o={blockedOn:d,domEventName:p,eventSystemFlags:j,nativeEvent:D,targetContainers:[T]},d!==null&&(d=Bm(d),d!==null&&ys(d)),o):(o.eventSystemFlags|=j,d=o.targetContainers,T!==null&&d.indexOf(T)===-1&&d.push(T),o)}function tR(o,d,p,j,T){switch(d){case"focusin":return gl=Sm(gl,o,d,p,j,T),!0;case"dragenter":return vl=Sm(vl,o,d,p,j,T),!0;case"mouseover":return ql=Sm(ql,o,d,p,j,T),!0;case"pointerover":var D=T.pointerId;return kc.set(D,Sm(kc.get(D)||null,o,d,p,j,T)),!0;case"gotpointercapture":return D=T.pointerId,Hl.set(D,Sm(Hl.get(D)||null,o,d,p,j,T)),!0}return!1}function I2(o){var d=Cc(o.target);if(d!==null){var p=vi(d);if(p!==null){if(d=p.tag,d===13){if(d=wo(p),d!==null){o.blockedOn=d,yi(o.priority,function(){Xs(p)});return}}else if(d===3&&p.stateNode.current.memoizedState.isDehydrated){o.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Zx(o){if(o.blockedOn!==null)return!1;for(var d=o.targetContainers;0<d.length;){var p=xv(o.domEventName,o.eventSystemFlags,d[0],o.nativeEvent);if(p===null){p=o.nativeEvent;var j=new p.constructor(p.type,p);ls=j,p.target.dispatchEvent(j),ls=null}else return d=Bm(p),d!==null&&ys(d),o.blockedOn=p,!1;d.shift()}return!0}function R2(o,d,p){Zx(o)&&p.delete(d)}function sR(){ha=!1,gl!==null&&Zx(gl)&&(gl=null),vl!==null&&Zx(vl)&&(vl=null),ql!==null&&Zx(ql)&&(ql=null),kc.forEach(R2),Hl.forEach(R2)}function Tm(o,d){o.blockedOn===d&&(o.blockedOn=null,ha||(ha=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,sR)))}function _m(o){function d(T){return Tm(T,o)}if(0<Oa.length){Tm(Oa[0],o);for(var p=1;p<Oa.length;p++){var j=Oa[p];j.blockedOn===o&&(j.blockedOn=null)}}for(gl!==null&&Tm(gl,o),vl!==null&&Tm(vl,o),ql!==null&&Tm(ql,o),kc.forEach(d),Hl.forEach(d),p=0;p<yl.length;p++)j=yl[p],j.blockedOn===o&&(j.blockedOn=null);for(;0<yl.length&&(p=yl[0],p.blockedOn===null);)I2(p),p.blockedOn===null&&yl.shift()}var Id=M.ReactCurrentBatchConfig,Jx=!0;function aR(o,d,p,j){var T=Se,D=Id.transition;Id.transition=null;try{Se=1,hv(o,d,p,j)}finally{Se=T,Id.transition=D}}function rR(o,d,p,j){var T=Se,D=Id.transition;Id.transition=null;try{Se=4,hv(o,d,p,j)}finally{Se=T,Id.transition=D}}function hv(o,d,p,j){if(Jx){var T=xv(o,d,p,j);if(T===null)Av(o,d,j,ep,p),M2(o,j);else if(tR(T,o,d,p,j))j.stopPropagation();else if(M2(o,j),d&4&&-1<eR.indexOf(o)){for(;T!==null;){var D=Bm(T);if(D!==null&&is(D),D=xv(o,d,p,j),D===null&&Av(o,d,j,ep,p),D===T)break;T=D}T!==null&&j.stopPropagation()}else Av(o,d,j,null,p)}}var ep=null;function xv(o,d,p,j){if(ep=null,o=aa(j),o=Cc(o),o!==null)if(d=vi(o),d===null)o=null;else if(p=d.tag,p===13){if(o=wo(d),o!==null)return o;o=null}else if(p===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;o=null}else d!==o&&(o=null);return ep=o,null}function L2(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ma()){case ra:return 1;case un:return 4;case Dn:case Vl:return 16;case _a:return 536870912;default:return 16}default:return 16}}var _o=null,pv=null,tp=null;function O2(){if(tp)return tp;var o,d=pv,p=d.length,j,T="value"in _o?_o.value:_o.textContent,D=T.length;for(o=0;o<p&&d[o]===T[o];o++);var U=p-o;for(j=1;j<=U&&d[p-j]===T[D-j];j++);return tp=T.slice(o,1<j?1-j:void 0)}function sp(o){var d=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&d===13&&(o=13)):o=d,o===10&&(o=13),32<=o||o===13?o:0}function ap(){return!0}function $2(){return!1}function Qn(o){function d(p,j,T,D,U){this._reactName=p,this._targetInst=T,this.type=j,this.nativeEvent=D,this.target=U,this.currentTarget=null;for(var ee in o)o.hasOwnProperty(ee)&&(p=o[ee],this[ee]=p?p(D):D[ee]);return this.isDefaultPrevented=(D.defaultPrevented!=null?D.defaultPrevented:D.returnValue===!1)?ap:$2,this.isPropagationStopped=$2,this}return ke(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=ap)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=ap)},persist:function(){},isPersistent:ap}),d}var Rd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fv=Qn(Rd),Em=ke({},Rd,{view:0,detail:0}),nR=Qn(Em),gv,vv,Pm,rp=ke({},Em,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jv,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Pm&&(Pm&&o.type==="mousemove"?(gv=o.screenX-Pm.screenX,vv=o.screenY-Pm.screenY):vv=gv=0,Pm=o),gv)},movementY:function(o){return"movementY"in o?o.movementY:vv}}),B2=Qn(rp),iR=ke({},rp,{dataTransfer:0}),lR=Qn(iR),oR=ke({},Em,{relatedTarget:0}),yv=Qn(oR),cR=ke({},Rd,{animationName:0,elapsedTime:0,pseudoElement:0}),dR=Qn(cR),uR=ke({},Rd,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),mR=Qn(uR),hR=ke({},Rd,{data:0}),z2=Qn(hR),xR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gR(o){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(o):(o=fR[o])?!!d[o]:!1}function jv(){return gR}var vR=ke({},Em,{key:function(o){if(o.key){var d=xR[o.key]||o.key;if(d!=="Unidentified")return d}return o.type==="keypress"?(o=sp(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?pR[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jv,charCode:function(o){return o.type==="keypress"?sp(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?sp(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),yR=Qn(vR),jR=ke({},rp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),V2=Qn(jR),bR=ke({},Em,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jv}),NR=Qn(bR),wR=ke({},Rd,{propertyName:0,elapsedTime:0,pseudoElement:0}),kR=Qn(wR),CR=ke({},rp,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),SR=Qn(CR),TR=[9,13,27,32],bv=c&&"CompositionEvent"in window,Am=null;c&&"documentMode"in document&&(Am=document.documentMode);var _R=c&&"TextEvent"in window&&!Am,U2=c&&(!bv||Am&&8<Am&&11>=Am),q2=" ",H2=!1;function W2(o,d){switch(o){case"keyup":return TR.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function G2(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Ld=!1;function ER(o,d){switch(o){case"compositionend":return G2(d);case"keypress":return d.which!==32?null:(H2=!0,q2);case"textInput":return o=d.data,o===q2&&H2?null:o;default:return null}}function PR(o,d){if(Ld)return o==="compositionend"||!bv&&W2(o,d)?(o=O2(),tp=pv=_o=null,Ld=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return U2&&d.locale!=="ko"?null:d.data;default:return null}}var AR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function K2(o){var d=o&&o.nodeName&&o.nodeName.toLowerCase();return d==="input"?!!AR[o.type]:d==="textarea"}function Y2(o,d,p,j){Hr(j),d=cp(d,"onChange"),0<d.length&&(p=new fv("onChange","change",null,p,j),o.push({event:p,listeners:d}))}var Dm=null,Fm=null;function DR(o){h4(o,0)}function np(o){var d=Vd(o);if(Nt(d))return o}function FR(o,d){if(o==="change")return d}var Q2=!1;if(c){var Nv;if(c){var wv="oninput"in document;if(!wv){var X2=document.createElement("div");X2.setAttribute("oninput","return;"),wv=typeof X2.oninput=="function"}Nv=wv}else Nv=!1;Q2=Nv&&(!document.documentMode||9<document.documentMode)}function Z2(){Dm&&(Dm.detachEvent("onpropertychange",J2),Fm=Dm=null)}function J2(o){if(o.propertyName==="value"&&np(Fm)){var d=[];Y2(d,Fm,o,aa(o)),Fr(DR,d)}}function MR(o,d,p){o==="focusin"?(Z2(),Dm=d,Fm=p,Dm.attachEvent("onpropertychange",J2)):o==="focusout"&&Z2()}function IR(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return np(Fm)}function RR(o,d){if(o==="click")return np(d)}function LR(o,d){if(o==="input"||o==="change")return np(d)}function OR(o,d){return o===d&&(o!==0||1/o===1/d)||o!==o&&d!==d}var Oi=typeof Object.is=="function"?Object.is:OR;function Mm(o,d){if(Oi(o,d))return!0;if(typeof o!="object"||o===null||typeof d!="object"||d===null)return!1;var p=Object.keys(o),j=Object.keys(d);if(p.length!==j.length)return!1;for(j=0;j<p.length;j++){var T=p[j];if(!u.call(d,T)||!Oi(o[T],d[T]))return!1}return!0}function e4(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function t4(o,d){var p=e4(o);o=0;for(var j;p;){if(p.nodeType===3){if(j=o+p.textContent.length,o<=d&&j>=d)return{node:p,offset:d-o};o=j}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=e4(p)}}function s4(o,d){return o&&d?o===d?!0:o&&o.nodeType===3?!1:d&&d.nodeType===3?s4(o,d.parentNode):"contains"in o?o.contains(d):o.compareDocumentPosition?!!(o.compareDocumentPosition(d)&16):!1:!1}function a4(){for(var o=window,d=ht();d instanceof o.HTMLIFrameElement;){try{var p=typeof d.contentWindow.location.href=="string"}catch{p=!1}if(p)o=d.contentWindow;else break;d=ht(o.document)}return d}function kv(o){var d=o&&o.nodeName&&o.nodeName.toLowerCase();return d&&(d==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||d==="textarea"||o.contentEditable==="true")}function $R(o){var d=a4(),p=o.focusedElem,j=o.selectionRange;if(d!==p&&p&&p.ownerDocument&&s4(p.ownerDocument.documentElement,p)){if(j!==null&&kv(p)){if(d=j.start,o=j.end,o===void 0&&(o=d),"selectionStart"in p)p.selectionStart=d,p.selectionEnd=Math.min(o,p.value.length);else if(o=(d=p.ownerDocument||document)&&d.defaultView||window,o.getSelection){o=o.getSelection();var T=p.textContent.length,D=Math.min(j.start,T);j=j.end===void 0?D:Math.min(j.end,T),!o.extend&&D>j&&(T=j,j=D,D=T),T=t4(p,D);var U=t4(p,j);T&&U&&(o.rangeCount!==1||o.anchorNode!==T.node||o.anchorOffset!==T.offset||o.focusNode!==U.node||o.focusOffset!==U.offset)&&(d=d.createRange(),d.setStart(T.node,T.offset),o.removeAllRanges(),D>j?(o.addRange(d),o.extend(U.node,U.offset)):(d.setEnd(U.node,U.offset),o.addRange(d)))}}for(d=[],o=p;o=o.parentNode;)o.nodeType===1&&d.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<d.length;p++)o=d[p],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var BR=c&&"documentMode"in document&&11>=document.documentMode,Od=null,Cv=null,Im=null,Sv=!1;function r4(o,d,p){var j=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;Sv||Od==null||Od!==ht(j)||(j=Od,"selectionStart"in j&&kv(j)?j={start:j.selectionStart,end:j.selectionEnd}:(j=(j.ownerDocument&&j.ownerDocument.defaultView||window).getSelection(),j={anchorNode:j.anchorNode,anchorOffset:j.anchorOffset,focusNode:j.focusNode,focusOffset:j.focusOffset}),Im&&Mm(Im,j)||(Im=j,j=cp(Cv,"onSelect"),0<j.length&&(d=new fv("onSelect","select",null,d,p),o.push({event:d,listeners:j}),d.target=Od)))}function ip(o,d){var p={};return p[o.toLowerCase()]=d.toLowerCase(),p["Webkit"+o]="webkit"+d,p["Moz"+o]="moz"+d,p}var $d={animationend:ip("Animation","AnimationEnd"),animationiteration:ip("Animation","AnimationIteration"),animationstart:ip("Animation","AnimationStart"),transitionend:ip("Transition","TransitionEnd")},Tv={},n4={};c&&(n4=document.createElement("div").style,"AnimationEvent"in window||(delete $d.animationend.animation,delete $d.animationiteration.animation,delete $d.animationstart.animation),"TransitionEvent"in window||delete $d.transitionend.transition);function lp(o){if(Tv[o])return Tv[o];if(!$d[o])return o;var d=$d[o],p;for(p in d)if(d.hasOwnProperty(p)&&p in n4)return Tv[o]=d[p];return o}var i4=lp("animationend"),l4=lp("animationiteration"),o4=lp("animationstart"),c4=lp("transitionend"),d4=new Map,u4="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Eo(o,d){d4.set(o,d),i(d,[o])}for(var _v=0;_v<u4.length;_v++){var Ev=u4[_v],zR=Ev.toLowerCase(),VR=Ev[0].toUpperCase()+Ev.slice(1);Eo(zR,"on"+VR)}Eo(i4,"onAnimationEnd"),Eo(l4,"onAnimationIteration"),Eo(o4,"onAnimationStart"),Eo("dblclick","onDoubleClick"),Eo("focusin","onFocus"),Eo("focusout","onBlur"),Eo(c4,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),UR=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rm));function m4(o,d,p){var j=o.type||"unknown-event";o.currentTarget=p,An(j,d,void 0,o),o.currentTarget=null}function h4(o,d){d=(d&4)!==0;for(var p=0;p<o.length;p++){var j=o[p],T=j.event;j=j.listeners;e:{var D=void 0;if(d)for(var U=j.length-1;0<=U;U--){var ee=j[U],ue=ee.instance,De=ee.currentTarget;if(ee=ee.listener,ue!==D&&T.isPropagationStopped())break e;m4(T,ee,De),D=ue}else for(U=0;U<j.length;U++){if(ee=j[U],ue=ee.instance,De=ee.currentTarget,ee=ee.listener,ue!==D&&T.isPropagationStopped())break e;m4(T,ee,De),D=ue}}}if(Li)throw o=yc,Li=!1,yc=null,o}function xa(o,d){var p=d[Lv];p===void 0&&(p=d[Lv]=new Set);var j=o+"__bubble";p.has(j)||(x4(d,o,2,!1),p.add(j))}function Pv(o,d,p){var j=0;d&&(j|=4),x4(p,o,j,d)}var op="_reactListening"+Math.random().toString(36).slice(2);function Lm(o){if(!o[op]){o[op]=!0,r.forEach(function(p){p!=="selectionchange"&&(UR.has(p)||Pv(p,!1,o),Pv(p,!0,o))});var d=o.nodeType===9?o:o.ownerDocument;d===null||d[op]||(d[op]=!0,Pv("selectionchange",!1,d))}}function x4(o,d,p,j){switch(L2(d)){case 1:var T=aR;break;case 4:T=rR;break;default:T=hv}p=T.bind(null,d,p,o),T=void 0,!xl||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(T=!0),j?T!==void 0?o.addEventListener(d,p,{capture:!0,passive:T}):o.addEventListener(d,p,!0):T!==void 0?o.addEventListener(d,p,{passive:T}):o.addEventListener(d,p,!1)}function Av(o,d,p,j,T){var D=j;if((d&1)===0&&(d&2)===0&&j!==null)e:for(;;){if(j===null)return;var U=j.tag;if(U===3||U===4){var ee=j.stateNode.containerInfo;if(ee===T||ee.nodeType===8&&ee.parentNode===T)break;if(U===4)for(U=j.return;U!==null;){var ue=U.tag;if((ue===3||ue===4)&&(ue=U.stateNode.containerInfo,ue===T||ue.nodeType===8&&ue.parentNode===T))return;U=U.return}for(;ee!==null;){if(U=Cc(ee),U===null)return;if(ue=U.tag,ue===5||ue===6){j=D=U;continue e}ee=ee.parentNode}}j=j.return}Fr(function(){var De=D,Ke=aa(p),Ze=[];e:{var We=d4.get(o);if(We!==void 0){var vt=fv,St=o;switch(o){case"keypress":if(sp(p)===0)break e;case"keydown":case"keyup":vt=yR;break;case"focusin":St="focus",vt=yv;break;case"focusout":St="blur",vt=yv;break;case"beforeblur":case"afterblur":vt=yv;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":vt=B2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":vt=lR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":vt=NR;break;case i4:case l4:case o4:vt=dR;break;case c4:vt=kR;break;case"scroll":vt=nR;break;case"wheel":vt=SR;break;case"copy":case"cut":case"paste":vt=mR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":vt=V2}var At=(d&4)!==0,Qa=!At&&o==="scroll",we=At?We!==null?We+"Capture":null:We;At=[];for(var ve=De,Te;ve!==null;){Te=ve;var nt=Te.stateNode;if(Te.tag===5&&nt!==null&&(Te=nt,we!==null&&(nt=Pn(ve,we),nt!=null&&At.push(Om(ve,nt,Te)))),Qa)break;ve=ve.return}0<At.length&&(We=new vt(We,St,null,p,Ke),Ze.push({event:We,listeners:At}))}}if((d&7)===0){e:{if(We=o==="mouseover"||o==="pointerover",vt=o==="mouseout"||o==="pointerout",We&&p!==ls&&(St=p.relatedTarget||p.fromElement)&&(Cc(St)||St[Wl]))break e;if((vt||We)&&(We=Ke.window===Ke?Ke:(We=Ke.ownerDocument)?We.defaultView||We.parentWindow:window,vt?(St=p.relatedTarget||p.toElement,vt=De,St=St?Cc(St):null,St!==null&&(Qa=vi(St),St!==Qa||St.tag!==5&&St.tag!==6)&&(St=null)):(vt=null,St=De),vt!==St)){if(At=B2,nt="onMouseLeave",we="onMouseEnter",ve="mouse",(o==="pointerout"||o==="pointerover")&&(At=V2,nt="onPointerLeave",we="onPointerEnter",ve="pointer"),Qa=vt==null?We:Vd(vt),Te=St==null?We:Vd(St),We=new At(nt,ve+"leave",vt,p,Ke),We.target=Qa,We.relatedTarget=Te,nt=null,Cc(Ke)===De&&(At=new At(we,ve+"enter",St,p,Ke),At.target=Te,At.relatedTarget=Qa,nt=At),Qa=nt,vt&&St)t:{for(At=vt,we=St,ve=0,Te=At;Te;Te=Bd(Te))ve++;for(Te=0,nt=we;nt;nt=Bd(nt))Te++;for(;0<ve-Te;)At=Bd(At),ve--;for(;0<Te-ve;)we=Bd(we),Te--;for(;ve--;){if(At===we||we!==null&&At===we.alternate)break t;At=Bd(At),we=Bd(we)}At=null}else At=null;vt!==null&&p4(Ze,We,vt,At,!1),St!==null&&Qa!==null&&p4(Ze,Qa,St,At,!0)}}e:{if(We=De?Vd(De):window,vt=We.nodeName&&We.nodeName.toLowerCase(),vt==="select"||vt==="input"&&We.type==="file")var Mt=FR;else if(K2(We))if(Q2)Mt=LR;else{Mt=IR;var qt=MR}else(vt=We.nodeName)&&vt.toLowerCase()==="input"&&(We.type==="checkbox"||We.type==="radio")&&(Mt=RR);if(Mt&&(Mt=Mt(o,De))){Y2(Ze,Mt,p,Ke);break e}qt&&qt(o,We,De),o==="focusout"&&(qt=We._wrapperState)&&qt.controlled&&We.type==="number"&&ce(We,"number",We.value)}switch(qt=De?Vd(De):window,o){case"focusin":(K2(qt)||qt.contentEditable==="true")&&(Od=qt,Cv=De,Im=null);break;case"focusout":Im=Cv=Od=null;break;case"mousedown":Sv=!0;break;case"contextmenu":case"mouseup":case"dragend":Sv=!1,r4(Ze,p,Ke);break;case"selectionchange":if(BR)break;case"keydown":case"keyup":r4(Ze,p,Ke)}var Ht;if(bv)e:{switch(o){case"compositionstart":var as="onCompositionStart";break e;case"compositionend":as="onCompositionEnd";break e;case"compositionupdate":as="onCompositionUpdate";break e}as=void 0}else Ld?W2(o,p)&&(as="onCompositionEnd"):o==="keydown"&&p.keyCode===229&&(as="onCompositionStart");as&&(U2&&p.locale!=="ko"&&(Ld||as!=="onCompositionStart"?as==="onCompositionEnd"&&Ld&&(Ht=O2()):(_o=Ke,pv="value"in _o?_o.value:_o.textContent,Ld=!0)),qt=cp(De,as),0<qt.length&&(as=new z2(as,o,null,p,Ke),Ze.push({event:as,listeners:qt}),Ht?as.data=Ht:(Ht=G2(p),Ht!==null&&(as.data=Ht)))),(Ht=_R?ER(o,p):PR(o,p))&&(De=cp(De,"onBeforeInput"),0<De.length&&(Ke=new z2("onBeforeInput","beforeinput",null,p,Ke),Ze.push({event:Ke,listeners:De}),Ke.data=Ht))}h4(Ze,d)})}function Om(o,d,p){return{instance:o,listener:d,currentTarget:p}}function cp(o,d){for(var p=d+"Capture",j=[];o!==null;){var T=o,D=T.stateNode;T.tag===5&&D!==null&&(T=D,D=Pn(o,p),D!=null&&j.unshift(Om(o,D,T)),D=Pn(o,d),D!=null&&j.push(Om(o,D,T))),o=o.return}return j}function Bd(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function p4(o,d,p,j,T){for(var D=d._reactName,U=[];p!==null&&p!==j;){var ee=p,ue=ee.alternate,De=ee.stateNode;if(ue!==null&&ue===j)break;ee.tag===5&&De!==null&&(ee=De,T?(ue=Pn(p,D),ue!=null&&U.unshift(Om(p,ue,ee))):T||(ue=Pn(p,D),ue!=null&&U.push(Om(p,ue,ee)))),p=p.return}U.length!==0&&o.push({event:d,listeners:U})}var qR=/\r\n?/g,HR=/\u0000|\uFFFD/g;function f4(o){return(typeof o=="string"?o:""+o).replace(qR,`
`).replace(HR,"")}function dp(o,d,p){if(d=f4(d),f4(o)!==d&&p)throw Error(a(425))}function up(){}var Dv=null,Fv=null;function Mv(o,d){return o==="textarea"||o==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var Iv=typeof setTimeout=="function"?setTimeout:void 0,WR=typeof clearTimeout=="function"?clearTimeout:void 0,g4=typeof Promise=="function"?Promise:void 0,GR=typeof queueMicrotask=="function"?queueMicrotask:typeof g4<"u"?function(o){return g4.resolve(null).then(o).catch(KR)}:Iv;function KR(o){setTimeout(function(){throw o})}function Rv(o,d){var p=d,j=0;do{var T=p.nextSibling;if(o.removeChild(p),T&&T.nodeType===8)if(p=T.data,p==="/$"){if(j===0){o.removeChild(T),_m(d);return}j--}else p!=="$"&&p!=="$?"&&p!=="$!"||j++;p=T}while(p);_m(d)}function Po(o){for(;o!=null;o=o.nextSibling){var d=o.nodeType;if(d===1||d===3)break;if(d===8){if(d=o.data,d==="$"||d==="$!"||d==="$?")break;if(d==="/$")return null}}return o}function v4(o){o=o.previousSibling;for(var d=0;o;){if(o.nodeType===8){var p=o.data;if(p==="$"||p==="$!"||p==="$?"){if(d===0)return o;d--}else p==="/$"&&d++}o=o.previousSibling}return null}var zd=Math.random().toString(36).slice(2),jl="__reactFiber$"+zd,$m="__reactProps$"+zd,Wl="__reactContainer$"+zd,Lv="__reactEvents$"+zd,YR="__reactListeners$"+zd,QR="__reactHandles$"+zd;function Cc(o){var d=o[jl];if(d)return d;for(var p=o.parentNode;p;){if(d=p[Wl]||p[jl]){if(p=d.alternate,d.child!==null||p!==null&&p.child!==null)for(o=v4(o);o!==null;){if(p=o[jl])return p;o=v4(o)}return d}o=p,p=o.parentNode}return null}function Bm(o){return o=o[jl]||o[Wl],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function Vd(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(a(33))}function mp(o){return o[$m]||null}var Ov=[],Ud=-1;function Ao(o){return{current:o}}function pa(o){0>Ud||(o.current=Ov[Ud],Ov[Ud]=null,Ud--)}function ia(o,d){Ud++,Ov[Ud]=o.current,o.current=d}var Do={},Gr=Ao(Do),Mn=Ao(!1),Sc=Do;function qd(o,d){var p=o.type.contextTypes;if(!p)return Do;var j=o.stateNode;if(j&&j.__reactInternalMemoizedUnmaskedChildContext===d)return j.__reactInternalMemoizedMaskedChildContext;var T={},D;for(D in p)T[D]=d[D];return j&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=d,o.__reactInternalMemoizedMaskedChildContext=T),T}function In(o){return o=o.childContextTypes,o!=null}function hp(){pa(Mn),pa(Gr)}function y4(o,d,p){if(Gr.current!==Do)throw Error(a(168));ia(Gr,d),ia(Mn,p)}function j4(o,d,p){var j=o.stateNode;if(d=d.childContextTypes,typeof j.getChildContext!="function")return p;j=j.getChildContext();for(var T in j)if(!(T in d))throw Error(a(108,K(o)||"Unknown",T));return ke({},p,j)}function xp(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||Do,Sc=Gr.current,ia(Gr,o),ia(Mn,Mn.current),!0}function b4(o,d,p){var j=o.stateNode;if(!j)throw Error(a(169));p?(o=j4(o,d,Sc),j.__reactInternalMemoizedMergedChildContext=o,pa(Mn),pa(Gr),ia(Gr,o)):pa(Mn),ia(Mn,p)}var Gl=null,pp=!1,$v=!1;function N4(o){Gl===null?Gl=[o]:Gl.push(o)}function XR(o){pp=!0,N4(o)}function Fo(){if(!$v&&Gl!==null){$v=!0;var o=0,d=Se;try{var p=Gl;for(Se=1;o<p.length;o++){var j=p[o];do j=j(!0);while(j!==null)}Gl=null,pp=!1}catch(T){throw Gl!==null&&(Gl=Gl.slice(o+1)),le(ra,Fo),T}finally{Se=d,$v=!1}}return null}var Hd=[],Wd=0,fp=null,gp=0,ji=[],bi=0,Tc=null,Kl=1,Yl="";function _c(o,d){Hd[Wd++]=gp,Hd[Wd++]=fp,fp=o,gp=d}function w4(o,d,p){ji[bi++]=Kl,ji[bi++]=Yl,ji[bi++]=Tc,Tc=o;var j=Kl;o=Yl;var T=32-na(j)-1;j&=~(1<<T),p+=1;var D=32-na(d)+T;if(30<D){var U=T-T%5;D=(j&(1<<U)-1).toString(32),j>>=U,T-=U,Kl=1<<32-na(d)+T|p<<T|j,Yl=D+o}else Kl=1<<D|p<<T|j,Yl=o}function Bv(o){o.return!==null&&(_c(o,1),w4(o,1,0))}function zv(o){for(;o===fp;)fp=Hd[--Wd],Hd[Wd]=null,gp=Hd[--Wd],Hd[Wd]=null;for(;o===Tc;)Tc=ji[--bi],ji[bi]=null,Yl=ji[--bi],ji[bi]=null,Kl=ji[--bi],ji[bi]=null}var Xn=null,Zn=null,ka=!1,$i=null;function k4(o,d){var p=Ci(5,null,null,0);p.elementType="DELETED",p.stateNode=d,p.return=o,d=o.deletions,d===null?(o.deletions=[p],o.flags|=16):d.push(p)}function C4(o,d){switch(o.tag){case 5:var p=o.type;return d=d.nodeType!==1||p.toLowerCase()!==d.nodeName.toLowerCase()?null:d,d!==null?(o.stateNode=d,Xn=o,Zn=Po(d.firstChild),!0):!1;case 6:return d=o.pendingProps===""||d.nodeType!==3?null:d,d!==null?(o.stateNode=d,Xn=o,Zn=null,!0):!1;case 13:return d=d.nodeType!==8?null:d,d!==null?(p=Tc!==null?{id:Kl,overflow:Yl}:null,o.memoizedState={dehydrated:d,treeContext:p,retryLane:1073741824},p=Ci(18,null,null,0),p.stateNode=d,p.return=o,o.child=p,Xn=o,Zn=null,!0):!1;default:return!1}}function Vv(o){return(o.mode&1)!==0&&(o.flags&128)===0}function Uv(o){if(ka){var d=Zn;if(d){var p=d;if(!C4(o,d)){if(Vv(o))throw Error(a(418));d=Po(p.nextSibling);var j=Xn;d&&C4(o,d)?k4(j,p):(o.flags=o.flags&-4097|2,ka=!1,Xn=o)}}else{if(Vv(o))throw Error(a(418));o.flags=o.flags&-4097|2,ka=!1,Xn=o}}}function S4(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;Xn=o}function vp(o){if(o!==Xn)return!1;if(!ka)return S4(o),ka=!0,!1;var d;if((d=o.tag!==3)&&!(d=o.tag!==5)&&(d=o.type,d=d!=="head"&&d!=="body"&&!Mv(o.type,o.memoizedProps)),d&&(d=Zn)){if(Vv(o))throw T4(),Error(a(418));for(;d;)k4(o,d),d=Po(d.nextSibling)}if(S4(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(a(317));e:{for(o=o.nextSibling,d=0;o;){if(o.nodeType===8){var p=o.data;if(p==="/$"){if(d===0){Zn=Po(o.nextSibling);break e}d--}else p!=="$"&&p!=="$!"&&p!=="$?"||d++}o=o.nextSibling}Zn=null}}else Zn=Xn?Po(o.stateNode.nextSibling):null;return!0}function T4(){for(var o=Zn;o;)o=Po(o.nextSibling)}function Gd(){Zn=Xn=null,ka=!1}function qv(o){$i===null?$i=[o]:$i.push(o)}var ZR=M.ReactCurrentBatchConfig;function zm(o,d,p){if(o=p.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(p._owner){if(p=p._owner,p){if(p.tag!==1)throw Error(a(309));var j=p.stateNode}if(!j)throw Error(a(147,o));var T=j,D=""+o;return d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===D?d.ref:(d=function(U){var ee=T.refs;U===null?delete ee[D]:ee[D]=U},d._stringRef=D,d)}if(typeof o!="string")throw Error(a(284));if(!p._owner)throw Error(a(290,o))}return o}function yp(o,d){throw o=Object.prototype.toString.call(d),Error(a(31,o==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":o))}function _4(o){var d=o._init;return d(o._payload)}function E4(o){function d(we,ve){if(o){var Te=we.deletions;Te===null?(we.deletions=[ve],we.flags|=16):Te.push(ve)}}function p(we,ve){if(!o)return null;for(;ve!==null;)d(we,ve),ve=ve.sibling;return null}function j(we,ve){for(we=new Map;ve!==null;)ve.key!==null?we.set(ve.key,ve):we.set(ve.index,ve),ve=ve.sibling;return we}function T(we,ve){return we=zo(we,ve),we.index=0,we.sibling=null,we}function D(we,ve,Te){return we.index=Te,o?(Te=we.alternate,Te!==null?(Te=Te.index,Te<ve?(we.flags|=2,ve):Te):(we.flags|=2,ve)):(we.flags|=1048576,ve)}function U(we){return o&&we.alternate===null&&(we.flags|=2),we}function ee(we,ve,Te,nt){return ve===null||ve.tag!==6?(ve=Iy(Te,we.mode,nt),ve.return=we,ve):(ve=T(ve,Te),ve.return=we,ve)}function ue(we,ve,Te,nt){var Mt=Te.type;return Mt===z?Ke(we,ve,Te.props.children,nt,Te.key):ve!==null&&(ve.elementType===Mt||typeof Mt=="object"&&Mt!==null&&Mt.$$typeof===me&&_4(Mt)===ve.type)?(nt=T(ve,Te.props),nt.ref=zm(we,ve,Te),nt.return=we,nt):(nt=Up(Te.type,Te.key,Te.props,null,we.mode,nt),nt.ref=zm(we,ve,Te),nt.return=we,nt)}function De(we,ve,Te,nt){return ve===null||ve.tag!==4||ve.stateNode.containerInfo!==Te.containerInfo||ve.stateNode.implementation!==Te.implementation?(ve=Ry(Te,we.mode,nt),ve.return=we,ve):(ve=T(ve,Te.children||[]),ve.return=we,ve)}function Ke(we,ve,Te,nt,Mt){return ve===null||ve.tag!==7?(ve=Rc(Te,we.mode,nt,Mt),ve.return=we,ve):(ve=T(ve,Te),ve.return=we,ve)}function Ze(we,ve,Te){if(typeof ve=="string"&&ve!==""||typeof ve=="number")return ve=Iy(""+ve,we.mode,Te),ve.return=we,ve;if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case E:return Te=Up(ve.type,ve.key,ve.props,null,we.mode,Te),Te.ref=zm(we,null,ve),Te.return=we,Te;case R:return ve=Ry(ve,we.mode,Te),ve.return=we,ve;case me:var nt=ve._init;return Ze(we,nt(ve._payload),Te)}if(at(ve)||ae(ve))return ve=Rc(ve,we.mode,Te,null),ve.return=we,ve;yp(we,ve)}return null}function We(we,ve,Te,nt){var Mt=ve!==null?ve.key:null;if(typeof Te=="string"&&Te!==""||typeof Te=="number")return Mt!==null?null:ee(we,ve,""+Te,nt);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case E:return Te.key===Mt?ue(we,ve,Te,nt):null;case R:return Te.key===Mt?De(we,ve,Te,nt):null;case me:return Mt=Te._init,We(we,ve,Mt(Te._payload),nt)}if(at(Te)||ae(Te))return Mt!==null?null:Ke(we,ve,Te,nt,null);yp(we,Te)}return null}function vt(we,ve,Te,nt,Mt){if(typeof nt=="string"&&nt!==""||typeof nt=="number")return we=we.get(Te)||null,ee(ve,we,""+nt,Mt);if(typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case E:return we=we.get(nt.key===null?Te:nt.key)||null,ue(ve,we,nt,Mt);case R:return we=we.get(nt.key===null?Te:nt.key)||null,De(ve,we,nt,Mt);case me:var qt=nt._init;return vt(we,ve,Te,qt(nt._payload),Mt)}if(at(nt)||ae(nt))return we=we.get(Te)||null,Ke(ve,we,nt,Mt,null);yp(ve,nt)}return null}function St(we,ve,Te,nt){for(var Mt=null,qt=null,Ht=ve,as=ve=0,_r=null;Ht!==null&&as<Te.length;as++){Ht.index>as?(_r=Ht,Ht=null):_r=Ht.sibling;var Is=We(we,Ht,Te[as],nt);if(Is===null){Ht===null&&(Ht=_r);break}o&&Ht&&Is.alternate===null&&d(we,Ht),ve=D(Is,ve,as),qt===null?Mt=Is:qt.sibling=Is,qt=Is,Ht=_r}if(as===Te.length)return p(we,Ht),ka&&_c(we,as),Mt;if(Ht===null){for(;as<Te.length;as++)Ht=Ze(we,Te[as],nt),Ht!==null&&(ve=D(Ht,ve,as),qt===null?Mt=Ht:qt.sibling=Ht,qt=Ht);return ka&&_c(we,as),Mt}for(Ht=j(we,Ht);as<Te.length;as++)_r=vt(Ht,we,as,Te[as],nt),_r!==null&&(o&&_r.alternate!==null&&Ht.delete(_r.key===null?as:_r.key),ve=D(_r,ve,as),qt===null?Mt=_r:qt.sibling=_r,qt=_r);return o&&Ht.forEach(function(Vo){return d(we,Vo)}),ka&&_c(we,as),Mt}function At(we,ve,Te,nt){var Mt=ae(Te);if(typeof Mt!="function")throw Error(a(150));if(Te=Mt.call(Te),Te==null)throw Error(a(151));for(var qt=Mt=null,Ht=ve,as=ve=0,_r=null,Is=Te.next();Ht!==null&&!Is.done;as++,Is=Te.next()){Ht.index>as?(_r=Ht,Ht=null):_r=Ht.sibling;var Vo=We(we,Ht,Is.value,nt);if(Vo===null){Ht===null&&(Ht=_r);break}o&&Ht&&Vo.alternate===null&&d(we,Ht),ve=D(Vo,ve,as),qt===null?Mt=Vo:qt.sibling=Vo,qt=Vo,Ht=_r}if(Is.done)return p(we,Ht),ka&&_c(we,as),Mt;if(Ht===null){for(;!Is.done;as++,Is=Te.next())Is=Ze(we,Is.value,nt),Is!==null&&(ve=D(Is,ve,as),qt===null?Mt=Is:qt.sibling=Is,qt=Is);return ka&&_c(we,as),Mt}for(Ht=j(we,Ht);!Is.done;as++,Is=Te.next())Is=vt(Ht,we,as,Is.value,nt),Is!==null&&(o&&Is.alternate!==null&&Ht.delete(Is.key===null?as:Is.key),ve=D(Is,ve,as),qt===null?Mt=Is:qt.sibling=Is,qt=Is);return o&&Ht.forEach(function(AL){return d(we,AL)}),ka&&_c(we,as),Mt}function Qa(we,ve,Te,nt){if(typeof Te=="object"&&Te!==null&&Te.type===z&&Te.key===null&&(Te=Te.props.children),typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case E:e:{for(var Mt=Te.key,qt=ve;qt!==null;){if(qt.key===Mt){if(Mt=Te.type,Mt===z){if(qt.tag===7){p(we,qt.sibling),ve=T(qt,Te.props.children),ve.return=we,we=ve;break e}}else if(qt.elementType===Mt||typeof Mt=="object"&&Mt!==null&&Mt.$$typeof===me&&_4(Mt)===qt.type){p(we,qt.sibling),ve=T(qt,Te.props),ve.ref=zm(we,qt,Te),ve.return=we,we=ve;break e}p(we,qt);break}else d(we,qt);qt=qt.sibling}Te.type===z?(ve=Rc(Te.props.children,we.mode,nt,Te.key),ve.return=we,we=ve):(nt=Up(Te.type,Te.key,Te.props,null,we.mode,nt),nt.ref=zm(we,ve,Te),nt.return=we,we=nt)}return U(we);case R:e:{for(qt=Te.key;ve!==null;){if(ve.key===qt)if(ve.tag===4&&ve.stateNode.containerInfo===Te.containerInfo&&ve.stateNode.implementation===Te.implementation){p(we,ve.sibling),ve=T(ve,Te.children||[]),ve.return=we,we=ve;break e}else{p(we,ve);break}else d(we,ve);ve=ve.sibling}ve=Ry(Te,we.mode,nt),ve.return=we,we=ve}return U(we);case me:return qt=Te._init,Qa(we,ve,qt(Te._payload),nt)}if(at(Te))return St(we,ve,Te,nt);if(ae(Te))return At(we,ve,Te,nt);yp(we,Te)}return typeof Te=="string"&&Te!==""||typeof Te=="number"?(Te=""+Te,ve!==null&&ve.tag===6?(p(we,ve.sibling),ve=T(ve,Te),ve.return=we,we=ve):(p(we,ve),ve=Iy(Te,we.mode,nt),ve.return=we,we=ve),U(we)):p(we,ve)}return Qa}var Kd=E4(!0),P4=E4(!1),jp=Ao(null),bp=null,Yd=null,Hv=null;function Wv(){Hv=Yd=bp=null}function Gv(o){var d=jp.current;pa(jp),o._currentValue=d}function Kv(o,d,p){for(;o!==null;){var j=o.alternate;if((o.childLanes&d)!==d?(o.childLanes|=d,j!==null&&(j.childLanes|=d)):j!==null&&(j.childLanes&d)!==d&&(j.childLanes|=d),o===p)break;o=o.return}}function Qd(o,d){bp=o,Hv=Yd=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&d)!==0&&(Rn=!0),o.firstContext=null)}function Ni(o){var d=o._currentValue;if(Hv!==o)if(o={context:o,memoizedValue:d,next:null},Yd===null){if(bp===null)throw Error(a(308));Yd=o,bp.dependencies={lanes:0,firstContext:o}}else Yd=Yd.next=o;return d}var Ec=null;function Yv(o){Ec===null?Ec=[o]:Ec.push(o)}function A4(o,d,p,j){var T=d.interleaved;return T===null?(p.next=p,Yv(d)):(p.next=T.next,T.next=p),d.interleaved=p,Ql(o,j)}function Ql(o,d){o.lanes|=d;var p=o.alternate;for(p!==null&&(p.lanes|=d),p=o,o=o.return;o!==null;)o.childLanes|=d,p=o.alternate,p!==null&&(p.childLanes|=d),p=o,o=o.return;return p.tag===3?p.stateNode:null}var Mo=!1;function Qv(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function D4(o,d){o=o.updateQueue,d.updateQueue===o&&(d.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function Xl(o,d){return{eventTime:o,lane:d,tag:0,payload:null,callback:null,next:null}}function Io(o,d,p){var j=o.updateQueue;if(j===null)return null;if(j=j.shared,(Fs&2)!==0){var T=j.pending;return T===null?d.next=d:(d.next=T.next,T.next=d),j.pending=d,Ql(o,p)}return T=j.interleaved,T===null?(d.next=d,Yv(j)):(d.next=T.next,T.next=d),j.interleaved=d,Ql(o,p)}function Np(o,d,p){if(d=d.updateQueue,d!==null&&(d=d.shared,(p&4194240)!==0)){var j=d.lanes;j&=o.pendingLanes,p|=j,d.lanes=p,Oe(o,p)}}function F4(o,d){var p=o.updateQueue,j=o.alternate;if(j!==null&&(j=j.updateQueue,p===j)){var T=null,D=null;if(p=p.firstBaseUpdate,p!==null){do{var U={eventTime:p.eventTime,lane:p.lane,tag:p.tag,payload:p.payload,callback:p.callback,next:null};D===null?T=D=U:D=D.next=U,p=p.next}while(p!==null);D===null?T=D=d:D=D.next=d}else T=D=d;p={baseState:j.baseState,firstBaseUpdate:T,lastBaseUpdate:D,shared:j.shared,effects:j.effects},o.updateQueue=p;return}o=p.lastBaseUpdate,o===null?p.firstBaseUpdate=d:o.next=d,p.lastBaseUpdate=d}function wp(o,d,p,j){var T=o.updateQueue;Mo=!1;var D=T.firstBaseUpdate,U=T.lastBaseUpdate,ee=T.shared.pending;if(ee!==null){T.shared.pending=null;var ue=ee,De=ue.next;ue.next=null,U===null?D=De:U.next=De,U=ue;var Ke=o.alternate;Ke!==null&&(Ke=Ke.updateQueue,ee=Ke.lastBaseUpdate,ee!==U&&(ee===null?Ke.firstBaseUpdate=De:ee.next=De,Ke.lastBaseUpdate=ue))}if(D!==null){var Ze=T.baseState;U=0,Ke=De=ue=null,ee=D;do{var We=ee.lane,vt=ee.eventTime;if((j&We)===We){Ke!==null&&(Ke=Ke.next={eventTime:vt,lane:0,tag:ee.tag,payload:ee.payload,callback:ee.callback,next:null});e:{var St=o,At=ee;switch(We=d,vt=p,At.tag){case 1:if(St=At.payload,typeof St=="function"){Ze=St.call(vt,Ze,We);break e}Ze=St;break e;case 3:St.flags=St.flags&-65537|128;case 0:if(St=At.payload,We=typeof St=="function"?St.call(vt,Ze,We):St,We==null)break e;Ze=ke({},Ze,We);break e;case 2:Mo=!0}}ee.callback!==null&&ee.lane!==0&&(o.flags|=64,We=T.effects,We===null?T.effects=[ee]:We.push(ee))}else vt={eventTime:vt,lane:We,tag:ee.tag,payload:ee.payload,callback:ee.callback,next:null},Ke===null?(De=Ke=vt,ue=Ze):Ke=Ke.next=vt,U|=We;if(ee=ee.next,ee===null){if(ee=T.shared.pending,ee===null)break;We=ee,ee=We.next,We.next=null,T.lastBaseUpdate=We,T.shared.pending=null}}while(!0);if(Ke===null&&(ue=Ze),T.baseState=ue,T.firstBaseUpdate=De,T.lastBaseUpdate=Ke,d=T.shared.interleaved,d!==null){T=d;do U|=T.lane,T=T.next;while(T!==d)}else D===null&&(T.shared.lanes=0);Dc|=U,o.lanes=U,o.memoizedState=Ze}}function M4(o,d,p){if(o=d.effects,d.effects=null,o!==null)for(d=0;d<o.length;d++){var j=o[d],T=j.callback;if(T!==null){if(j.callback=null,j=p,typeof T!="function")throw Error(a(191,T));T.call(j)}}}var Vm={},bl=Ao(Vm),Um=Ao(Vm),qm=Ao(Vm);function Pc(o){if(o===Vm)throw Error(a(174));return o}function Xv(o,d){switch(ia(qm,d),ia(Um,o),ia(bl,Vm),o=d.nodeType,o){case 9:case 11:d=(d=d.documentElement)?d.namespaceURI:ut(null,"");break;default:o=o===8?d.parentNode:d,d=o.namespaceURI||null,o=o.tagName,d=ut(d,o)}pa(bl),ia(bl,d)}function Xd(){pa(bl),pa(Um),pa(qm)}function I4(o){Pc(qm.current);var d=Pc(bl.current),p=ut(d,o.type);d!==p&&(ia(Um,o),ia(bl,p))}function Zv(o){Um.current===o&&(pa(bl),pa(Um))}var Ea=Ao(0);function kp(o){for(var d=o;d!==null;){if(d.tag===13){var p=d.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||p.data==="$!"))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===o)break;for(;d.sibling===null;){if(d.return===null||d.return===o)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var Jv=[];function ey(){for(var o=0;o<Jv.length;o++)Jv[o]._workInProgressVersionPrimary=null;Jv.length=0}var Cp=M.ReactCurrentDispatcher,ty=M.ReactCurrentBatchConfig,Ac=0,Pa=null,gr=null,Sr=null,Sp=!1,Hm=!1,Wm=0,JR=0;function Kr(){throw Error(a(321))}function sy(o,d){if(d===null)return!1;for(var p=0;p<d.length&&p<o.length;p++)if(!Oi(o[p],d[p]))return!1;return!0}function ay(o,d,p,j,T,D){if(Ac=D,Pa=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,Cp.current=o===null||o.memoizedState===null?aL:rL,o=p(j,T),Hm){D=0;do{if(Hm=!1,Wm=0,25<=D)throw Error(a(301));D+=1,Sr=gr=null,d.updateQueue=null,Cp.current=nL,o=p(j,T)}while(Hm)}if(Cp.current=Ep,d=gr!==null&&gr.next!==null,Ac=0,Sr=gr=Pa=null,Sp=!1,d)throw Error(a(300));return o}function ry(){var o=Wm!==0;return Wm=0,o}function Nl(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Sr===null?Pa.memoizedState=Sr=o:Sr=Sr.next=o,Sr}function wi(){if(gr===null){var o=Pa.alternate;o=o!==null?o.memoizedState:null}else o=gr.next;var d=Sr===null?Pa.memoizedState:Sr.next;if(d!==null)Sr=d,gr=o;else{if(o===null)throw Error(a(310));gr=o,o={memoizedState:gr.memoizedState,baseState:gr.baseState,baseQueue:gr.baseQueue,queue:gr.queue,next:null},Sr===null?Pa.memoizedState=Sr=o:Sr=Sr.next=o}return Sr}function Gm(o,d){return typeof d=="function"?d(o):d}function ny(o){var d=wi(),p=d.queue;if(p===null)throw Error(a(311));p.lastRenderedReducer=o;var j=gr,T=j.baseQueue,D=p.pending;if(D!==null){if(T!==null){var U=T.next;T.next=D.next,D.next=U}j.baseQueue=T=D,p.pending=null}if(T!==null){D=T.next,j=j.baseState;var ee=U=null,ue=null,De=D;do{var Ke=De.lane;if((Ac&Ke)===Ke)ue!==null&&(ue=ue.next={lane:0,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null}),j=De.hasEagerState?De.eagerState:o(j,De.action);else{var Ze={lane:Ke,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null};ue===null?(ee=ue=Ze,U=j):ue=ue.next=Ze,Pa.lanes|=Ke,Dc|=Ke}De=De.next}while(De!==null&&De!==D);ue===null?U=j:ue.next=ee,Oi(j,d.memoizedState)||(Rn=!0),d.memoizedState=j,d.baseState=U,d.baseQueue=ue,p.lastRenderedState=j}if(o=p.interleaved,o!==null){T=o;do D=T.lane,Pa.lanes|=D,Dc|=D,T=T.next;while(T!==o)}else T===null&&(p.lanes=0);return[d.memoizedState,p.dispatch]}function iy(o){var d=wi(),p=d.queue;if(p===null)throw Error(a(311));p.lastRenderedReducer=o;var j=p.dispatch,T=p.pending,D=d.memoizedState;if(T!==null){p.pending=null;var U=T=T.next;do D=o(D,U.action),U=U.next;while(U!==T);Oi(D,d.memoizedState)||(Rn=!0),d.memoizedState=D,d.baseQueue===null&&(d.baseState=D),p.lastRenderedState=D}return[D,j]}function R4(){}function L4(o,d){var p=Pa,j=wi(),T=d(),D=!Oi(j.memoizedState,T);if(D&&(j.memoizedState=T,Rn=!0),j=j.queue,ly(B4.bind(null,p,j,o),[o]),j.getSnapshot!==d||D||Sr!==null&&Sr.memoizedState.tag&1){if(p.flags|=2048,Km(9,$4.bind(null,p,j,T,d),void 0,null),Tr===null)throw Error(a(349));(Ac&30)!==0||O4(p,d,T)}return T}function O4(o,d,p){o.flags|=16384,o={getSnapshot:d,value:p},d=Pa.updateQueue,d===null?(d={lastEffect:null,stores:null},Pa.updateQueue=d,d.stores=[o]):(p=d.stores,p===null?d.stores=[o]:p.push(o))}function $4(o,d,p,j){d.value=p,d.getSnapshot=j,z4(d)&&V4(o)}function B4(o,d,p){return p(function(){z4(d)&&V4(o)})}function z4(o){var d=o.getSnapshot;o=o.value;try{var p=d();return!Oi(o,p)}catch{return!0}}function V4(o){var d=Ql(o,1);d!==null&&Ui(d,o,1,-1)}function U4(o){var d=Nl();return typeof o=="function"&&(o=o()),d.memoizedState=d.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gm,lastRenderedState:o},d.queue=o,o=o.dispatch=sL.bind(null,Pa,o),[d.memoizedState,o]}function Km(o,d,p,j){return o={tag:o,create:d,destroy:p,deps:j,next:null},d=Pa.updateQueue,d===null?(d={lastEffect:null,stores:null},Pa.updateQueue=d,d.lastEffect=o.next=o):(p=d.lastEffect,p===null?d.lastEffect=o.next=o:(j=p.next,p.next=o,o.next=j,d.lastEffect=o)),o}function q4(){return wi().memoizedState}function Tp(o,d,p,j){var T=Nl();Pa.flags|=o,T.memoizedState=Km(1|d,p,void 0,j===void 0?null:j)}function _p(o,d,p,j){var T=wi();j=j===void 0?null:j;var D=void 0;if(gr!==null){var U=gr.memoizedState;if(D=U.destroy,j!==null&&sy(j,U.deps)){T.memoizedState=Km(d,p,D,j);return}}Pa.flags|=o,T.memoizedState=Km(1|d,p,D,j)}function H4(o,d){return Tp(8390656,8,o,d)}function ly(o,d){return _p(2048,8,o,d)}function W4(o,d){return _p(4,2,o,d)}function G4(o,d){return _p(4,4,o,d)}function K4(o,d){if(typeof d=="function")return o=o(),d(o),function(){d(null)};if(d!=null)return o=o(),d.current=o,function(){d.current=null}}function Y4(o,d,p){return p=p!=null?p.concat([o]):null,_p(4,4,K4.bind(null,d,o),p)}function oy(){}function Q4(o,d){var p=wi();d=d===void 0?null:d;var j=p.memoizedState;return j!==null&&d!==null&&sy(d,j[1])?j[0]:(p.memoizedState=[o,d],o)}function X4(o,d){var p=wi();d=d===void 0?null:d;var j=p.memoizedState;return j!==null&&d!==null&&sy(d,j[1])?j[0]:(o=o(),p.memoizedState=[o,d],o)}function Z4(o,d,p){return(Ac&21)===0?(o.baseState&&(o.baseState=!1,Rn=!0),o.memoizedState=p):(Oi(p,d)||(p=km(),Pa.lanes|=p,Dc|=p,o.baseState=!0),d)}function eL(o,d){var p=Se;Se=p!==0&&4>p?p:4,o(!0);var j=ty.transition;ty.transition={};try{o(!1),d()}finally{Se=p,ty.transition=j}}function J4(){return wi().memoizedState}function tL(o,d,p){var j=$o(o);if(p={lane:j,action:p,hasEagerState:!1,eagerState:null,next:null},ek(o))tk(d,p);else if(p=A4(o,d,p,j),p!==null){var T=xn();Ui(p,o,j,T),sk(p,d,j)}}function sL(o,d,p){var j=$o(o),T={lane:j,action:p,hasEagerState:!1,eagerState:null,next:null};if(ek(o))tk(d,T);else{var D=o.alternate;if(o.lanes===0&&(D===null||D.lanes===0)&&(D=d.lastRenderedReducer,D!==null))try{var U=d.lastRenderedState,ee=D(U,p);if(T.hasEagerState=!0,T.eagerState=ee,Oi(ee,U)){var ue=d.interleaved;ue===null?(T.next=T,Yv(d)):(T.next=ue.next,ue.next=T),d.interleaved=T;return}}catch{}p=A4(o,d,T,j),p!==null&&(T=xn(),Ui(p,o,j,T),sk(p,d,j))}}function ek(o){var d=o.alternate;return o===Pa||d!==null&&d===Pa}function tk(o,d){Hm=Sp=!0;var p=o.pending;p===null?d.next=d:(d.next=p.next,p.next=d),o.pending=d}function sk(o,d,p){if((p&4194240)!==0){var j=d.lanes;j&=o.pendingLanes,p|=j,d.lanes=p,Oe(o,p)}}var Ep={readContext:Ni,useCallback:Kr,useContext:Kr,useEffect:Kr,useImperativeHandle:Kr,useInsertionEffect:Kr,useLayoutEffect:Kr,useMemo:Kr,useReducer:Kr,useRef:Kr,useState:Kr,useDebugValue:Kr,useDeferredValue:Kr,useTransition:Kr,useMutableSource:Kr,useSyncExternalStore:Kr,useId:Kr,unstable_isNewReconciler:!1},aL={readContext:Ni,useCallback:function(o,d){return Nl().memoizedState=[o,d===void 0?null:d],o},useContext:Ni,useEffect:H4,useImperativeHandle:function(o,d,p){return p=p!=null?p.concat([o]):null,Tp(4194308,4,K4.bind(null,d,o),p)},useLayoutEffect:function(o,d){return Tp(4194308,4,o,d)},useInsertionEffect:function(o,d){return Tp(4,2,o,d)},useMemo:function(o,d){var p=Nl();return d=d===void 0?null:d,o=o(),p.memoizedState=[o,d],o},useReducer:function(o,d,p){var j=Nl();return d=p!==void 0?p(d):d,j.memoizedState=j.baseState=d,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:d},j.queue=o,o=o.dispatch=tL.bind(null,Pa,o),[j.memoizedState,o]},useRef:function(o){var d=Nl();return o={current:o},d.memoizedState=o},useState:U4,useDebugValue:oy,useDeferredValue:function(o){return Nl().memoizedState=o},useTransition:function(){var o=U4(!1),d=o[0];return o=eL.bind(null,o[1]),Nl().memoizedState=o,[d,o]},useMutableSource:function(){},useSyncExternalStore:function(o,d,p){var j=Pa,T=Nl();if(ka){if(p===void 0)throw Error(a(407));p=p()}else{if(p=d(),Tr===null)throw Error(a(349));(Ac&30)!==0||O4(j,d,p)}T.memoizedState=p;var D={value:p,getSnapshot:d};return T.queue=D,H4(B4.bind(null,j,D,o),[o]),j.flags|=2048,Km(9,$4.bind(null,j,D,p,d),void 0,null),p},useId:function(){var o=Nl(),d=Tr.identifierPrefix;if(ka){var p=Yl,j=Kl;p=(j&~(1<<32-na(j)-1)).toString(32)+p,d=":"+d+"R"+p,p=Wm++,0<p&&(d+="H"+p.toString(32)),d+=":"}else p=JR++,d=":"+d+"r"+p.toString(32)+":";return o.memoizedState=d},unstable_isNewReconciler:!1},rL={readContext:Ni,useCallback:Q4,useContext:Ni,useEffect:ly,useImperativeHandle:Y4,useInsertionEffect:W4,useLayoutEffect:G4,useMemo:X4,useReducer:ny,useRef:q4,useState:function(){return ny(Gm)},useDebugValue:oy,useDeferredValue:function(o){var d=wi();return Z4(d,gr.memoizedState,o)},useTransition:function(){var o=ny(Gm)[0],d=wi().memoizedState;return[o,d]},useMutableSource:R4,useSyncExternalStore:L4,useId:J4,unstable_isNewReconciler:!1},nL={readContext:Ni,useCallback:Q4,useContext:Ni,useEffect:ly,useImperativeHandle:Y4,useInsertionEffect:W4,useLayoutEffect:G4,useMemo:X4,useReducer:iy,useRef:q4,useState:function(){return iy(Gm)},useDebugValue:oy,useDeferredValue:function(o){var d=wi();return gr===null?d.memoizedState=o:Z4(d,gr.memoizedState,o)},useTransition:function(){var o=iy(Gm)[0],d=wi().memoizedState;return[o,d]},useMutableSource:R4,useSyncExternalStore:L4,useId:J4,unstable_isNewReconciler:!1};function Bi(o,d){if(o&&o.defaultProps){d=ke({},d),o=o.defaultProps;for(var p in o)d[p]===void 0&&(d[p]=o[p]);return d}return d}function cy(o,d,p,j){d=o.memoizedState,p=p(j,d),p=p==null?d:ke({},d,p),o.memoizedState=p,o.lanes===0&&(o.updateQueue.baseState=p)}var Pp={isMounted:function(o){return(o=o._reactInternals)?vi(o)===o:!1},enqueueSetState:function(o,d,p){o=o._reactInternals;var j=xn(),T=$o(o),D=Xl(j,T);D.payload=d,p!=null&&(D.callback=p),d=Io(o,D,T),d!==null&&(Ui(d,o,T,j),Np(d,o,T))},enqueueReplaceState:function(o,d,p){o=o._reactInternals;var j=xn(),T=$o(o),D=Xl(j,T);D.tag=1,D.payload=d,p!=null&&(D.callback=p),d=Io(o,D,T),d!==null&&(Ui(d,o,T,j),Np(d,o,T))},enqueueForceUpdate:function(o,d){o=o._reactInternals;var p=xn(),j=$o(o),T=Xl(p,j);T.tag=2,d!=null&&(T.callback=d),d=Io(o,T,j),d!==null&&(Ui(d,o,j,p),Np(d,o,j))}};function ak(o,d,p,j,T,D,U){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(j,D,U):d.prototype&&d.prototype.isPureReactComponent?!Mm(p,j)||!Mm(T,D):!0}function rk(o,d,p){var j=!1,T=Do,D=d.contextType;return typeof D=="object"&&D!==null?D=Ni(D):(T=In(d)?Sc:Gr.current,j=d.contextTypes,D=(j=j!=null)?qd(o,T):Do),d=new d(p,D),o.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Pp,o.stateNode=d,d._reactInternals=o,j&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=T,o.__reactInternalMemoizedMaskedChildContext=D),d}function nk(o,d,p,j){o=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(p,j),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(p,j),d.state!==o&&Pp.enqueueReplaceState(d,d.state,null)}function dy(o,d,p,j){var T=o.stateNode;T.props=p,T.state=o.memoizedState,T.refs={},Qv(o);var D=d.contextType;typeof D=="object"&&D!==null?T.context=Ni(D):(D=In(d)?Sc:Gr.current,T.context=qd(o,D)),T.state=o.memoizedState,D=d.getDerivedStateFromProps,typeof D=="function"&&(cy(o,d,D,p),T.state=o.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(d=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),d!==T.state&&Pp.enqueueReplaceState(T,T.state,null),wp(o,p,T,j),T.state=o.memoizedState),typeof T.componentDidMount=="function"&&(o.flags|=4194308)}function Zd(o,d){try{var p="",j=d;do p+=se(j),j=j.return;while(j);var T=p}catch(D){T=`
Error generating stack: `+D.message+`
`+D.stack}return{value:o,source:d,stack:T,digest:null}}function uy(o,d,p){return{value:o,source:null,stack:p??null,digest:d??null}}function my(o,d){try{console.error(d.value)}catch(p){setTimeout(function(){throw p})}}var iL=typeof WeakMap=="function"?WeakMap:Map;function ik(o,d,p){p=Xl(-1,p),p.tag=3,p.payload={element:null};var j=d.value;return p.callback=function(){Lp||(Lp=!0,Ty=j),my(o,d)},p}function lk(o,d,p){p=Xl(-1,p),p.tag=3;var j=o.type.getDerivedStateFromError;if(typeof j=="function"){var T=d.value;p.payload=function(){return j(T)},p.callback=function(){my(o,d)}}var D=o.stateNode;return D!==null&&typeof D.componentDidCatch=="function"&&(p.callback=function(){my(o,d),typeof j!="function"&&(Lo===null?Lo=new Set([this]):Lo.add(this));var U=d.stack;this.componentDidCatch(d.value,{componentStack:U!==null?U:""})}),p}function ok(o,d,p){var j=o.pingCache;if(j===null){j=o.pingCache=new iL;var T=new Set;j.set(d,T)}else T=j.get(d),T===void 0&&(T=new Set,j.set(d,T));T.has(p)||(T.add(p),o=jL.bind(null,o,d,p),d.then(o,o))}function ck(o){do{var d;if((d=o.tag===13)&&(d=o.memoizedState,d=d!==null?d.dehydrated!==null:!0),d)return o;o=o.return}while(o!==null);return null}function dk(o,d,p,j,T){return(o.mode&1)===0?(o===d?o.flags|=65536:(o.flags|=128,p.flags|=131072,p.flags&=-52805,p.tag===1&&(p.alternate===null?p.tag=17:(d=Xl(-1,1),d.tag=2,Io(p,d,1))),p.lanes|=1),o):(o.flags|=65536,o.lanes=T,o)}var lL=M.ReactCurrentOwner,Rn=!1;function hn(o,d,p,j){d.child=o===null?P4(d,null,p,j):Kd(d,o.child,p,j)}function uk(o,d,p,j,T){p=p.render;var D=d.ref;return Qd(d,T),j=ay(o,d,p,j,D,T),p=ry(),o!==null&&!Rn?(d.updateQueue=o.updateQueue,d.flags&=-2053,o.lanes&=~T,Zl(o,d,T)):(ka&&p&&Bv(d),d.flags|=1,hn(o,d,j,T),d.child)}function mk(o,d,p,j,T){if(o===null){var D=p.type;return typeof D=="function"&&!My(D)&&D.defaultProps===void 0&&p.compare===null&&p.defaultProps===void 0?(d.tag=15,d.type=D,hk(o,d,D,j,T)):(o=Up(p.type,null,j,d,d.mode,T),o.ref=d.ref,o.return=d,d.child=o)}if(D=o.child,(o.lanes&T)===0){var U=D.memoizedProps;if(p=p.compare,p=p!==null?p:Mm,p(U,j)&&o.ref===d.ref)return Zl(o,d,T)}return d.flags|=1,o=zo(D,j),o.ref=d.ref,o.return=d,d.child=o}function hk(o,d,p,j,T){if(o!==null){var D=o.memoizedProps;if(Mm(D,j)&&o.ref===d.ref)if(Rn=!1,d.pendingProps=j=D,(o.lanes&T)!==0)(o.flags&131072)!==0&&(Rn=!0);else return d.lanes=o.lanes,Zl(o,d,T)}return hy(o,d,p,j,T)}function xk(o,d,p){var j=d.pendingProps,T=j.children,D=o!==null?o.memoizedState:null;if(j.mode==="hidden")if((d.mode&1)===0)d.memoizedState={baseLanes:0,cachePool:null,transitions:null},ia(eu,Jn),Jn|=p;else{if((p&1073741824)===0)return o=D!==null?D.baseLanes|p:p,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:o,cachePool:null,transitions:null},d.updateQueue=null,ia(eu,Jn),Jn|=o,null;d.memoizedState={baseLanes:0,cachePool:null,transitions:null},j=D!==null?D.baseLanes:p,ia(eu,Jn),Jn|=j}else D!==null?(j=D.baseLanes|p,d.memoizedState=null):j=p,ia(eu,Jn),Jn|=j;return hn(o,d,T,p),d.child}function pk(o,d){var p=d.ref;(o===null&&p!==null||o!==null&&o.ref!==p)&&(d.flags|=512,d.flags|=2097152)}function hy(o,d,p,j,T){var D=In(p)?Sc:Gr.current;return D=qd(d,D),Qd(d,T),p=ay(o,d,p,j,D,T),j=ry(),o!==null&&!Rn?(d.updateQueue=o.updateQueue,d.flags&=-2053,o.lanes&=~T,Zl(o,d,T)):(ka&&j&&Bv(d),d.flags|=1,hn(o,d,p,T),d.child)}function fk(o,d,p,j,T){if(In(p)){var D=!0;xp(d)}else D=!1;if(Qd(d,T),d.stateNode===null)Dp(o,d),rk(d,p,j),dy(d,p,j,T),j=!0;else if(o===null){var U=d.stateNode,ee=d.memoizedProps;U.props=ee;var ue=U.context,De=p.contextType;typeof De=="object"&&De!==null?De=Ni(De):(De=In(p)?Sc:Gr.current,De=qd(d,De));var Ke=p.getDerivedStateFromProps,Ze=typeof Ke=="function"||typeof U.getSnapshotBeforeUpdate=="function";Ze||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(ee!==j||ue!==De)&&nk(d,U,j,De),Mo=!1;var We=d.memoizedState;U.state=We,wp(d,j,U,T),ue=d.memoizedState,ee!==j||We!==ue||Mn.current||Mo?(typeof Ke=="function"&&(cy(d,p,Ke,j),ue=d.memoizedState),(ee=Mo||ak(d,p,ee,j,We,ue,De))?(Ze||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||(typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount()),typeof U.componentDidMount=="function"&&(d.flags|=4194308)):(typeof U.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=j,d.memoizedState=ue),U.props=j,U.state=ue,U.context=De,j=ee):(typeof U.componentDidMount=="function"&&(d.flags|=4194308),j=!1)}else{U=d.stateNode,D4(o,d),ee=d.memoizedProps,De=d.type===d.elementType?ee:Bi(d.type,ee),U.props=De,Ze=d.pendingProps,We=U.context,ue=p.contextType,typeof ue=="object"&&ue!==null?ue=Ni(ue):(ue=In(p)?Sc:Gr.current,ue=qd(d,ue));var vt=p.getDerivedStateFromProps;(Ke=typeof vt=="function"||typeof U.getSnapshotBeforeUpdate=="function")||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(ee!==Ze||We!==ue)&&nk(d,U,j,ue),Mo=!1,We=d.memoizedState,U.state=We,wp(d,j,U,T);var St=d.memoizedState;ee!==Ze||We!==St||Mn.current||Mo?(typeof vt=="function"&&(cy(d,p,vt,j),St=d.memoizedState),(De=Mo||ak(d,p,De,j,We,St,ue)||!1)?(Ke||typeof U.UNSAFE_componentWillUpdate!="function"&&typeof U.componentWillUpdate!="function"||(typeof U.componentWillUpdate=="function"&&U.componentWillUpdate(j,St,ue),typeof U.UNSAFE_componentWillUpdate=="function"&&U.UNSAFE_componentWillUpdate(j,St,ue)),typeof U.componentDidUpdate=="function"&&(d.flags|=4),typeof U.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof U.componentDidUpdate!="function"||ee===o.memoizedProps&&We===o.memoizedState||(d.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||ee===o.memoizedProps&&We===o.memoizedState||(d.flags|=1024),d.memoizedProps=j,d.memoizedState=St),U.props=j,U.state=St,U.context=ue,j=De):(typeof U.componentDidUpdate!="function"||ee===o.memoizedProps&&We===o.memoizedState||(d.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||ee===o.memoizedProps&&We===o.memoizedState||(d.flags|=1024),j=!1)}return xy(o,d,p,j,D,T)}function xy(o,d,p,j,T,D){pk(o,d);var U=(d.flags&128)!==0;if(!j&&!U)return T&&b4(d,p,!1),Zl(o,d,D);j=d.stateNode,lL.current=d;var ee=U&&typeof p.getDerivedStateFromError!="function"?null:j.render();return d.flags|=1,o!==null&&U?(d.child=Kd(d,o.child,null,D),d.child=Kd(d,null,ee,D)):hn(o,d,ee,D),d.memoizedState=j.state,T&&b4(d,p,!0),d.child}function gk(o){var d=o.stateNode;d.pendingContext?y4(o,d.pendingContext,d.pendingContext!==d.context):d.context&&y4(o,d.context,!1),Xv(o,d.containerInfo)}function vk(o,d,p,j,T){return Gd(),qv(T),d.flags|=256,hn(o,d,p,j),d.child}var py={dehydrated:null,treeContext:null,retryLane:0};function fy(o){return{baseLanes:o,cachePool:null,transitions:null}}function yk(o,d,p){var j=d.pendingProps,T=Ea.current,D=!1,U=(d.flags&128)!==0,ee;if((ee=U)||(ee=o!==null&&o.memoizedState===null?!1:(T&2)!==0),ee?(D=!0,d.flags&=-129):(o===null||o.memoizedState!==null)&&(T|=1),ia(Ea,T&1),o===null)return Uv(d),o=d.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((d.mode&1)===0?d.lanes=1:o.data==="$!"?d.lanes=8:d.lanes=1073741824,null):(U=j.children,o=j.fallback,D?(j=d.mode,D=d.child,U={mode:"hidden",children:U},(j&1)===0&&D!==null?(D.childLanes=0,D.pendingProps=U):D=qp(U,j,0,null),o=Rc(o,j,p,null),D.return=d,o.return=d,D.sibling=o,d.child=D,d.child.memoizedState=fy(p),d.memoizedState=py,o):gy(d,U));if(T=o.memoizedState,T!==null&&(ee=T.dehydrated,ee!==null))return oL(o,d,U,j,ee,T,p);if(D){D=j.fallback,U=d.mode,T=o.child,ee=T.sibling;var ue={mode:"hidden",children:j.children};return(U&1)===0&&d.child!==T?(j=d.child,j.childLanes=0,j.pendingProps=ue,d.deletions=null):(j=zo(T,ue),j.subtreeFlags=T.subtreeFlags&14680064),ee!==null?D=zo(ee,D):(D=Rc(D,U,p,null),D.flags|=2),D.return=d,j.return=d,j.sibling=D,d.child=j,j=D,D=d.child,U=o.child.memoizedState,U=U===null?fy(p):{baseLanes:U.baseLanes|p,cachePool:null,transitions:U.transitions},D.memoizedState=U,D.childLanes=o.childLanes&~p,d.memoizedState=py,j}return D=o.child,o=D.sibling,j=zo(D,{mode:"visible",children:j.children}),(d.mode&1)===0&&(j.lanes=p),j.return=d,j.sibling=null,o!==null&&(p=d.deletions,p===null?(d.deletions=[o],d.flags|=16):p.push(o)),d.child=j,d.memoizedState=null,j}function gy(o,d){return d=qp({mode:"visible",children:d},o.mode,0,null),d.return=o,o.child=d}function Ap(o,d,p,j){return j!==null&&qv(j),Kd(d,o.child,null,p),o=gy(d,d.pendingProps.children),o.flags|=2,d.memoizedState=null,o}function oL(o,d,p,j,T,D,U){if(p)return d.flags&256?(d.flags&=-257,j=uy(Error(a(422))),Ap(o,d,U,j)):d.memoizedState!==null?(d.child=o.child,d.flags|=128,null):(D=j.fallback,T=d.mode,j=qp({mode:"visible",children:j.children},T,0,null),D=Rc(D,T,U,null),D.flags|=2,j.return=d,D.return=d,j.sibling=D,d.child=j,(d.mode&1)!==0&&Kd(d,o.child,null,U),d.child.memoizedState=fy(U),d.memoizedState=py,D);if((d.mode&1)===0)return Ap(o,d,U,null);if(T.data==="$!"){if(j=T.nextSibling&&T.nextSibling.dataset,j)var ee=j.dgst;return j=ee,D=Error(a(419)),j=uy(D,j,void 0),Ap(o,d,U,j)}if(ee=(U&o.childLanes)!==0,Rn||ee){if(j=Tr,j!==null){switch(U&-U){case 4:T=2;break;case 16:T=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:T=32;break;case 536870912:T=268435456;break;default:T=0}T=(T&(j.suspendedLanes|U))!==0?0:T,T!==0&&T!==D.retryLane&&(D.retryLane=T,Ql(o,T),Ui(j,o,T,-1))}return Fy(),j=uy(Error(a(421))),Ap(o,d,U,j)}return T.data==="$?"?(d.flags|=128,d.child=o.child,d=bL.bind(null,o),T._reactRetry=d,null):(o=D.treeContext,Zn=Po(T.nextSibling),Xn=d,ka=!0,$i=null,o!==null&&(ji[bi++]=Kl,ji[bi++]=Yl,ji[bi++]=Tc,Kl=o.id,Yl=o.overflow,Tc=d),d=gy(d,j.children),d.flags|=4096,d)}function jk(o,d,p){o.lanes|=d;var j=o.alternate;j!==null&&(j.lanes|=d),Kv(o.return,d,p)}function vy(o,d,p,j,T){var D=o.memoizedState;D===null?o.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:j,tail:p,tailMode:T}:(D.isBackwards=d,D.rendering=null,D.renderingStartTime=0,D.last=j,D.tail=p,D.tailMode=T)}function bk(o,d,p){var j=d.pendingProps,T=j.revealOrder,D=j.tail;if(hn(o,d,j.children,p),j=Ea.current,(j&2)!==0)j=j&1|2,d.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=d.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&jk(o,p,d);else if(o.tag===19)jk(o,p,d);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===d)break e;for(;o.sibling===null;){if(o.return===null||o.return===d)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}j&=1}if(ia(Ea,j),(d.mode&1)===0)d.memoizedState=null;else switch(T){case"forwards":for(p=d.child,T=null;p!==null;)o=p.alternate,o!==null&&kp(o)===null&&(T=p),p=p.sibling;p=T,p===null?(T=d.child,d.child=null):(T=p.sibling,p.sibling=null),vy(d,!1,T,p,D);break;case"backwards":for(p=null,T=d.child,d.child=null;T!==null;){if(o=T.alternate,o!==null&&kp(o)===null){d.child=T;break}o=T.sibling,T.sibling=p,p=T,T=o}vy(d,!0,p,null,D);break;case"together":vy(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function Dp(o,d){(d.mode&1)===0&&o!==null&&(o.alternate=null,d.alternate=null,d.flags|=2)}function Zl(o,d,p){if(o!==null&&(d.dependencies=o.dependencies),Dc|=d.lanes,(p&d.childLanes)===0)return null;if(o!==null&&d.child!==o.child)throw Error(a(153));if(d.child!==null){for(o=d.child,p=zo(o,o.pendingProps),d.child=p,p.return=d;o.sibling!==null;)o=o.sibling,p=p.sibling=zo(o,o.pendingProps),p.return=d;p.sibling=null}return d.child}function cL(o,d,p){switch(d.tag){case 3:gk(d),Gd();break;case 5:I4(d);break;case 1:In(d.type)&&xp(d);break;case 4:Xv(d,d.stateNode.containerInfo);break;case 10:var j=d.type._context,T=d.memoizedProps.value;ia(jp,j._currentValue),j._currentValue=T;break;case 13:if(j=d.memoizedState,j!==null)return j.dehydrated!==null?(ia(Ea,Ea.current&1),d.flags|=128,null):(p&d.child.childLanes)!==0?yk(o,d,p):(ia(Ea,Ea.current&1),o=Zl(o,d,p),o!==null?o.sibling:null);ia(Ea,Ea.current&1);break;case 19:if(j=(p&d.childLanes)!==0,(o.flags&128)!==0){if(j)return bk(o,d,p);d.flags|=128}if(T=d.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),ia(Ea,Ea.current),j)break;return null;case 22:case 23:return d.lanes=0,xk(o,d,p)}return Zl(o,d,p)}var Nk,yy,wk,kk;Nk=function(o,d){for(var p=d.child;p!==null;){if(p.tag===5||p.tag===6)o.appendChild(p.stateNode);else if(p.tag!==4&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===d)break;for(;p.sibling===null;){if(p.return===null||p.return===d)return;p=p.return}p.sibling.return=p.return,p=p.sibling}},yy=function(){},wk=function(o,d,p,j){var T=o.memoizedProps;if(T!==j){o=d.stateNode,Pc(bl.current);var D=null;switch(p){case"input":T=Lt(o,T),j=Lt(o,j),D=[];break;case"select":T=ke({},T,{value:void 0}),j=ke({},j,{value:void 0}),D=[];break;case"textarea":T=xe(o,T),j=xe(o,j),D=[];break;default:typeof T.onClick!="function"&&typeof j.onClick=="function"&&(o.onclick=up)}Re(p,j);var U;p=null;for(De in T)if(!j.hasOwnProperty(De)&&T.hasOwnProperty(De)&&T[De]!=null)if(De==="style"){var ee=T[De];for(U in ee)ee.hasOwnProperty(U)&&(p||(p={}),p[U]="")}else De!=="dangerouslySetInnerHTML"&&De!=="children"&&De!=="suppressContentEditableWarning"&&De!=="suppressHydrationWarning"&&De!=="autoFocus"&&(n.hasOwnProperty(De)?D||(D=[]):(D=D||[]).push(De,null));for(De in j){var ue=j[De];if(ee=T?.[De],j.hasOwnProperty(De)&&ue!==ee&&(ue!=null||ee!=null))if(De==="style")if(ee){for(U in ee)!ee.hasOwnProperty(U)||ue&&ue.hasOwnProperty(U)||(p||(p={}),p[U]="");for(U in ue)ue.hasOwnProperty(U)&&ee[U]!==ue[U]&&(p||(p={}),p[U]=ue[U])}else p||(D||(D=[]),D.push(De,p)),p=ue;else De==="dangerouslySetInnerHTML"?(ue=ue?ue.__html:void 0,ee=ee?ee.__html:void 0,ue!=null&&ee!==ue&&(D=D||[]).push(De,ue)):De==="children"?typeof ue!="string"&&typeof ue!="number"||(D=D||[]).push(De,""+ue):De!=="suppressContentEditableWarning"&&De!=="suppressHydrationWarning"&&(n.hasOwnProperty(De)?(ue!=null&&De==="onScroll"&&xa("scroll",o),D||ee===ue||(D=[])):(D=D||[]).push(De,ue))}p&&(D=D||[]).push("style",p);var De=D;(d.updateQueue=De)&&(d.flags|=4)}},kk=function(o,d,p,j){p!==j&&(d.flags|=4)};function Ym(o,d){if(!ka)switch(o.tailMode){case"hidden":d=o.tail;for(var p=null;d!==null;)d.alternate!==null&&(p=d),d=d.sibling;p===null?o.tail=null:p.sibling=null;break;case"collapsed":p=o.tail;for(var j=null;p!==null;)p.alternate!==null&&(j=p),p=p.sibling;j===null?d||o.tail===null?o.tail=null:o.tail.sibling=null:j.sibling=null}}function Yr(o){var d=o.alternate!==null&&o.alternate.child===o.child,p=0,j=0;if(d)for(var T=o.child;T!==null;)p|=T.lanes|T.childLanes,j|=T.subtreeFlags&14680064,j|=T.flags&14680064,T.return=o,T=T.sibling;else for(T=o.child;T!==null;)p|=T.lanes|T.childLanes,j|=T.subtreeFlags,j|=T.flags,T.return=o,T=T.sibling;return o.subtreeFlags|=j,o.childLanes=p,d}function dL(o,d,p){var j=d.pendingProps;switch(zv(d),d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yr(d),null;case 1:return In(d.type)&&hp(),Yr(d),null;case 3:return j=d.stateNode,Xd(),pa(Mn),pa(Gr),ey(),j.pendingContext&&(j.context=j.pendingContext,j.pendingContext=null),(o===null||o.child===null)&&(vp(d)?d.flags|=4:o===null||o.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,$i!==null&&(Py($i),$i=null))),yy(o,d),Yr(d),null;case 5:Zv(d);var T=Pc(qm.current);if(p=d.type,o!==null&&d.stateNode!=null)wk(o,d,p,j,T),o.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!j){if(d.stateNode===null)throw Error(a(166));return Yr(d),null}if(o=Pc(bl.current),vp(d)){j=d.stateNode,p=d.type;var D=d.memoizedProps;switch(j[jl]=d,j[$m]=D,o=(d.mode&1)!==0,p){case"dialog":xa("cancel",j),xa("close",j);break;case"iframe":case"object":case"embed":xa("load",j);break;case"video":case"audio":for(T=0;T<Rm.length;T++)xa(Rm[T],j);break;case"source":xa("error",j);break;case"img":case"image":case"link":xa("error",j),xa("load",j);break;case"details":xa("toggle",j);break;case"input":gs(j,D),xa("invalid",j);break;case"select":j._wrapperState={wasMultiple:!!D.multiple},xa("invalid",j);break;case"textarea":Ae(j,D),xa("invalid",j)}Re(p,D),T=null;for(var U in D)if(D.hasOwnProperty(U)){var ee=D[U];U==="children"?typeof ee=="string"?j.textContent!==ee&&(D.suppressHydrationWarning!==!0&&dp(j.textContent,ee,o),T=["children",ee]):typeof ee=="number"&&j.textContent!==""+ee&&(D.suppressHydrationWarning!==!0&&dp(j.textContent,ee,o),T=["children",""+ee]):n.hasOwnProperty(U)&&ee!=null&&U==="onScroll"&&xa("scroll",j)}switch(p){case"input":ft(j),cs(j,D,!0);break;case"textarea":ft(j),Ue(j);break;case"select":case"option":break;default:typeof D.onClick=="function"&&(j.onclick=up)}j=T,d.updateQueue=j,j!==null&&(d.flags|=4)}else{U=T.nodeType===9?T:T.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=Ve(p)),o==="http://www.w3.org/1999/xhtml"?p==="script"?(o=U.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof j.is=="string"?o=U.createElement(p,{is:j.is}):(o=U.createElement(p),p==="select"&&(U=o,j.multiple?U.multiple=!0:j.size&&(U.size=j.size))):o=U.createElementNS(o,p),o[jl]=d,o[$m]=j,Nk(o,d,!1,!1),d.stateNode=o;e:{switch(U=Ct(p,j),p){case"dialog":xa("cancel",o),xa("close",o),T=j;break;case"iframe":case"object":case"embed":xa("load",o),T=j;break;case"video":case"audio":for(T=0;T<Rm.length;T++)xa(Rm[T],o);T=j;break;case"source":xa("error",o),T=j;break;case"img":case"image":case"link":xa("error",o),xa("load",o),T=j;break;case"details":xa("toggle",o),T=j;break;case"input":gs(o,j),T=Lt(o,j),xa("invalid",o);break;case"option":T=j;break;case"select":o._wrapperState={wasMultiple:!!j.multiple},T=ke({},j,{value:void 0}),xa("invalid",o);break;case"textarea":Ae(o,j),T=xe(o,j),xa("invalid",o);break;default:T=j}Re(p,T),ee=T;for(D in ee)if(ee.hasOwnProperty(D)){var ue=ee[D];D==="style"?ar(o,ue):D==="dangerouslySetInnerHTML"?(ue=ue?ue.__html:void 0,ue!=null&&ss(o,ue)):D==="children"?typeof ue=="string"?(p!=="textarea"||ue!=="")&&Ds(o,ue):typeof ue=="number"&&Ds(o,""+ue):D!=="suppressContentEditableWarning"&&D!=="suppressHydrationWarning"&&D!=="autoFocus"&&(n.hasOwnProperty(D)?ue!=null&&D==="onScroll"&&xa("scroll",o):ue!=null&&_(o,D,ue,U))}switch(p){case"input":ft(o),cs(o,j,!1);break;case"textarea":ft(o),Ue(o);break;case"option":j.value!=null&&o.setAttribute("value",""+J(j.value));break;case"select":o.multiple=!!j.multiple,D=j.value,D!=null?Z(o,!!j.multiple,D,!1):j.defaultValue!=null&&Z(o,!!j.multiple,j.defaultValue,!0);break;default:typeof T.onClick=="function"&&(o.onclick=up)}switch(p){case"button":case"input":case"select":case"textarea":j=!!j.autoFocus;break e;case"img":j=!0;break e;default:j=!1}}j&&(d.flags|=4)}d.ref!==null&&(d.flags|=512,d.flags|=2097152)}return Yr(d),null;case 6:if(o&&d.stateNode!=null)kk(o,d,o.memoizedProps,j);else{if(typeof j!="string"&&d.stateNode===null)throw Error(a(166));if(p=Pc(qm.current),Pc(bl.current),vp(d)){if(j=d.stateNode,p=d.memoizedProps,j[jl]=d,(D=j.nodeValue!==p)&&(o=Xn,o!==null))switch(o.tag){case 3:dp(j.nodeValue,p,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&dp(j.nodeValue,p,(o.mode&1)!==0)}D&&(d.flags|=4)}else j=(p.nodeType===9?p:p.ownerDocument).createTextNode(j),j[jl]=d,d.stateNode=j}return Yr(d),null;case 13:if(pa(Ea),j=d.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(ka&&Zn!==null&&(d.mode&1)!==0&&(d.flags&128)===0)T4(),Gd(),d.flags|=98560,D=!1;else if(D=vp(d),j!==null&&j.dehydrated!==null){if(o===null){if(!D)throw Error(a(318));if(D=d.memoizedState,D=D!==null?D.dehydrated:null,!D)throw Error(a(317));D[jl]=d}else Gd(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;Yr(d),D=!1}else $i!==null&&(Py($i),$i=null),D=!0;if(!D)return d.flags&65536?d:null}return(d.flags&128)!==0?(d.lanes=p,d):(j=j!==null,j!==(o!==null&&o.memoizedState!==null)&&j&&(d.child.flags|=8192,(d.mode&1)!==0&&(o===null||(Ea.current&1)!==0?vr===0&&(vr=3):Fy())),d.updateQueue!==null&&(d.flags|=4),Yr(d),null);case 4:return Xd(),yy(o,d),o===null&&Lm(d.stateNode.containerInfo),Yr(d),null;case 10:return Gv(d.type._context),Yr(d),null;case 17:return In(d.type)&&hp(),Yr(d),null;case 19:if(pa(Ea),D=d.memoizedState,D===null)return Yr(d),null;if(j=(d.flags&128)!==0,U=D.rendering,U===null)if(j)Ym(D,!1);else{if(vr!==0||o!==null&&(o.flags&128)!==0)for(o=d.child;o!==null;){if(U=kp(o),U!==null){for(d.flags|=128,Ym(D,!1),j=U.updateQueue,j!==null&&(d.updateQueue=j,d.flags|=4),d.subtreeFlags=0,j=p,p=d.child;p!==null;)D=p,o=j,D.flags&=14680066,U=D.alternate,U===null?(D.childLanes=0,D.lanes=o,D.child=null,D.subtreeFlags=0,D.memoizedProps=null,D.memoizedState=null,D.updateQueue=null,D.dependencies=null,D.stateNode=null):(D.childLanes=U.childLanes,D.lanes=U.lanes,D.child=U.child,D.subtreeFlags=0,D.deletions=null,D.memoizedProps=U.memoizedProps,D.memoizedState=U.memoizedState,D.updateQueue=U.updateQueue,D.type=U.type,o=U.dependencies,D.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),p=p.sibling;return ia(Ea,Ea.current&1|2),d.child}o=o.sibling}D.tail!==null&&hs()>tu&&(d.flags|=128,j=!0,Ym(D,!1),d.lanes=4194304)}else{if(!j)if(o=kp(U),o!==null){if(d.flags|=128,j=!0,p=o.updateQueue,p!==null&&(d.updateQueue=p,d.flags|=4),Ym(D,!0),D.tail===null&&D.tailMode==="hidden"&&!U.alternate&&!ka)return Yr(d),null}else 2*hs()-D.renderingStartTime>tu&&p!==1073741824&&(d.flags|=128,j=!0,Ym(D,!1),d.lanes=4194304);D.isBackwards?(U.sibling=d.child,d.child=U):(p=D.last,p!==null?p.sibling=U:d.child=U,D.last=U)}return D.tail!==null?(d=D.tail,D.rendering=d,D.tail=d.sibling,D.renderingStartTime=hs(),d.sibling=null,p=Ea.current,ia(Ea,j?p&1|2:p&1),d):(Yr(d),null);case 22:case 23:return Dy(),j=d.memoizedState!==null,o!==null&&o.memoizedState!==null!==j&&(d.flags|=8192),j&&(d.mode&1)!==0?(Jn&1073741824)!==0&&(Yr(d),d.subtreeFlags&6&&(d.flags|=8192)):Yr(d),null;case 24:return null;case 25:return null}throw Error(a(156,d.tag))}function uL(o,d){switch(zv(d),d.tag){case 1:return In(d.type)&&hp(),o=d.flags,o&65536?(d.flags=o&-65537|128,d):null;case 3:return Xd(),pa(Mn),pa(Gr),ey(),o=d.flags,(o&65536)!==0&&(o&128)===0?(d.flags=o&-65537|128,d):null;case 5:return Zv(d),null;case 13:if(pa(Ea),o=d.memoizedState,o!==null&&o.dehydrated!==null){if(d.alternate===null)throw Error(a(340));Gd()}return o=d.flags,o&65536?(d.flags=o&-65537|128,d):null;case 19:return pa(Ea),null;case 4:return Xd(),null;case 10:return Gv(d.type._context),null;case 22:case 23:return Dy(),null;case 24:return null;default:return null}}var Fp=!1,Qr=!1,mL=typeof WeakSet=="function"?WeakSet:Set,kt=null;function Jd(o,d){var p=o.ref;if(p!==null)if(typeof p=="function")try{p(null)}catch(j){$a(o,d,j)}else p.current=null}function jy(o,d,p){try{p()}catch(j){$a(o,d,j)}}var Ck=!1;function hL(o,d){if(Dv=Jx,o=a4(),kv(o)){if("selectionStart"in o)var p={start:o.selectionStart,end:o.selectionEnd};else e:{p=(p=o.ownerDocument)&&p.defaultView||window;var j=p.getSelection&&p.getSelection();if(j&&j.rangeCount!==0){p=j.anchorNode;var T=j.anchorOffset,D=j.focusNode;j=j.focusOffset;try{p.nodeType,D.nodeType}catch{p=null;break e}var U=0,ee=-1,ue=-1,De=0,Ke=0,Ze=o,We=null;t:for(;;){for(var vt;Ze!==p||T!==0&&Ze.nodeType!==3||(ee=U+T),Ze!==D||j!==0&&Ze.nodeType!==3||(ue=U+j),Ze.nodeType===3&&(U+=Ze.nodeValue.length),(vt=Ze.firstChild)!==null;)We=Ze,Ze=vt;for(;;){if(Ze===o)break t;if(We===p&&++De===T&&(ee=U),We===D&&++Ke===j&&(ue=U),(vt=Ze.nextSibling)!==null)break;Ze=We,We=Ze.parentNode}Ze=vt}p=ee===-1||ue===-1?null:{start:ee,end:ue}}else p=null}p=p||{start:0,end:0}}else p=null;for(Fv={focusedElem:o,selectionRange:p},Jx=!1,kt=d;kt!==null;)if(d=kt,o=d.child,(d.subtreeFlags&1028)!==0&&o!==null)o.return=d,kt=o;else for(;kt!==null;){d=kt;try{var St=d.alternate;if((d.flags&1024)!==0)switch(d.tag){case 0:case 11:case 15:break;case 1:if(St!==null){var At=St.memoizedProps,Qa=St.memoizedState,we=d.stateNode,ve=we.getSnapshotBeforeUpdate(d.elementType===d.type?At:Bi(d.type,At),Qa);we.__reactInternalSnapshotBeforeUpdate=ve}break;case 3:var Te=d.stateNode.containerInfo;Te.nodeType===1?Te.textContent="":Te.nodeType===9&&Te.documentElement&&Te.removeChild(Te.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(nt){$a(d,d.return,nt)}if(o=d.sibling,o!==null){o.return=d.return,kt=o;break}kt=d.return}return St=Ck,Ck=!1,St}function Qm(o,d,p){var j=d.updateQueue;if(j=j!==null?j.lastEffect:null,j!==null){var T=j=j.next;do{if((T.tag&o)===o){var D=T.destroy;T.destroy=void 0,D!==void 0&&jy(d,p,D)}T=T.next}while(T!==j)}}function Mp(o,d){if(d=d.updateQueue,d=d!==null?d.lastEffect:null,d!==null){var p=d=d.next;do{if((p.tag&o)===o){var j=p.create;p.destroy=j()}p=p.next}while(p!==d)}}function by(o){var d=o.ref;if(d!==null){var p=o.stateNode;o.tag,o=p,typeof d=="function"?d(o):d.current=o}}function Sk(o){var d=o.alternate;d!==null&&(o.alternate=null,Sk(d)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(d=o.stateNode,d!==null&&(delete d[jl],delete d[$m],delete d[Lv],delete d[YR],delete d[QR])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function Tk(o){return o.tag===5||o.tag===3||o.tag===4}function _k(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||Tk(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Ny(o,d,p){var j=o.tag;if(j===5||j===6)o=o.stateNode,d?p.nodeType===8?p.parentNode.insertBefore(o,d):p.insertBefore(o,d):(p.nodeType===8?(d=p.parentNode,d.insertBefore(o,p)):(d=p,d.appendChild(o)),p=p._reactRootContainer,p!=null||d.onclick!==null||(d.onclick=up));else if(j!==4&&(o=o.child,o!==null))for(Ny(o,d,p),o=o.sibling;o!==null;)Ny(o,d,p),o=o.sibling}function wy(o,d,p){var j=o.tag;if(j===5||j===6)o=o.stateNode,d?p.insertBefore(o,d):p.appendChild(o);else if(j!==4&&(o=o.child,o!==null))for(wy(o,d,p),o=o.sibling;o!==null;)wy(o,d,p),o=o.sibling}var Mr=null,zi=!1;function Ro(o,d,p){for(p=p.child;p!==null;)Ek(o,d,p),p=p.sibling}function Ek(o,d,p){if(mn&&typeof mn.onCommitFiberUnmount=="function")try{mn.onCommitFiberUnmount(Ul,p)}catch{}switch(p.tag){case 5:Qr||Jd(p,d);case 6:var j=Mr,T=zi;Mr=null,Ro(o,d,p),Mr=j,zi=T,Mr!==null&&(zi?(o=Mr,p=p.stateNode,o.nodeType===8?o.parentNode.removeChild(p):o.removeChild(p)):Mr.removeChild(p.stateNode));break;case 18:Mr!==null&&(zi?(o=Mr,p=p.stateNode,o.nodeType===8?Rv(o.parentNode,p):o.nodeType===1&&Rv(o,p),_m(o)):Rv(Mr,p.stateNode));break;case 4:j=Mr,T=zi,Mr=p.stateNode.containerInfo,zi=!0,Ro(o,d,p),Mr=j,zi=T;break;case 0:case 11:case 14:case 15:if(!Qr&&(j=p.updateQueue,j!==null&&(j=j.lastEffect,j!==null))){T=j=j.next;do{var D=T,U=D.destroy;D=D.tag,U!==void 0&&((D&2)!==0||(D&4)!==0)&&jy(p,d,U),T=T.next}while(T!==j)}Ro(o,d,p);break;case 1:if(!Qr&&(Jd(p,d),j=p.stateNode,typeof j.componentWillUnmount=="function"))try{j.props=p.memoizedProps,j.state=p.memoizedState,j.componentWillUnmount()}catch(ee){$a(p,d,ee)}Ro(o,d,p);break;case 21:Ro(o,d,p);break;case 22:p.mode&1?(Qr=(j=Qr)||p.memoizedState!==null,Ro(o,d,p),Qr=j):Ro(o,d,p);break;default:Ro(o,d,p)}}function Pk(o){var d=o.updateQueue;if(d!==null){o.updateQueue=null;var p=o.stateNode;p===null&&(p=o.stateNode=new mL),d.forEach(function(j){var T=NL.bind(null,o,j);p.has(j)||(p.add(j),j.then(T,T))})}}function Vi(o,d){var p=d.deletions;if(p!==null)for(var j=0;j<p.length;j++){var T=p[j];try{var D=o,U=d,ee=U;e:for(;ee!==null;){switch(ee.tag){case 5:Mr=ee.stateNode,zi=!1;break e;case 3:Mr=ee.stateNode.containerInfo,zi=!0;break e;case 4:Mr=ee.stateNode.containerInfo,zi=!0;break e}ee=ee.return}if(Mr===null)throw Error(a(160));Ek(D,U,T),Mr=null,zi=!1;var ue=T.alternate;ue!==null&&(ue.return=null),T.return=null}catch(De){$a(T,d,De)}}if(d.subtreeFlags&12854)for(d=d.child;d!==null;)Ak(d,o),d=d.sibling}function Ak(o,d){var p=o.alternate,j=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(Vi(d,o),wl(o),j&4){try{Qm(3,o,o.return),Mp(3,o)}catch(At){$a(o,o.return,At)}try{Qm(5,o,o.return)}catch(At){$a(o,o.return,At)}}break;case 1:Vi(d,o),wl(o),j&512&&p!==null&&Jd(p,p.return);break;case 5:if(Vi(d,o),wl(o),j&512&&p!==null&&Jd(p,p.return),o.flags&32){var T=o.stateNode;try{Ds(T,"")}catch(At){$a(o,o.return,At)}}if(j&4&&(T=o.stateNode,T!=null)){var D=o.memoizedProps,U=p!==null?p.memoizedProps:D,ee=o.type,ue=o.updateQueue;if(o.updateQueue=null,ue!==null)try{ee==="input"&&D.type==="radio"&&D.name!=null&&ks(T,D),Ct(ee,U);var De=Ct(ee,D);for(U=0;U<ue.length;U+=2){var Ke=ue[U],Ze=ue[U+1];Ke==="style"?ar(T,Ze):Ke==="dangerouslySetInnerHTML"?ss(T,Ze):Ke==="children"?Ds(T,Ze):_(T,Ke,Ze,De)}switch(ee){case"input":Ys(T,D);break;case"textarea":Qe(T,D);break;case"select":var We=T._wrapperState.wasMultiple;T._wrapperState.wasMultiple=!!D.multiple;var vt=D.value;vt!=null?Z(T,!!D.multiple,vt,!1):We!==!!D.multiple&&(D.defaultValue!=null?Z(T,!!D.multiple,D.defaultValue,!0):Z(T,!!D.multiple,D.multiple?[]:"",!1))}T[$m]=D}catch(At){$a(o,o.return,At)}}break;case 6:if(Vi(d,o),wl(o),j&4){if(o.stateNode===null)throw Error(a(162));T=o.stateNode,D=o.memoizedProps;try{T.nodeValue=D}catch(At){$a(o,o.return,At)}}break;case 3:if(Vi(d,o),wl(o),j&4&&p!==null&&p.memoizedState.isDehydrated)try{_m(d.containerInfo)}catch(At){$a(o,o.return,At)}break;case 4:Vi(d,o),wl(o);break;case 13:Vi(d,o),wl(o),T=o.child,T.flags&8192&&(D=T.memoizedState!==null,T.stateNode.isHidden=D,!D||T.alternate!==null&&T.alternate.memoizedState!==null||(Sy=hs())),j&4&&Pk(o);break;case 22:if(Ke=p!==null&&p.memoizedState!==null,o.mode&1?(Qr=(De=Qr)||Ke,Vi(d,o),Qr=De):Vi(d,o),wl(o),j&8192){if(De=o.memoizedState!==null,(o.stateNode.isHidden=De)&&!Ke&&(o.mode&1)!==0)for(kt=o,Ke=o.child;Ke!==null;){for(Ze=kt=Ke;kt!==null;){switch(We=kt,vt=We.child,We.tag){case 0:case 11:case 14:case 15:Qm(4,We,We.return);break;case 1:Jd(We,We.return);var St=We.stateNode;if(typeof St.componentWillUnmount=="function"){j=We,p=We.return;try{d=j,St.props=d.memoizedProps,St.state=d.memoizedState,St.componentWillUnmount()}catch(At){$a(j,p,At)}}break;case 5:Jd(We,We.return);break;case 22:if(We.memoizedState!==null){Mk(Ze);continue}}vt!==null?(vt.return=We,kt=vt):Mk(Ze)}Ke=Ke.sibling}e:for(Ke=null,Ze=o;;){if(Ze.tag===5){if(Ke===null){Ke=Ze;try{T=Ze.stateNode,De?(D=T.style,typeof D.setProperty=="function"?D.setProperty("display","none","important"):D.display="none"):(ee=Ze.stateNode,ue=Ze.memoizedProps.style,U=ue!=null&&ue.hasOwnProperty("display")?ue.display:null,ee.style.display=pr("display",U))}catch(At){$a(o,o.return,At)}}}else if(Ze.tag===6){if(Ke===null)try{Ze.stateNode.nodeValue=De?"":Ze.memoizedProps}catch(At){$a(o,o.return,At)}}else if((Ze.tag!==22&&Ze.tag!==23||Ze.memoizedState===null||Ze===o)&&Ze.child!==null){Ze.child.return=Ze,Ze=Ze.child;continue}if(Ze===o)break e;for(;Ze.sibling===null;){if(Ze.return===null||Ze.return===o)break e;Ke===Ze&&(Ke=null),Ze=Ze.return}Ke===Ze&&(Ke=null),Ze.sibling.return=Ze.return,Ze=Ze.sibling}}break;case 19:Vi(d,o),wl(o),j&4&&Pk(o);break;case 21:break;default:Vi(d,o),wl(o)}}function wl(o){var d=o.flags;if(d&2){try{e:{for(var p=o.return;p!==null;){if(Tk(p)){var j=p;break e}p=p.return}throw Error(a(160))}switch(j.tag){case 5:var T=j.stateNode;j.flags&32&&(Ds(T,""),j.flags&=-33);var D=_k(o);wy(o,D,T);break;case 3:case 4:var U=j.stateNode.containerInfo,ee=_k(o);Ny(o,ee,U);break;default:throw Error(a(161))}}catch(ue){$a(o,o.return,ue)}o.flags&=-3}d&4096&&(o.flags&=-4097)}function xL(o,d,p){kt=o,Dk(o)}function Dk(o,d,p){for(var j=(o.mode&1)!==0;kt!==null;){var T=kt,D=T.child;if(T.tag===22&&j){var U=T.memoizedState!==null||Fp;if(!U){var ee=T.alternate,ue=ee!==null&&ee.memoizedState!==null||Qr;ee=Fp;var De=Qr;if(Fp=U,(Qr=ue)&&!De)for(kt=T;kt!==null;)U=kt,ue=U.child,U.tag===22&&U.memoizedState!==null?Ik(T):ue!==null?(ue.return=U,kt=ue):Ik(T);for(;D!==null;)kt=D,Dk(D),D=D.sibling;kt=T,Fp=ee,Qr=De}Fk(o)}else(T.subtreeFlags&8772)!==0&&D!==null?(D.return=T,kt=D):Fk(o)}}function Fk(o){for(;kt!==null;){var d=kt;if((d.flags&8772)!==0){var p=d.alternate;try{if((d.flags&8772)!==0)switch(d.tag){case 0:case 11:case 15:Qr||Mp(5,d);break;case 1:var j=d.stateNode;if(d.flags&4&&!Qr)if(p===null)j.componentDidMount();else{var T=d.elementType===d.type?p.memoizedProps:Bi(d.type,p.memoizedProps);j.componentDidUpdate(T,p.memoizedState,j.__reactInternalSnapshotBeforeUpdate)}var D=d.updateQueue;D!==null&&M4(d,D,j);break;case 3:var U=d.updateQueue;if(U!==null){if(p=null,d.child!==null)switch(d.child.tag){case 5:p=d.child.stateNode;break;case 1:p=d.child.stateNode}M4(d,U,p)}break;case 5:var ee=d.stateNode;if(p===null&&d.flags&4){p=ee;var ue=d.memoizedProps;switch(d.type){case"button":case"input":case"select":case"textarea":ue.autoFocus&&p.focus();break;case"img":ue.src&&(p.src=ue.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(d.memoizedState===null){var De=d.alternate;if(De!==null){var Ke=De.memoizedState;if(Ke!==null){var Ze=Ke.dehydrated;Ze!==null&&_m(Ze)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(a(163))}Qr||d.flags&512&&by(d)}catch(We){$a(d,d.return,We)}}if(d===o){kt=null;break}if(p=d.sibling,p!==null){p.return=d.return,kt=p;break}kt=d.return}}function Mk(o){for(;kt!==null;){var d=kt;if(d===o){kt=null;break}var p=d.sibling;if(p!==null){p.return=d.return,kt=p;break}kt=d.return}}function Ik(o){for(;kt!==null;){var d=kt;try{switch(d.tag){case 0:case 11:case 15:var p=d.return;try{Mp(4,d)}catch(ue){$a(d,p,ue)}break;case 1:var j=d.stateNode;if(typeof j.componentDidMount=="function"){var T=d.return;try{j.componentDidMount()}catch(ue){$a(d,T,ue)}}var D=d.return;try{by(d)}catch(ue){$a(d,D,ue)}break;case 5:var U=d.return;try{by(d)}catch(ue){$a(d,U,ue)}}}catch(ue){$a(d,d.return,ue)}if(d===o){kt=null;break}var ee=d.sibling;if(ee!==null){ee.return=d.return,kt=ee;break}kt=d.return}}var pL=Math.ceil,Ip=M.ReactCurrentDispatcher,ky=M.ReactCurrentOwner,ki=M.ReactCurrentBatchConfig,Fs=0,Tr=null,nr=null,Ir=0,Jn=0,eu=Ao(0),vr=0,Xm=null,Dc=0,Rp=0,Cy=0,Zm=null,Ln=null,Sy=0,tu=1/0,Jl=null,Lp=!1,Ty=null,Lo=null,Op=!1,Oo=null,$p=0,Jm=0,_y=null,Bp=-1,zp=0;function xn(){return(Fs&6)!==0?hs():Bp!==-1?Bp:Bp=hs()}function $o(o){return(o.mode&1)===0?1:(Fs&2)!==0&&Ir!==0?Ir&-Ir:ZR.transition!==null?(zp===0&&(zp=km()),zp):(o=Se,o!==0||(o=window.event,o=o===void 0?16:L2(o.type)),o)}function Ui(o,d,p,j){if(50<Jm)throw Jm=0,_y=null,Error(a(185));wc(o,p,j),((Fs&2)===0||o!==Tr)&&(o===Tr&&((Fs&2)===0&&(Rp|=p),vr===4&&Bo(o,Ir)),On(o,j),p===1&&Fs===0&&(d.mode&1)===0&&(tu=hs()+500,pp&&Fo()))}function On(o,d){var p=o.callbackNode;Yn(o,d);var j=To(o,o===Tr?Ir:0);if(j===0)p!==null&&Xe(p),o.callbackNode=null,o.callbackPriority=0;else if(d=j&-j,o.callbackPriority!==d){if(p!=null&&Xe(p),d===1)o.tag===0?XR(Lk.bind(null,o)):N4(Lk.bind(null,o)),GR(function(){(Fs&6)===0&&Fo()}),p=null;else{switch(Ts(j)){case 1:p=ra;break;case 4:p=un;break;case 16:p=Dn;break;case 536870912:p=_a;break;default:p=Dn}p=Hk(p,Rk.bind(null,o))}o.callbackPriority=d,o.callbackNode=p}}function Rk(o,d){if(Bp=-1,zp=0,(Fs&6)!==0)throw Error(a(327));var p=o.callbackNode;if(su()&&o.callbackNode!==p)return null;var j=To(o,o===Tr?Ir:0);if(j===0)return null;if((j&30)!==0||(j&o.expiredLanes)!==0||d)d=Vp(o,j);else{d=j;var T=Fs;Fs|=2;var D=$k();(Tr!==o||Ir!==d)&&(Jl=null,tu=hs()+500,Mc(o,d));do try{vL();break}catch(ee){Ok(o,ee)}while(!0);Wv(),Ip.current=D,Fs=T,nr!==null?d=0:(Tr=null,Ir=0,d=vr)}if(d!==0){if(d===2&&(T=Nc(o),T!==0&&(j=T,d=Ey(o,T))),d===1)throw p=Xm,Mc(o,0),Bo(o,j),On(o,hs()),p;if(d===6)Bo(o,j);else{if(T=o.current.alternate,(j&30)===0&&!fL(T)&&(d=Vp(o,j),d===2&&(D=Nc(o),D!==0&&(j=D,d=Ey(o,D))),d===1))throw p=Xm,Mc(o,0),Bo(o,j),On(o,hs()),p;switch(o.finishedWork=T,o.finishedLanes=j,d){case 0:case 1:throw Error(a(345));case 2:Ic(o,Ln,Jl);break;case 3:if(Bo(o,j),(j&130023424)===j&&(d=Sy+500-hs(),10<d)){if(To(o,0)!==0)break;if(T=o.suspendedLanes,(T&j)!==j){xn(),o.pingedLanes|=o.suspendedLanes&T;break}o.timeoutHandle=Iv(Ic.bind(null,o,Ln,Jl),d);break}Ic(o,Ln,Jl);break;case 4:if(Bo(o,j),(j&4194240)===j)break;for(d=o.eventTimes,T=-1;0<j;){var U=31-na(j);D=1<<U,U=d[U],U>T&&(T=U),j&=~D}if(j=T,j=hs()-j,j=(120>j?120:480>j?480:1080>j?1080:1920>j?1920:3e3>j?3e3:4320>j?4320:1960*pL(j/1960))-j,10<j){o.timeoutHandle=Iv(Ic.bind(null,o,Ln,Jl),j);break}Ic(o,Ln,Jl);break;case 5:Ic(o,Ln,Jl);break;default:throw Error(a(329))}}}return On(o,hs()),o.callbackNode===p?Rk.bind(null,o):null}function Ey(o,d){var p=Zm;return o.current.memoizedState.isDehydrated&&(Mc(o,d).flags|=256),o=Vp(o,d),o!==2&&(d=Ln,Ln=p,d!==null&&Py(d)),o}function Py(o){Ln===null?Ln=o:Ln.push.apply(Ln,o)}function fL(o){for(var d=o;;){if(d.flags&16384){var p=d.updateQueue;if(p!==null&&(p=p.stores,p!==null))for(var j=0;j<p.length;j++){var T=p[j],D=T.getSnapshot;T=T.value;try{if(!Oi(D(),T))return!1}catch{return!1}}}if(p=d.child,d.subtreeFlags&16384&&p!==null)p.return=d,d=p;else{if(d===o)break;for(;d.sibling===null;){if(d.return===null||d.return===o)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function Bo(o,d){for(d&=~Cy,d&=~Rp,o.suspendedLanes|=d,o.pingedLanes&=~d,o=o.expirationTimes;0<d;){var p=31-na(d),j=1<<p;o[p]=-1,d&=~j}}function Lk(o){if((Fs&6)!==0)throw Error(a(327));su();var d=To(o,0);if((d&1)===0)return On(o,hs()),null;var p=Vp(o,d);if(o.tag!==0&&p===2){var j=Nc(o);j!==0&&(d=j,p=Ey(o,j))}if(p===1)throw p=Xm,Mc(o,0),Bo(o,d),On(o,hs()),p;if(p===6)throw Error(a(345));return o.finishedWork=o.current.alternate,o.finishedLanes=d,Ic(o,Ln,Jl),On(o,hs()),null}function Ay(o,d){var p=Fs;Fs|=1;try{return o(d)}finally{Fs=p,Fs===0&&(tu=hs()+500,pp&&Fo())}}function Fc(o){Oo!==null&&Oo.tag===0&&(Fs&6)===0&&su();var d=Fs;Fs|=1;var p=ki.transition,j=Se;try{if(ki.transition=null,Se=1,o)return o()}finally{Se=j,ki.transition=p,Fs=d,(Fs&6)===0&&Fo()}}function Dy(){Jn=eu.current,pa(eu)}function Mc(o,d){o.finishedWork=null,o.finishedLanes=0;var p=o.timeoutHandle;if(p!==-1&&(o.timeoutHandle=-1,WR(p)),nr!==null)for(p=nr.return;p!==null;){var j=p;switch(zv(j),j.tag){case 1:j=j.type.childContextTypes,j!=null&&hp();break;case 3:Xd(),pa(Mn),pa(Gr),ey();break;case 5:Zv(j);break;case 4:Xd();break;case 13:pa(Ea);break;case 19:pa(Ea);break;case 10:Gv(j.type._context);break;case 22:case 23:Dy()}p=p.return}if(Tr=o,nr=o=zo(o.current,null),Ir=Jn=d,vr=0,Xm=null,Cy=Rp=Dc=0,Ln=Zm=null,Ec!==null){for(d=0;d<Ec.length;d++)if(p=Ec[d],j=p.interleaved,j!==null){p.interleaved=null;var T=j.next,D=p.pending;if(D!==null){var U=D.next;D.next=T,j.next=U}p.pending=j}Ec=null}return o}function Ok(o,d){do{var p=nr;try{if(Wv(),Cp.current=Ep,Sp){for(var j=Pa.memoizedState;j!==null;){var T=j.queue;T!==null&&(T.pending=null),j=j.next}Sp=!1}if(Ac=0,Sr=gr=Pa=null,Hm=!1,Wm=0,ky.current=null,p===null||p.return===null){vr=1,Xm=d,nr=null;break}e:{var D=o,U=p.return,ee=p,ue=d;if(d=Ir,ee.flags|=32768,ue!==null&&typeof ue=="object"&&typeof ue.then=="function"){var De=ue,Ke=ee,Ze=Ke.tag;if((Ke.mode&1)===0&&(Ze===0||Ze===11||Ze===15)){var We=Ke.alternate;We?(Ke.updateQueue=We.updateQueue,Ke.memoizedState=We.memoizedState,Ke.lanes=We.lanes):(Ke.updateQueue=null,Ke.memoizedState=null)}var vt=ck(U);if(vt!==null){vt.flags&=-257,dk(vt,U,ee,D,d),vt.mode&1&&ok(D,De,d),d=vt,ue=De;var St=d.updateQueue;if(St===null){var At=new Set;At.add(ue),d.updateQueue=At}else St.add(ue);break e}else{if((d&1)===0){ok(D,De,d),Fy();break e}ue=Error(a(426))}}else if(ka&&ee.mode&1){var Qa=ck(U);if(Qa!==null){(Qa.flags&65536)===0&&(Qa.flags|=256),dk(Qa,U,ee,D,d),qv(Zd(ue,ee));break e}}D=ue=Zd(ue,ee),vr!==4&&(vr=2),Zm===null?Zm=[D]:Zm.push(D),D=U;do{switch(D.tag){case 3:D.flags|=65536,d&=-d,D.lanes|=d;var we=ik(D,ue,d);F4(D,we);break e;case 1:ee=ue;var ve=D.type,Te=D.stateNode;if((D.flags&128)===0&&(typeof ve.getDerivedStateFromError=="function"||Te!==null&&typeof Te.componentDidCatch=="function"&&(Lo===null||!Lo.has(Te)))){D.flags|=65536,d&=-d,D.lanes|=d;var nt=lk(D,ee,d);F4(D,nt);break e}}D=D.return}while(D!==null)}zk(p)}catch(Mt){d=Mt,nr===p&&p!==null&&(nr=p=p.return);continue}break}while(!0)}function $k(){var o=Ip.current;return Ip.current=Ep,o===null?Ep:o}function Fy(){(vr===0||vr===3||vr===2)&&(vr=4),Tr===null||(Dc&268435455)===0&&(Rp&268435455)===0||Bo(Tr,Ir)}function Vp(o,d){var p=Fs;Fs|=2;var j=$k();(Tr!==o||Ir!==d)&&(Jl=null,Mc(o,d));do try{gL();break}catch(T){Ok(o,T)}while(!0);if(Wv(),Fs=p,Ip.current=j,nr!==null)throw Error(a(261));return Tr=null,Ir=0,vr}function gL(){for(;nr!==null;)Bk(nr)}function vL(){for(;nr!==null&&!gt();)Bk(nr)}function Bk(o){var d=qk(o.alternate,o,Jn);o.memoizedProps=o.pendingProps,d===null?zk(o):nr=d,ky.current=null}function zk(o){var d=o;do{var p=d.alternate;if(o=d.return,(d.flags&32768)===0){if(p=dL(p,d,Jn),p!==null){nr=p;return}}else{if(p=uL(p,d),p!==null){p.flags&=32767,nr=p;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{vr=6,nr=null;return}}if(d=d.sibling,d!==null){nr=d;return}nr=d=o}while(d!==null);vr===0&&(vr=5)}function Ic(o,d,p){var j=Se,T=ki.transition;try{ki.transition=null,Se=1,yL(o,d,p,j)}finally{ki.transition=T,Se=j}return null}function yL(o,d,p,j){do su();while(Oo!==null);if((Fs&6)!==0)throw Error(a(327));p=o.finishedWork;var T=o.finishedLanes;if(p===null)return null;if(o.finishedWork=null,o.finishedLanes=0,p===o.current)throw Error(a(177));o.callbackNode=null,o.callbackPriority=0;var D=p.lanes|p.childLanes;if(G(o,D),o===Tr&&(nr=Tr=null,Ir=0),(p.subtreeFlags&2064)===0&&(p.flags&2064)===0||Op||(Op=!0,Hk(Dn,function(){return su(),null})),D=(p.flags&15990)!==0,(p.subtreeFlags&15990)!==0||D){D=ki.transition,ki.transition=null;var U=Se;Se=1;var ee=Fs;Fs|=4,ky.current=null,hL(o,p),Ak(p,o),$R(Fv),Jx=!!Dv,Fv=Dv=null,o.current=p,xL(p),Qs(),Fs=ee,Se=U,ki.transition=D}else o.current=p;if(Op&&(Op=!1,Oo=o,$p=T),D=o.pendingLanes,D===0&&(Lo=null),Xx(p.stateNode),On(o,hs()),d!==null)for(j=o.onRecoverableError,p=0;p<d.length;p++)T=d[p],j(T.value,{componentStack:T.stack,digest:T.digest});if(Lp)throw Lp=!1,o=Ty,Ty=null,o;return($p&1)!==0&&o.tag!==0&&su(),D=o.pendingLanes,(D&1)!==0?o===_y?Jm++:(Jm=0,_y=o):Jm=0,Fo(),null}function su(){if(Oo!==null){var o=Ts($p),d=ki.transition,p=Se;try{if(ki.transition=null,Se=16>o?16:o,Oo===null)var j=!1;else{if(o=Oo,Oo=null,$p=0,(Fs&6)!==0)throw Error(a(331));var T=Fs;for(Fs|=4,kt=o.current;kt!==null;){var D=kt,U=D.child;if((kt.flags&16)!==0){var ee=D.deletions;if(ee!==null){for(var ue=0;ue<ee.length;ue++){var De=ee[ue];for(kt=De;kt!==null;){var Ke=kt;switch(Ke.tag){case 0:case 11:case 15:Qm(8,Ke,D)}var Ze=Ke.child;if(Ze!==null)Ze.return=Ke,kt=Ze;else for(;kt!==null;){Ke=kt;var We=Ke.sibling,vt=Ke.return;if(Sk(Ke),Ke===De){kt=null;break}if(We!==null){We.return=vt,kt=We;break}kt=vt}}}var St=D.alternate;if(St!==null){var At=St.child;if(At!==null){St.child=null;do{var Qa=At.sibling;At.sibling=null,At=Qa}while(At!==null)}}kt=D}}if((D.subtreeFlags&2064)!==0&&U!==null)U.return=D,kt=U;else e:for(;kt!==null;){if(D=kt,(D.flags&2048)!==0)switch(D.tag){case 0:case 11:case 15:Qm(9,D,D.return)}var we=D.sibling;if(we!==null){we.return=D.return,kt=we;break e}kt=D.return}}var ve=o.current;for(kt=ve;kt!==null;){U=kt;var Te=U.child;if((U.subtreeFlags&2064)!==0&&Te!==null)Te.return=U,kt=Te;else e:for(U=ve;kt!==null;){if(ee=kt,(ee.flags&2048)!==0)try{switch(ee.tag){case 0:case 11:case 15:Mp(9,ee)}}catch(Mt){$a(ee,ee.return,Mt)}if(ee===U){kt=null;break e}var nt=ee.sibling;if(nt!==null){nt.return=ee.return,kt=nt;break e}kt=ee.return}}if(Fs=T,Fo(),mn&&typeof mn.onPostCommitFiberRoot=="function")try{mn.onPostCommitFiberRoot(Ul,o)}catch{}j=!0}return j}finally{Se=p,ki.transition=d}}return!1}function Vk(o,d,p){d=Zd(p,d),d=ik(o,d,1),o=Io(o,d,1),d=xn(),o!==null&&(wc(o,1,d),On(o,d))}function $a(o,d,p){if(o.tag===3)Vk(o,o,p);else for(;d!==null;){if(d.tag===3){Vk(d,o,p);break}else if(d.tag===1){var j=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof j.componentDidCatch=="function"&&(Lo===null||!Lo.has(j))){o=Zd(p,o),o=lk(d,o,1),d=Io(d,o,1),o=xn(),d!==null&&(wc(d,1,o),On(d,o));break}}d=d.return}}function jL(o,d,p){var j=o.pingCache;j!==null&&j.delete(d),d=xn(),o.pingedLanes|=o.suspendedLanes&p,Tr===o&&(Ir&p)===p&&(vr===4||vr===3&&(Ir&130023424)===Ir&&500>hs()-Sy?Mc(o,0):Cy|=p),On(o,d)}function Uk(o,d){d===0&&((o.mode&1)===0?d=1:(d=Fn,Fn<<=1,(Fn&130023424)===0&&(Fn=4194304)));var p=xn();o=Ql(o,d),o!==null&&(wc(o,d,p),On(o,p))}function bL(o){var d=o.memoizedState,p=0;d!==null&&(p=d.retryLane),Uk(o,p)}function NL(o,d){var p=0;switch(o.tag){case 13:var j=o.stateNode,T=o.memoizedState;T!==null&&(p=T.retryLane);break;case 19:j=o.stateNode;break;default:throw Error(a(314))}j!==null&&j.delete(d),Uk(o,p)}var qk;qk=function(o,d,p){if(o!==null)if(o.memoizedProps!==d.pendingProps||Mn.current)Rn=!0;else{if((o.lanes&p)===0&&(d.flags&128)===0)return Rn=!1,cL(o,d,p);Rn=(o.flags&131072)!==0}else Rn=!1,ka&&(d.flags&1048576)!==0&&w4(d,gp,d.index);switch(d.lanes=0,d.tag){case 2:var j=d.type;Dp(o,d),o=d.pendingProps;var T=qd(d,Gr.current);Qd(d,p),T=ay(null,d,j,o,T,p);var D=ry();return d.flags|=1,typeof T=="object"&&T!==null&&typeof T.render=="function"&&T.$$typeof===void 0?(d.tag=1,d.memoizedState=null,d.updateQueue=null,In(j)?(D=!0,xp(d)):D=!1,d.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,Qv(d),T.updater=Pp,d.stateNode=T,T._reactInternals=d,dy(d,j,o,p),d=xy(null,d,j,!0,D,p)):(d.tag=0,ka&&D&&Bv(d),hn(null,d,T,p),d=d.child),d;case 16:j=d.elementType;e:{switch(Dp(o,d),o=d.pendingProps,T=j._init,j=T(j._payload),d.type=j,T=d.tag=kL(j),o=Bi(j,o),T){case 0:d=hy(null,d,j,o,p);break e;case 1:d=fk(null,d,j,o,p);break e;case 11:d=uk(null,d,j,o,p);break e;case 14:d=mk(null,d,j,Bi(j.type,o),p);break e}throw Error(a(306,j,""))}return d;case 0:return j=d.type,T=d.pendingProps,T=d.elementType===j?T:Bi(j,T),hy(o,d,j,T,p);case 1:return j=d.type,T=d.pendingProps,T=d.elementType===j?T:Bi(j,T),fk(o,d,j,T,p);case 3:e:{if(gk(d),o===null)throw Error(a(387));j=d.pendingProps,D=d.memoizedState,T=D.element,D4(o,d),wp(d,j,null,p);var U=d.memoizedState;if(j=U.element,D.isDehydrated)if(D={element:j,isDehydrated:!1,cache:U.cache,pendingSuspenseBoundaries:U.pendingSuspenseBoundaries,transitions:U.transitions},d.updateQueue.baseState=D,d.memoizedState=D,d.flags&256){T=Zd(Error(a(423)),d),d=vk(o,d,j,p,T);break e}else if(j!==T){T=Zd(Error(a(424)),d),d=vk(o,d,j,p,T);break e}else for(Zn=Po(d.stateNode.containerInfo.firstChild),Xn=d,ka=!0,$i=null,p=P4(d,null,j,p),d.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(Gd(),j===T){d=Zl(o,d,p);break e}hn(o,d,j,p)}d=d.child}return d;case 5:return I4(d),o===null&&Uv(d),j=d.type,T=d.pendingProps,D=o!==null?o.memoizedProps:null,U=T.children,Mv(j,T)?U=null:D!==null&&Mv(j,D)&&(d.flags|=32),pk(o,d),hn(o,d,U,p),d.child;case 6:return o===null&&Uv(d),null;case 13:return yk(o,d,p);case 4:return Xv(d,d.stateNode.containerInfo),j=d.pendingProps,o===null?d.child=Kd(d,null,j,p):hn(o,d,j,p),d.child;case 11:return j=d.type,T=d.pendingProps,T=d.elementType===j?T:Bi(j,T),uk(o,d,j,T,p);case 7:return hn(o,d,d.pendingProps,p),d.child;case 8:return hn(o,d,d.pendingProps.children,p),d.child;case 12:return hn(o,d,d.pendingProps.children,p),d.child;case 10:e:{if(j=d.type._context,T=d.pendingProps,D=d.memoizedProps,U=T.value,ia(jp,j._currentValue),j._currentValue=U,D!==null)if(Oi(D.value,U)){if(D.children===T.children&&!Mn.current){d=Zl(o,d,p);break e}}else for(D=d.child,D!==null&&(D.return=d);D!==null;){var ee=D.dependencies;if(ee!==null){U=D.child;for(var ue=ee.firstContext;ue!==null;){if(ue.context===j){if(D.tag===1){ue=Xl(-1,p&-p),ue.tag=2;var De=D.updateQueue;if(De!==null){De=De.shared;var Ke=De.pending;Ke===null?ue.next=ue:(ue.next=Ke.next,Ke.next=ue),De.pending=ue}}D.lanes|=p,ue=D.alternate,ue!==null&&(ue.lanes|=p),Kv(D.return,p,d),ee.lanes|=p;break}ue=ue.next}}else if(D.tag===10)U=D.type===d.type?null:D.child;else if(D.tag===18){if(U=D.return,U===null)throw Error(a(341));U.lanes|=p,ee=U.alternate,ee!==null&&(ee.lanes|=p),Kv(U,p,d),U=D.sibling}else U=D.child;if(U!==null)U.return=D;else for(U=D;U!==null;){if(U===d){U=null;break}if(D=U.sibling,D!==null){D.return=U.return,U=D;break}U=U.return}D=U}hn(o,d,T.children,p),d=d.child}return d;case 9:return T=d.type,j=d.pendingProps.children,Qd(d,p),T=Ni(T),j=j(T),d.flags|=1,hn(o,d,j,p),d.child;case 14:return j=d.type,T=Bi(j,d.pendingProps),T=Bi(j.type,T),mk(o,d,j,T,p);case 15:return hk(o,d,d.type,d.pendingProps,p);case 17:return j=d.type,T=d.pendingProps,T=d.elementType===j?T:Bi(j,T),Dp(o,d),d.tag=1,In(j)?(o=!0,xp(d)):o=!1,Qd(d,p),rk(d,j,T),dy(d,j,T,p),xy(null,d,j,!0,o,p);case 19:return bk(o,d,p);case 22:return xk(o,d,p)}throw Error(a(156,d.tag))};function Hk(o,d){return le(o,d)}function wL(o,d,p,j){this.tag=o,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=j,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ci(o,d,p,j){return new wL(o,d,p,j)}function My(o){return o=o.prototype,!(!o||!o.isReactComponent)}function kL(o){if(typeof o=="function")return My(o)?1:0;if(o!=null){if(o=o.$$typeof,o===q)return 11;if(o===Ee)return 14}return 2}function zo(o,d){var p=o.alternate;return p===null?(p=Ci(o.tag,d,o.key,o.mode),p.elementType=o.elementType,p.type=o.type,p.stateNode=o.stateNode,p.alternate=o,o.alternate=p):(p.pendingProps=d,p.type=o.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=o.flags&14680064,p.childLanes=o.childLanes,p.lanes=o.lanes,p.child=o.child,p.memoizedProps=o.memoizedProps,p.memoizedState=o.memoizedState,p.updateQueue=o.updateQueue,d=o.dependencies,p.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},p.sibling=o.sibling,p.index=o.index,p.ref=o.ref,p}function Up(o,d,p,j,T,D){var U=2;if(j=o,typeof o=="function")My(o)&&(U=1);else if(typeof o=="string")U=5;else e:switch(o){case z:return Rc(p.children,T,D,d);case A:U=8,T|=8;break;case V:return o=Ci(12,p,d,T|2),o.elementType=V,o.lanes=D,o;case fe:return o=Ci(13,p,d,T),o.elementType=fe,o.lanes=D,o;case oe:return o=Ci(19,p,d,T),o.elementType=oe,o.lanes=D,o;case ie:return qp(p,T,D,d);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case H:U=10;break e;case I:U=9;break e;case q:U=11;break e;case Ee:U=14;break e;case me:U=16,j=null;break e}throw Error(a(130,o==null?o:typeof o,""))}return d=Ci(U,p,d,T),d.elementType=o,d.type=j,d.lanes=D,d}function Rc(o,d,p,j){return o=Ci(7,o,j,d),o.lanes=p,o}function qp(o,d,p,j){return o=Ci(22,o,j,d),o.elementType=ie,o.lanes=p,o.stateNode={isHidden:!1},o}function Iy(o,d,p){return o=Ci(6,o,null,d),o.lanes=p,o}function Ry(o,d,p){return d=Ci(4,o.children!==null?o.children:[],o.key,d),d.lanes=p,d.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},d}function CL(o,d,p,j,T){this.tag=d,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cm(0),this.expirationTimes=Cm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cm(0),this.identifierPrefix=j,this.onRecoverableError=T,this.mutableSourceEagerHydrationData=null}function Ly(o,d,p,j,T,D,U,ee,ue){return o=new CL(o,d,p,ee,ue),d===1?(d=1,D===!0&&(d|=8)):d=0,D=Ci(3,null,null,d),o.current=D,D.stateNode=o,D.memoizedState={element:j,isDehydrated:p,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qv(D),o}function SL(o,d,p){var j=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:R,key:j==null?null:""+j,children:o,containerInfo:d,implementation:p}}function Wk(o){if(!o)return Do;o=o._reactInternals;e:{if(vi(o)!==o||o.tag!==1)throw Error(a(170));var d=o;do{switch(d.tag){case 3:d=d.stateNode.context;break e;case 1:if(In(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break e}}d=d.return}while(d!==null);throw Error(a(171))}if(o.tag===1){var p=o.type;if(In(p))return j4(o,p,d)}return d}function Gk(o,d,p,j,T,D,U,ee,ue){return o=Ly(p,j,!0,o,T,D,U,ee,ue),o.context=Wk(null),p=o.current,j=xn(),T=$o(p),D=Xl(j,T),D.callback=d??null,Io(p,D,T),o.current.lanes=T,wc(o,T,j),On(o,j),o}function Hp(o,d,p,j){var T=d.current,D=xn(),U=$o(T);return p=Wk(p),d.context===null?d.context=p:d.pendingContext=p,d=Xl(D,U),d.payload={element:o},j=j===void 0?null:j,j!==null&&(d.callback=j),o=Io(T,d,U),o!==null&&(Ui(o,T,U,D),Np(o,T,U)),U}function Wp(o){return o=o.current,o.child?(o.child.tag===5,o.child.stateNode):null}function Kk(o,d){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var p=o.retryLane;o.retryLane=p!==0&&p<d?p:d}}function Oy(o,d){Kk(o,d),(o=o.alternate)&&Kk(o,d)}function TL(){return null}var Yk=typeof reportError=="function"?reportError:function(o){console.error(o)};function $y(o){this._internalRoot=o}Gp.prototype.render=$y.prototype.render=function(o){var d=this._internalRoot;if(d===null)throw Error(a(409));Hp(o,d,null,null)},Gp.prototype.unmount=$y.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var d=o.containerInfo;Fc(function(){Hp(null,o,null,null)}),d[Wl]=null}};function Gp(o){this._internalRoot=o}Gp.prototype.unstable_scheduleHydration=function(o){if(o){var d=Ya();o={blockedOn:null,target:o,priority:d};for(var p=0;p<yl.length&&d!==0&&d<yl[p].priority;p++);yl.splice(p,0,o),p===0&&I2(o)}};function By(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function Kp(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function Qk(){}function _L(o,d,p,j,T){if(T){if(typeof j=="function"){var D=j;j=function(){var De=Wp(U);D.call(De)}}var U=Gk(d,j,o,0,null,!1,!1,"",Qk);return o._reactRootContainer=U,o[Wl]=U.current,Lm(o.nodeType===8?o.parentNode:o),Fc(),U}for(;T=o.lastChild;)o.removeChild(T);if(typeof j=="function"){var ee=j;j=function(){var De=Wp(ue);ee.call(De)}}var ue=Ly(o,0,!1,null,null,!1,!1,"",Qk);return o._reactRootContainer=ue,o[Wl]=ue.current,Lm(o.nodeType===8?o.parentNode:o),Fc(function(){Hp(d,ue,p,j)}),ue}function Yp(o,d,p,j,T){var D=p._reactRootContainer;if(D){var U=D;if(typeof T=="function"){var ee=T;T=function(){var ue=Wp(U);ee.call(ue)}}Hp(d,U,o,T)}else U=_L(p,d,o,T,j);return Wp(U)}is=function(o){switch(o.tag){case 3:var d=o.stateNode;if(d.current.memoizedState.isDehydrated){var p=So(d.pendingLanes);p!==0&&(Oe(d,p|1),On(d,hs()),(Fs&6)===0&&(tu=hs()+500,Fo()))}break;case 13:Fc(function(){var j=Ql(o,1);if(j!==null){var T=xn();Ui(j,o,1,T)}}),Oy(o,1)}},ys=function(o){if(o.tag===13){var d=Ql(o,134217728);if(d!==null){var p=xn();Ui(d,o,134217728,p)}Oy(o,134217728)}},Xs=function(o){if(o.tag===13){var d=$o(o),p=Ql(o,d);if(p!==null){var j=xn();Ui(p,o,d,j)}Oy(o,d)}},Ya=function(){return Se},yi=function(o,d){var p=Se;try{return Se=o,d()}finally{Se=p}},Zs=function(o,d,p){switch(d){case"input":if(Ys(o,p),d=p.name,p.type==="radio"&&d!=null){for(p=o;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll("input[name="+JSON.stringify(""+d)+'][type="radio"]'),d=0;d<p.length;d++){var j=p[d];if(j!==o&&j.form===o.form){var T=mp(j);if(!T)throw Error(a(90));Nt(j),Ys(j,T)}}}break;case"textarea":Qe(o,p);break;case"select":d=p.value,d!=null&&Z(o,!!p.multiple,d,!1)}},vs=Ay,Ka=Fc;var EL={usingClientEntryPoint:!1,Events:[Bm,Vd,mp,Hr,gi,Ay]},eh={findFiberByHostInstance:Cc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},PL={bundleType:eh.bundleType,version:eh.version,rendererPackageName:eh.rendererPackageName,rendererConfig:eh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:M.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=bc(o),o===null?null:o.stateNode},findFiberByHostInstance:eh.findFiberByHostInstance||TL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qp.isDisabled&&Qp.supportsFiber)try{Ul=Qp.inject(PL),mn=Qp}catch{}}return $n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=EL,$n.createPortal=function(o,d){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!By(d))throw Error(a(200));return SL(o,d,null,p)},$n.createRoot=function(o,d){if(!By(o))throw Error(a(299));var p=!1,j="",T=Yk;return d!=null&&(d.unstable_strictMode===!0&&(p=!0),d.identifierPrefix!==void 0&&(j=d.identifierPrefix),d.onRecoverableError!==void 0&&(T=d.onRecoverableError)),d=Ly(o,1,!1,null,null,p,!1,j,T),o[Wl]=d.current,Lm(o.nodeType===8?o.parentNode:o),new $y(d)},$n.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var d=o._reactInternals;if(d===void 0)throw typeof o.render=="function"?Error(a(188)):(o=Object.keys(o).join(","),Error(a(268,o)));return o=bc(d),o=o===null?null:o.stateNode,o},$n.flushSync=function(o){return Fc(o)},$n.hydrate=function(o,d,p){if(!Kp(d))throw Error(a(200));return Yp(null,o,d,!0,p)},$n.hydrateRoot=function(o,d,p){if(!By(o))throw Error(a(405));var j=p!=null&&p.hydratedSources||null,T=!1,D="",U=Yk;if(p!=null&&(p.unstable_strictMode===!0&&(T=!0),p.identifierPrefix!==void 0&&(D=p.identifierPrefix),p.onRecoverableError!==void 0&&(U=p.onRecoverableError)),d=Gk(d,null,o,1,p??null,T,!1,D,U),o[Wl]=d.current,Lm(o),j)for(o=0;o<j.length;o++)p=j[o],T=p._getVersion,T=T(p._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[p,T]:d.mutableSourceEagerHydrationData.push(p,T);return new Gp(d)},$n.render=function(o,d,p){if(!Kp(d))throw Error(a(200));return Yp(null,o,d,!1,p)},$n.unmountComponentAtNode=function(o){if(!Kp(o))throw Error(a(40));return o._reactRootContainer?(Fc(function(){Yp(null,null,o,!1,function(){o._reactRootContainer=null,o[Wl]=null})}),!0):!1},$n.unstable_batchedUpdates=Ay,$n.unstable_renderSubtreeIntoContainer=function(o,d,p,j){if(!Kp(p))throw Error(a(200));if(o==null||o._reactInternals===void 0)throw Error(a(38));return Yp(o,d,p,!1,j)},$n.version="18.3.1-next-f1338f8080-20240426",$n}var rC;function ST(){if(rC)return Uy.exports;rC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(s){console.error(s)}}return t(),Uy.exports=OL(),Uy.exports}var nC;function $L(){if(nC)return Xp;nC=1;var t=ST();return Xp.createRoot=t.createRoot,Xp.hydrateRoot=t.hydrateRoot,Xp}var BL=$L();function zL(t,s){if(t instanceof RegExp)return{keys:!1,pattern:t};var a,r,n,i,l=[],c="",u=t.split("/");for(u[0]||u.shift();n=u.shift();)a=n[0],a==="*"?(l.push(a),c+=n[1]==="?"?"(?:/(.*))?":"/(.*)"):a===":"?(r=n.indexOf("?",1),i=n.indexOf(".",1),l.push(n.substring(1,~r?r:~i?i:n.length)),c+=~r&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(c+=(~r?"?":"")+"\\"+n.substring(i))):c+="/"+n;return{keys:l,pattern:new RegExp("^"+c+(s?"(?=$|/)":"/?$"),"i")}}var h=Xg();const st=ON(h),gx=DL({__proto__:null,default:st},[h]);var Wy={exports:{}},Gy={};var iC;function VL(){if(iC)return Gy;iC=1;var t=Xg();function s(f,g){return f===g&&(f!==0||1/f===1/g)||f!==f&&g!==g}var a=typeof Object.is=="function"?Object.is:s,r=t.useState,n=t.useEffect,i=t.useLayoutEffect,l=t.useDebugValue;function c(f,g){var b=g(),v=r({inst:{value:b,getSnapshot:g}}),y=v[0].inst,w=v[1];return i(function(){y.value=b,y.getSnapshot=g,u(y)&&w({inst:y})},[f,b,g]),n(function(){return u(y)&&w({inst:y}),f(function(){u(y)&&w({inst:y})})},[f]),l(b),b}function u(f){var g=f.getSnapshot;f=f.value;try{var b=g();return!a(f,b)}catch{return!0}}function m(f,g){return g()}var x=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:c;return Gy.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:x,Gy}var lC;function UL(){return lC||(lC=1,Wy.exports=VL()),Wy.exports}var TT=UL();const qL=gx.useInsertionEffect,HL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",_T=HL?h.useLayoutEffect:h.useEffect,WL=qL||_T,$N=t=>{const s=h.useRef([t,(...a)=>s[0](...a)]).current;return WL(()=>{s[0]=t}),s[1]},GL="popstate",BN="pushState",zN="replaceState",KL="hashchange",oC=[GL,BN,zN,KL],YL=t=>{for(const s of oC)addEventListener(s,t);return()=>{for(const s of oC)removeEventListener(s,t)}},ET=(t,s)=>TT.useSyncExternalStore(YL,t,s),cC=()=>location.search,QL=({ssrSearch:t}={})=>ET(cC,t!=null?()=>t:cC),dC=()=>location.pathname,XL=({ssrPath:t}={})=>ET(dC,t!=null?()=>t:dC),ZL=(t,{replace:s=!1,state:a=null}={})=>history[s?zN:BN](a,"",t),JL=(t={})=>[XL(t),ZL],uC=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[uC]>"u"){for(const t of[BN,zN]){const s=history[t];history[t]=function(){const a=s.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),a}}Object.defineProperty(window,uC,{value:!0})}const e7=(t,s)=>s.toLowerCase().indexOf(t.toLowerCase())?"~"+s:s.slice(t.length)||"/",PT=(t="")=>t==="/"?"":t,t7=(t,s)=>t[0]==="~"?t.slice(1):PT(s)+t,s7=(t="",s)=>e7(gb(PT(t)),gb(s)),a7=t=>t[0]==="?"?t.slice(1):t,gb=t=>{try{return decodeURI(t)}catch{return t}},r7=t=>gb(a7(t)),AT={hook:JL,searchHook:QL,parser:zL,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:t=>t,aroundNav:(t,s,a)=>t(s,a)},DT=h.createContext(AT),dc=()=>h.useContext(DT),FT={},MT=h.createContext(FT),vx=()=>h.useContext(MT),yx=t=>{const[s,a]=t.hook(t);return[s7(t.base,s),$N((r,n)=>t.aroundNav(a,t7(r,t.base),n))]},La=()=>yx(dc()),IT=()=>{const t=dc();return r7(t.searchHook(t))},VN=(t,s,a,r)=>{const{pattern:n,keys:i}=s instanceof RegExp?{keys:!1,pattern:s}:t(s||"*",r),l=n.exec(a)||[],[c,...u]=l;return c!==void 0?[!0,(()=>{const m=i!==!1?Object.fromEntries(i.map((f,g)=>[f,u[g]])):l.groups;let x={...u};return m&&Object.assign(x,m),x})(),...r?[c]:[]]:[!1,null]},Xf=t=>VN(dc().parser,t,La()[0]),n7=({children:t,...s})=>{const a=dc(),r=s.hook?AT:a;let n=r;const[i,l=s.ssrSearch??""]=s.ssrPath?.split("?")??[];i&&(s.ssrSearch=l,s.ssrPath=i),s.hrefs=s.hrefs??s.hook?.hrefs,s.searchHook=s.searchHook??s.hook?.searchHook;let c=h.useRef({}),u=c.current,m=u;for(let x in r){const f=x==="base"?r[x]+(s[x]??""):s[x]??r[x];u===m&&f!==m[x]&&(c.current=m={...m}),m[x]=f,(f!==r[x]||f!==n[x])&&(n=m)}return h.createElement(DT.Provider,{value:n,children:t})},mC=({children:t,component:s},a)=>s?h.createElement(s,{params:a}):typeof t=="function"?t(a):t,i7=t=>{let s=h.useRef(FT);const a=s.current;return s.current=Object.keys(t).length!==Object.keys(a).length||Object.entries(t).some(([r,n])=>n!==a[r])?t:a},$e=({path:t,nest:s,match:a,...r})=>{const n=dc(),[i]=yx(n),[l,c,u]=a??VN(n.parser,t,i,s),m=i7({...vx(),...c});if(!l)return null;const x=u?h.createElement(n7,{base:u},mC(r,m)):mC(r,m);return h.createElement(MT.Provider,{value:m,children:x})},Ce=h.forwardRef((t,s)=>{const a=dc(),[r,n]=yx(a),{to:i="",href:l=i,onClick:c,asChild:u,children:m,className:x,replace:f,state:g,transition:b,...v}=t,y=$N(k=>{k.ctrlKey||k.metaKey||k.altKey||k.shiftKey||k.button!==0||(c?.(k),k.defaultPrevented||(k.preventDefault(),n(l,t)))}),w=a.hrefs(l[0]==="~"?l.slice(1):a.base+l,a);return u&&h.isValidElement(m)?h.cloneElement(m,{onClick:y,href:w}):h.createElement("a",{...v,onClick:y,href:w,className:x?.call?x(r===l):x,children:m,ref:s})}),RT=t=>Array.isArray(t)?t.flatMap(s=>RT(s&&s.type===h.Fragment?s.props.children:s)):[t],l7=({children:t,location:s})=>{const a=dc(),[r]=yx(a);for(const n of RT(t)){let i=0;if(h.isValidElement(n)&&(i=VN(a.parser,n.props.path,s||r,n.props.nest))[0])return h.cloneElement(n,{match:i})}return null},Lc=t=>{const{to:s,href:a=s}=t,r=dc(),[,n]=yx(r),i=$N(()=>n(s||a,t)),{ssrContext:l}=r;return _T(()=>{i()},[]),l&&(l.redirectTo=s),null};var im=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},o7={setTimeout:(t,s)=>setTimeout(t,s),clearTimeout:t=>clearTimeout(t),setInterval:(t,s)=>setInterval(t,s),clearInterval:t=>clearInterval(t)},c7=class{#e=o7;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,s){return this.#e.setTimeout(t,s)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,s){return this.#e.setInterval(t,s)}clearInterval(t){this.#e.clearInterval(t)}},qc=new c7;function d7(t){setTimeout(t,0)}var rd=typeof window>"u"||"Deno"in globalThis;function gn(){}function u7(t,s){return typeof t=="function"?t(s):t}function vb(t){return typeof t=="number"&&t>=0&&t!==1/0}function LT(t,s){return Math.max(t+(s||0)-Date.now(),0)}function Qo(t,s){return typeof t=="function"?t(s):t}function _i(t,s){return typeof t=="function"?t(s):t}function hC(t,s){const{type:a="all",exact:r,fetchStatus:n,predicate:i,queryKey:l,stale:c}=t;if(l){if(r){if(s.queryHash!==UN(l,s.options))return!1}else if(!Ih(s.queryKey,l))return!1}if(a!=="all"){const u=s.isActive();if(a==="active"&&!u||a==="inactive"&&u)return!1}return!(typeof c=="boolean"&&s.isStale()!==c||n&&n!==s.state.fetchStatus||i&&!i(s))}function xC(t,s){const{exact:a,status:r,predicate:n,mutationKey:i}=t;if(i){if(!s.options.mutationKey)return!1;if(a){if(nd(s.options.mutationKey)!==nd(i))return!1}else if(!Ih(s.options.mutationKey,i))return!1}return!(r&&s.state.status!==r||n&&!n(s))}function UN(t,s){return(s?.queryKeyHashFn||nd)(t)}function nd(t){return JSON.stringify(t,(s,a)=>yb(a)?Object.keys(a).sort().reduce((r,n)=>(r[n]=a[n],r),{}):a)}function Ih(t,s){return t===s?!0:typeof t!=typeof s?!1:t&&s&&typeof t=="object"&&typeof s=="object"?Object.keys(s).every(a=>Ih(t[a],s[a])):!1}var m7=Object.prototype.hasOwnProperty;function OT(t,s,a=0){if(t===s)return t;if(a>500)return s;const r=pC(t)&&pC(s);if(!r&&!(yb(t)&&yb(s)))return s;const i=(r?t:Object.keys(t)).length,l=r?s:Object.keys(s),c=l.length,u=r?new Array(c):{};let m=0;for(let x=0;x<c;x++){const f=r?x:l[x],g=t[f],b=s[f];if(g===b){u[f]=g,(r?x<i:m7.call(t,f))&&m++;continue}if(g===null||b===null||typeof g!="object"||typeof b!="object"){u[f]=b;continue}const v=OT(g,b,a+1);u[f]=v,v===g&&m++}return i===c&&m===i?t:u}function Zf(t,s){if(!s||Object.keys(t).length!==Object.keys(s).length)return!1;for(const a in t)if(t[a]!==s[a])return!1;return!0}function pC(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function yb(t){if(!fC(t))return!1;const s=t.constructor;if(s===void 0)return!0;const a=s.prototype;return!(!fC(a)||!a.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function fC(t){return Object.prototype.toString.call(t)==="[object Object]"}function h7(t){return new Promise(s=>{qc.setTimeout(s,t)})}function jb(t,s,a){return typeof a.structuralSharing=="function"?a.structuralSharing(t,s):a.structuralSharing!==!1?OT(t,s):s}function x7(t,s,a=0){const r=[...t,s];return a&&r.length>a?r.slice(1):r}function p7(t,s,a=0){const r=[s,...t];return a&&r.length>a?r.slice(0,-1):r}var qN=Symbol();function $T(t,s){return!t.queryFn&&s?.initialPromise?()=>s.initialPromise:!t.queryFn||t.queryFn===qN?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function HN(t,s){return typeof t=="function"?t(...s):!!t}function f7(t,s,a){let r=!1,n;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(n??=s(),r||(r=!0,n.aborted?a():n.addEventListener("abort",a,{once:!0})),n)}),t}var g7=class extends im{#e;#t;#s;constructor(){super(),this.#s=t=>{if(!rd&&window.addEventListener){const s=()=>t();return window.addEventListener("visibilitychange",s,!1),()=>{window.removeEventListener("visibilitychange",s)}}}}onSubscribe(){this.#t||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#s=t,this.#t?.(),this.#t=t(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(s=>{s(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},WN=new g7;function bb(){let t,s;const a=new Promise((n,i)=>{t=n,s=i});a.status="pending",a.catch(()=>{});function r(n){Object.assign(a,n),delete a.resolve,delete a.reject}return a.resolve=n=>{r({status:"fulfilled",value:n}),t(n)},a.reject=n=>{r({status:"rejected",reason:n}),s(n)},a}var v7=d7;function y7(){let t=[],s=0,a=c=>{c()},r=c=>{c()},n=v7;const i=c=>{s?t.push(c):n(()=>{a(c)})},l=()=>{const c=t;t=[],c.length&&n(()=>{r(()=>{c.forEach(u=>{a(u)})})})};return{batch:c=>{let u;s++;try{u=c()}finally{s--,s||l()}return u},batchCalls:c=>(...u)=>{i(()=>{c(...u)})},schedule:i,setNotifyFunction:c=>{a=c},setBatchNotifyFunction:c=>{r=c},setScheduler:c=>{n=c}}}var yr=y7(),j7=class extends im{#e=!0;#t;#s;constructor(){super(),this.#s=t=>{if(!rd&&window.addEventListener){const s=()=>t(!0),a=()=>t(!1);return window.addEventListener("online",s,!1),window.addEventListener("offline",a,!1),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",a)}}}}onSubscribe(){this.#t||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#s=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(a=>{a(t)}))}isOnline(){return this.#e}},Jf=new j7;function b7(t){return Math.min(1e3*2**t,3e4)}function BT(t){return(t??"online")==="online"?Jf.isOnline():!0}var Nb=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function zT(t){let s=!1,a=0,r;const n=bb(),i=()=>n.status!=="pending",l=y=>{if(!i()){const w=new Nb(y);g(w),t.onCancel?.(w)}},c=()=>{s=!0},u=()=>{s=!1},m=()=>WN.isFocused()&&(t.networkMode==="always"||Jf.isOnline())&&t.canRun(),x=()=>BT(t.networkMode)&&t.canRun(),f=y=>{i()||(r?.(),n.resolve(y))},g=y=>{i()||(r?.(),n.reject(y))},b=()=>new Promise(y=>{r=w=>{(i()||m())&&y(w)},t.onPause?.()}).then(()=>{r=void 0,i()||t.onContinue?.()}),v=()=>{if(i())return;let y;const w=a===0?t.initialPromise:void 0;try{y=w??t.fn()}catch(k){y=Promise.reject(k)}Promise.resolve(y).then(f).catch(k=>{if(i())return;const C=t.retry??(rd?0:3),_=t.retryDelay??b7,M=typeof _=="function"?_(a,k):_,E=C===!0||typeof C=="number"&&a<C||typeof C=="function"&&C(a,k);if(s||!E){g(k);return}a++,t.onFail?.(a,k),h7(M).then(()=>m()?void 0:b()).then(()=>{s?g(k):v()})})};return{promise:n,status:()=>n.status,cancel:l,continue:()=>(r?.(),n),cancelRetry:c,continueRetry:u,canStart:x,start:()=>(x()?v():b().then(v),n)}}var VT=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),vb(this.gcTime)&&(this.#e=qc.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(rd?1/0:300*1e3))}clearGcTimeout(){this.#e&&(qc.clearTimeout(this.#e),this.#e=void 0)}},N7=class extends VT{#e;#t;#s;#r;#a;#i;#l;constructor(t){super(),this.#l=!1,this.#i=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#r=t.client,this.#s=this.#r.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=vC(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#a?.promise}setOptions(t){if(this.options={...this.#i,...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const s=vC(this.options);s.data!==void 0&&(this.setState(gC(s.data,s.dataUpdatedAt)),this.#e=s)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#s.remove(this)}setData(t,s){const a=jb(this.state.data,t,this.options);return this.#n({data:a,type:"success",dataUpdatedAt:s?.updatedAt,manual:s?.manual}),a}setState(t,s){this.#n({type:"setState",state:t,setStateOptions:s})}cancel(t){const s=this.#a?.promise;return this.#a?.cancel(t),s?s.then(gn).catch(gn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>_i(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===qN||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Qo(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!LT(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(s=>s.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#a?.continue()}onOnline(){this.observers.find(s=>s.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#a?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#s.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(s=>s!==t),this.observers.length||(this.#a&&(this.#l?this.#a.cancel({revert:!0}):this.#a.cancelRetry()),this.scheduleGc()),this.#s.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#n({type:"invalidate"})}async fetch(t,s){if(this.state.fetchStatus!=="idle"&&this.#a?.status()!=="rejected"){if(this.state.data!==void 0&&s?.cancelRefetch)this.cancel({silent:!0});else if(this.#a)return this.#a.continueRetry(),this.#a.promise}if(t&&this.setOptions(t),!this.options.queryFn){const c=this.observers.find(u=>u.options.queryFn);c&&this.setOptions(c.options)}const a=new AbortController,r=c=>{Object.defineProperty(c,"signal",{enumerable:!0,get:()=>(this.#l=!0,a.signal)})},n=()=>{const c=$T(this.options,s),m=(()=>{const x={client:this.#r,queryKey:this.queryKey,meta:this.meta};return r(x),x})();return this.#l=!1,this.options.persister?this.options.persister(c,m,this):c(m)},l=(()=>{const c={fetchOptions:s,options:this.options,queryKey:this.queryKey,client:this.#r,state:this.state,fetchFn:n};return r(c),c})();this.options.behavior?.onFetch(l,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==l.fetchOptions?.meta)&&this.#n({type:"fetch",meta:l.fetchOptions?.meta}),this.#a=zT({initialPromise:s?.initialPromise,fn:l.fetchFn,onCancel:c=>{c instanceof Nb&&c.revert&&this.setState({...this.#t,fetchStatus:"idle"}),a.abort()},onFail:(c,u)=>{this.#n({type:"failed",failureCount:c,error:u})},onPause:()=>{this.#n({type:"pause"})},onContinue:()=>{this.#n({type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0});try{const c=await this.#a.start();if(c===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(c),this.#s.config.onSuccess?.(c,this),this.#s.config.onSettled?.(c,this.state.error,this),c}catch(c){if(c instanceof Nb){if(c.silent)return this.#a.promise;if(c.revert){if(this.state.data===void 0)throw c;return this.state.data}}throw this.#n({type:"error",error:c}),this.#s.config.onError?.(c,this),this.#s.config.onSettled?.(this.state.data,c,this),c}finally{this.scheduleGc()}}#n(t){const s=a=>{switch(t.type){case"failed":return{...a,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...a,fetchStatus:"paused"};case"continue":return{...a,fetchStatus:"fetching"};case"fetch":return{...a,...UT(a.data,this.options),fetchMeta:t.meta??null};case"success":const r={...a,...gC(t.data,t.dataUpdatedAt),dataUpdateCount:a.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=t.manual?r:void 0,r;case"error":const n=t.error;return{...a,error:n,errorUpdateCount:a.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:a.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...a,isInvalidated:!0};case"setState":return{...a,...t.state}}};this.state=s(this.state),yr.batch(()=>{this.observers.forEach(a=>{a.onQueryUpdate()}),this.#s.notify({query:this,type:"updated",action:t})})}};function UT(t,s){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:BT(s.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function gC(t,s){return{data:t,dataUpdatedAt:s??Date.now(),error:null,isInvalidated:!1,status:"success"}}function vC(t){const s=typeof t.initialData=="function"?t.initialData():t.initialData,a=s!==void 0,r=a?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:s,dataUpdateCount:0,dataUpdatedAt:a?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:a?"success":"pending",fetchStatus:"idle"}}var w7=class extends im{constructor(t,s){super(),this.options=s,this.#e=t,this.#n=null,this.#l=bb(),this.bindMethods(),this.setOptions(s)}#e;#t=void 0;#s=void 0;#r=void 0;#a;#i;#l;#n;#p;#m;#h;#c;#d;#o;#x=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),yC(this.#t,this.options)?this.#u():this.updateResult(),this.#y())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return wb(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return wb(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#j(),this.#b(),this.#t.removeObserver(this)}setOptions(t){const s=this.options,a=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof _i(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#N(),this.#t.setOptions(this.options),s._defaulted&&!Zf(this.options,s)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const r=this.hasListeners();r&&jC(this.#t,a,this.options,s)&&this.#u(),this.updateResult(),r&&(this.#t!==a||_i(this.options.enabled,this.#t)!==_i(s.enabled,this.#t)||Qo(this.options.staleTime,this.#t)!==Qo(s.staleTime,this.#t))&&this.#f();const n=this.#g();r&&(this.#t!==a||_i(this.options.enabled,this.#t)!==_i(s.enabled,this.#t)||n!==this.#o)&&this.#v(n)}getOptimisticResult(t){const s=this.#e.getQueryCache().build(this.#e,t),a=this.createResult(s,t);return C7(this,a)&&(this.#r=a,this.#i=this.options,this.#a=this.#t.state),a}getCurrentResult(){return this.#r}trackResult(t,s){return new Proxy(t,{get:(a,r)=>(this.trackProp(r),s?.(r),r==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#l.status==="pending"&&this.#l.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(a,r))})}trackProp(t){this.#x.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const s=this.#e.defaultQueryOptions(t),a=this.#e.getQueryCache().build(this.#e,s);return a.fetch().then(()=>this.createResult(a,s))}fetch(t){return this.#u({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#u(t){this.#N();let s=this.#t.fetch(this.options,t);return t?.throwOnError||(s=s.catch(gn)),s}#f(){this.#j();const t=Qo(this.options.staleTime,this.#t);if(rd||this.#r.isStale||!vb(t))return;const a=LT(this.#r.dataUpdatedAt,t)+1;this.#c=qc.setTimeout(()=>{this.#r.isStale||this.updateResult()},a)}#g(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(t){this.#b(),this.#o=t,!(rd||_i(this.options.enabled,this.#t)===!1||!vb(this.#o)||this.#o===0)&&(this.#d=qc.setInterval(()=>{(this.options.refetchIntervalInBackground||WN.isFocused())&&this.#u()},this.#o))}#y(){this.#f(),this.#v(this.#g())}#j(){this.#c&&(qc.clearTimeout(this.#c),this.#c=void 0)}#b(){this.#d&&(qc.clearInterval(this.#d),this.#d=void 0)}createResult(t,s){const a=this.#t,r=this.options,n=this.#r,i=this.#a,l=this.#i,u=t!==a?t.state:this.#s,{state:m}=t;let x={...m},f=!1,g;if(s._optimisticResults){const A=this.hasListeners(),V=!A&&yC(t,s),H=A&&jC(t,a,s,r);(V||H)&&(x={...x,...UT(m.data,t.options)}),s._optimisticResults==="isRestoring"&&(x.fetchStatus="idle")}let{error:b,errorUpdatedAt:v,status:y}=x;g=x.data;let w=!1;if(s.placeholderData!==void 0&&g===void 0&&y==="pending"){let A;n?.isPlaceholderData&&s.placeholderData===l?.placeholderData?(A=n.data,w=!0):A=typeof s.placeholderData=="function"?s.placeholderData(this.#h?.state.data,this.#h):s.placeholderData,A!==void 0&&(y="success",g=jb(n?.data,A,s),f=!0)}if(s.select&&g!==void 0&&!w)if(n&&g===i?.data&&s.select===this.#p)g=this.#m;else try{this.#p=s.select,g=s.select(g),g=jb(n?.data,g,s),this.#m=g,this.#n=null}catch(A){this.#n=A}this.#n&&(b=this.#n,g=this.#m,v=Date.now(),y="error");const k=x.fetchStatus==="fetching",C=y==="pending",_=y==="error",M=C&&k,E=g!==void 0,z={status:y,fetchStatus:x.fetchStatus,isPending:C,isSuccess:y==="success",isError:_,isInitialLoading:M,isLoading:M,data:g,dataUpdatedAt:x.dataUpdatedAt,error:b,errorUpdatedAt:v,failureCount:x.fetchFailureCount,failureReason:x.fetchFailureReason,errorUpdateCount:x.errorUpdateCount,isFetched:x.dataUpdateCount>0||x.errorUpdateCount>0,isFetchedAfterMount:x.dataUpdateCount>u.dataUpdateCount||x.errorUpdateCount>u.errorUpdateCount,isFetching:k,isRefetching:k&&!C,isLoadingError:_&&!E,isPaused:x.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:_&&E,isStale:GN(t,s),refetch:this.refetch,promise:this.#l,isEnabled:_i(s.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const A=z.data!==void 0,V=z.status==="error"&&!A,H=fe=>{V?fe.reject(z.error):A&&fe.resolve(z.data)},I=()=>{const fe=this.#l=z.promise=bb();H(fe)},q=this.#l;switch(q.status){case"pending":t.queryHash===a.queryHash&&H(q);break;case"fulfilled":(V||z.data!==q.value)&&I();break;case"rejected":(!V||z.error!==q.reason)&&I();break}}return z}updateResult(){const t=this.#r,s=this.createResult(this.#t,this.options);if(this.#a=this.#t.state,this.#i=this.options,this.#a.data!==void 0&&(this.#h=this.#t),Zf(s,t))return;this.#r=s;const a=()=>{if(!t)return!0;const{notifyOnChangeProps:r}=this.options,n=typeof r=="function"?r():r;if(n==="all"||!n&&!this.#x.size)return!0;const i=new Set(n??this.#x);return this.options.throwOnError&&i.add("error"),Object.keys(this.#r).some(l=>{const c=l;return this.#r[c]!==t[c]&&i.has(c)})};this.#w({listeners:a()})}#N(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const s=this.#t;this.#t=t,this.#s=t.state,this.hasListeners()&&(s?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#y()}#w(t){yr.batch(()=>{t.listeners&&this.listeners.forEach(s=>{s(this.#r)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function k7(t,s){return _i(s.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&s.retryOnMount===!1)}function yC(t,s){return k7(t,s)||t.state.data!==void 0&&wb(t,s,s.refetchOnMount)}function wb(t,s,a){if(_i(s.enabled,t)!==!1&&Qo(s.staleTime,t)!=="static"){const r=typeof a=="function"?a(t):a;return r==="always"||r!==!1&&GN(t,s)}return!1}function jC(t,s,a,r){return(t!==s||_i(r.enabled,t)===!1)&&(!a.suspense||t.state.status!=="error")&&GN(t,a)}function GN(t,s){return _i(s.enabled,t)!==!1&&t.isStaleByTime(Qo(s.staleTime,t))}function C7(t,s){return!Zf(t.getCurrentResult(),s)}function bC(t){return{onFetch:(s,a)=>{const r=s.options,n=s.fetchOptions?.meta?.fetchMore?.direction,i=s.state.data?.pages||[],l=s.state.data?.pageParams||[];let c={pages:[],pageParams:[]},u=0;const m=async()=>{let x=!1;const f=v=>{f7(v,()=>s.signal,()=>x=!0)},g=$T(s.options,s.fetchOptions),b=async(v,y,w)=>{if(x)return Promise.reject();if(y==null&&v.pages.length)return Promise.resolve(v);const C=(()=>{const R={client:s.client,queryKey:s.queryKey,pageParam:y,direction:w?"backward":"forward",meta:s.options.meta};return f(R),R})(),_=await g(C),{maxPages:M}=s.options,E=w?p7:x7;return{pages:E(v.pages,_,M),pageParams:E(v.pageParams,y,M)}};if(n&&i.length){const v=n==="backward",y=v?S7:NC,w={pages:i,pageParams:l},k=y(r,w);c=await b(w,k,v)}else{const v=t??i.length;do{const y=u===0?l[0]??r.initialPageParam:NC(r,c);if(u>0&&y==null)break;c=await b(c,y),u++}while(u<v)}return c};s.options.persister?s.fetchFn=()=>s.options.persister?.(m,{client:s.client,queryKey:s.queryKey,meta:s.options.meta,signal:s.signal},a):s.fetchFn=m}}}function NC(t,{pages:s,pageParams:a}){const r=s.length-1;return s.length>0?t.getNextPageParam(s[r],s,a[r],a):void 0}function S7(t,{pages:s,pageParams:a}){return s.length>0?t.getPreviousPageParam?.(s[0],s,a[0],a):void 0}var T7=class extends VT{#e;#t;#s;#r;constructor(t){super(),this.#e=t.client,this.mutationId=t.mutationId,this.#s=t.mutationCache,this.#t=[],this.state=t.state||qT(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#s.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(s=>s!==t),this.scheduleGc(),this.#s.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#s.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(t){const s=()=>{this.#a({type:"continue"})},a={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#r=zT({fn:()=>this.options.mutationFn?this.options.mutationFn(t,a):Promise.reject(new Error("No mutationFn found")),onFail:(i,l)=>{this.#a({type:"failed",failureCount:i,error:l})},onPause:()=>{this.#a({type:"pause"})},onContinue:s,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#s.canRun(this)});const r=this.state.status==="pending",n=!this.#r.canStart();try{if(r)s();else{this.#a({type:"pending",variables:t,isPaused:n}),this.#s.config.onMutate&&await this.#s.config.onMutate(t,this,a);const l=await this.options.onMutate?.(t,a);l!==this.state.context&&this.#a({type:"pending",context:l,variables:t,isPaused:n})}const i=await this.#r.start();return await this.#s.config.onSuccess?.(i,t,this.state.context,this,a),await this.options.onSuccess?.(i,t,this.state.context,a),await this.#s.config.onSettled?.(i,null,this.state.variables,this.state.context,this,a),await this.options.onSettled?.(i,null,t,this.state.context,a),this.#a({type:"success",data:i}),i}catch(i){try{await this.#s.config.onError?.(i,t,this.state.context,this,a)}catch(l){Promise.reject(l)}try{await this.options.onError?.(i,t,this.state.context,a)}catch(l){Promise.reject(l)}try{await this.#s.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this,a)}catch(l){Promise.reject(l)}try{await this.options.onSettled?.(void 0,i,t,this.state.context,a)}catch(l){Promise.reject(l)}throw this.#a({type:"error",error:i}),i}finally{this.#s.runNext(this)}}#a(t){const s=a=>{switch(t.type){case"failed":return{...a,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...a,isPaused:!0};case"continue":return{...a,isPaused:!1};case"pending":return{...a,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...a,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...a,data:void 0,error:t.error,failureCount:a.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=s(this.state),yr.batch(()=>{this.#t.forEach(a=>{a.onMutationUpdate(t)}),this.#s.notify({mutation:this,type:"updated",action:t})})}};function qT(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var _7=class extends im{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#s=0}#e;#t;#s;build(t,s,a){const r=new T7({client:t,mutationCache:this,mutationId:++this.#s,options:t.defaultMutationOptions(s),state:a});return this.add(r),r}add(t){this.#e.add(t);const s=Zp(t);if(typeof s=="string"){const a=this.#t.get(s);a?a.push(t):this.#t.set(s,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const s=Zp(t);if(typeof s=="string"){const a=this.#t.get(s);if(a)if(a.length>1){const r=a.indexOf(t);r!==-1&&a.splice(r,1)}else a[0]===t&&this.#t.delete(s)}}this.notify({type:"removed",mutation:t})}canRun(t){const s=Zp(t);if(typeof s=="string"){const r=this.#t.get(s)?.find(n=>n.state.status==="pending");return!r||r===t}else return!0}runNext(t){const s=Zp(t);return typeof s=="string"?this.#t.get(s)?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){yr.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const s={exact:!0,...t};return this.getAll().find(a=>xC(s,a))}findAll(t={}){return this.getAll().filter(s=>xC(t,s))}notify(t){yr.batch(()=>{this.listeners.forEach(s=>{s(t)})})}resumePausedMutations(){const t=this.getAll().filter(s=>s.state.isPaused);return yr.batch(()=>Promise.all(t.map(s=>s.continue().catch(gn))))}};function Zp(t){return t.options.scope?.id}var E7=class extends im{#e;#t=void 0;#s;#r;constructor(s,a){super(),this.#e=s,this.setOptions(a),this.bindMethods(),this.#a()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(s){const a=this.options;this.options=this.#e.defaultMutationOptions(s),Zf(this.options,a)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#s,observer:this}),a?.mutationKey&&this.options.mutationKey&&nd(a.mutationKey)!==nd(this.options.mutationKey)?this.reset():this.#s?.state.status==="pending"&&this.#s.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#s?.removeObserver(this)}onMutationUpdate(s){this.#a(),this.#i(s)}getCurrentResult(){return this.#t}reset(){this.#s?.removeObserver(this),this.#s=void 0,this.#a(),this.#i()}mutate(s,a){return this.#r=a,this.#s?.removeObserver(this),this.#s=this.#e.getMutationCache().build(this.#e,this.options),this.#s.addObserver(this),this.#s.execute(s)}#a(){const s=this.#s?.state??qT();this.#t={...s,isPending:s.status==="pending",isSuccess:s.status==="success",isError:s.status==="error",isIdle:s.status==="idle",mutate:this.mutate,reset:this.reset}}#i(s){yr.batch(()=>{if(this.#r&&this.hasListeners()){const a=this.#t.variables,r=this.#t.context,n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};if(s?.type==="success"){try{this.#r.onSuccess?.(s.data,a,r,n)}catch(i){Promise.reject(i)}try{this.#r.onSettled?.(s.data,null,a,r,n)}catch(i){Promise.reject(i)}}else if(s?.type==="error"){try{this.#r.onError?.(s.error,a,r,n)}catch(i){Promise.reject(i)}try{this.#r.onSettled?.(void 0,s.error,a,r,n)}catch(i){Promise.reject(i)}}}this.listeners.forEach(a=>{a(this.#t)})})}},P7=class extends im{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,s,a){const r=s.queryKey,n=s.queryHash??UN(r,s);let i=this.get(n);return i||(i=new N7({client:t,queryKey:r,queryHash:n,options:t.defaultQueryOptions(s),state:a,defaultOptions:t.getQueryDefaults(r)}),this.add(i)),i}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const s=this.#e.get(t.queryHash);s&&(t.destroy(),s===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){yr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const s={exact:!0,...t};return this.getAll().find(a=>hC(s,a))}findAll(t={}){const s=this.getAll();return Object.keys(t).length>0?s.filter(a=>hC(t,a)):s}notify(t){yr.batch(()=>{this.listeners.forEach(s=>{s(t)})})}onFocus(){yr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){yr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},A7=class{#e;#t;#s;#r;#a;#i;#l;#n;constructor(t={}){this.#e=t.queryCache||new P7,this.#t=t.mutationCache||new _7,this.#s=t.defaultOptions||{},this.#r=new Map,this.#a=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#l=WN.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#n=Jf.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#l?.(),this.#l=void 0,this.#n?.(),this.#n=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const s=this.defaultQueryOptions({queryKey:t});return this.#e.get(s.queryHash)?.state.data}ensureQueryData(t){const s=this.defaultQueryOptions(t),a=this.#e.build(this,s),r=a.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&a.isStaleByTime(Qo(s.staleTime,a))&&this.prefetchQuery(s),Promise.resolve(r))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:s,state:a})=>{const r=a.data;return[s,r]})}setQueryData(t,s,a){const r=this.defaultQueryOptions({queryKey:t}),i=this.#e.get(r.queryHash)?.state.data,l=u7(s,i);if(l!==void 0)return this.#e.build(this,r).setData(l,{...a,manual:!0})}setQueriesData(t,s,a){return yr.batch(()=>this.#e.findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,s,a)]))}getQueryState(t){const s=this.defaultQueryOptions({queryKey:t});return this.#e.get(s.queryHash)?.state}removeQueries(t){const s=this.#e;yr.batch(()=>{s.findAll(t).forEach(a=>{s.remove(a)})})}resetQueries(t,s){const a=this.#e;return yr.batch(()=>(a.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},s)))}cancelQueries(t,s={}){const a={revert:!0,...s},r=yr.batch(()=>this.#e.findAll(t).map(n=>n.cancel(a)));return Promise.all(r).then(gn).catch(gn)}invalidateQueries(t,s={}){return yr.batch(()=>(this.#e.findAll(t).forEach(a=>{a.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},s)))}refetchQueries(t,s={}){const a={...s,cancelRefetch:s.cancelRefetch??!0},r=yr.batch(()=>this.#e.findAll(t).filter(n=>!n.isDisabled()&&!n.isStatic()).map(n=>{let i=n.fetch(void 0,a);return a.throwOnError||(i=i.catch(gn)),n.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(gn)}fetchQuery(t){const s=this.defaultQueryOptions(t);s.retry===void 0&&(s.retry=!1);const a=this.#e.build(this,s);return a.isStaleByTime(Qo(s.staleTime,a))?a.fetch(s):Promise.resolve(a.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(gn).catch(gn)}fetchInfiniteQuery(t){return t.behavior=bC(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(gn).catch(gn)}ensureInfiniteQueryData(t){return t.behavior=bC(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Jf.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#s}setDefaultOptions(t){this.#s=t}setQueryDefaults(t,s){this.#r.set(nd(t),{queryKey:t,defaultOptions:s})}getQueryDefaults(t){const s=[...this.#r.values()],a={};return s.forEach(r=>{Ih(t,r.queryKey)&&Object.assign(a,r.defaultOptions)}),a}setMutationDefaults(t,s){this.#a.set(nd(t),{mutationKey:t,defaultOptions:s})}getMutationDefaults(t){const s=[...this.#a.values()],a={};return s.forEach(r=>{Ih(t,r.mutationKey)&&Object.assign(a,r.defaultOptions)}),a}defaultQueryOptions(t){if(t._defaulted)return t;const s={...this.#s.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return s.queryHash||(s.queryHash=UN(s.queryKey,s)),s.refetchOnReconnect===void 0&&(s.refetchOnReconnect=s.networkMode!=="always"),s.throwOnError===void 0&&(s.throwOnError=!!s.suspense),!s.networkMode&&s.persister&&(s.networkMode="offlineFirst"),s.queryFn===qN&&(s.enabled=!1),s}defaultMutationOptions(t){return t?._defaulted?t:{...this.#s.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},HT=h.createContext(void 0),bo=t=>{const s=h.useContext(HT);if(!s)throw new Error("No QueryClient set, use QueryClientProvider to set one");return s},D7=({client:t,children:s})=>(h.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),e.jsx(HT.Provider,{value:t,children:s})),WT=h.createContext(!1),F7=()=>h.useContext(WT);WT.Provider;function M7(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var I7=h.createContext(M7()),R7=()=>h.useContext(I7),L7=(t,s,a)=>{const r=a?.state.error&&typeof t.throwOnError=="function"?HN(t.throwOnError,[a.state.error,a]):t.throwOnError;(t.suspense||t.experimental_prefetchInRender||r)&&(s.isReset()||(t.retryOnMount=!1))},O7=t=>{h.useEffect(()=>{t.clearReset()},[t])},$7=({result:t,errorResetBoundary:s,throwOnError:a,query:r,suspense:n})=>t.isError&&!s.isReset()&&!t.isFetching&&r&&(n&&t.data===void 0||HN(a,[t.error,r])),B7=t=>{if(t.suspense){const a=n=>n==="static"?n:Math.max(n??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...n)=>a(r(...n)):a(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},z7=(t,s)=>t.isLoading&&t.isFetching&&!s,V7=(t,s)=>t?.suspense&&s.isPending,wC=(t,s,a)=>s.fetchOptimistic(t).catch(()=>{a.clearReset()});function U7(t,s,a){const r=F7(),n=R7(),i=bo(),l=i.defaultQueryOptions(t);i.getDefaultOptions().queries?._experimental_beforeQuery?.(l);const c=i.getQueryCache().get(l.queryHash);l._optimisticResults=r?"isRestoring":"optimistic",B7(l),L7(l,n,c),O7(n);const u=!i.getQueryCache().get(l.queryHash),[m]=h.useState(()=>new s(i,l)),x=m.getOptimisticResult(l),f=!r&&t.subscribed!==!1;if(h.useSyncExternalStore(h.useCallback(g=>{const b=f?m.subscribe(yr.batchCalls(g)):gn;return m.updateResult(),b},[m,f]),()=>m.getCurrentResult(),()=>m.getCurrentResult()),h.useEffect(()=>{m.setOptions(l)},[l,m]),V7(l,x))throw wC(l,m,n);if($7({result:x,errorResetBoundary:n,throwOnError:l.throwOnError,query:c,suspense:l.suspense}))throw x.error;return i.getDefaultOptions().queries?._experimental_afterQuery?.(l,x),l.experimental_prefetchInRender&&!rd&&z7(x,r)&&(u?wC(l,m,n):c?.promise)?.catch(gn).finally(()=>{m.updateResult()}),l.notifyOnChangeProps?x:m.trackResult(x)}function Le(t,s){return U7(t,w7)}function Ot(t,s){const a=bo(),[r]=h.useState(()=>new E7(a,t));h.useEffect(()=>{r.setOptions(t)},[r,t]);const n=h.useSyncExternalStore(h.useCallback(l=>r.subscribe(yr.batchCalls(l)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=h.useCallback((l,c)=>{r.mutate(l,c).catch(gn)},[r]);if(n.error&&HN(r.options.throwOnError,[n.error]))throw n.error;return{...n,mutate:i,mutateAsync:n.mutate}}async function GT(t){if(!t.ok){const s=await t.text()||t.statusText;throw new Error(`${t.status}: ${s}`)}}async function Ft(t,s,a){const r=await fetch(s,{method:t,headers:a?{"Content-Type":"application/json"}:{},body:a?JSON.stringify(a):void 0,credentials:"include"});return await GT(r),r}function q7(t){if(t.length===0)throw new Error("Query key must not be empty");const s=t[0];if(typeof s!="string")throw new Error("First element of query key must be a string path");if(t.length===1)return s;const a=t[1];if(typeof a=="object"&&a!==null&&!Array.isArray(a)){const r=new URLSearchParams;for(const[i,l]of Object.entries(a))l!=null&&l!==""&&r.append(i,String(l));const n=r.toString();return n?`${s}?${n}`:s}return t.filter(r=>r!=null).join("/")}const H7=({on401:t})=>async({queryKey:s})=>{const a=q7(s),r=await fetch(a,{credentials:"include"});return await GT(r),await r.json()},_t=new A7({defaultOptions:{queries:{queryFn:H7({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),W7=1,G7=1e6;let Ky=0;function K7(){return Ky=(Ky+1)%Number.MAX_SAFE_INTEGER,Ky.toString()}const Yy=new Map,kC=t=>{if(Yy.has(t))return;const s=setTimeout(()=>{Yy.delete(t),_h({type:"REMOVE_TOAST",toastId:t})},G7);Yy.set(t,s)},Y7=(t,s)=>{switch(s.type){case"ADD_TOAST":return{...t,toasts:[s.toast,...t.toasts].slice(0,W7)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(a=>a.id===s.toast.id?{...a,...s.toast}:a)};case"DISMISS_TOAST":{const{toastId:a}=s;return a?kC(a):t.toasts.forEach(r=>{kC(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===a||a===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return s.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(a=>a.id!==s.toastId)}}},Af=[];let Df={toasts:[]};function _h(t){Df=Y7(Df,t),Af.forEach(s=>{s(Df)})}function Q7({...t}){const s=K7(),a=n=>_h({type:"UPDATE_TOAST",toast:{...n,id:s}}),r=()=>_h({type:"DISMISS_TOAST",toastId:s});return _h({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:n=>{n||r()}}}),{id:s,dismiss:r,update:a}}function Bs(){const[t,s]=h.useState(Df);return h.useEffect(()=>(Af.push(s),()=>{const a=Af.indexOf(s);a>-1&&Af.splice(a,1)}),[t]),{...t,toast:Q7,dismiss:a=>_h({type:"DISMISS_TOAST",toastId:a})}}var xo=ST();const X7=ON(xo);function Ye(t,s,{checkForDefaultPrevented:a=!0}={}){return function(n){if(t?.(n),a===!1||!n.defaultPrevented)return s?.(n)}}function CC(t,s){if(typeof t=="function")return t(s);t!=null&&(t.current=s)}function kn(...t){return s=>{let a=!1;const r=t.map(n=>{const i=CC(n,s);return!a&&typeof i=="function"&&(a=!0),i});if(a)return()=>{for(let n=0;n<r.length;n++){const i=r[n];typeof i=="function"?i():CC(t[n],null)}}}}function zt(...t){return h.useCallback(kn(...t),t)}function Z7(t,s){const a=h.createContext(s),r=i=>{const{children:l,...c}=i,u=h.useMemo(()=>c,Object.values(c));return e.jsx(a.Provider,{value:u,children:l})};r.displayName=t+"Provider";function n(i){const l=h.useContext(a);if(l)return l;if(s!==void 0)return s;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,n]}function kr(t,s=[]){let a=[];function r(i,l){const c=h.createContext(l),u=a.length;a=[...a,l];const m=f=>{const{scope:g,children:b,...v}=f,y=g?.[t]?.[u]||c,w=h.useMemo(()=>v,Object.values(v));return e.jsx(y.Provider,{value:w,children:b})};m.displayName=i+"Provider";function x(f,g){const b=g?.[t]?.[u]||c,v=h.useContext(b);if(v)return v;if(l!==void 0)return l;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[m,x]}const n=()=>{const i=a.map(l=>h.createContext(l));return function(c){const u=c?.[t]||i;return h.useMemo(()=>({[`__scope${t}`]:{...c,[t]:u}}),[c,u])}};return n.scopeName=t,[r,J7(n,...s)]}function J7(...t){const s=t[0];if(t.length===1)return s;const a=()=>{const r=t.map(n=>({useScope:n(),scopeName:n.scopeName}));return function(i){const l=r.reduce((c,{useScope:u,scopeName:m})=>{const f=u(i)[`__scope${m}`];return{...c,...f}},{});return h.useMemo(()=>({[`__scope${s.scopeName}`]:l}),[l])}};return a.scopeName=s.scopeName,a}function SC(t){const s=eO(t),a=h.forwardRef((r,n)=>{const{children:i,...l}=r,c=h.Children.toArray(i),u=c.find(sO);if(u){const m=u.props.children,x=c.map(f=>f===u?h.Children.count(m)>1?h.Children.only(null):h.isValidElement(m)?m.props.children:null:f);return e.jsx(s,{...l,ref:n,children:h.isValidElement(m)?h.cloneElement(m,void 0,x):null})}return e.jsx(s,{...l,ref:n,children:i})});return a.displayName=`${t}.Slot`,a}function eO(t){const s=h.forwardRef((a,r)=>{const{children:n,...i}=a;if(h.isValidElement(n)){const l=rO(n),c=aO(i,n.props);return n.type!==h.Fragment&&(c.ref=r?kn(r,l):l),h.cloneElement(n,c)}return h.Children.count(n)>1?h.Children.only(null):null});return s.displayName=`${t}.SlotClone`,s}var tO=Symbol("radix.slottable");function sO(t){return h.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===tO}function aO(t,s){const a={...s};for(const r in s){const n=t[r],i=s[r];/^on[A-Z]/.test(r)?n&&i?a[r]=(...c)=>{const u=i(...c);return n(...c),u}:n&&(a[r]=n):r==="style"?a[r]={...n,...i}:r==="className"&&(a[r]=[n,i].filter(Boolean).join(" "))}return{...t,...a}}function rO(t){let s=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,a=s&&"isReactWarning"in s&&s.isReactWarning;return a?t.ref:(s=Object.getOwnPropertyDescriptor(t,"ref")?.get,a=s&&"isReactWarning"in s&&s.isReactWarning,a?t.props.ref:t.props.ref||t.ref)}function lm(t){const s=t+"CollectionProvider",[a,r]=kr(s),[n,i]=a(s,{collectionRef:{current:null},itemMap:new Map}),l=y=>{const{scope:w,children:k}=y,C=st.useRef(null),_=st.useRef(new Map).current;return e.jsx(n,{scope:w,itemMap:_,collectionRef:C,children:k})};l.displayName=s;const c=t+"CollectionSlot",u=SC(c),m=st.forwardRef((y,w)=>{const{scope:k,children:C}=y,_=i(c,k),M=zt(w,_.collectionRef);return e.jsx(u,{ref:M,children:C})});m.displayName=c;const x=t+"CollectionItemSlot",f="data-radix-collection-item",g=SC(x),b=st.forwardRef((y,w)=>{const{scope:k,children:C,..._}=y,M=st.useRef(null),E=zt(w,M),R=i(x,k);return st.useEffect(()=>(R.itemMap.set(M,{ref:M,..._}),()=>{R.itemMap.delete(M)})),e.jsx(g,{[f]:"",ref:E,children:C})});b.displayName=x;function v(y){const w=i(t+"CollectionConsumer",y);return st.useCallback(()=>{const C=w.collectionRef.current;if(!C)return[];const _=Array.from(C.querySelectorAll(`[${f}]`));return Array.from(w.itemMap.values()).sort((R,z)=>_.indexOf(R.ref.current)-_.indexOf(z.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:l,Slot:m,ItemSlot:b},v,r]}function nO(t){const s=iO(t),a=h.forwardRef((r,n)=>{const{children:i,...l}=r,c=h.Children.toArray(i),u=c.find(oO);if(u){const m=u.props.children,x=c.map(f=>f===u?h.Children.count(m)>1?h.Children.only(null):h.isValidElement(m)?m.props.children:null:f);return e.jsx(s,{...l,ref:n,children:h.isValidElement(m)?h.cloneElement(m,void 0,x):null})}return e.jsx(s,{...l,ref:n,children:i})});return a.displayName=`${t}.Slot`,a}function iO(t){const s=h.forwardRef((a,r)=>{const{children:n,...i}=a;if(h.isValidElement(n)){const l=dO(n),c=cO(i,n.props);return n.type!==h.Fragment&&(c.ref=r?kn(r,l):l),h.cloneElement(n,c)}return h.Children.count(n)>1?h.Children.only(null):null});return s.displayName=`${t}.SlotClone`,s}var lO=Symbol("radix.slottable");function oO(t){return h.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===lO}function cO(t,s){const a={...s};for(const r in s){const n=t[r],i=s[r];/^on[A-Z]/.test(r)?n&&i?a[r]=(...c)=>{const u=i(...c);return n(...c),u}:n&&(a[r]=n):r==="style"?a[r]={...n,...i}:r==="className"&&(a[r]=[n,i].filter(Boolean).join(" "))}return{...t,...a}}function dO(t){let s=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,a=s&&"isReactWarning"in s&&s.isReactWarning;return a?t.ref:(s=Object.getOwnPropertyDescriptor(t,"ref")?.get,a=s&&"isReactWarning"in s&&s.isReactWarning,a?t.props.ref:t.props.ref||t.ref)}var uO=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],lt=uO.reduce((t,s)=>{const a=nO(`Primitive.${s}`),r=h.forwardRef((n,i)=>{const{asChild:l,...c}=n,u=l?a:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(u,{...c,ref:i})});return r.displayName=`Primitive.${s}`,{...t,[s]:r}},{});function KN(t,s){t&&xo.flushSync(()=>t.dispatchEvent(s))}function Ua(t){const s=h.useRef(t);return h.useEffect(()=>{s.current=t}),h.useMemo(()=>(...a)=>s.current?.(...a),[])}function mO(t,s=globalThis?.document){const a=Ua(t);h.useEffect(()=>{const r=n=>{n.key==="Escape"&&a(n)};return s.addEventListener("keydown",r,{capture:!0}),()=>s.removeEventListener("keydown",r,{capture:!0})},[a,s])}var hO="DismissableLayer",kb="dismissableLayer.update",xO="dismissableLayer.pointerDownOutside",pO="dismissableLayer.focusOutside",TC,KT=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),kd=h.forwardRef((t,s)=>{const{disableOutsidePointerEvents:a=!1,onEscapeKeyDown:r,onPointerDownOutside:n,onFocusOutside:i,onInteractOutside:l,onDismiss:c,...u}=t,m=h.useContext(KT),[x,f]=h.useState(null),g=x?.ownerDocument??globalThis?.document,[,b]=h.useState({}),v=zt(s,z=>f(z)),y=Array.from(m.layers),[w]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),k=y.indexOf(w),C=x?y.indexOf(x):-1,_=m.layersWithOutsidePointerEventsDisabled.size>0,M=C>=k,E=gO(z=>{const A=z.target,V=[...m.branches].some(H=>H.contains(A));!M||V||(n?.(z),l?.(z),z.defaultPrevented||c?.())},g),R=vO(z=>{const A=z.target;[...m.branches].some(H=>H.contains(A))||(i?.(z),l?.(z),z.defaultPrevented||c?.())},g);return mO(z=>{C===m.layers.size-1&&(r?.(z),!z.defaultPrevented&&c&&(z.preventDefault(),c()))},g),h.useEffect(()=>{if(x)return a&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(TC=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(x)),m.layers.add(x),_C(),()=>{a&&m.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=TC)}},[x,g,a,m]),h.useEffect(()=>()=>{x&&(m.layers.delete(x),m.layersWithOutsidePointerEventsDisabled.delete(x),_C())},[x,m]),h.useEffect(()=>{const z=()=>b({});return document.addEventListener(kb,z),()=>document.removeEventListener(kb,z)},[]),e.jsx(lt.div,{...u,ref:v,style:{pointerEvents:_?M?"auto":"none":void 0,...t.style},onFocusCapture:Ye(t.onFocusCapture,R.onFocusCapture),onBlurCapture:Ye(t.onBlurCapture,R.onBlurCapture),onPointerDownCapture:Ye(t.onPointerDownCapture,E.onPointerDownCapture)})});kd.displayName=hO;var fO="DismissableLayerBranch",YT=h.forwardRef((t,s)=>{const a=h.useContext(KT),r=h.useRef(null),n=zt(s,r);return h.useEffect(()=>{const i=r.current;if(i)return a.branches.add(i),()=>{a.branches.delete(i)}},[a.branches]),e.jsx(lt.div,{...t,ref:n})});YT.displayName=fO;function gO(t,s=globalThis?.document){const a=Ua(t),r=h.useRef(!1),n=h.useRef(()=>{});return h.useEffect(()=>{const i=c=>{if(c.target&&!r.current){let u=function(){QT(xO,a,m,{discrete:!0})};const m={originalEvent:c};c.pointerType==="touch"?(s.removeEventListener("click",n.current),n.current=u,s.addEventListener("click",n.current,{once:!0})):u()}else s.removeEventListener("click",n.current);r.current=!1},l=window.setTimeout(()=>{s.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(l),s.removeEventListener("pointerdown",i),s.removeEventListener("click",n.current)}},[s,a]),{onPointerDownCapture:()=>r.current=!0}}function vO(t,s=globalThis?.document){const a=Ua(t),r=h.useRef(!1);return h.useEffect(()=>{const n=i=>{i.target&&!r.current&&QT(pO,a,{originalEvent:i},{discrete:!1})};return s.addEventListener("focusin",n),()=>s.removeEventListener("focusin",n)},[s,a]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function _C(){const t=new CustomEvent(kb);document.dispatchEvent(t)}function QT(t,s,a,{discrete:r}){const n=a.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:a});s&&n.addEventListener(t,s,{once:!0}),r?KN(n,i):n.dispatchEvent(i)}var yO=kd,jO=YT,Wa=globalThis?.document?h.useLayoutEffect:()=>{},bO="Portal",om=h.forwardRef((t,s)=>{const{container:a,...r}=t,[n,i]=h.useState(!1);Wa(()=>i(!0),[]);const l=a||n&&globalThis?.document?.body;return l?X7.createPortal(e.jsx(lt.div,{...r,ref:s}),l):null});om.displayName=bO;function NO(t,s){return h.useReducer((a,r)=>s[a][r]??a,t)}var xr=t=>{const{present:s,children:a}=t,r=wO(s),n=typeof a=="function"?a({present:r.isPresent}):h.Children.only(a),i=zt(r.ref,kO(n));return typeof a=="function"||r.isPresent?h.cloneElement(n,{ref:i}):null};xr.displayName="Presence";function wO(t){const[s,a]=h.useState(),r=h.useRef(null),n=h.useRef(t),i=h.useRef("none"),l=t?"mounted":"unmounted",[c,u]=NO(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const m=Jp(r.current);i.current=c==="mounted"?m:"none"},[c]),Wa(()=>{const m=r.current,x=n.current;if(x!==t){const g=i.current,b=Jp(m);t?u("MOUNT"):b==="none"||m?.display==="none"?u("UNMOUNT"):u(x&&g!==b?"ANIMATION_OUT":"UNMOUNT"),n.current=t}},[t,u]),Wa(()=>{if(s){let m;const x=s.ownerDocument.defaultView??window,f=b=>{const y=Jp(r.current).includes(CSS.escape(b.animationName));if(b.target===s&&y&&(u("ANIMATION_END"),!n.current)){const w=s.style.animationFillMode;s.style.animationFillMode="forwards",m=x.setTimeout(()=>{s.style.animationFillMode==="forwards"&&(s.style.animationFillMode=w)})}},g=b=>{b.target===s&&(i.current=Jp(r.current))};return s.addEventListener("animationstart",g),s.addEventListener("animationcancel",f),s.addEventListener("animationend",f),()=>{x.clearTimeout(m),s.removeEventListener("animationstart",g),s.removeEventListener("animationcancel",f),s.removeEventListener("animationend",f)}}else u("ANIMATION_END")},[s,u]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:h.useCallback(m=>{r.current=m?getComputedStyle(m):null,a(m)},[])}}function Jp(t){return t?.animationName||"none"}function kO(t){let s=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,a=s&&"isReactWarning"in s&&s.isReactWarning;return a?t.ref:(s=Object.getOwnPropertyDescriptor(t,"ref")?.get,a=s&&"isReactWarning"in s&&s.isReactWarning,a?t.props.ref:t.props.ref||t.ref)}var CO=gx[" useInsertionEffect ".trim().toString()]||Wa;function ln({prop:t,defaultProp:s,onChange:a=()=>{},caller:r}){const[n,i,l]=SO({defaultProp:s,onChange:a}),c=t!==void 0,u=c?t:n;{const x=h.useRef(t!==void 0);h.useEffect(()=>{const f=x.current;f!==c&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),x.current=c},[c,r])}const m=h.useCallback(x=>{if(c){const f=TO(x)?x(t):x;f!==t&&l.current?.(f)}else i(x)},[c,t,i,l]);return[u,m]}function SO({defaultProp:t,onChange:s}){const[a,r]=h.useState(t),n=h.useRef(a),i=h.useRef(s);return CO(()=>{i.current=s},[s]),h.useEffect(()=>{n.current!==a&&(i.current?.(a),n.current=a)},[a,n]),[a,r,i]}function TO(t){return typeof t=="function"}var XT=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),_O="VisuallyHidden",Zg=h.forwardRef((t,s)=>e.jsx(lt.span,{...t,ref:s,style:{...XT,...t.style}}));Zg.displayName=_O;var EO=Zg,YN="ToastProvider",[QN,PO,AO]=lm("Toast"),[ZT]=kr("Toast",[AO]),[DO,Jg]=ZT(YN),JT=t=>{const{__scopeToast:s,label:a="Notification",duration:r=5e3,swipeDirection:n="right",swipeThreshold:i=50,children:l}=t,[c,u]=h.useState(null),[m,x]=h.useState(0),f=h.useRef(!1),g=h.useRef(!1);return a.trim()||console.error(`Invalid prop \`label\` supplied to \`${YN}\`. Expected non-empty \`string\`.`),e.jsx(QN.Provider,{scope:s,children:e.jsx(DO,{scope:s,label:a,duration:r,swipeDirection:n,swipeThreshold:i,toastCount:m,viewport:c,onViewportChange:u,onToastAdd:h.useCallback(()=>x(b=>b+1),[]),onToastRemove:h.useCallback(()=>x(b=>b-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:g,children:l})})};JT.displayName=YN;var e_="ToastViewport",FO=["F8"],Cb="toast.viewportPause",Sb="toast.viewportResume",t_=h.forwardRef((t,s)=>{const{__scopeToast:a,hotkey:r=FO,label:n="Notifications ({hotkey})",...i}=t,l=Jg(e_,a),c=PO(a),u=h.useRef(null),m=h.useRef(null),x=h.useRef(null),f=h.useRef(null),g=zt(s,f,l.onViewportChange),b=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=l.toastCount>0;h.useEffect(()=>{const w=k=>{r.length!==0&&r.every(_=>k[_]||k.code===_)&&f.current?.focus()};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[r]),h.useEffect(()=>{const w=u.current,k=f.current;if(v&&w&&k){const C=()=>{if(!l.isClosePausedRef.current){const R=new CustomEvent(Cb);k.dispatchEvent(R),l.isClosePausedRef.current=!0}},_=()=>{if(l.isClosePausedRef.current){const R=new CustomEvent(Sb);k.dispatchEvent(R),l.isClosePausedRef.current=!1}},M=R=>{!w.contains(R.relatedTarget)&&_()},E=()=>{w.contains(document.activeElement)||_()};return w.addEventListener("focusin",C),w.addEventListener("focusout",M),w.addEventListener("pointermove",C),w.addEventListener("pointerleave",E),window.addEventListener("blur",C),window.addEventListener("focus",_),()=>{w.removeEventListener("focusin",C),w.removeEventListener("focusout",M),w.removeEventListener("pointermove",C),w.removeEventListener("pointerleave",E),window.removeEventListener("blur",C),window.removeEventListener("focus",_)}}},[v,l.isClosePausedRef]);const y=h.useCallback(({tabbingDirection:w})=>{const C=c().map(_=>{const M=_.ref.current,E=[M,...WO(M)];return w==="forwards"?E:E.reverse()});return(w==="forwards"?C.reverse():C).flat()},[c]);return h.useEffect(()=>{const w=f.current;if(w){const k=C=>{const _=C.altKey||C.ctrlKey||C.metaKey;if(C.key==="Tab"&&!_){const E=document.activeElement,R=C.shiftKey;if(C.target===w&&R){m.current?.focus();return}const V=y({tabbingDirection:R?"backwards":"forwards"}),H=V.findIndex(I=>I===E);Qy(V.slice(H+1))?C.preventDefault():R?m.current?.focus():x.current?.focus()}};return w.addEventListener("keydown",k),()=>w.removeEventListener("keydown",k)}},[c,y]),e.jsxs(jO,{ref:u,role:"region","aria-label":n.replace("{hotkey}",b),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&e.jsx(Tb,{ref:m,onFocusFromOutsideViewport:()=>{const w=y({tabbingDirection:"forwards"});Qy(w)}}),e.jsx(QN.Slot,{scope:a,children:e.jsx(lt.ol,{tabIndex:-1,...i,ref:g})}),v&&e.jsx(Tb,{ref:x,onFocusFromOutsideViewport:()=>{const w=y({tabbingDirection:"backwards"});Qy(w)}})]})});t_.displayName=e_;var s_="ToastFocusProxy",Tb=h.forwardRef((t,s)=>{const{__scopeToast:a,onFocusFromOutsideViewport:r,...n}=t,i=Jg(s_,a);return e.jsx(Zg,{tabIndex:0,...n,ref:s,style:{position:"fixed"},onFocus:l=>{const c=l.relatedTarget;!i.viewport?.contains(c)&&r()}})});Tb.displayName=s_;var jx="Toast",MO="toast.swipeStart",IO="toast.swipeMove",RO="toast.swipeCancel",LO="toast.swipeEnd",a_=h.forwardRef((t,s)=>{const{forceMount:a,open:r,defaultOpen:n,onOpenChange:i,...l}=t,[c,u]=ln({prop:r,defaultProp:n??!0,onChange:i,caller:jx});return e.jsx(xr,{present:a||c,children:e.jsx(BO,{open:c,...l,ref:s,onClose:()=>u(!1),onPause:Ua(t.onPause),onResume:Ua(t.onResume),onSwipeStart:Ye(t.onSwipeStart,m=>{m.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ye(t.onSwipeMove,m=>{const{x,y:f}=m.detail.delta;m.currentTarget.setAttribute("data-swipe","move"),m.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${x}px`),m.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Ye(t.onSwipeCancel,m=>{m.currentTarget.setAttribute("data-swipe","cancel"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),m.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ye(t.onSwipeEnd,m=>{const{x,y:f}=m.detail.delta;m.currentTarget.setAttribute("data-swipe","end"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),m.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${x}px`),m.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),u(!1)})})})});a_.displayName=jx;var[OO,$O]=ZT(jx,{onClose(){}}),BO=h.forwardRef((t,s)=>{const{__scopeToast:a,type:r="foreground",duration:n,open:i,onClose:l,onEscapeKeyDown:c,onPause:u,onResume:m,onSwipeStart:x,onSwipeMove:f,onSwipeCancel:g,onSwipeEnd:b,...v}=t,y=Jg(jx,a),[w,k]=h.useState(null),C=zt(s,oe=>k(oe)),_=h.useRef(null),M=h.useRef(null),E=n||y.duration,R=h.useRef(0),z=h.useRef(E),A=h.useRef(0),{onToastAdd:V,onToastRemove:H}=y,I=Ua(()=>{w?.contains(document.activeElement)&&y.viewport?.focus(),l()}),q=h.useCallback(oe=>{!oe||oe===1/0||(window.clearTimeout(A.current),R.current=new Date().getTime(),A.current=window.setTimeout(I,oe))},[I]);h.useEffect(()=>{const oe=y.viewport;if(oe){const Ee=()=>{q(z.current),m?.()},me=()=>{const ie=new Date().getTime()-R.current;z.current=z.current-ie,window.clearTimeout(A.current),u?.()};return oe.addEventListener(Cb,me),oe.addEventListener(Sb,Ee),()=>{oe.removeEventListener(Cb,me),oe.removeEventListener(Sb,Ee)}}},[y.viewport,E,u,m,q]),h.useEffect(()=>{i&&!y.isClosePausedRef.current&&q(E)},[i,E,y.isClosePausedRef,q]),h.useEffect(()=>(V(),()=>H()),[V,H]);const fe=h.useMemo(()=>w?d_(w):null,[w]);return y.viewport?e.jsxs(e.Fragment,{children:[fe&&e.jsx(zO,{__scopeToast:a,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:fe}),e.jsx(OO,{scope:a,onClose:I,children:xo.createPortal(e.jsx(QN.ItemSlot,{scope:a,children:e.jsx(yO,{asChild:!0,onEscapeKeyDown:Ye(c,()=>{y.isFocusedToastEscapeKeyDownRef.current||I(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:e.jsx(lt.li,{tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":y.swipeDirection,...v,ref:C,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Ye(t.onKeyDown,oe=>{oe.key==="Escape"&&(c?.(oe.nativeEvent),oe.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,I()))}),onPointerDown:Ye(t.onPointerDown,oe=>{oe.button===0&&(_.current={x:oe.clientX,y:oe.clientY})}),onPointerMove:Ye(t.onPointerMove,oe=>{if(!_.current)return;const Ee=oe.clientX-_.current.x,me=oe.clientY-_.current.y,ie=!!M.current,B=["left","right"].includes(y.swipeDirection),ae=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,ke=B?ae(0,Ee):0,$=B?0:ae(0,me),L=oe.pointerType==="touch"?10:2,W={x:ke,y:$},re={originalEvent:oe,delta:W};ie?(M.current=W,ef(IO,f,re,{discrete:!1})):EC(W,y.swipeDirection,L)?(M.current=W,ef(MO,x,re,{discrete:!1}),oe.target.setPointerCapture(oe.pointerId)):(Math.abs(Ee)>L||Math.abs(me)>L)&&(_.current=null)}),onPointerUp:Ye(t.onPointerUp,oe=>{const Ee=M.current,me=oe.target;if(me.hasPointerCapture(oe.pointerId)&&me.releasePointerCapture(oe.pointerId),M.current=null,_.current=null,Ee){const ie=oe.currentTarget,B={originalEvent:oe,delta:Ee};EC(Ee,y.swipeDirection,y.swipeThreshold)?ef(LO,b,B,{discrete:!0}):ef(RO,g,B,{discrete:!0}),ie.addEventListener("click",ae=>ae.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),zO=t=>{const{__scopeToast:s,children:a,...r}=t,n=Jg(jx,s),[i,l]=h.useState(!1),[c,u]=h.useState(!1);return qO(()=>l(!0)),h.useEffect(()=>{const m=window.setTimeout(()=>u(!0),1e3);return()=>window.clearTimeout(m)},[]),c?null:e.jsx(om,{asChild:!0,children:e.jsx(Zg,{...r,children:i&&e.jsxs(e.Fragment,{children:[n.label," ",a]})})})},VO="ToastTitle",r_=h.forwardRef((t,s)=>{const{__scopeToast:a,...r}=t;return e.jsx(lt.div,{...r,ref:s})});r_.displayName=VO;var UO="ToastDescription",n_=h.forwardRef((t,s)=>{const{__scopeToast:a,...r}=t;return e.jsx(lt.div,{...r,ref:s})});n_.displayName=UO;var i_="ToastAction",l_=h.forwardRef((t,s)=>{const{altText:a,...r}=t;return a.trim()?e.jsx(c_,{altText:a,asChild:!0,children:e.jsx(XN,{...r,ref:s})}):(console.error(`Invalid prop \`altText\` supplied to \`${i_}\`. Expected non-empty \`string\`.`),null)});l_.displayName=i_;var o_="ToastClose",XN=h.forwardRef((t,s)=>{const{__scopeToast:a,...r}=t,n=$O(o_,a);return e.jsx(c_,{asChild:!0,children:e.jsx(lt.button,{type:"button",...r,ref:s,onClick:Ye(t.onClick,n.onClose)})})});XN.displayName=o_;var c_=h.forwardRef((t,s)=>{const{__scopeToast:a,altText:r,...n}=t;return e.jsx(lt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...n,ref:s})});function d_(t){const s=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&s.push(r.textContent),HO(r)){const n=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!n)if(i){const l=r.dataset.radixToastAnnounceAlt;l&&s.push(l)}else s.push(...d_(r))}}),s}function ef(t,s,a,{discrete:r}){const n=a.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:a});s&&n.addEventListener(t,s,{once:!0}),r?KN(n,i):n.dispatchEvent(i)}var EC=(t,s,a=0)=>{const r=Math.abs(t.x),n=Math.abs(t.y),i=r>n;return s==="left"||s==="right"?i&&r>a:!i&&n>a};function qO(t=()=>{}){const s=Ua(t);Wa(()=>{let a=0,r=0;return a=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(s)),()=>{window.cancelAnimationFrame(a),window.cancelAnimationFrame(r)}},[s])}function HO(t){return t.nodeType===t.ELEMENT_NODE}function WO(t){const s=[],a=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const n=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||n?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;a.nextNode();)s.push(a.currentNode);return s}function Qy(t){const s=document.activeElement;return t.some(a=>a===s?!0:(a.focus(),document.activeElement!==s))}var GO=JT,u_=t_,m_=a_,h_=r_,x_=n_,p_=l_,f_=XN;function g_(t){var s,a,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var n=t.length;for(s=0;s<n;s++)t[s]&&(a=g_(t[s]))&&(r&&(r+=" "),r+=a)}else for(a in t)t[a]&&(r&&(r+=" "),r+=a);return r}function v_(){for(var t,s,a=0,r="",n=arguments.length;a<n;a++)(t=arguments[a])&&(s=g_(t))&&(r&&(r+=" "),r+=s);return r}const PC=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,AC=v_,cm=(t,s)=>a=>{var r;if(s?.variants==null)return AC(t,a?.class,a?.className);const{variants:n,defaultVariants:i}=s,l=Object.keys(n).map(m=>{const x=a?.[m],f=i?.[m];if(x===null)return null;const g=PC(x)||PC(f);return n[m][g]}),c=a&&Object.entries(a).reduce((m,x)=>{let[f,g]=x;return g===void 0||(m[f]=g),m},{}),u=s==null||(r=s.compoundVariants)===null||r===void 0?void 0:r.reduce((m,x)=>{let{class:f,className:g,...b}=x;return Object.entries(b).every(v=>{let[y,w]=v;return Array.isArray(w)?w.includes({...i,...c}[y]):{...i,...c}[y]===w})?[...m,f,g]:m},[]);return AC(t,l,u,a?.class,a?.className)};const KO=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),y_=(...t)=>t.filter((s,a,r)=>!!s&&r.indexOf(s)===a).join(" ");var YO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const QO=h.forwardRef(({color:t="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:r,className:n="",children:i,iconNode:l,...c},u)=>h.createElement("svg",{ref:u,...YO,width:s,height:s,stroke:t,strokeWidth:r?Number(a)*24/Number(s):a,className:y_("lucide",n),...c},[...l.map(([m,x])=>h.createElement(m,x)),...Array.isArray(i)?i:[i]]));const pe=(t,s)=>{const a=h.forwardRef(({className:r,...n},i)=>h.createElement(QO,{ref:i,iconNode:s,className:y_(`lucide-${KO(t)}`,r),...n}));return a.displayName=`${t}`,a};const XO=pe("Accessibility",[["circle",{cx:"16",cy:"4",r:"1",key:"1grugj"}],["path",{d:"m18 19 1-7-6 1",key:"r0i19z"}],["path",{d:"m5 8 3-3 5.5 3-2.36 3.5",key:"9ptxx2"}],["path",{d:"M4.24 14.5a5 5 0 0 0 6.88 6",key:"10kmtu"}],["path",{d:"M13.76 17.5a5 5 0 0 0-6.88-6",key:"2qq6rc"}]]);const Ai=pe("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);const ZO=pe("Armchair",[["path",{d:"M19 9V6a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v3",key:"irtipd"}],["path",{d:"M3 16a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-5a2 2 0 0 0-4 0v1.5a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5V11a2 2 0 0 0-4 0z",key:"1qyhux"}],["path",{d:"M5 18v2",key:"ppbyun"}],["path",{d:"M19 18v2",key:"gy7782"}]]);const JO=pe("ArrowDownLeft",[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]]);const ZN=pe("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);const la=pe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const Kt=pe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);const Ei=pe("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);const jr=pe("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);const uc=pe("Baby",[["path",{d:"M9 12h.01",key:"157uk2"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M19 6.3a9 9 0 0 1 1.8 3.9 2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"5yv0yz"}]]);const e$=pe("BadgeCheck",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const t$=pe("BedDouble",[["path",{d:"M2 20v-8a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v8",key:"1k78r4"}],["path",{d:"M4 10V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v4",key:"fb3tl2"}],["path",{d:"M12 4v6",key:"1dcgq2"}],["path",{d:"M2 18h20",key:"ajqnye"}]]);const j_=pe("Bed",[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]]);const mi=pe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);const uo=pe("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);const s$=pe("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);const b_=pe("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);const os=pe("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);const eg=pe("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);const Ta=pe("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);const va=pe("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);const Cd=pe("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);const Jr=pe("Bus",[["path",{d:"M8 6v6",key:"18i7km"}],["path",{d:"M15 6v6",key:"1sg6z9"}],["path",{d:"M2 12h19.6",key:"de5uta"}],["path",{d:"M18 18h3s.5-1.7.8-2.8c.1-.4.2-.8.2-1.2 0-.4-.1-.8-.2-1.2l-1.4-5C20.1 6.8 19.1 6 18 6H4a2 2 0 0 0-2 2v10h3",key:"1wwztk"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M9 18h5",key:"lrx6i"}],["circle",{cx:"16",cy:"18",r:"2",key:"1v4tcr"}]]);const $u=pe("Cake",[["path",{d:"M20 21v-8a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v8",key:"1w3rig"}],["path",{d:"M4 16s.5-1 2-1 2.5 2 4 2 2.5-2 4-2 2.5 2 4 2 2-1 2-1",key:"n2jgmb"}],["path",{d:"M2 21h20",key:"1nyx9w"}],["path",{d:"M7 8v3",key:"1qtyvj"}],["path",{d:"M12 8v3",key:"hwp4zt"}],["path",{d:"M17 8v3",key:"1i6e5u"}],["path",{d:"M7 4h.01",key:"1bh4kh"}],["path",{d:"M12 4h.01",key:"1ujb9j"}],["path",{d:"M17 4h.01",key:"1upcoc"}]]);const JN=pe("CalendarCheck",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]]);const tg=pe("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);const a$=pe("CalendarHeart",[["path",{d:"M3 10h18V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h7",key:"136lmk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21.29 14.7a2.43 2.43 0 0 0-2.65-.52c-.3.12-.57.3-.8.53l-.34.34-.35-.34a2.43 2.43 0 0 0-2.65-.53c-.3.12-.56.3-.79.53-.95.94-1 2.53.2 3.74L17.5 22l3.6-3.55c1.2-1.21 1.14-2.8.19-3.74Z",key:"1t7hil"}]]);const r$=pe("CalendarRange",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M17 14h-6",key:"bkmgh3"}],["path",{d:"M13 18H7",key:"bb0bb7"}],["path",{d:"M7 14h.01",key:"1qa3f1"}],["path",{d:"M17 18h.01",key:"1bdyru"}]]);const n$=pe("CalendarX",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m14 14-4 4",key:"rymu2i"}],["path",{d:"m10 14 4 4",key:"3sz06r"}]]);const Ge=pe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);const Rs=pe("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);const zs=pe("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);const hi=pe("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);const e0=pe("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);const rs=pe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const N_=pe("ChefHat",[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]]);const qs=pe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const hr=pe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);const $s=pe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const nl=pe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);const ns=pe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const Rt=pe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const Fa=pe("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const i$=pe("CircleDot",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]]);const xi=pe("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const DC=pe("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);const po=pe("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);const w_=pe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);const Sd=pe("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);const Je=pe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const ew=pe("CloudRain",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]]);const t0=pe("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);const oo=pe("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);const FC=pe("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);const dr=pe("Compass",[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);const sg=pe("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);const Ff=pe("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);const Sa=pe("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);const tw=pe("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);const id=pe("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);const k_=pe("Diamond",[["path",{d:"M2.7 10.3a2.41 2.41 0 0 0 0 3.41l7.59 7.59a2.41 2.41 0 0 0 3.41 0l7.59-7.59a2.41 2.41 0 0 0 0-3.41l-7.59-7.59a2.41 2.41 0 0 0-3.41 0Z",key:"1f1r0c"}]]);const sw=pe("Dog",[["path",{d:"M11.25 16.25h1.5L12 17z",key:"w7jh35"}],["path",{d:"M16 14v.5",key:"1lajdz"}],["path",{d:"M4.42 11.247A13.152 13.152 0 0 0 4 14.556C4 18.728 7.582 21 12 21s8-2.272 8-6.444a11.702 11.702 0 0 0-.493-3.309",key:"u7s9ue"}],["path",{d:"M8 14v.5",key:"1nzgdb"}],["path",{d:"M8.5 8.5c-.384 1.05-1.083 2.028-2.344 2.5-1.931.722-3.576-.297-3.656-1-.113-.994 1.177-6.53 4-7 1.923-.321 3.651.845 3.651 2.235A7.497 7.497 0 0 1 14 5.277c0-1.39 1.844-2.598 3.767-2.277 2.823.47 4.113 6.006 4 7-.08.703-1.725 1.722-3.656 1-1.261-.472-1.855-1.45-2.239-2.5",key:"v8hric"}]]);const bt=pe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);const l$=pe("DoorClosed",[["path",{d:"M18 20V6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14",key:"36qu9e"}],["path",{d:"M2 20h20",key:"owomy5"}],["path",{d:"M14 12v.01",key:"xfcn54"}]]);const Un=pe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);const MC=pe("Dumbbell",[["path",{d:"M14.4 14.4 9.6 9.6",key:"ic80wn"}],["path",{d:"M18.657 21.485a2 2 0 1 1-2.829-2.828l-1.767 1.768a2 2 0 1 1-2.829-2.829l6.364-6.364a2 2 0 1 1 2.829 2.829l-1.768 1.767a2 2 0 1 1 2.828 2.829z",key:"nnl7wr"}],["path",{d:"m21.5 21.5-1.4-1.4",key:"1f1ice"}],["path",{d:"M3.9 3.9 2.5 2.5",key:"1evmna"}],["path",{d:"M6.404 12.768a2 2 0 1 1-2.829-2.829l1.768-1.767a2 2 0 1 1-2.828-2.829l2.828-2.828a2 2 0 1 1 2.829 2.828l1.767-1.768a2 2 0 1 1 2.829 2.829z",key:"yhosts"}]]);const Bu=pe("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);const er=pe("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);const C_=pe("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);const Er=pe("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const o$=pe("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);const oa=pe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);const Di=pe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);const c$=pe("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);const IC=pe("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);const aw=pe("Flower2",[["path",{d:"M12 5a3 3 0 1 1 3 3m-3-3a3 3 0 1 0-3 3m3-3v1M9 8a3 3 0 1 0 3 3M9 8h1m5 0a3 3 0 1 1-3 3m3-3h-1m-2 3v-1",key:"3pnvol"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["path",{d:"M12 10v12",key:"6ubwww"}],["path",{d:"M12 22c4.2 0 7-1.667 7-5-4.2 0-7 1.667-7 5Z",key:"9hd38g"}],["path",{d:"M12 22c-4.2 0-7-1.667-7-5 4.2 0 7 1.667 7 5Z",key:"ufn41s"}]]);const d$=pe("FolderKanban",[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M12 10v2",key:"hh53o1"}],["path",{d:"M16 10v6",key:"1d6xys"}]]);const Xy=pe("Footprints",[["path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z",key:"1dudjm"}],["path",{d:"M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z",key:"l2t8xc"}],["path",{d:"M16 17h4",key:"1dejxt"}],["path",{d:"M4 13h4",key:"1bwh8b"}]]);const u$=pe("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);const cr=pe("Gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]]);const on=pe("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);const S_=pe("GitCompare",[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M13 6h3a2 2 0 0 1 2 2v7",key:"1yeb86"}],["path",{d:"M11 18H8a2 2 0 0 1-2-2V9",key:"19pyzm"}]]);const Nr=pe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);const s0=pe("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);const T_=pe("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);const __=pe("HandHeart",[["path",{d:"M11 14h2a2 2 0 1 0 0-4h-3c-.6 0-1.1.2-1.4.6L3 16",key:"1ifwr1"}],["path",{d:"m7 20 1.6-1.4c.3-.4.8-.6 1.4-.6h4c1.1 0 2.1-.4 2.8-1.2l4.6-4.4a2 2 0 0 0-2.75-2.91l-4.2 3.9",key:"17abbs"}],["path",{d:"m2 15 6 6",key:"10dquu"}],["path",{d:"M19.5 8.5c.7-.7 1.5-1.6 1.5-2.7A2.73 2.73 0 0 0 16 4a2.78 2.78 0 0 0-5 1.8c0 1.2.8 2 1.5 2.8L16 12Z",key:"1h3036"}]]);const zu=pe("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);const rw=pe("HeartHandshake",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M12 5 9.04 7.96a2.17 2.17 0 0 0 0 3.08c.82.82 2.13.85 3 .07l2.07-1.9a2.82 2.82 0 0 1 3.79 0l2.96 2.66",key:"4oyue0"}],["path",{d:"m18 15-2-2",key:"60u0ii"}],["path",{d:"m15 18-2-2",key:"6p76be"}]]);const Qt=pe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);const Us=pe("Hotel",[["path",{d:"M10 22v-6.57",key:"1wmca3"}],["path",{d:"M12 11h.01",key:"z322tv"}],["path",{d:"M12 7h.01",key:"1ivr5q"}],["path",{d:"M14 15.43V22",key:"1q2vjd"}],["path",{d:"M15 16a5 5 0 0 0-6 0",key:"o9wqvi"}],["path",{d:"M16 11h.01",key:"xkw8gn"}],["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 7h.01",key:"1vti4s"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]]);const Td=pe("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);const Eu=pe("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);const nw=pe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);const xu=pe("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);const m$=pe("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);const Xr=pe("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]);const No=pe("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);const a0=pe("Laptop",[["path",{d:"M20 16V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v9m16 0H4m16 0 1.28 2.55a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45L4 16",key:"tarvll"}]]);const h$=pe("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);const iw=pe("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);const E_=pe("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);const zn=pe("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);const P_=pe("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);const lw=pe("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);const ot=pe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const ag=pe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);const _d=pe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const RC=pe("Luggage",[["path",{d:"M6 20a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2",key:"1m57jg"}],["path",{d:"M8 18V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v14",key:"1l99gc"}],["path",{d:"M10 20h4",key:"ni2waw"}],["circle",{cx:"16",cy:"20",r:"2",key:"1vifvg"}],["circle",{cx:"8",cy:"20",r:"2",key:"ckkr5m"}]]);const qn=pe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const Me=pe("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);const r0=pe("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);const LC=pe("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);const OC=pe("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);const x$=pe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);const Qi=pe("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);const Vs=pe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);const _b=pe("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);const Eb=pe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);const ld=pe("Mountain",[["path",{d:"m8 3 4 8 5-5 5 15H2L8 3z",key:"otkl63"}]]);const ei=pe("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);const A_=pe("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);const br=pe("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);const rg=pe("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);const p$=pe("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);const f$=pe("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);const g$=pe("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);const ya=pe("PartyPopper",[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]]);const v$=pe("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);const y$=pe("PawPrint",[["circle",{cx:"11",cy:"4",r:"2",key:"vol9p0"}],["circle",{cx:"18",cy:"8",r:"2",key:"17gozi"}],["circle",{cx:"20",cy:"16",r:"2",key:"1v9bxh"}],["path",{d:"M9 10a5 5 0 0 1 5 5v3.5a3.5 3.5 0 0 1-6.84 1.045Q6.52 17.48 4.46 16.84A3.5 3.5 0 0 1 5.5 10Z",key:"1ydw1z"}]]);const ng=pe("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);const j$=pe("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);const b$=pe("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);const $l=pe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);const Pt=pe("Plane",[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]]);const ig=pe("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);const ps=pe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const N$=pe("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);const Mf=pe("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);const Cn=pe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const If=pe("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);const $C=pe("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);const n0=pe("Route",[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]]);const ow=pe("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);const D_=pe("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);const w$=pe("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]);const ws=pe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const ul=pe("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);const F_=pe("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);const Pb=pe("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);const bx=pe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const cw=pe("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);const lg=pe("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const k$=pe("ShieldX",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m14.5 9.5-5 5",key:"17q4r4"}],["path",{d:"m9.5 9.5 5 5",key:"18nt4w"}]]);const sr=pe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);const Rf=pe("Ship",[["path",{d:"M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1 .6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"iegodh"}],["path",{d:"M19.38 20A11.6 11.6 0 0 0 21 14l-9-4-9 4c0 2.9.94 5.34 2.81 7.76",key:"fp8vka"}],["path",{d:"M19 13V7a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v6",key:"qpkstq"}],["path",{d:"M12 10v4",key:"1kjpxc"}],["path",{d:"M12 2v3",key:"qbqxhf"}]]);const M_=pe("Shirt",[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]]);const Vu=pe("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);const Nn=pe("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);const Uu=pe("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);const dw=pe("Snowflake",[["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"m20 16-4-4 4-4",key:"rquw4f"}],["path",{d:"m4 8 4 4-4 4",key:"12s3z9"}],["path",{d:"m16 4-4 4-4-4",key:"1tumq1"}],["path",{d:"m8 20 4-4 4 4",key:"9p200w"}]]);const qe=pe("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);const ii=pe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);const C$=pe("SquarePlus",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);const rt=pe("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);const Ml=pe("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);const Ab=pe("Sunset",[["path",{d:"M12 10V2",key:"16sf7g"}],["path",{d:"m4.93 10.93 1.41 1.41",key:"2a7f42"}],["path",{d:"M2 18h2",key:"j10viu"}],["path",{d:"M20 18h2",key:"wocana"}],["path",{d:"m19.07 10.93-1.41 1.41",key:"15zs5n"}],["path",{d:"M22 22H2",key:"19qnx5"}],["path",{d:"m16 6-4 4-4-4",key:"6wukr"}],["path",{d:"M16 18a4 4 0 0 0-8 0",key:"1lzouq"}]]);const S$=pe("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);const oi=pe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);const I_=pe("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);const $r=pe("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);const R_=pe("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);const Ma=pe("TramFront",[["rect",{width:"16",height:"16",x:"4",y:"3",rx:"2",key:"1wxw4b"}],["path",{d:"M4 11h16",key:"mpoxn0"}],["path",{d:"M12 3v8",key:"1h2ygw"}],["path",{d:"m8 19-2 3",key:"13i0xs"}],["path",{d:"m18 22-2-3",key:"1p0ohu"}],["path",{d:"M8 15h.01",key:"a7atzg"}],["path",{d:"M16 15h.01",key:"rnfrdf"}]]);const pi=pe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const Jc=pe("TreePalm",[["path",{d:"M13 8c0-2.76-2.46-5-5.5-5S2 5.24 2 8h2l1-1 1 1h4",key:"foxbe7"}],["path",{d:"M13 7.14A5.82 5.82 0 0 1 16.5 6c3.04 0 5.5 2.24 5.5 5h-3l-1-1-1 1h-3",key:"18arnh"}],["path",{d:"M5.89 9.71c-2.15 2.15-2.3 5.47-.35 7.43l4.24-4.25.7-.7.71-.71 2.12-2.12c-1.95-1.96-5.27-1.8-7.42.35",key:"ywahnh"}],["path",{d:"M11 15.5c.5 2.5-.17 4.5-1 6.5h4c2-5.5-.5-12-1-14",key:"ft0feo"}]]);const Rh=pe("TreePine",[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]]);const T$=pe("Trees",[["path",{d:"M10 10v.2A3 3 0 0 1 8.9 16H5a3 3 0 0 1-1-5.8V10a3 3 0 0 1 6 0Z",key:"1l6gj6"}],["path",{d:"M7 16v6",key:"1a82de"}],["path",{d:"M13 19v3",key:"13sx9i"}],["path",{d:"M12 19h8.3a1 1 0 0 0 .7-1.7L18 14h.3a1 1 0 0 0 .7-1.7L16 9h.2a1 1 0 0 0 .8-1.7L13 3l-1.4 1.5",key:"1sj9kv"}]]);const uw=pe("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);const Xt=pe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);const _l=pe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const ed=pe("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);const _$=pe("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);const mw=pe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);const wn=pe("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);const L_=pe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);const Wn=pe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const E$=pe("UsersRound",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]]);const et=pe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);const i0=pe("UtensilsCrossed",[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]]);const Ns=pe("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]]);const dm=pe("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);const Db=pe("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);const Xo=pe("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);const P$=pe("Waves",[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]]);const A$=pe("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);const D$=pe("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);const Pu=pe("Wine",[["path",{d:"M8 22h8",key:"rmew8v"}],["path",{d:"M7 10h10",key:"1101jm"}],["path",{d:"M12 15v7",key:"t2xh3l"}],["path",{d:"M12 15a5 5 0 0 0 5-5c0-2-.5-4-2-8H9c-1.5 4-2 6-2 8a5 5 0 0 0 5 5Z",key:"10ffi3"}]]);const Js=pe("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);const Ia=pe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);const qa=pe("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),hw="-",F$=t=>{const s=I$(t),{conflictingClassGroups:a,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:l=>{const c=l.split(hw);return c[0]===""&&c.length!==1&&c.shift(),O_(c,s)||M$(l)},getConflictingClassGroupIds:(l,c)=>{const u=a[l]||[];return c&&r[l]?[...u,...r[l]]:u}}},O_=(t,s)=>{if(t.length===0)return s.classGroupId;const a=t[0],r=s.nextPart.get(a),n=r?O_(t.slice(1),r):void 0;if(n)return n;if(s.validators.length===0)return;const i=t.join(hw);return s.validators.find(({validator:l})=>l(i))?.classGroupId},BC=/^\[(.+)\]$/,M$=t=>{if(BC.test(t)){const s=BC.exec(t)[1],a=s?.substring(0,s.indexOf(":"));if(a)return"arbitrary.."+a}},I$=t=>{const{theme:s,prefix:a}=t,r={nextPart:new Map,validators:[]};return L$(Object.entries(t.classGroups),a).forEach(([i,l])=>{Fb(l,r,i,s)}),r},Fb=(t,s,a,r)=>{t.forEach(n=>{if(typeof n=="string"){const i=n===""?s:zC(s,n);i.classGroupId=a;return}if(typeof n=="function"){if(R$(n)){Fb(n(r),s,a,r);return}s.validators.push({validator:n,classGroupId:a});return}Object.entries(n).forEach(([i,l])=>{Fb(l,zC(s,i),a,r)})})},zC=(t,s)=>{let a=t;return s.split(hw).forEach(r=>{a.nextPart.has(r)||a.nextPart.set(r,{nextPart:new Map,validators:[]}),a=a.nextPart.get(r)}),a},R$=t=>t.isThemeGetter,L$=(t,s)=>s?t.map(([a,r])=>{const n=r.map(i=>typeof i=="string"?s+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([l,c])=>[s+l,c])):i);return[a,n]}):t,O$=t=>{if(t<1)return{get:()=>{},set:()=>{}};let s=0,a=new Map,r=new Map;const n=(i,l)=>{a.set(i,l),s++,s>t&&(s=0,r=a,a=new Map)};return{get(i){let l=a.get(i);if(l!==void 0)return l;if((l=r.get(i))!==void 0)return n(i,l),l},set(i,l){a.has(i)?a.set(i,l):n(i,l)}}},$_="!",$$=t=>{const{separator:s,experimentalParseClassName:a}=t,r=s.length===1,n=s[0],i=s.length,l=c=>{const u=[];let m=0,x=0,f;for(let w=0;w<c.length;w++){let k=c[w];if(m===0){if(k===n&&(r||c.slice(w,w+i)===s)){u.push(c.slice(x,w)),x=w+i;continue}if(k==="/"){f=w;continue}}k==="["?m++:k==="]"&&m--}const g=u.length===0?c:c.substring(x),b=g.startsWith($_),v=b?g.substring(1):g,y=f&&f>x?f-x:void 0;return{modifiers:u,hasImportantModifier:b,baseClassName:v,maybePostfixModifierPosition:y}};return a?c=>a({className:c,parseClassName:l}):l},B$=t=>{if(t.length<=1)return t;const s=[];let a=[];return t.forEach(r=>{r[0]==="["?(s.push(...a.sort(),r),a=[]):a.push(r)}),s.push(...a.sort()),s},z$=t=>({cache:O$(t.cacheSize),parseClassName:$$(t),...F$(t)}),V$=/\s+/,U$=(t,s)=>{const{parseClassName:a,getClassGroupId:r,getConflictingClassGroupIds:n}=s,i=[],l=t.trim().split(V$);let c="";for(let u=l.length-1;u>=0;u-=1){const m=l[u],{modifiers:x,hasImportantModifier:f,baseClassName:g,maybePostfixModifierPosition:b}=a(m);let v=!!b,y=r(v?g.substring(0,b):g);if(!y){if(!v){c=m+(c.length>0?" "+c:c);continue}if(y=r(g),!y){c=m+(c.length>0?" "+c:c);continue}v=!1}const w=B$(x).join(":"),k=f?w+$_:w,C=k+y;if(i.includes(C))continue;i.push(C);const _=n(y,v);for(let M=0;M<_.length;++M){const E=_[M];i.push(k+E)}c=m+(c.length>0?" "+c:c)}return c};function q$(){let t=0,s,a,r="";for(;t<arguments.length;)(s=arguments[t++])&&(a=B_(s))&&(r&&(r+=" "),r+=a);return r}const B_=t=>{if(typeof t=="string")return t;let s,a="";for(let r=0;r<t.length;r++)t[r]&&(s=B_(t[r]))&&(a&&(a+=" "),a+=s);return a};function H$(t,...s){let a,r,n,i=l;function l(u){const m=s.reduce((x,f)=>f(x),t());return a=z$(m),r=a.cache.get,n=a.cache.set,i=c,c(u)}function c(u){const m=r(u);if(m)return m;const x=U$(u,a);return n(u,x),x}return function(){return i(q$.apply(null,arguments))}}const fa=t=>{const s=a=>a[t]||[];return s.isThemeGetter=!0,s},z_=/^\[(?:([a-z-]+):)?(.+)\]$/i,W$=/^\d+\/\d+$/,G$=new Set(["px","full","screen"]),K$=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Y$=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Q$=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,X$=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Z$=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,eo=t=>Au(t)||G$.has(t)||W$.test(t),Uo=t=>um(t,"length",i9),Au=t=>!!t&&!Number.isNaN(Number(t)),Zy=t=>um(t,"number",Au),sh=t=>!!t&&Number.isInteger(Number(t)),J$=t=>t.endsWith("%")&&Au(t.slice(0,-1)),ms=t=>z_.test(t),qo=t=>K$.test(t),e9=new Set(["length","size","percentage"]),t9=t=>um(t,e9,V_),s9=t=>um(t,"position",V_),a9=new Set(["image","url"]),r9=t=>um(t,a9,o9),n9=t=>um(t,"",l9),ah=()=>!0,um=(t,s,a)=>{const r=z_.exec(t);return r?r[1]?typeof s=="string"?r[1]===s:s.has(r[1]):a(r[2]):!1},i9=t=>Y$.test(t)&&!Q$.test(t),V_=()=>!1,l9=t=>X$.test(t),o9=t=>Z$.test(t),c9=()=>{const t=fa("colors"),s=fa("spacing"),a=fa("blur"),r=fa("brightness"),n=fa("borderColor"),i=fa("borderRadius"),l=fa("borderSpacing"),c=fa("borderWidth"),u=fa("contrast"),m=fa("grayscale"),x=fa("hueRotate"),f=fa("invert"),g=fa("gap"),b=fa("gradientColorStops"),v=fa("gradientColorStopPositions"),y=fa("inset"),w=fa("margin"),k=fa("opacity"),C=fa("padding"),_=fa("saturate"),M=fa("scale"),E=fa("sepia"),R=fa("skew"),z=fa("space"),A=fa("translate"),V=()=>["auto","contain","none"],H=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto",ms,s],q=()=>[ms,s],fe=()=>["",eo,Uo],oe=()=>["auto",Au,ms],Ee=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],me=()=>["solid","dashed","dotted","double","none"],ie=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],B=()=>["start","end","center","between","around","evenly","stretch"],ae=()=>["","0",ms],ke=()=>["auto","avoid","all","avoid-page","page","left","right","column"],$=()=>[Au,ms];return{cacheSize:500,separator:":",theme:{colors:[ah],spacing:[eo,Uo],blur:["none","",qo,ms],brightness:$(),borderColor:[t],borderRadius:["none","","full",qo,ms],borderSpacing:q(),borderWidth:fe(),contrast:$(),grayscale:ae(),hueRotate:$(),invert:ae(),gap:q(),gradientColorStops:[t],gradientColorStopPositions:[J$,Uo],inset:I(),margin:I(),opacity:$(),padding:q(),saturate:$(),scale:$(),sepia:ae(),skew:$(),space:q(),translate:q()},classGroups:{aspect:[{aspect:["auto","square","video",ms]}],container:["container"],columns:[{columns:[qo]}],"break-after":[{"break-after":ke()}],"break-before":[{"break-before":ke()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Ee(),ms]}],overflow:[{overflow:H()}],"overflow-x":[{"overflow-x":H()}],"overflow-y":[{"overflow-y":H()}],overscroll:[{overscroll:V()}],"overscroll-x":[{"overscroll-x":V()}],"overscroll-y":[{"overscroll-y":V()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",sh,ms]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ms]}],grow:[{grow:ae()}],shrink:[{shrink:ae()}],order:[{order:["first","last","none",sh,ms]}],"grid-cols":[{"grid-cols":[ah]}],"col-start-end":[{col:["auto",{span:["full",sh,ms]},ms]}],"col-start":[{"col-start":oe()}],"col-end":[{"col-end":oe()}],"grid-rows":[{"grid-rows":[ah]}],"row-start-end":[{row:["auto",{span:[sh,ms]},ms]}],"row-start":[{"row-start":oe()}],"row-end":[{"row-end":oe()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ms]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ms]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...B()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...B(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...B(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[C]}],px:[{px:[C]}],py:[{py:[C]}],ps:[{ps:[C]}],pe:[{pe:[C]}],pt:[{pt:[C]}],pr:[{pr:[C]}],pb:[{pb:[C]}],pl:[{pl:[C]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[z]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[z]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ms,s]}],"min-w":[{"min-w":[ms,s,"min","max","fit"]}],"max-w":[{"max-w":[ms,s,"none","full","min","max","fit","prose",{screen:[qo]},qo]}],h:[{h:[ms,s,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ms,s,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ms,s,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ms,s,"auto","min","max","fit"]}],"font-size":[{text:["base",qo,Uo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Zy]}],"font-family":[{font:[ah]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ms]}],"line-clamp":[{"line-clamp":["none",Au,Zy]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",eo,ms]}],"list-image":[{"list-image":["none",ms]}],"list-style-type":[{list:["none","disc","decimal",ms]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[k]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[k]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...me(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",eo,Uo]}],"underline-offset":[{"underline-offset":["auto",eo,ms]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:q()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ms]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ms]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[k]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Ee(),s9]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",t9]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},r9]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[b]}],"gradient-via":[{via:[b]}],"gradient-to":[{to:[b]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[k]}],"border-style":[{border:[...me(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[k]}],"divide-style":[{divide:me()}],"border-color":[{border:[n]}],"border-color-x":[{"border-x":[n]}],"border-color-y":[{"border-y":[n]}],"border-color-s":[{"border-s":[n]}],"border-color-e":[{"border-e":[n]}],"border-color-t":[{"border-t":[n]}],"border-color-r":[{"border-r":[n]}],"border-color-b":[{"border-b":[n]}],"border-color-l":[{"border-l":[n]}],"divide-color":[{divide:[n]}],"outline-style":[{outline:["",...me()]}],"outline-offset":[{"outline-offset":[eo,ms]}],"outline-w":[{outline:[eo,Uo]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:fe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[k]}],"ring-offset-w":[{"ring-offset":[eo,Uo]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",qo,n9]}],"shadow-color":[{shadow:[ah]}],opacity:[{opacity:[k]}],"mix-blend":[{"mix-blend":[...ie(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ie()}],filter:[{filter:["","none"]}],blur:[{blur:[a]}],brightness:[{brightness:[r]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",qo,ms]}],grayscale:[{grayscale:[m]}],"hue-rotate":[{"hue-rotate":[x]}],invert:[{invert:[f]}],saturate:[{saturate:[_]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[a]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[m]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[x]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[k]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ms]}],duration:[{duration:$()}],ease:[{ease:["linear","in","out","in-out",ms]}],delay:[{delay:$()}],animate:[{animate:["none","spin","ping","pulse","bounce",ms]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[M]}],"scale-x":[{"scale-x":[M]}],"scale-y":[{"scale-y":[M]}],rotate:[{rotate:[sh,ms]}],"translate-x":[{"translate-x":[A]}],"translate-y":[{"translate-y":[A]}],"skew-x":[{"skew-x":[R]}],"skew-y":[{"skew-y":[R]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ms]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ms]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":q()}],"scroll-mx":[{"scroll-mx":q()}],"scroll-my":[{"scroll-my":q()}],"scroll-ms":[{"scroll-ms":q()}],"scroll-me":[{"scroll-me":q()}],"scroll-mt":[{"scroll-mt":q()}],"scroll-mr":[{"scroll-mr":q()}],"scroll-mb":[{"scroll-mb":q()}],"scroll-ml":[{"scroll-ml":q()}],"scroll-p":[{"scroll-p":q()}],"scroll-px":[{"scroll-px":q()}],"scroll-py":[{"scroll-py":q()}],"scroll-ps":[{"scroll-ps":q()}],"scroll-pe":[{"scroll-pe":q()}],"scroll-pt":[{"scroll-pt":q()}],"scroll-pr":[{"scroll-pr":q()}],"scroll-pb":[{"scroll-pb":q()}],"scroll-pl":[{"scroll-pl":q()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ms]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[eo,Uo,Zy]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},d9=H$(c9);function te(...t){return d9(v_(t))}const u9=GO,U_=h.forwardRef(({className:t,...s},a)=>e.jsx(u_,{ref:a,className:te("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...s}));U_.displayName=u_.displayName;const m9=cm("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),q_=h.forwardRef(({className:t,variant:s,...a},r)=>e.jsx(m_,{ref:r,className:te(m9({variant:s}),t),...a}));q_.displayName=m_.displayName;const h9=h.forwardRef(({className:t,...s},a)=>e.jsx(p_,{ref:a,className:te("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...s}));h9.displayName=p_.displayName;const H_=h.forwardRef(({className:t,...s},a)=>e.jsx(f_,{ref:a,className:te("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...s,children:e.jsx(Ia,{className:"h-4 w-4"})}));H_.displayName=f_.displayName;const W_=h.forwardRef(({className:t,...s},a)=>e.jsx(h_,{ref:a,className:te("text-sm font-semibold",t),...s}));W_.displayName=h_.displayName;const G_=h.forwardRef(({className:t,...s},a)=>e.jsx(x_,{ref:a,className:te("text-sm opacity-90",t),...s}));G_.displayName=x_.displayName;function x9(){const{toasts:t}=Bs();return e.jsxs(u9,{children:[t.map(function({id:s,title:a,description:r,action:n,...i}){return e.jsxs(q_,{...i,children:[e.jsxs("div",{className:"grid gap-1",children:[a&&e.jsx(W_,{children:a}),r&&e.jsx(G_,{children:r})]}),n,e.jsx(H_,{})]},s)}),e.jsx(U_,{})]})}var p9=gx[" useId ".trim().toString()]||(()=>{}),f9=0;function ur(t){const[s,a]=h.useState(p9());return Wa(()=>{a(r=>r??String(f9++))},[t]),s?`radix-${s}`:""}const g9=["top","right","bottom","left"],ec=Math.min,ri=Math.max,og=Math.round,tf=Math.floor,El=t=>({x:t,y:t}),v9={left:"right",right:"left",bottom:"top",top:"bottom"},y9={start:"end",end:"start"};function Mb(t,s,a){return ri(t,ec(s,a))}function fo(t,s){return typeof t=="function"?t(s):t}function go(t){return t.split("-")[0]}function mm(t){return t.split("-")[1]}function xw(t){return t==="x"?"y":"x"}function pw(t){return t==="y"?"height":"width"}const j9=new Set(["top","bottom"]);function Sl(t){return j9.has(go(t))?"y":"x"}function fw(t){return xw(Sl(t))}function b9(t,s,a){a===void 0&&(a=!1);const r=mm(t),n=fw(t),i=pw(n);let l=n==="x"?r===(a?"end":"start")?"right":"left":r==="start"?"bottom":"top";return s.reference[i]>s.floating[i]&&(l=cg(l)),[l,cg(l)]}function N9(t){const s=cg(t);return[Ib(t),s,Ib(s)]}function Ib(t){return t.replace(/start|end/g,s=>y9[s])}const VC=["left","right"],UC=["right","left"],w9=["top","bottom"],k9=["bottom","top"];function C9(t,s,a){switch(t){case"top":case"bottom":return a?s?UC:VC:s?VC:UC;case"left":case"right":return s?w9:k9;default:return[]}}function S9(t,s,a,r){const n=mm(t);let i=C9(go(t),a==="start",r);return n&&(i=i.map(l=>l+"-"+n),s&&(i=i.concat(i.map(Ib)))),i}function cg(t){return t.replace(/left|right|bottom|top/g,s=>v9[s])}function T9(t){return{top:0,right:0,bottom:0,left:0,...t}}function K_(t){return typeof t!="number"?T9(t):{top:t,right:t,bottom:t,left:t}}function dg(t){const{x:s,y:a,width:r,height:n}=t;return{width:r,height:n,top:a,left:s,right:s+r,bottom:a+n,x:s,y:a}}function qC(t,s,a){let{reference:r,floating:n}=t;const i=Sl(s),l=fw(s),c=pw(l),u=go(s),m=i==="y",x=r.x+r.width/2-n.width/2,f=r.y+r.height/2-n.height/2,g=r[c]/2-n[c]/2;let b;switch(u){case"top":b={x,y:r.y-n.height};break;case"bottom":b={x,y:r.y+r.height};break;case"right":b={x:r.x+r.width,y:f};break;case"left":b={x:r.x-n.width,y:f};break;default:b={x:r.x,y:r.y}}switch(mm(s)){case"start":b[l]-=g*(a&&m?-1:1);break;case"end":b[l]+=g*(a&&m?-1:1);break}return b}async function _9(t,s){var a;s===void 0&&(s={});const{x:r,y:n,platform:i,rects:l,elements:c,strategy:u}=t,{boundary:m="clippingAncestors",rootBoundary:x="viewport",elementContext:f="floating",altBoundary:g=!1,padding:b=0}=fo(s,t),v=K_(b),w=c[g?f==="floating"?"reference":"floating":f],k=dg(await i.getClippingRect({element:(a=await(i.isElement==null?void 0:i.isElement(w)))==null||a?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(c.floating)),boundary:m,rootBoundary:x,strategy:u})),C=f==="floating"?{x:r,y:n,width:l.floating.width,height:l.floating.height}:l.reference,_=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c.floating)),M=await(i.isElement==null?void 0:i.isElement(_))?await(i.getScale==null?void 0:i.getScale(_))||{x:1,y:1}:{x:1,y:1},E=dg(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:C,offsetParent:_,strategy:u}):C);return{top:(k.top-E.top+v.top)/M.y,bottom:(E.bottom-k.bottom+v.bottom)/M.y,left:(k.left-E.left+v.left)/M.x,right:(E.right-k.right+v.right)/M.x}}const E9=async(t,s,a)=>{const{placement:r="bottom",strategy:n="absolute",middleware:i=[],platform:l}=a,c=i.filter(Boolean),u=await(l.isRTL==null?void 0:l.isRTL(s));let m=await l.getElementRects({reference:t,floating:s,strategy:n}),{x,y:f}=qC(m,r,u),g=r,b={},v=0;for(let w=0;w<c.length;w++){var y;const{name:k,fn:C}=c[w],{x:_,y:M,data:E,reset:R}=await C({x,y:f,initialPlacement:r,placement:g,strategy:n,middlewareData:b,rects:m,platform:{...l,detectOverflow:(y=l.detectOverflow)!=null?y:_9},elements:{reference:t,floating:s}});x=_??x,f=M??f,b={...b,[k]:{...b[k],...E}},R&&v<=50&&(v++,typeof R=="object"&&(R.placement&&(g=R.placement),R.rects&&(m=R.rects===!0?await l.getElementRects({reference:t,floating:s,strategy:n}):R.rects),{x,y:f}=qC(m,g,u)),w=-1)}return{x,y:f,placement:g,strategy:n,middlewareData:b}},P9=t=>({name:"arrow",options:t,async fn(s){const{x:a,y:r,placement:n,rects:i,platform:l,elements:c,middlewareData:u}=s,{element:m,padding:x=0}=fo(t,s)||{};if(m==null)return{};const f=K_(x),g={x:a,y:r},b=fw(n),v=pw(b),y=await l.getDimensions(m),w=b==="y",k=w?"top":"left",C=w?"bottom":"right",_=w?"clientHeight":"clientWidth",M=i.reference[v]+i.reference[b]-g[b]-i.floating[v],E=g[b]-i.reference[b],R=await(l.getOffsetParent==null?void 0:l.getOffsetParent(m));let z=R?R[_]:0;(!z||!await(l.isElement==null?void 0:l.isElement(R)))&&(z=c.floating[_]||i.floating[v]);const A=M/2-E/2,V=z/2-y[v]/2-1,H=ec(f[k],V),I=ec(f[C],V),q=H,fe=z-y[v]-I,oe=z/2-y[v]/2+A,Ee=Mb(q,oe,fe),me=!u.arrow&&mm(n)!=null&&oe!==Ee&&i.reference[v]/2-(oe<q?H:I)-y[v]/2<0,ie=me?oe<q?oe-q:oe-fe:0;return{[b]:g[b]+ie,data:{[b]:Ee,centerOffset:oe-Ee-ie,...me&&{alignmentOffset:ie}},reset:me}}}),A9=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(s){var a,r;const{placement:n,middlewareData:i,rects:l,initialPlacement:c,platform:u,elements:m}=s,{mainAxis:x=!0,crossAxis:f=!0,fallbackPlacements:g,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:y=!0,...w}=fo(t,s);if((a=i.arrow)!=null&&a.alignmentOffset)return{};const k=go(n),C=Sl(c),_=go(c)===c,M=await(u.isRTL==null?void 0:u.isRTL(m.floating)),E=g||(_||!y?[cg(c)]:N9(c)),R=v!=="none";!g&&R&&E.push(...S9(c,y,v,M));const z=[c,...E],A=await u.detectOverflow(s,w),V=[];let H=((r=i.flip)==null?void 0:r.overflows)||[];if(x&&V.push(A[k]),f){const oe=b9(n,l,M);V.push(A[oe[0]],A[oe[1]])}if(H=[...H,{placement:n,overflows:V}],!V.every(oe=>oe<=0)){var I,q;const oe=(((I=i.flip)==null?void 0:I.index)||0)+1,Ee=z[oe];if(Ee&&(!(f==="alignment"?C!==Sl(Ee):!1)||H.every(B=>Sl(B.placement)===C?B.overflows[0]>0:!0)))return{data:{index:oe,overflows:H},reset:{placement:Ee}};let me=(q=H.filter(ie=>ie.overflows[0]<=0).sort((ie,B)=>ie.overflows[1]-B.overflows[1])[0])==null?void 0:q.placement;if(!me)switch(b){case"bestFit":{var fe;const ie=(fe=H.filter(B=>{if(R){const ae=Sl(B.placement);return ae===C||ae==="y"}return!0}).map(B=>[B.placement,B.overflows.filter(ae=>ae>0).reduce((ae,ke)=>ae+ke,0)]).sort((B,ae)=>B[1]-ae[1])[0])==null?void 0:fe[0];ie&&(me=ie);break}case"initialPlacement":me=c;break}if(n!==me)return{reset:{placement:me}}}return{}}}};function HC(t,s){return{top:t.top-s.height,right:t.right-s.width,bottom:t.bottom-s.height,left:t.left-s.width}}function WC(t){return g9.some(s=>t[s]>=0)}const D9=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(s){const{rects:a,platform:r}=s,{strategy:n="referenceHidden",...i}=fo(t,s);switch(n){case"referenceHidden":{const l=await r.detectOverflow(s,{...i,elementContext:"reference"}),c=HC(l,a.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:WC(c)}}}case"escaped":{const l=await r.detectOverflow(s,{...i,altBoundary:!0}),c=HC(l,a.floating);return{data:{escapedOffsets:c,escaped:WC(c)}}}default:return{}}}}},Y_=new Set(["left","top"]);async function F9(t,s){const{placement:a,platform:r,elements:n}=t,i=await(r.isRTL==null?void 0:r.isRTL(n.floating)),l=go(a),c=mm(a),u=Sl(a)==="y",m=Y_.has(l)?-1:1,x=i&&u?-1:1,f=fo(s,t);let{mainAxis:g,crossAxis:b,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return c&&typeof v=="number"&&(b=c==="end"?v*-1:v),u?{x:b*x,y:g*m}:{x:g*m,y:b*x}}const M9=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(s){var a,r;const{x:n,y:i,placement:l,middlewareData:c}=s,u=await F9(s,t);return l===((a=c.offset)==null?void 0:a.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:n+u.x,y:i+u.y,data:{...u,placement:l}}}}},I9=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(s){const{x:a,y:r,placement:n,platform:i}=s,{mainAxis:l=!0,crossAxis:c=!1,limiter:u={fn:k=>{let{x:C,y:_}=k;return{x:C,y:_}}},...m}=fo(t,s),x={x:a,y:r},f=await i.detectOverflow(s,m),g=Sl(go(n)),b=xw(g);let v=x[b],y=x[g];if(l){const k=b==="y"?"top":"left",C=b==="y"?"bottom":"right",_=v+f[k],M=v-f[C];v=Mb(_,v,M)}if(c){const k=g==="y"?"top":"left",C=g==="y"?"bottom":"right",_=y+f[k],M=y-f[C];y=Mb(_,y,M)}const w=u.fn({...s,[b]:v,[g]:y});return{...w,data:{x:w.x-a,y:w.y-r,enabled:{[b]:l,[g]:c}}}}}},R9=function(t){return t===void 0&&(t={}),{options:t,fn(s){const{x:a,y:r,placement:n,rects:i,middlewareData:l}=s,{offset:c=0,mainAxis:u=!0,crossAxis:m=!0}=fo(t,s),x={x:a,y:r},f=Sl(n),g=xw(f);let b=x[g],v=x[f];const y=fo(c,s),w=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(u){const _=g==="y"?"height":"width",M=i.reference[g]-i.floating[_]+w.mainAxis,E=i.reference[g]+i.reference[_]-w.mainAxis;b<M?b=M:b>E&&(b=E)}if(m){var k,C;const _=g==="y"?"width":"height",M=Y_.has(go(n)),E=i.reference[f]-i.floating[_]+(M&&((k=l.offset)==null?void 0:k[f])||0)+(M?0:w.crossAxis),R=i.reference[f]+i.reference[_]+(M?0:((C=l.offset)==null?void 0:C[f])||0)-(M?w.crossAxis:0);v<E?v=E:v>R&&(v=R)}return{[g]:b,[f]:v}}}},L9=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(s){var a,r;const{placement:n,rects:i,platform:l,elements:c}=s,{apply:u=()=>{},...m}=fo(t,s),x=await l.detectOverflow(s,m),f=go(n),g=mm(n),b=Sl(n)==="y",{width:v,height:y}=i.floating;let w,k;f==="top"||f==="bottom"?(w=f,k=g===(await(l.isRTL==null?void 0:l.isRTL(c.floating))?"start":"end")?"left":"right"):(k=f,w=g==="end"?"top":"bottom");const C=y-x.top-x.bottom,_=v-x.left-x.right,M=ec(y-x[w],C),E=ec(v-x[k],_),R=!s.middlewareData.shift;let z=M,A=E;if((a=s.middlewareData.shift)!=null&&a.enabled.x&&(A=_),(r=s.middlewareData.shift)!=null&&r.enabled.y&&(z=C),R&&!g){const H=ri(x.left,0),I=ri(x.right,0),q=ri(x.top,0),fe=ri(x.bottom,0);b?A=v-2*(H!==0||I!==0?H+I:ri(x.left,x.right)):z=y-2*(q!==0||fe!==0?q+fe:ri(x.top,x.bottom))}await u({...s,availableWidth:A,availableHeight:z});const V=await l.getDimensions(c.floating);return v!==V.width||y!==V.height?{reset:{rects:!0}}:{}}}};function l0(){return typeof window<"u"}function hm(t){return Q_(t)?(t.nodeName||"").toLowerCase():"#document"}function ci(t){var s;return(t==null||(s=t.ownerDocument)==null?void 0:s.defaultView)||window}function Bl(t){var s;return(s=(Q_(t)?t.ownerDocument:t.document)||window.document)==null?void 0:s.documentElement}function Q_(t){return l0()?t instanceof Node||t instanceof ci(t).Node:!1}function il(t){return l0()?t instanceof Element||t instanceof ci(t).Element:!1}function Il(t){return l0()?t instanceof HTMLElement||t instanceof ci(t).HTMLElement:!1}function GC(t){return!l0()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ci(t).ShadowRoot}const O9=new Set(["inline","contents"]);function Nx(t){const{overflow:s,overflowX:a,overflowY:r,display:n}=ll(t);return/auto|scroll|overlay|hidden|clip/.test(s+r+a)&&!O9.has(n)}const $9=new Set(["table","td","th"]);function B9(t){return $9.has(hm(t))}const z9=[":popover-open",":modal"];function o0(t){return z9.some(s=>{try{return t.matches(s)}catch{return!1}})}const V9=["transform","translate","scale","rotate","perspective"],U9=["transform","translate","scale","rotate","perspective","filter"],q9=["paint","layout","strict","content"];function gw(t){const s=vw(),a=il(t)?ll(t):t;return V9.some(r=>a[r]?a[r]!=="none":!1)||(a.containerType?a.containerType!=="normal":!1)||!s&&(a.backdropFilter?a.backdropFilter!=="none":!1)||!s&&(a.filter?a.filter!=="none":!1)||U9.some(r=>(a.willChange||"").includes(r))||q9.some(r=>(a.contain||"").includes(r))}function H9(t){let s=tc(t);for(;Il(s)&&!qu(s);){if(gw(s))return s;if(o0(s))return null;s=tc(s)}return null}function vw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const W9=new Set(["html","body","#document"]);function qu(t){return W9.has(hm(t))}function ll(t){return ci(t).getComputedStyle(t)}function c0(t){return il(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function tc(t){if(hm(t)==="html")return t;const s=t.assignedSlot||t.parentNode||GC(t)&&t.host||Bl(t);return GC(s)?s.host:s}function X_(t){const s=tc(t);return qu(s)?t.ownerDocument?t.ownerDocument.body:t.body:Il(s)&&Nx(s)?s:X_(s)}function Lh(t,s,a){var r;s===void 0&&(s=[]),a===void 0&&(a=!0);const n=X_(t),i=n===((r=t.ownerDocument)==null?void 0:r.body),l=ci(n);if(i){const c=Rb(l);return s.concat(l,l.visualViewport||[],Nx(n)?n:[],c&&a?Lh(c):[])}return s.concat(n,Lh(n,[],a))}function Rb(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Z_(t){const s=ll(t);let a=parseFloat(s.width)||0,r=parseFloat(s.height)||0;const n=Il(t),i=n?t.offsetWidth:a,l=n?t.offsetHeight:r,c=og(a)!==i||og(r)!==l;return c&&(a=i,r=l),{width:a,height:r,$:c}}function yw(t){return il(t)?t:t.contextElement}function Du(t){const s=yw(t);if(!Il(s))return El(1);const a=s.getBoundingClientRect(),{width:r,height:n,$:i}=Z_(s);let l=(i?og(a.width):a.width)/r,c=(i?og(a.height):a.height)/n;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const G9=El(0);function J_(t){const s=ci(t);return!vw()||!s.visualViewport?G9:{x:s.visualViewport.offsetLeft,y:s.visualViewport.offsetTop}}function K9(t,s,a){return s===void 0&&(s=!1),!a||s&&a!==ci(t)?!1:s}function od(t,s,a,r){s===void 0&&(s=!1),a===void 0&&(a=!1);const n=t.getBoundingClientRect(),i=yw(t);let l=El(1);s&&(r?il(r)&&(l=Du(r)):l=Du(t));const c=K9(i,a,r)?J_(i):El(0);let u=(n.left+c.x)/l.x,m=(n.top+c.y)/l.y,x=n.width/l.x,f=n.height/l.y;if(i){const g=ci(i),b=r&&il(r)?ci(r):r;let v=g,y=Rb(v);for(;y&&r&&b!==v;){const w=Du(y),k=y.getBoundingClientRect(),C=ll(y),_=k.left+(y.clientLeft+parseFloat(C.paddingLeft))*w.x,M=k.top+(y.clientTop+parseFloat(C.paddingTop))*w.y;u*=w.x,m*=w.y,x*=w.x,f*=w.y,u+=_,m+=M,v=ci(y),y=Rb(v)}}return dg({width:x,height:f,x:u,y:m})}function d0(t,s){const a=c0(t).scrollLeft;return s?s.left+a:od(Bl(t)).left+a}function eE(t,s){const a=t.getBoundingClientRect(),r=a.left+s.scrollLeft-d0(t,a),n=a.top+s.scrollTop;return{x:r,y:n}}function Y9(t){let{elements:s,rect:a,offsetParent:r,strategy:n}=t;const i=n==="fixed",l=Bl(r),c=s?o0(s.floating):!1;if(r===l||c&&i)return a;let u={scrollLeft:0,scrollTop:0},m=El(1);const x=El(0),f=Il(r);if((f||!f&&!i)&&((hm(r)!=="body"||Nx(l))&&(u=c0(r)),Il(r))){const b=od(r);m=Du(r),x.x=b.x+r.clientLeft,x.y=b.y+r.clientTop}const g=l&&!f&&!i?eE(l,u):El(0);return{width:a.width*m.x,height:a.height*m.y,x:a.x*m.x-u.scrollLeft*m.x+x.x+g.x,y:a.y*m.y-u.scrollTop*m.y+x.y+g.y}}function Q9(t){return Array.from(t.getClientRects())}function X9(t){const s=Bl(t),a=c0(t),r=t.ownerDocument.body,n=ri(s.scrollWidth,s.clientWidth,r.scrollWidth,r.clientWidth),i=ri(s.scrollHeight,s.clientHeight,r.scrollHeight,r.clientHeight);let l=-a.scrollLeft+d0(t);const c=-a.scrollTop;return ll(r).direction==="rtl"&&(l+=ri(s.clientWidth,r.clientWidth)-n),{width:n,height:i,x:l,y:c}}const KC=25;function Z9(t,s){const a=ci(t),r=Bl(t),n=a.visualViewport;let i=r.clientWidth,l=r.clientHeight,c=0,u=0;if(n){i=n.width,l=n.height;const x=vw();(!x||x&&s==="fixed")&&(c=n.offsetLeft,u=n.offsetTop)}const m=d0(r);if(m<=0){const x=r.ownerDocument,f=x.body,g=getComputedStyle(f),b=x.compatMode==="CSS1Compat"&&parseFloat(g.marginLeft)+parseFloat(g.marginRight)||0,v=Math.abs(r.clientWidth-f.clientWidth-b);v<=KC&&(i-=v)}else m<=KC&&(i+=m);return{width:i,height:l,x:c,y:u}}const J9=new Set(["absolute","fixed"]);function eB(t,s){const a=od(t,!0,s==="fixed"),r=a.top+t.clientTop,n=a.left+t.clientLeft,i=Il(t)?Du(t):El(1),l=t.clientWidth*i.x,c=t.clientHeight*i.y,u=n*i.x,m=r*i.y;return{width:l,height:c,x:u,y:m}}function YC(t,s,a){let r;if(s==="viewport")r=Z9(t,a);else if(s==="document")r=X9(Bl(t));else if(il(s))r=eB(s,a);else{const n=J_(t);r={x:s.x-n.x,y:s.y-n.y,width:s.width,height:s.height}}return dg(r)}function tE(t,s){const a=tc(t);return a===s||!il(a)||qu(a)?!1:ll(a).position==="fixed"||tE(a,s)}function tB(t,s){const a=s.get(t);if(a)return a;let r=Lh(t,[],!1).filter(c=>il(c)&&hm(c)!=="body"),n=null;const i=ll(t).position==="fixed";let l=i?tc(t):t;for(;il(l)&&!qu(l);){const c=ll(l),u=gw(l);!u&&c.position==="fixed"&&(n=null),(i?!u&&!n:!u&&c.position==="static"&&!!n&&J9.has(n.position)||Nx(l)&&!u&&tE(t,l))?r=r.filter(x=>x!==l):n=c,l=tc(l)}return s.set(t,r),r}function sB(t){let{element:s,boundary:a,rootBoundary:r,strategy:n}=t;const l=[...a==="clippingAncestors"?o0(s)?[]:tB(s,this._c):[].concat(a),r],c=l[0],u=l.reduce((m,x)=>{const f=YC(s,x,n);return m.top=ri(f.top,m.top),m.right=ec(f.right,m.right),m.bottom=ec(f.bottom,m.bottom),m.left=ri(f.left,m.left),m},YC(s,c,n));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function aB(t){const{width:s,height:a}=Z_(t);return{width:s,height:a}}function rB(t,s,a){const r=Il(s),n=Bl(s),i=a==="fixed",l=od(t,!0,i,s);let c={scrollLeft:0,scrollTop:0};const u=El(0);function m(){u.x=d0(n)}if(r||!r&&!i)if((hm(s)!=="body"||Nx(n))&&(c=c0(s)),r){const b=od(s,!0,i,s);u.x=b.x+s.clientLeft,u.y=b.y+s.clientTop}else n&&m();i&&!r&&n&&m();const x=n&&!r&&!i?eE(n,c):El(0),f=l.left+c.scrollLeft-u.x-x.x,g=l.top+c.scrollTop-u.y-x.y;return{x:f,y:g,width:l.width,height:l.height}}function Jy(t){return ll(t).position==="static"}function QC(t,s){if(!Il(t)||ll(t).position==="fixed")return null;if(s)return s(t);let a=t.offsetParent;return Bl(t)===a&&(a=a.ownerDocument.body),a}function sE(t,s){const a=ci(t);if(o0(t))return a;if(!Il(t)){let n=tc(t);for(;n&&!qu(n);){if(il(n)&&!Jy(n))return n;n=tc(n)}return a}let r=QC(t,s);for(;r&&B9(r)&&Jy(r);)r=QC(r,s);return r&&qu(r)&&Jy(r)&&!gw(r)?a:r||H9(t)||a}const nB=async function(t){const s=this.getOffsetParent||sE,a=this.getDimensions,r=await a(t.floating);return{reference:rB(t.reference,await s(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function iB(t){return ll(t).direction==="rtl"}const lB={convertOffsetParentRelativeRectToViewportRelativeRect:Y9,getDocumentElement:Bl,getClippingRect:sB,getOffsetParent:sE,getElementRects:nB,getClientRects:Q9,getDimensions:aB,getScale:Du,isElement:il,isRTL:iB};function aE(t,s){return t.x===s.x&&t.y===s.y&&t.width===s.width&&t.height===s.height}function oB(t,s){let a=null,r;const n=Bl(t);function i(){var c;clearTimeout(r),(c=a)==null||c.disconnect(),a=null}function l(c,u){c===void 0&&(c=!1),u===void 0&&(u=1),i();const m=t.getBoundingClientRect(),{left:x,top:f,width:g,height:b}=m;if(c||s(),!g||!b)return;const v=tf(f),y=tf(n.clientWidth-(x+g)),w=tf(n.clientHeight-(f+b)),k=tf(x),_={rootMargin:-v+"px "+-y+"px "+-w+"px "+-k+"px",threshold:ri(0,ec(1,u))||1};let M=!0;function E(R){const z=R[0].intersectionRatio;if(z!==u){if(!M)return l();z?l(!1,z):r=setTimeout(()=>{l(!1,1e-7)},1e3)}z===1&&!aE(m,t.getBoundingClientRect())&&l(),M=!1}try{a=new IntersectionObserver(E,{..._,root:n.ownerDocument})}catch{a=new IntersectionObserver(E,_)}a.observe(t)}return l(!0),i}function cB(t,s,a,r){r===void 0&&(r={});const{ancestorScroll:n=!0,ancestorResize:i=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,m=yw(t),x=n||i?[...m?Lh(m):[],...Lh(s)]:[];x.forEach(k=>{n&&k.addEventListener("scroll",a,{passive:!0}),i&&k.addEventListener("resize",a)});const f=m&&c?oB(m,a):null;let g=-1,b=null;l&&(b=new ResizeObserver(k=>{let[C]=k;C&&C.target===m&&b&&(b.unobserve(s),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var _;(_=b)==null||_.observe(s)})),a()}),m&&!u&&b.observe(m),b.observe(s));let v,y=u?od(t):null;u&&w();function w(){const k=od(t);y&&!aE(y,k)&&a(),y=k,v=requestAnimationFrame(w)}return a(),()=>{var k;x.forEach(C=>{n&&C.removeEventListener("scroll",a),i&&C.removeEventListener("resize",a)}),f?.(),(k=b)==null||k.disconnect(),b=null,u&&cancelAnimationFrame(v)}}const dB=M9,uB=I9,mB=A9,hB=L9,xB=D9,XC=P9,pB=R9,fB=(t,s,a)=>{const r=new Map,n={platform:lB,...a},i={...n.platform,_c:r};return E9(t,s,{...n,platform:i})};var gB=typeof document<"u",vB=function(){},Lf=gB?h.useLayoutEffect:vB;function ug(t,s){if(t===s)return!0;if(typeof t!=typeof s)return!1;if(typeof t=="function"&&t.toString()===s.toString())return!0;let a,r,n;if(t&&s&&typeof t=="object"){if(Array.isArray(t)){if(a=t.length,a!==s.length)return!1;for(r=a;r--!==0;)if(!ug(t[r],s[r]))return!1;return!0}if(n=Object.keys(t),a=n.length,a!==Object.keys(s).length)return!1;for(r=a;r--!==0;)if(!{}.hasOwnProperty.call(s,n[r]))return!1;for(r=a;r--!==0;){const i=n[r];if(!(i==="_owner"&&t.$$typeof)&&!ug(t[i],s[i]))return!1}return!0}return t!==t&&s!==s}function rE(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function ZC(t,s){const a=rE(t);return Math.round(s*a)/a}function ej(t){const s=h.useRef(t);return Lf(()=>{s.current=t}),s}function yB(t){t===void 0&&(t={});const{placement:s="bottom",strategy:a="absolute",middleware:r=[],platform:n,elements:{reference:i,floating:l}={},transform:c=!0,whileElementsMounted:u,open:m}=t,[x,f]=h.useState({x:0,y:0,strategy:a,placement:s,middlewareData:{},isPositioned:!1}),[g,b]=h.useState(r);ug(g,r)||b(r);const[v,y]=h.useState(null),[w,k]=h.useState(null),C=h.useCallback(B=>{B!==R.current&&(R.current=B,y(B))},[]),_=h.useCallback(B=>{B!==z.current&&(z.current=B,k(B))},[]),M=i||v,E=l||w,R=h.useRef(null),z=h.useRef(null),A=h.useRef(x),V=u!=null,H=ej(u),I=ej(n),q=ej(m),fe=h.useCallback(()=>{if(!R.current||!z.current)return;const B={placement:s,strategy:a,middleware:g};I.current&&(B.platform=I.current),fB(R.current,z.current,B).then(ae=>{const ke={...ae,isPositioned:q.current!==!1};oe.current&&!ug(A.current,ke)&&(A.current=ke,xo.flushSync(()=>{f(ke)}))})},[g,s,a,I,q]);Lf(()=>{m===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,f(B=>({...B,isPositioned:!1})))},[m]);const oe=h.useRef(!1);Lf(()=>(oe.current=!0,()=>{oe.current=!1}),[]),Lf(()=>{if(M&&(R.current=M),E&&(z.current=E),M&&E){if(H.current)return H.current(M,E,fe);fe()}},[M,E,fe,H,V]);const Ee=h.useMemo(()=>({reference:R,floating:z,setReference:C,setFloating:_}),[C,_]),me=h.useMemo(()=>({reference:M,floating:E}),[M,E]),ie=h.useMemo(()=>{const B={position:a,left:0,top:0};if(!me.floating)return B;const ae=ZC(me.floating,x.x),ke=ZC(me.floating,x.y);return c?{...B,transform:"translate("+ae+"px, "+ke+"px)",...rE(me.floating)>=1.5&&{willChange:"transform"}}:{position:a,left:ae,top:ke}},[a,c,me.floating,x.x,x.y]);return h.useMemo(()=>({...x,update:fe,refs:Ee,elements:me,floatingStyles:ie}),[x,fe,Ee,me,ie])}const jB=t=>{function s(a){return{}.hasOwnProperty.call(a,"current")}return{name:"arrow",options:t,fn(a){const{element:r,padding:n}=typeof t=="function"?t(a):t;return r&&s(r)?r.current!=null?XC({element:r.current,padding:n}).fn(a):{}:r?XC({element:r,padding:n}).fn(a):{}}}},bB=(t,s)=>({...dB(t),options:[t,s]}),NB=(t,s)=>({...uB(t),options:[t,s]}),wB=(t,s)=>({...pB(t),options:[t,s]}),kB=(t,s)=>({...mB(t),options:[t,s]}),CB=(t,s)=>({...hB(t),options:[t,s]}),SB=(t,s)=>({...xB(t),options:[t,s]}),TB=(t,s)=>({...jB(t),options:[t,s]});var _B="Arrow",nE=h.forwardRef((t,s)=>{const{children:a,width:r=10,height:n=5,...i}=t;return e.jsx(lt.svg,{...i,ref:s,width:r,height:n,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?a:e.jsx("polygon",{points:"0,0 30,0 15,10"})})});nE.displayName=_B;var EB=nE;function wx(t){const[s,a]=h.useState(void 0);return Wa(()=>{if(t){a({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(n=>{if(!Array.isArray(n)||!n.length)return;const i=n[0];let l,c;if("borderBoxSize"in i){const u=i.borderBoxSize,m=Array.isArray(u)?u[0]:u;l=m.inlineSize,c=m.blockSize}else l=t.offsetWidth,c=t.offsetHeight;a({width:l,height:c})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else a(void 0)},[t]),s}var jw="Popper",[iE,mc]=kr(jw),[PB,lE]=iE(jw),oE=t=>{const{__scopePopper:s,children:a}=t,[r,n]=h.useState(null);return e.jsx(PB,{scope:s,anchor:r,onAnchorChange:n,children:a})};oE.displayName=jw;var cE="PopperAnchor",dE=h.forwardRef((t,s)=>{const{__scopePopper:a,virtualRef:r,...n}=t,i=lE(cE,a),l=h.useRef(null),c=zt(s,l),u=h.useRef(null);return h.useEffect(()=>{const m=u.current;u.current=r?.current||l.current,m!==u.current&&i.onAnchorChange(u.current)}),r?null:e.jsx(lt.div,{...n,ref:c})});dE.displayName=cE;var bw="PopperContent",[AB,DB]=iE(bw),uE=h.forwardRef((t,s)=>{const{__scopePopper:a,side:r="bottom",sideOffset:n=0,align:i="center",alignOffset:l=0,arrowPadding:c=0,avoidCollisions:u=!0,collisionBoundary:m=[],collisionPadding:x=0,sticky:f="partial",hideWhenDetached:g=!1,updatePositionStrategy:b="optimized",onPlaced:v,...y}=t,w=lE(bw,a),[k,C]=h.useState(null),_=zt(s,K=>C(K)),[M,E]=h.useState(null),R=wx(M),z=R?.width??0,A=R?.height??0,V=r+(i!=="center"?"-"+i:""),H=typeof x=="number"?x:{top:0,right:0,bottom:0,left:0,...x},I=Array.isArray(m)?m:[m],q=I.length>0,fe={padding:H,boundary:I.filter(MB),altBoundary:q},{refs:oe,floatingStyles:Ee,placement:me,isPositioned:ie,middlewareData:B}=yB({strategy:"fixed",placement:V,whileElementsMounted:(...K)=>cB(...K,{animationFrame:b==="always"}),elements:{reference:w.anchor},middleware:[bB({mainAxis:n+A,alignmentAxis:l}),u&&NB({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?wB():void 0,...fe}),u&&kB({...fe}),CB({...fe,apply:({elements:K,rects:J,availableWidth:je,availableHeight:ze})=>{const{width:ft,height:Nt}=J.reference,ht=K.floating.style;ht.setProperty("--radix-popper-available-width",`${je}px`),ht.setProperty("--radix-popper-available-height",`${ze}px`),ht.setProperty("--radix-popper-anchor-width",`${ft}px`),ht.setProperty("--radix-popper-anchor-height",`${Nt}px`)}}),M&&TB({element:M,padding:c}),IB({arrowWidth:z,arrowHeight:A}),g&&SB({strategy:"referenceHidden",...fe})]}),[ae,ke]=xE(me),$=Ua(v);Wa(()=>{ie&&$?.()},[ie,$]);const L=B.arrow?.x,W=B.arrow?.y,re=B.arrow?.centerOffset!==0,[se,ge]=h.useState();return Wa(()=>{k&&ge(window.getComputedStyle(k).zIndex)},[k]),e.jsx("div",{ref:oe.setFloating,"data-radix-popper-content-wrapper":"",style:{...Ee,transform:ie?Ee.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:se,"--radix-popper-transform-origin":[B.transformOrigin?.x,B.transformOrigin?.y].join(" "),...B.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:e.jsx(AB,{scope:a,placedSide:ae,onArrowChange:E,arrowX:L,arrowY:W,shouldHideArrow:re,children:e.jsx(lt.div,{"data-side":ae,"data-align":ke,...y,ref:_,style:{...y.style,animation:ie?void 0:"none"}})})})});uE.displayName=bw;var mE="PopperArrow",FB={top:"bottom",right:"left",bottom:"top",left:"right"},hE=h.forwardRef(function(s,a){const{__scopePopper:r,...n}=s,i=DB(mE,r),l=FB[i.placedSide];return e.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:e.jsx(EB,{...n,ref:a,style:{...n.style,display:"block"}})})});hE.displayName=mE;function MB(t){return t!==null}var IB=t=>({name:"transformOrigin",options:t,fn(s){const{placement:a,rects:r,middlewareData:n}=s,l=n.arrow?.centerOffset!==0,c=l?0:t.arrowWidth,u=l?0:t.arrowHeight,[m,x]=xE(a),f={start:"0%",center:"50%",end:"100%"}[x],g=(n.arrow?.x??0)+c/2,b=(n.arrow?.y??0)+u/2;let v="",y="";return m==="bottom"?(v=l?f:`${g}px`,y=`${-u}px`):m==="top"?(v=l?f:`${g}px`,y=`${r.floating.height+u}px`):m==="right"?(v=`${-u}px`,y=l?f:`${b}px`):m==="left"&&(v=`${r.floating.width+u}px`,y=l?f:`${b}px`),{data:{x:v,y}}}});function xE(t){const[s,a="center"]=t.split("-");return[s,a]}var u0=oE,kx=dE,m0=uE,h0=hE,RB=Symbol("radix.slottable");function LB(t){const s=({children:a})=>e.jsx(e.Fragment,{children:a});return s.displayName=`${t}.Slottable`,s.__radixId=RB,s}var[x0]=kr("Tooltip",[mc]),p0=mc(),pE="TooltipProvider",OB=700,Lb="tooltip.open",[$B,Nw]=x0(pE),fE=t=>{const{__scopeTooltip:s,delayDuration:a=OB,skipDelayDuration:r=300,disableHoverableContent:n=!1,children:i}=t,l=h.useRef(!0),c=h.useRef(!1),u=h.useRef(0);return h.useEffect(()=>{const m=u.current;return()=>window.clearTimeout(m)},[]),e.jsx($B,{scope:s,isOpenDelayedRef:l,delayDuration:a,onOpen:h.useCallback(()=>{window.clearTimeout(u.current),l.current=!1},[]),onClose:h.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>l.current=!0,r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:h.useCallback(m=>{c.current=m},[]),disableHoverableContent:n,children:i})};fE.displayName=pE;var Oh="Tooltip",[BB,f0]=x0(Oh),gE=t=>{const{__scopeTooltip:s,children:a,open:r,defaultOpen:n,onOpenChange:i,disableHoverableContent:l,delayDuration:c}=t,u=Nw(Oh,t.__scopeTooltip),m=p0(s),[x,f]=h.useState(null),g=ur(),b=h.useRef(0),v=l??u.disableHoverableContent,y=c??u.delayDuration,w=h.useRef(!1),[k,C]=ln({prop:r,defaultProp:n??!1,onChange:z=>{z?(u.onOpen(),document.dispatchEvent(new CustomEvent(Lb))):u.onClose(),i?.(z)},caller:Oh}),_=h.useMemo(()=>k?w.current?"delayed-open":"instant-open":"closed",[k]),M=h.useCallback(()=>{window.clearTimeout(b.current),b.current=0,w.current=!1,C(!0)},[C]),E=h.useCallback(()=>{window.clearTimeout(b.current),b.current=0,C(!1)},[C]),R=h.useCallback(()=>{window.clearTimeout(b.current),b.current=window.setTimeout(()=>{w.current=!0,C(!0),b.current=0},y)},[y,C]);return h.useEffect(()=>()=>{b.current&&(window.clearTimeout(b.current),b.current=0)},[]),e.jsx(u0,{...m,children:e.jsx(BB,{scope:s,contentId:g,open:k,stateAttribute:_,trigger:x,onTriggerChange:f,onTriggerEnter:h.useCallback(()=>{u.isOpenDelayedRef.current?R():M()},[u.isOpenDelayedRef,R,M]),onTriggerLeave:h.useCallback(()=>{v?E():(window.clearTimeout(b.current),b.current=0)},[E,v]),onOpen:M,onClose:E,disableHoverableContent:v,children:a})})};gE.displayName=Oh;var Ob="TooltipTrigger",vE=h.forwardRef((t,s)=>{const{__scopeTooltip:a,...r}=t,n=f0(Ob,a),i=Nw(Ob,a),l=p0(a),c=h.useRef(null),u=zt(s,c,n.onTriggerChange),m=h.useRef(!1),x=h.useRef(!1),f=h.useCallback(()=>m.current=!1,[]);return h.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),e.jsx(kx,{asChild:!0,...l,children:e.jsx(lt.button,{"aria-describedby":n.open?n.contentId:void 0,"data-state":n.stateAttribute,...r,ref:u,onPointerMove:Ye(t.onPointerMove,g=>{g.pointerType!=="touch"&&!x.current&&!i.isPointerInTransitRef.current&&(n.onTriggerEnter(),x.current=!0)}),onPointerLeave:Ye(t.onPointerLeave,()=>{n.onTriggerLeave(),x.current=!1}),onPointerDown:Ye(t.onPointerDown,()=>{n.open&&n.onClose(),m.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Ye(t.onFocus,()=>{m.current||n.onOpen()}),onBlur:Ye(t.onBlur,n.onClose),onClick:Ye(t.onClick,n.onClose)})})});vE.displayName=Ob;var zB="TooltipPortal",[Npe,VB]=x0(zB,{forceMount:void 0}),Hu="TooltipContent",yE=h.forwardRef((t,s)=>{const a=VB(Hu,t.__scopeTooltip),{forceMount:r=a.forceMount,side:n="top",...i}=t,l=f0(Hu,t.__scopeTooltip);return e.jsx(xr,{present:r||l.open,children:l.disableHoverableContent?e.jsx(jE,{side:n,...i,ref:s}):e.jsx(UB,{side:n,...i,ref:s})})}),UB=h.forwardRef((t,s)=>{const a=f0(Hu,t.__scopeTooltip),r=Nw(Hu,t.__scopeTooltip),n=h.useRef(null),i=zt(s,n),[l,c]=h.useState(null),{trigger:u,onClose:m}=a,x=n.current,{onPointerInTransitChange:f}=r,g=h.useCallback(()=>{c(null),f(!1)},[f]),b=h.useCallback((v,y)=>{const w=v.currentTarget,k={x:v.clientX,y:v.clientY},C=KB(k,w.getBoundingClientRect()),_=YB(k,C),M=QB(y.getBoundingClientRect()),E=ZB([..._,...M]);c(E),f(!0)},[f]);return h.useEffect(()=>()=>g(),[g]),h.useEffect(()=>{if(u&&x){const v=w=>b(w,x),y=w=>b(w,u);return u.addEventListener("pointerleave",v),x.addEventListener("pointerleave",y),()=>{u.removeEventListener("pointerleave",v),x.removeEventListener("pointerleave",y)}}},[u,x,b,g]),h.useEffect(()=>{if(l){const v=y=>{const w=y.target,k={x:y.clientX,y:y.clientY},C=u?.contains(w)||x?.contains(w),_=!XB(k,l);C?g():_&&(g(),m())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[u,x,l,m,g]),e.jsx(jE,{...t,ref:i})}),[qB,HB]=x0(Oh,{isInside:!1}),WB=LB("TooltipContent"),jE=h.forwardRef((t,s)=>{const{__scopeTooltip:a,children:r,"aria-label":n,onEscapeKeyDown:i,onPointerDownOutside:l,...c}=t,u=f0(Hu,a),m=p0(a),{onClose:x}=u;return h.useEffect(()=>(document.addEventListener(Lb,x),()=>document.removeEventListener(Lb,x)),[x]),h.useEffect(()=>{if(u.trigger){const f=g=>{g.target?.contains(u.trigger)&&x()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[u.trigger,x]),e.jsx(kd,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:f=>f.preventDefault(),onDismiss:x,children:e.jsxs(m0,{"data-state":u.stateAttribute,...m,...c,ref:s,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[e.jsx(WB,{children:r}),e.jsx(qB,{scope:a,isInside:!0,children:e.jsx(EO,{id:u.contentId,role:"tooltip",children:n||r})})]})})});yE.displayName=Hu;var bE="TooltipArrow",GB=h.forwardRef((t,s)=>{const{__scopeTooltip:a,...r}=t,n=p0(a);return HB(bE,a).isInside?null:e.jsx(h0,{...n,...r,ref:s})});GB.displayName=bE;function KB(t,s){const a=Math.abs(s.top-t.y),r=Math.abs(s.bottom-t.y),n=Math.abs(s.right-t.x),i=Math.abs(s.left-t.x);switch(Math.min(a,r,n,i)){case i:return"left";case n:return"right";case a:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function YB(t,s,a=5){const r=[];switch(s){case"top":r.push({x:t.x-a,y:t.y+a},{x:t.x+a,y:t.y+a});break;case"bottom":r.push({x:t.x-a,y:t.y-a},{x:t.x+a,y:t.y-a});break;case"left":r.push({x:t.x+a,y:t.y-a},{x:t.x+a,y:t.y+a});break;case"right":r.push({x:t.x-a,y:t.y-a},{x:t.x-a,y:t.y+a});break}return r}function QB(t){const{top:s,right:a,bottom:r,left:n}=t;return[{x:n,y:s},{x:a,y:s},{x:a,y:r},{x:n,y:r}]}function XB(t,s){const{x:a,y:r}=t;let n=!1;for(let i=0,l=s.length-1;i<s.length;l=i++){const c=s[i],u=s[l],m=c.x,x=c.y,f=u.x,g=u.y;x>r!=g>r&&a<(f-m)*(r-x)/(g-x)+m&&(n=!n)}return n}function ZB(t){const s=t.slice();return s.sort((a,r)=>a.x<r.x?-1:a.x>r.x?1:a.y<r.y?-1:a.y>r.y?1:0),JB(s)}function JB(t){if(t.length<=1)return t.slice();const s=[];for(let r=0;r<t.length;r++){const n=t[r];for(;s.length>=2;){const i=s[s.length-1],l=s[s.length-2];if((i.x-l.x)*(n.y-l.y)>=(i.y-l.y)*(n.x-l.x))s.pop();else break}s.push(n)}s.pop();const a=[];for(let r=t.length-1;r>=0;r--){const n=t[r];for(;a.length>=2;){const i=a[a.length-1],l=a[a.length-2];if((i.x-l.x)*(n.y-l.y)>=(i.y-l.y)*(n.x-l.x))a.pop();else break}a.push(n)}return a.pop(),s.length===1&&a.length===1&&s[0].x===a[0].x&&s[0].y===a[0].y?s:s.concat(a)}var ez=fE,tz=gE,sz=vE,NE=yE;const wE=ez,$b=tz,Bb=sz,mg=h.forwardRef(({className:t,sideOffset:s=4,...a},r)=>e.jsx(NE,{ref:r,sideOffset:s,className:te("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...a}));mg.displayName=NE.displayName;async function az(){const t=await fetch("/api/auth/user",{credentials:"include"});if(t.status===401)return null;if(!t.ok)throw new Error(`${t.status}: ${t.statusText}`);return t.json()}async function rz(){window.location.href="/api/logout"}function qr(){const t=bo(),{data:s,isLoading:a}=Le({queryKey:["/api/auth/user"],queryFn:az,retry:!1,staleTime:1e3*60*5}),r=Ot({mutationFn:rz,onSuccess:()=>{t.setQueryData(["/api/auth/user"],null)}});return{user:s,isLoading:a,isAuthenticated:!!s,logout:r.mutate,isLoggingOut:r.isPending}}var nz=Symbol.for("react.lazy"),hg=gx[" use ".trim().toString()];function iz(t){return typeof t=="object"&&t!==null&&"then"in t}function kE(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===nz&&"_payload"in t&&iz(t._payload)}function Cx(t){const s=lz(t),a=h.forwardRef((r,n)=>{let{children:i,...l}=r;kE(i)&&typeof hg=="function"&&(i=hg(i._payload));const c=h.Children.toArray(i),u=c.find(cz);if(u){const m=u.props.children,x=c.map(f=>f===u?h.Children.count(m)>1?h.Children.only(null):h.isValidElement(m)?m.props.children:null:f);return e.jsx(s,{...l,ref:n,children:h.isValidElement(m)?h.cloneElement(m,void 0,x):null})}return e.jsx(s,{...l,ref:n,children:i})});return a.displayName=`${t}.Slot`,a}var g0=Cx("Slot");function lz(t){const s=h.forwardRef((a,r)=>{let{children:n,...i}=a;if(kE(n)&&typeof hg=="function"&&(n=hg(n._payload)),h.isValidElement(n)){const l=uz(n),c=dz(i,n.props);return n.type!==h.Fragment&&(c.ref=r?kn(r,l):l),h.cloneElement(n,c)}return h.Children.count(n)>1?h.Children.only(null):null});return s.displayName=`${t}.SlotClone`,s}var oz=Symbol("radix.slottable");function cz(t){return h.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===oz}function dz(t,s){const a={...s};for(const r in s){const n=t[r],i=s[r];/^on[A-Z]/.test(r)?n&&i?a[r]=(...c)=>{const u=i(...c);return n(...c),u}:n&&(a[r]=n):r==="style"?a[r]={...n,...i}:r==="className"&&(a[r]=[n,i].filter(Boolean).join(" "))}return{...t,...a}}function uz(t){let s=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,a=s&&"isReactWarning"in s&&s.isReactWarning;return a?t.ref:(s=Object.getOwnPropertyDescriptor(t,"ref")?.get,a=s&&"isReactWarning"in s&&s.isReactWarning,a?t.props.ref:t.props.ref||t.ref)}const zb=cm("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",xl:"min-h-11 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),S=h.forwardRef(({className:t,variant:s,size:a,asChild:r=!1,...n},i)=>{const l=r?g0:"button";return e.jsx(l,{className:te(zb({variant:s,size:a,className:t})),ref:i,...n})});S.displayName="Button";const ww=h.createContext({});function kw(t){const s=h.useRef(null);return s.current===null&&(s.current=t()),s.current}const v0=h.createContext(null),Cw=h.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class mz extends h.Component{getSnapshotBeforeUpdate(s){const a=this.props.childRef.current;if(a&&s.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=a.offsetHeight||0,r.width=a.offsetWidth||0,r.top=a.offsetTop,r.left=a.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function hz({children:t,isPresent:s}){const a=h.useId(),r=h.useRef(null),n=h.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=h.useContext(Cw);return h.useInsertionEffect(()=>{const{width:l,height:c,top:u,left:m}=n.current;if(s||!r.current||!l||!c)return;r.current.dataset.motionPopId=a;const x=document.createElement("style");return i&&(x.nonce=i),document.head.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${c}px !important;
            top: ${u}px !important;
            left: ${m}px !important;
          }
        `),()=>{document.head.removeChild(x)}},[s]),e.jsx(mz,{isPresent:s,childRef:r,sizeRef:n,children:h.cloneElement(t,{ref:r})})}const xz=({children:t,initial:s,isPresent:a,onExitComplete:r,custom:n,presenceAffectsLayout:i,mode:l})=>{const c=kw(pz),u=h.useId(),m=h.useCallback(f=>{c.set(f,!0);for(const g of c.values())if(!g)return;r&&r()},[c,r]),x=h.useMemo(()=>({id:u,initial:s,isPresent:a,custom:n,onExitComplete:m,register:f=>(c.set(f,!1),()=>c.delete(f))}),i?[Math.random(),m]:[a,m]);return h.useMemo(()=>{c.forEach((f,g)=>c.set(g,!1))},[a]),h.useEffect(()=>{!a&&!c.size&&r&&r()},[a]),l==="popLayout"&&(t=e.jsx(hz,{isPresent:a,children:t})),e.jsx(v0.Provider,{value:x,children:t})};function pz(){return new Map}function CE(t=!0){const s=h.useContext(v0);if(s===null)return[!0,null];const{isPresent:a,onExitComplete:r,register:n}=s,i=h.useId();h.useEffect(()=>{t&&n(i)},[t]);const l=h.useCallback(()=>t&&r&&r(i),[i,r,t]);return!a&&r?[!1,l]:[!0]}const sf=t=>t.key||"";function JC(t){const s=[];return h.Children.forEach(t,a=>{h.isValidElement(a)&&s.push(a)}),s}const Sw=typeof window<"u",SE=Sw?h.useLayoutEffect:h.useEffect,xm=({children:t,custom:s,initial:a=!0,onExitComplete:r,presenceAffectsLayout:n=!0,mode:i="sync",propagate:l=!1})=>{const[c,u]=CE(l),m=h.useMemo(()=>JC(t),[t]),x=l&&!c?[]:m.map(sf),f=h.useRef(!0),g=h.useRef(m),b=kw(()=>new Map),[v,y]=h.useState(m),[w,k]=h.useState(m);SE(()=>{f.current=!1,g.current=m;for(let M=0;M<w.length;M++){const E=sf(w[M]);x.includes(E)?b.delete(E):b.get(E)!==!0&&b.set(E,!1)}},[w,x.length,x.join("-")]);const C=[];if(m!==v){let M=[...m];for(let E=0;E<w.length;E++){const R=w[E],z=sf(R);x.includes(z)||(M.splice(E,0,R),C.push(R))}i==="wait"&&C.length&&(M=C),k(JC(M)),y(m);return}const{forceRender:_}=h.useContext(ww);return e.jsx(e.Fragment,{children:w.map(M=>{const E=sf(M),R=l&&!c?!1:m===w||x.includes(E),z=()=>{if(b.has(E))b.set(E,!0);else return;let A=!0;b.forEach(V=>{V||(A=!1)}),A&&(_?.(),k(g.current),l&&u?.(),r&&r())};return e.jsx(xz,{isPresent:R,initial:!f.current||a?void 0:!1,custom:R?void 0:s,presenceAffectsLayout:n,mode:i,onExitComplete:R?void 0:z,children:M},E)})})},di=t=>t;let TE=di;function Tw(t){let s;return()=>(s===void 0&&(s=t()),s)}const Wu=(t,s,a)=>{const r=s-t;return r===0?1:(a-t)/r},mo=t=>t*1e3,ho=t=>t/1e3,fz={useManualTiming:!1};function gz(t){let s=new Set,a=new Set,r=!1,n=!1;const i=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(m){i.has(m)&&(u.schedule(m),t()),m(l)}const u={schedule:(m,x=!1,f=!1)=>{const b=f&&r?s:a;return x&&i.add(m),b.has(m)||b.add(m),m},cancel:m=>{a.delete(m),i.delete(m)},process:m=>{if(l=m,r){n=!0;return}r=!0,[s,a]=[a,s],s.forEach(c),s.clear(),r=!1,n&&(n=!1,u.process(m))}};return u}const af=["read","resolveKeyframes","update","preRender","render","postRender"],vz=40;function _E(t,s){let a=!1,r=!0;const n={delta:0,timestamp:0,isProcessing:!1},i=()=>a=!0,l=af.reduce((k,C)=>(k[C]=gz(i),k),{}),{read:c,resolveKeyframes:u,update:m,preRender:x,render:f,postRender:g}=l,b=()=>{const k=performance.now();a=!1,n.delta=r?1e3/60:Math.max(Math.min(k-n.timestamp,vz),1),n.timestamp=k,n.isProcessing=!0,c.process(n),u.process(n),m.process(n),x.process(n),f.process(n),g.process(n),n.isProcessing=!1,a&&s&&(r=!1,t(b))},v=()=>{a=!0,r=!0,n.isProcessing||t(b)};return{schedule:af.reduce((k,C)=>{const _=l[C];return k[C]=(M,E=!1,R=!1)=>(a||v(),_.schedule(M,E,R)),k},{}),cancel:k=>{for(let C=0;C<af.length;C++)l[af[C]].cancel(k)},state:n,steps:l}}const{schedule:ba,cancel:sc,state:Rr,steps:tj}=_E(typeof requestAnimationFrame<"u"?requestAnimationFrame:di,!0),EE=h.createContext({strict:!1}),eS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Gu={};for(const t in eS)Gu[t]={isEnabled:s=>eS[t].some(a=>!!s[a])};function yz(t){for(const s in t)Gu[s]={...Gu[s],...t[s]}}const jz=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function xg(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||jz.has(t)}let PE=t=>!xg(t);function bz(t){t&&(PE=s=>s.startsWith("on")?!xg(s):t(s))}try{bz(require("@emotion/is-prop-valid").default)}catch{}function Nz(t,s,a){const r={};for(const n in t)n==="values"&&typeof t.values=="object"||(PE(n)||a===!0&&xg(n)||!s&&!xg(n)||t.draggable&&n.startsWith("onDrag"))&&(r[n]=t[n]);return r}function wz(t){if(typeof Proxy>"u")return t;const s=new Map,a=(...r)=>t(...r);return new Proxy(a,{get:(r,n)=>n==="create"?t:(s.has(n)||s.set(n,t(n)),s.get(n))})}const y0=h.createContext({});function $h(t){return typeof t=="string"||Array.isArray(t)}function j0(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const _w=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ew=["initial",..._w];function b0(t){return j0(t.animate)||Ew.some(s=>$h(t[s]))}function AE(t){return!!(b0(t)||t.variants)}function kz(t,s){if(b0(t)){const{initial:a,animate:r}=t;return{initial:a===!1||$h(a)?a:void 0,animate:$h(r)?r:void 0}}return t.inherit!==!1?s:{}}function Cz(t){const{initial:s,animate:a}=kz(t,h.useContext(y0));return h.useMemo(()=>({initial:s,animate:a}),[tS(s),tS(a)])}function tS(t){return Array.isArray(t)?t.join(" "):t}const Sz=Symbol.for("motionComponentSymbol");function ju(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Tz(t,s,a){return h.useCallback(r=>{r&&t.onMount&&t.onMount(r),s&&(r?s.mount(r):s.unmount()),a&&(typeof a=="function"?a(r):ju(a)&&(a.current=r))},[s])}const Pw=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),_z="framerAppearId",DE="data-"+Pw(_z),{schedule:Aw}=_E(queueMicrotask,!1),FE=h.createContext({});function Ez(t,s,a,r,n){var i,l;const{visualElement:c}=h.useContext(y0),u=h.useContext(EE),m=h.useContext(v0),x=h.useContext(Cw).reducedMotion,f=h.useRef(null);r=r||u.renderer,!f.current&&r&&(f.current=r(t,{visualState:s,parent:c,props:a,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:x}));const g=f.current,b=h.useContext(FE);g&&!g.projection&&n&&(g.type==="html"||g.type==="svg")&&Pz(f.current,a,n,b);const v=h.useRef(!1);h.useInsertionEffect(()=>{g&&v.current&&g.update(a,m)});const y=a[DE],w=h.useRef(!!y&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,y))&&((l=window.MotionHasOptimisedAnimation)===null||l===void 0?void 0:l.call(window,y)));return SE(()=>{g&&(v.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),Aw.render(g.render),w.current&&g.animationState&&g.animationState.animateChanges())}),h.useEffect(()=>{g&&(!w.current&&g.animationState&&g.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var k;(k=window.MotionHandoffMarkAsComplete)===null||k===void 0||k.call(window,y)}),w.current=!1))}),g}function Pz(t,s,a,r){const{layoutId:n,layout:i,drag:l,dragConstraints:c,layoutScroll:u,layoutRoot:m}=s;t.projection=new a(t.latestValues,s["data-framer-portal-id"]?void 0:ME(t.parent)),t.projection.setOptions({layoutId:n,layout:i,alwaysMeasureLayout:!!l||c&&ju(c),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,layoutScroll:u,layoutRoot:m})}function ME(t){if(t)return t.options.allowProjection!==!1?t.projection:ME(t.parent)}function Az({preloadedFeatures:t,createVisualElement:s,useRender:a,useVisualState:r,Component:n}){var i,l;t&&yz(t);function c(m,x){let f;const g={...h.useContext(Cw),...m,layoutId:Dz(m)},{isStatic:b}=g,v=Cz(m),y=r(m,b);if(!b&&Sw){Fz();const w=Mz(g);f=w.MeasureLayout,v.visualElement=Ez(n,y,g,s,w.ProjectionNode)}return e.jsxs(y0.Provider,{value:v,children:[f&&v.visualElement?e.jsx(f,{visualElement:v.visualElement,...g}):null,a(n,m,Tz(y,v.visualElement,x),y,b,v.visualElement)]})}c.displayName=`motion.${typeof n=="string"?n:`create(${(l=(i=n.displayName)!==null&&i!==void 0?i:n.name)!==null&&l!==void 0?l:""})`}`;const u=h.forwardRef(c);return u[Sz]=n,u}function Dz({layoutId:t}){const s=h.useContext(ww).id;return s&&t!==void 0?s+"-"+t:t}function Fz(t,s){h.useContext(EE).strict}function Mz(t){const{drag:s,layout:a}=Gu;if(!s&&!a)return{};const r={...s,...a};return{MeasureLayout:s?.isEnabled(t)||a?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Iz=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Dw(t){return typeof t!="string"||t.includes("-")?!1:!!(Iz.indexOf(t)>-1||/[A-Z]/u.test(t))}function sS(t){const s=[{},{}];return t?.values.forEach((a,r)=>{s[0][r]=a.get(),s[1][r]=a.getVelocity()}),s}function Fw(t,s,a,r){if(typeof s=="function"){const[n,i]=sS(r);s=s(a!==void 0?a:t.custom,n,i)}if(typeof s=="string"&&(s=t.variants&&t.variants[s]),typeof s=="function"){const[n,i]=sS(r);s=s(a!==void 0?a:t.custom,n,i)}return s}const Vb=t=>Array.isArray(t),Rz=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),Lz=t=>Vb(t)?t[t.length-1]||0:t,en=t=>!!(t&&t.getVelocity);function Of(t){const s=en(t)?t.get():t;return Rz(s)?s.toValue():s}function Oz({scrapeMotionValuesFromProps:t,createRenderState:s,onUpdate:a},r,n,i){const l={latestValues:$z(r,n,i,t),renderState:s()};return a&&(l.onMount=c=>a({props:r,current:c,...l}),l.onUpdate=c=>a(c)),l}const IE=t=>(s,a)=>{const r=h.useContext(y0),n=h.useContext(v0),i=()=>Oz(t,s,r,n);return a?i():kw(i)};function $z(t,s,a,r){const n={},i=r(t,{});for(const g in i)n[g]=Of(i[g]);let{initial:l,animate:c}=t;const u=b0(t),m=AE(t);s&&m&&!u&&t.inherit!==!1&&(l===void 0&&(l=s.initial),c===void 0&&(c=s.animate));let x=a?a.initial===!1:!1;x=x||l===!1;const f=x?c:l;if(f&&typeof f!="boolean"&&!j0(f)){const g=Array.isArray(f)?f:[f];for(let b=0;b<g.length;b++){const v=Fw(t,g[b]);if(v){const{transitionEnd:y,transition:w,...k}=v;for(const C in k){let _=k[C];if(Array.isArray(_)){const M=x?_.length-1:0;_=_[M]}_!==null&&(n[C]=_)}for(const C in y)n[C]=y[C]}}}return n}const pm=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ed=new Set(pm),RE=t=>s=>typeof s=="string"&&s.startsWith(t),LE=RE("--"),Bz=RE("var(--"),Mw=t=>Bz(t)?zz.test(t.split("/*")[0].trim()):!1,zz=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,OE=(t,s)=>s&&typeof t=="number"?s.transform(t):t,vo=(t,s,a)=>a>s?s:a<t?t:a,fm={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Bh={...fm,transform:t=>vo(0,1,t)},rf={...fm,default:1},Sx=t=>({test:s=>typeof s=="string"&&s.endsWith(t)&&s.split(" ").length===1,parse:parseFloat,transform:s=>`${s}${t}`}),Go=Sx("deg"),Pl=Sx("%"),Zt=Sx("px"),Vz=Sx("vh"),Uz=Sx("vw"),aS={...Pl,parse:t=>Pl.parse(t)/100,transform:t=>Pl.transform(t*100)},qz={borderWidth:Zt,borderTopWidth:Zt,borderRightWidth:Zt,borderBottomWidth:Zt,borderLeftWidth:Zt,borderRadius:Zt,radius:Zt,borderTopLeftRadius:Zt,borderTopRightRadius:Zt,borderBottomRightRadius:Zt,borderBottomLeftRadius:Zt,width:Zt,maxWidth:Zt,height:Zt,maxHeight:Zt,top:Zt,right:Zt,bottom:Zt,left:Zt,padding:Zt,paddingTop:Zt,paddingRight:Zt,paddingBottom:Zt,paddingLeft:Zt,margin:Zt,marginTop:Zt,marginRight:Zt,marginBottom:Zt,marginLeft:Zt,backgroundPositionX:Zt,backgroundPositionY:Zt},Hz={rotate:Go,rotateX:Go,rotateY:Go,rotateZ:Go,scale:rf,scaleX:rf,scaleY:rf,scaleZ:rf,skew:Go,skewX:Go,skewY:Go,distance:Zt,translateX:Zt,translateY:Zt,translateZ:Zt,x:Zt,y:Zt,z:Zt,perspective:Zt,transformPerspective:Zt,opacity:Bh,originX:aS,originY:aS,originZ:Zt},rS={...fm,transform:Math.round},Iw={...qz,...Hz,zIndex:rS,size:Zt,fillOpacity:Bh,strokeOpacity:Bh,numOctaves:rS},Wz={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Gz=pm.length;function Kz(t,s,a){let r="",n=!0;for(let i=0;i<Gz;i++){const l=pm[i],c=t[l];if(c===void 0)continue;let u=!0;if(typeof c=="number"?u=c===(l.startsWith("scale")?1:0):u=parseFloat(c)===0,!u||a){const m=OE(c,Iw[l]);if(!u){n=!1;const x=Wz[l]||l;r+=`${x}(${m}) `}a&&(s[l]=m)}}return r=r.trim(),a?r=a(s,n?"":r):n&&(r="none"),r}function Rw(t,s,a){const{style:r,vars:n,transformOrigin:i}=t;let l=!1,c=!1;for(const u in s){const m=s[u];if(Ed.has(u)){l=!0;continue}else if(LE(u)){n[u]=m;continue}else{const x=OE(m,Iw[u]);u.startsWith("origin")?(c=!0,i[u]=x):r[u]=x}}if(s.transform||(l||a?r.transform=Kz(s,t.transform,a):r.transform&&(r.transform="none")),c){const{originX:u="50%",originY:m="50%",originZ:x=0}=i;r.transformOrigin=`${u} ${m} ${x}`}}const Yz={offset:"stroke-dashoffset",array:"stroke-dasharray"},Qz={offset:"strokeDashoffset",array:"strokeDasharray"};function Xz(t,s,a=1,r=0,n=!0){t.pathLength=1;const i=n?Yz:Qz;t[i.offset]=Zt.transform(-r);const l=Zt.transform(s),c=Zt.transform(a);t[i.array]=`${l} ${c}`}function nS(t,s,a){return typeof t=="string"?t:Zt.transform(s+a*t)}function Zz(t,s,a){const r=nS(s,t.x,t.width),n=nS(a,t.y,t.height);return`${r} ${n}`}function Lw(t,{attrX:s,attrY:a,attrScale:r,originX:n,originY:i,pathLength:l,pathSpacing:c=1,pathOffset:u=0,...m},x,f){if(Rw(t,m,f),x){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:b,dimensions:v}=t;g.transform&&(v&&(b.transform=g.transform),delete g.transform),v&&(n!==void 0||i!==void 0||b.transform)&&(b.transformOrigin=Zz(v,n!==void 0?n:.5,i!==void 0?i:.5)),s!==void 0&&(g.x=s),a!==void 0&&(g.y=a),r!==void 0&&(g.scale=r),l!==void 0&&Xz(g,l,c,u,!1)}const Ow=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),$E=()=>({...Ow(),attrs:{}}),$w=t=>typeof t=="string"&&t.toLowerCase()==="svg";function BE(t,{style:s,vars:a},r,n){Object.assign(t.style,s,n&&n.getProjectionStyles(r));for(const i in a)t.style.setProperty(i,a[i])}const zE=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function VE(t,s,a,r){BE(t,s,void 0,r);for(const n in s.attrs)t.setAttribute(zE.has(n)?n:Pw(n),s.attrs[n])}const pg={};function Jz(t){Object.assign(pg,t)}function UE(t,{layout:s,layoutId:a}){return Ed.has(t)||t.startsWith("origin")||(s||a!==void 0)&&(!!pg[t]||t==="opacity")}function Bw(t,s,a){var r;const{style:n}=t,i={};for(const l in n)(en(n[l])||s.style&&en(s.style[l])||UE(l,t)||((r=a?.getValue(l))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(i[l]=n[l]);return i}function qE(t,s,a){const r=Bw(t,s,a);for(const n in t)if(en(t[n])||en(s[n])){const i=pm.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;r[i]=t[n]}return r}function eV(t,s){try{s.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{s.dimensions={x:0,y:0,width:0,height:0}}}const iS=["x","y","width","height","cx","cy","r"],tV={useVisualState:IE({scrapeMotionValuesFromProps:qE,createRenderState:$E,onUpdate:({props:t,prevProps:s,current:a,renderState:r,latestValues:n})=>{if(!a)return;let i=!!t.drag;if(!i){for(const c in n)if(Ed.has(c)){i=!0;break}}if(!i)return;let l=!s;if(s)for(let c=0;c<iS.length;c++){const u=iS[c];t[u]!==s[u]&&(l=!0)}l&&ba.read(()=>{eV(a,r),ba.render(()=>{Lw(r,n,$w(a.tagName),t.transformTemplate),VE(a,r)})})}})},sV={useVisualState:IE({scrapeMotionValuesFromProps:Bw,createRenderState:Ow})};function HE(t,s,a){for(const r in s)!en(s[r])&&!UE(r,a)&&(t[r]=s[r])}function aV({transformTemplate:t},s){return h.useMemo(()=>{const a=Ow();return Rw(a,s,t),Object.assign({},a.vars,a.style)},[s])}function rV(t,s){const a=t.style||{},r={};return HE(r,a,t),Object.assign(r,aV(t,s)),r}function nV(t,s){const a={},r=rV(t,s);return t.drag&&t.dragListener!==!1&&(a.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(a.tabIndex=0),a.style=r,a}function iV(t,s,a,r){const n=h.useMemo(()=>{const i=$E();return Lw(i,s,$w(r),t.transformTemplate),{...i.attrs,style:{...i.style}}},[s]);if(t.style){const i={};HE(i,t.style,t),n.style={...i,...n.style}}return n}function lV(t=!1){return(a,r,n,{latestValues:i},l)=>{const u=(Dw(a)?iV:nV)(r,i,l,a),m=Nz(r,typeof a=="string",t),x=a!==h.Fragment?{...m,...u,ref:n}:{},{children:f}=r,g=h.useMemo(()=>en(f)?f.get():f,[f]);return h.createElement(a,{...x,children:g})}}function oV(t,s){return function(r,{forwardMotionProps:n}={forwardMotionProps:!1}){const l={...Dw(r)?tV:sV,preloadedFeatures:t,useRender:lV(n),createVisualElement:s,Component:r};return Az(l)}}function WE(t,s){if(!Array.isArray(s))return!1;const a=s.length;if(a!==t.length)return!1;for(let r=0;r<a;r++)if(s[r]!==t[r])return!1;return!0}function N0(t,s,a){const r=t.getProps();return Fw(r,s,a!==void 0?a:r.custom,t)}const cV=Tw(()=>window.ScrollTimeline!==void 0);class dV{constructor(s){this.stop=()=>this.runAll("stop"),this.animations=s.filter(Boolean)}get finished(){return Promise.all(this.animations.map(s=>"finished"in s?s.finished:s))}getAll(s){return this.animations[0][s]}setAll(s,a){for(let r=0;r<this.animations.length;r++)this.animations[r][s]=a}attachTimeline(s,a){const r=this.animations.map(n=>{if(cV()&&n.attachTimeline)return n.attachTimeline(s);if(typeof a=="function")return a(n)});return()=>{r.forEach((n,i)=>{n&&n(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(s){this.setAll("time",s)}get speed(){return this.getAll("speed")}set speed(s){this.setAll("speed",s)}get startTime(){return this.getAll("startTime")}get duration(){let s=0;for(let a=0;a<this.animations.length;a++)s=Math.max(s,this.animations[a].duration);return s}runAll(s){this.animations.forEach(a=>a[s]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class uV extends dV{then(s,a){return Promise.all(this.animations).then(s).catch(a)}}function zw(t,s){return t?t[s]||t.default||t:void 0}const Ub=2e4;function GE(t){let s=0;const a=50;let r=t.next(s);for(;!r.done&&s<Ub;)s+=a,r=t.next(s);return s>=Ub?1/0:s}function Vw(t){return typeof t=="function"}function lS(t,s){t.timeline=s,t.onfinish=null}const Uw=t=>Array.isArray(t)&&typeof t[0]=="number",mV={linearEasing:void 0};function hV(t,s){const a=Tw(t);return()=>{var r;return(r=mV[s])!==null&&r!==void 0?r:a()}}const fg=hV(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),KE=(t,s,a=10)=>{let r="";const n=Math.max(Math.round(s/a),2);for(let i=0;i<n;i++)r+=t(Wu(0,n-1,i))+", ";return`linear(${r.substring(0,r.length-2)})`};function YE(t){return!!(typeof t=="function"&&fg()||!t||typeof t=="string"&&(t in qb||fg())||Uw(t)||Array.isArray(t)&&t.every(YE))}const bh=([t,s,a,r])=>`cubic-bezier(${t}, ${s}, ${a}, ${r})`,qb={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:bh([0,.65,.55,1]),circOut:bh([.55,0,1,.45]),backIn:bh([.31,.01,.66,-.59]),backOut:bh([.33,1.53,.69,.99])};function QE(t,s){if(t)return typeof t=="function"&&fg()?KE(t,s):Uw(t)?bh(t):Array.isArray(t)?t.map(a=>QE(a,s)||qb.easeOut):qb[t]}const Wi={x:!1,y:!1};function XE(){return Wi.x||Wi.y}function xV(t,s,a){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let n=document;const i=(r=void 0)!==null&&r!==void 0?r:n.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}function ZE(t,s){const a=xV(t),r=new AbortController,n={passive:!0,...s,signal:r.signal};return[a,n,()=>r.abort()]}function oS(t){return s=>{s.pointerType==="touch"||XE()||t(s)}}function pV(t,s,a={}){const[r,n,i]=ZE(t,a),l=oS(c=>{const{target:u}=c,m=s(c);if(typeof m!="function"||!u)return;const x=oS(f=>{m(f),u.removeEventListener("pointerleave",x)});u.addEventListener("pointerleave",x,n)});return r.forEach(c=>{c.addEventListener("pointerenter",l,n)}),i}const JE=(t,s)=>s?t===s?!0:JE(t,s.parentElement):!1,qw=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,fV=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function gV(t){return fV.has(t.tagName)||t.tabIndex!==-1}const Nh=new WeakSet;function cS(t){return s=>{s.key==="Enter"&&t(s)}}function sj(t,s){t.dispatchEvent(new PointerEvent("pointer"+s,{isPrimary:!0,bubbles:!0}))}const vV=(t,s)=>{const a=t.currentTarget;if(!a)return;const r=cS(()=>{if(Nh.has(a))return;sj(a,"down");const n=cS(()=>{sj(a,"up")}),i=()=>sj(a,"cancel");a.addEventListener("keyup",n,s),a.addEventListener("blur",i,s)});a.addEventListener("keydown",r,s),a.addEventListener("blur",()=>a.removeEventListener("keydown",r),s)};function dS(t){return qw(t)&&!XE()}function yV(t,s,a={}){const[r,n,i]=ZE(t,a),l=c=>{const u=c.currentTarget;if(!dS(c)||Nh.has(u))return;Nh.add(u);const m=s(c),x=(b,v)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",g),!(!dS(b)||!Nh.has(u))&&(Nh.delete(u),typeof m=="function"&&m(b,{success:v}))},f=b=>{x(b,a.useGlobalTarget||JE(u,b.target))},g=b=>{x(b,!1)};window.addEventListener("pointerup",f,n),window.addEventListener("pointercancel",g,n)};return r.forEach(c=>{!gV(c)&&c.getAttribute("tabindex")===null&&(c.tabIndex=0),(a.useGlobalTarget?window:c).addEventListener("pointerdown",l,n),c.addEventListener("focus",m=>vV(m,n),n)}),i}function jV(t){return t==="x"||t==="y"?Wi[t]?null:(Wi[t]=!0,()=>{Wi[t]=!1}):Wi.x||Wi.y?null:(Wi.x=Wi.y=!0,()=>{Wi.x=Wi.y=!1})}const eP=new Set(["width","height","top","left","right","bottom",...pm]);let $f;function bV(){$f=void 0}const Al={now:()=>($f===void 0&&Al.set(Rr.isProcessing||fz.useManualTiming?Rr.timestamp:performance.now()),$f),set:t=>{$f=t,queueMicrotask(bV)}};function Hw(t,s){t.indexOf(s)===-1&&t.push(s)}function Ww(t,s){const a=t.indexOf(s);a>-1&&t.splice(a,1)}class Gw{constructor(){this.subscriptions=[]}add(s){return Hw(this.subscriptions,s),()=>Ww(this.subscriptions,s)}notify(s,a,r){const n=this.subscriptions.length;if(n)if(n===1)this.subscriptions[0](s,a,r);else for(let i=0;i<n;i++){const l=this.subscriptions[i];l&&l(s,a,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function tP(t,s){return s?t*(1e3/s):0}const uS=30,NV=t=>!isNaN(parseFloat(t));class wV{constructor(s,a={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,n=!0)=>{const i=Al.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),n&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(s),this.owner=a.owner}setCurrent(s){this.current=s,this.updatedAt=Al.now(),this.canTrackVelocity===null&&s!==void 0&&(this.canTrackVelocity=NV(this.current))}setPrevFrameValue(s=this.current){this.prevFrameValue=s,this.prevUpdatedAt=this.updatedAt}onChange(s){return this.on("change",s)}on(s,a){this.events[s]||(this.events[s]=new Gw);const r=this.events[s].add(a);return s==="change"?()=>{r(),ba.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const s in this.events)this.events[s].clear()}attach(s,a){this.passiveEffect=s,this.stopPassiveEffect=a}set(s,a=!0){!a||!this.passiveEffect?this.updateAndNotify(s,a):this.passiveEffect(s,this.updateAndNotify)}setWithVelocity(s,a,r){this.set(a),this.prev=void 0,this.prevFrameValue=s,this.prevUpdatedAt=this.updatedAt-r}jump(s,a=!0){this.updateAndNotify(s),this.prev=s,this.prevUpdatedAt=this.prevFrameValue=void 0,a&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const s=Al.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||s-this.updatedAt>uS)return 0;const a=Math.min(this.updatedAt-this.prevUpdatedAt,uS);return tP(parseFloat(this.current)-parseFloat(this.prevFrameValue),a)}start(s){return this.stop(),new Promise(a=>{this.hasAnimated=!0,this.animation=s(a),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function zh(t,s){return new wV(t,s)}function kV(t,s,a){t.hasValue(s)?t.getValue(s).set(a):t.addValue(s,zh(a))}function CV(t,s){const a=N0(t,s);let{transitionEnd:r={},transition:n={},...i}=a||{};i={...i,...r};for(const l in i){const c=Lz(i[l]);kV(t,l,c)}}function SV(t){return!!(en(t)&&t.add)}function Hb(t,s){const a=t.getValue("willChange");if(SV(a))return a.add(s)}function sP(t){return t.props[DE]}const aP=(t,s,a)=>(((1-3*a+3*s)*t+(3*a-6*s))*t+3*s)*t,TV=1e-7,_V=12;function EV(t,s,a,r,n){let i,l,c=0;do l=s+(a-s)/2,i=aP(l,r,n)-t,i>0?a=l:s=l;while(Math.abs(i)>TV&&++c<_V);return l}function Tx(t,s,a,r){if(t===s&&a===r)return di;const n=i=>EV(i,0,1,t,a);return i=>i===0||i===1?i:aP(n(i),s,r)}const rP=t=>s=>s<=.5?t(2*s)/2:(2-t(2*(1-s)))/2,nP=t=>s=>1-t(1-s),iP=Tx(.33,1.53,.69,.99),Kw=nP(iP),lP=rP(Kw),oP=t=>(t*=2)<1?.5*Kw(t):.5*(2-Math.pow(2,-10*(t-1))),Yw=t=>1-Math.sin(Math.acos(t)),cP=nP(Yw),dP=rP(Yw),uP=t=>/^0[^.\s]+$/u.test(t);function PV(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||uP(t):!0}const Eh=t=>Math.round(t*1e5)/1e5,Qw=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function AV(t){return t==null}const DV=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Xw=(t,s)=>a=>!!(typeof a=="string"&&DV.test(a)&&a.startsWith(t)||s&&!AV(a)&&Object.prototype.hasOwnProperty.call(a,s)),mP=(t,s,a)=>r=>{if(typeof r!="string")return r;const[n,i,l,c]=r.match(Qw);return{[t]:parseFloat(n),[s]:parseFloat(i),[a]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},FV=t=>vo(0,255,t),aj={...fm,transform:t=>Math.round(FV(t))},Hc={test:Xw("rgb","red"),parse:mP("red","green","blue"),transform:({red:t,green:s,blue:a,alpha:r=1})=>"rgba("+aj.transform(t)+", "+aj.transform(s)+", "+aj.transform(a)+", "+Eh(Bh.transform(r))+")"};function MV(t){let s="",a="",r="",n="";return t.length>5?(s=t.substring(1,3),a=t.substring(3,5),r=t.substring(5,7),n=t.substring(7,9)):(s=t.substring(1,2),a=t.substring(2,3),r=t.substring(3,4),n=t.substring(4,5),s+=s,a+=a,r+=r,n+=n),{red:parseInt(s,16),green:parseInt(a,16),blue:parseInt(r,16),alpha:n?parseInt(n,16)/255:1}}const Wb={test:Xw("#"),parse:MV,transform:Hc.transform},bu={test:Xw("hsl","hue"),parse:mP("hue","saturation","lightness"),transform:({hue:t,saturation:s,lightness:a,alpha:r=1})=>"hsla("+Math.round(t)+", "+Pl.transform(Eh(s))+", "+Pl.transform(Eh(a))+", "+Eh(Bh.transform(r))+")"},Zr={test:t=>Hc.test(t)||Wb.test(t)||bu.test(t),parse:t=>Hc.test(t)?Hc.parse(t):bu.test(t)?bu.parse(t):Wb.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Hc.transform(t):bu.transform(t)},IV=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function RV(t){var s,a;return isNaN(t)&&typeof t=="string"&&(((s=t.match(Qw))===null||s===void 0?void 0:s.length)||0)+(((a=t.match(IV))===null||a===void 0?void 0:a.length)||0)>0}const hP="number",xP="color",LV="var",OV="var(",mS="${}",$V=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Vh(t){const s=t.toString(),a=[],r={color:[],number:[],var:[]},n=[];let i=0;const c=s.replace($V,u=>(Zr.test(u)?(r.color.push(i),n.push(xP),a.push(Zr.parse(u))):u.startsWith(OV)?(r.var.push(i),n.push(LV),a.push(u)):(r.number.push(i),n.push(hP),a.push(parseFloat(u))),++i,mS)).split(mS);return{values:a,split:c,indexes:r,types:n}}function pP(t){return Vh(t).values}function fP(t){const{split:s,types:a}=Vh(t),r=s.length;return n=>{let i="";for(let l=0;l<r;l++)if(i+=s[l],n[l]!==void 0){const c=a[l];c===hP?i+=Eh(n[l]):c===xP?i+=Zr.transform(n[l]):i+=n[l]}return i}}const BV=t=>typeof t=="number"?0:t;function zV(t){const s=pP(t);return fP(t)(s.map(BV))}const ac={test:RV,parse:pP,createTransformer:fP,getAnimatableNone:zV},VV=new Set(["brightness","contrast","saturate","opacity"]);function UV(t){const[s,a]=t.slice(0,-1).split("(");if(s==="drop-shadow")return t;const[r]=a.match(Qw)||[];if(!r)return t;const n=a.replace(r,"");let i=VV.has(s)?1:0;return r!==a&&(i*=100),s+"("+i+n+")"}const qV=/\b([a-z-]*)\(.*?\)/gu,Gb={...ac,getAnimatableNone:t=>{const s=t.match(qV);return s?s.map(UV).join(" "):t}},HV={...Iw,color:Zr,backgroundColor:Zr,outlineColor:Zr,fill:Zr,stroke:Zr,borderColor:Zr,borderTopColor:Zr,borderRightColor:Zr,borderBottomColor:Zr,borderLeftColor:Zr,filter:Gb,WebkitFilter:Gb},Zw=t=>HV[t];function gP(t,s){let a=Zw(t);return a!==Gb&&(a=ac),a.getAnimatableNone?a.getAnimatableNone(s):void 0}const WV=new Set(["auto","none","0"]);function GV(t,s,a){let r=0,n;for(;r<t.length&&!n;){const i=t[r];typeof i=="string"&&!WV.has(i)&&Vh(i).values.length&&(n=t[r]),r++}if(n&&a)for(const i of s)t[i]=gP(a,n)}const hS=t=>t===fm||t===Zt,xS=(t,s)=>parseFloat(t.split(", ")[s]),pS=(t,s)=>(a,{transform:r})=>{if(r==="none"||!r)return 0;const n=r.match(/^matrix3d\((.+)\)$/u);if(n)return xS(n[1],s);{const i=r.match(/^matrix\((.+)\)$/u);return i?xS(i[1],t):0}},KV=new Set(["x","y","z"]),YV=pm.filter(t=>!KV.has(t));function QV(t){const s=[];return YV.forEach(a=>{const r=t.getValue(a);r!==void 0&&(s.push([a,r.get()]),r.set(a.startsWith("scale")?1:0))}),s}const Ku={width:({x:t},{paddingLeft:s="0",paddingRight:a="0"})=>t.max-t.min-parseFloat(s)-parseFloat(a),height:({y:t},{paddingTop:s="0",paddingBottom:a="0"})=>t.max-t.min-parseFloat(s)-parseFloat(a),top:(t,{top:s})=>parseFloat(s),left:(t,{left:s})=>parseFloat(s),bottom:({y:t},{top:s})=>parseFloat(s)+(t.max-t.min),right:({x:t},{left:s})=>parseFloat(s)+(t.max-t.min),x:pS(4,13),y:pS(5,14)};Ku.translateX=Ku.x;Ku.translateY=Ku.y;const td=new Set;let Kb=!1,Yb=!1;function vP(){if(Yb){const t=Array.from(td).filter(r=>r.needsMeasurement),s=new Set(t.map(r=>r.element)),a=new Map;s.forEach(r=>{const n=QV(r);n.length&&(a.set(r,n),r.render())}),t.forEach(r=>r.measureInitialState()),s.forEach(r=>{r.render();const n=a.get(r);n&&n.forEach(([i,l])=>{var c;(c=r.getValue(i))===null||c===void 0||c.set(l)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Yb=!1,Kb=!1,td.forEach(t=>t.complete()),td.clear()}function yP(){td.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Yb=!0)})}function XV(){yP(),vP()}class Jw{constructor(s,a,r,n,i,l=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...s],this.onComplete=a,this.name=r,this.motionValue=n,this.element=i,this.isAsync=l}scheduleResolve(){this.isScheduled=!0,this.isAsync?(td.add(this),Kb||(Kb=!0,ba.read(yP),ba.resolveKeyframes(vP))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:s,name:a,element:r,motionValue:n}=this;for(let i=0;i<s.length;i++)if(s[i]===null)if(i===0){const l=n?.get(),c=s[s.length-1];if(l!==void 0)s[0]=l;else if(r&&a){const u=r.readValue(a,c);u!=null&&(s[0]=u)}s[0]===void 0&&(s[0]=c),n&&l===void 0&&n.set(s[0])}else s[i]=s[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),td.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,td.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const jP=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),ZV=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function JV(t){const s=ZV.exec(t);if(!s)return[,];const[,a,r,n]=s;return[`--${a??r}`,n]}function bP(t,s,a=1){const[r,n]=JV(t);if(!r)return;const i=window.getComputedStyle(s).getPropertyValue(r);if(i){const l=i.trim();return jP(l)?parseFloat(l):l}return Mw(n)?bP(n,s,a+1):n}const NP=t=>s=>s.test(t),eU={test:t=>t==="auto",parse:t=>t},wP=[fm,Zt,Pl,Go,Uz,Vz,eU],fS=t=>wP.find(NP(t));class kP extends Jw{constructor(s,a,r,n,i){super(s,a,r,n,i,!0)}readKeyframes(){const{unresolvedKeyframes:s,element:a,name:r}=this;if(!a||!a.current)return;super.readKeyframes();for(let u=0;u<s.length;u++){let m=s[u];if(typeof m=="string"&&(m=m.trim(),Mw(m))){const x=bP(m,a.current);x!==void 0&&(s[u]=x),u===s.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!eP.has(r)||s.length!==2)return;const[n,i]=s,l=fS(n),c=fS(i);if(l!==c)if(hS(l)&&hS(c))for(let u=0;u<s.length;u++){const m=s[u];typeof m=="string"&&(s[u]=parseFloat(m))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:s,name:a}=this,r=[];for(let n=0;n<s.length;n++)PV(s[n])&&r.push(n);r.length&&GV(s,r,a)}measureInitialState(){const{element:s,unresolvedKeyframes:a,name:r}=this;if(!s||!s.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ku[r](s.measureViewportBox(),window.getComputedStyle(s.current)),a[0]=this.measuredOrigin;const n=a[a.length-1];n!==void 0&&s.getValue(r,n).jump(n,!1)}measureEndState(){var s;const{element:a,name:r,unresolvedKeyframes:n}=this;if(!a||!a.current)return;const i=a.getValue(r);i&&i.jump(this.measuredOrigin,!1);const l=n.length-1,c=n[l];n[l]=Ku[r](a.measureViewportBox(),window.getComputedStyle(a.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),!((s=this.removedTransforms)===null||s===void 0)&&s.length&&this.removedTransforms.forEach(([u,m])=>{a.getValue(u).set(m)}),this.resolveNoneKeyframes()}}const gS=(t,s)=>s==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ac.test(t)||t==="0")&&!t.startsWith("url("));function tU(t){const s=t[0];if(t.length===1)return!0;for(let a=0;a<t.length;a++)if(t[a]!==s)return!0}function sU(t,s,a,r){const n=t[0];if(n===null)return!1;if(s==="display"||s==="visibility")return!0;const i=t[t.length-1],l=gS(n,s),c=gS(i,s);return!l||!c?!1:tU(t)||(a==="spring"||Vw(a))&&r}const aU=t=>t!==null;function w0(t,{repeat:s,repeatType:a="loop"},r){const n=t.filter(aU),i=s&&a!=="loop"&&s%2===1?0:n.length-1;return!i||r===void 0?n[i]:r}const rU=40;class CP{constructor({autoplay:s=!0,delay:a=0,type:r="keyframes",repeat:n=0,repeatDelay:i=0,repeatType:l="loop",...c}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Al.now(),this.options={autoplay:s,delay:a,type:r,repeat:n,repeatDelay:i,repeatType:l,...c},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>rU?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&XV(),this._resolved}onKeyframesResolved(s,a){this.resolvedAt=Al.now(),this.hasAttemptedResolve=!0;const{name:r,type:n,velocity:i,delay:l,onComplete:c,onUpdate:u,isGenerator:m}=this.options;if(!m&&!sU(s,r,n,i))if(l)this.options.duration=0;else{u&&u(w0(s,this.options,a)),c&&c(),this.resolveFinishedPromise();return}const x=this.initPlayback(s,a);x!==!1&&(this._resolved={keyframes:s,finalKeyframe:a,...x},this.onPostResolved())}onPostResolved(){}then(s,a){return this.currentFinishedPromise.then(s,a)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(s=>{this.resolveFinishedPromise=s})}}const Ra=(t,s,a)=>t+(s-t)*a;function rj(t,s,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?t+(s-t)*6*a:a<1/2?s:a<2/3?t+(s-t)*(2/3-a)*6:t}function nU({hue:t,saturation:s,lightness:a,alpha:r}){t/=360,s/=100,a/=100;let n=0,i=0,l=0;if(!s)n=i=l=a;else{const c=a<.5?a*(1+s):a+s-a*s,u=2*a-c;n=rj(u,c,t+1/3),i=rj(u,c,t),l=rj(u,c,t-1/3)}return{red:Math.round(n*255),green:Math.round(i*255),blue:Math.round(l*255),alpha:r}}function gg(t,s){return a=>a>0?s:t}const nj=(t,s,a)=>{const r=t*t,n=a*(s*s-r)+r;return n<0?0:Math.sqrt(n)},iU=[Wb,Hc,bu],lU=t=>iU.find(s=>s.test(t));function vS(t){const s=lU(t);if(!s)return!1;let a=s.parse(t);return s===bu&&(a=nU(a)),a}const yS=(t,s)=>{const a=vS(t),r=vS(s);if(!a||!r)return gg(t,s);const n={...a};return i=>(n.red=nj(a.red,r.red,i),n.green=nj(a.green,r.green,i),n.blue=nj(a.blue,r.blue,i),n.alpha=Ra(a.alpha,r.alpha,i),Hc.transform(n))},oU=(t,s)=>a=>s(t(a)),_x=(...t)=>t.reduce(oU),Qb=new Set(["none","hidden"]);function cU(t,s){return Qb.has(t)?a=>a<=0?t:s:a=>a>=1?s:t}function dU(t,s){return a=>Ra(t,s,a)}function e1(t){return typeof t=="number"?dU:typeof t=="string"?Mw(t)?gg:Zr.test(t)?yS:hU:Array.isArray(t)?SP:typeof t=="object"?Zr.test(t)?yS:uU:gg}function SP(t,s){const a=[...t],r=a.length,n=t.map((i,l)=>e1(i)(i,s[l]));return i=>{for(let l=0;l<r;l++)a[l]=n[l](i);return a}}function uU(t,s){const a={...t,...s},r={};for(const n in a)t[n]!==void 0&&s[n]!==void 0&&(r[n]=e1(t[n])(t[n],s[n]));return n=>{for(const i in r)a[i]=r[i](n);return a}}function mU(t,s){var a;const r=[],n={color:0,var:0,number:0};for(let i=0;i<s.values.length;i++){const l=s.types[i],c=t.indexes[l][n[l]],u=(a=t.values[c])!==null&&a!==void 0?a:0;r[i]=u,n[l]++}return r}const hU=(t,s)=>{const a=ac.createTransformer(s),r=Vh(t),n=Vh(s);return r.indexes.var.length===n.indexes.var.length&&r.indexes.color.length===n.indexes.color.length&&r.indexes.number.length>=n.indexes.number.length?Qb.has(t)&&!n.values.length||Qb.has(s)&&!r.values.length?cU(t,s):_x(SP(mU(r,n),n.values),a):gg(t,s)};function TP(t,s,a){return typeof t=="number"&&typeof s=="number"&&typeof a=="number"?Ra(t,s,a):e1(t)(t,s)}const xU=5;function _P(t,s,a){const r=Math.max(s-xU,0);return tP(a-t(r),s-r)}const Ba={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ij=.001;function pU({duration:t=Ba.duration,bounce:s=Ba.bounce,velocity:a=Ba.velocity,mass:r=Ba.mass}){let n,i,l=1-s;l=vo(Ba.minDamping,Ba.maxDamping,l),t=vo(Ba.minDuration,Ba.maxDuration,ho(t)),l<1?(n=m=>{const x=m*l,f=x*t,g=x-a,b=Xb(m,l),v=Math.exp(-f);return ij-g/b*v},i=m=>{const f=m*l*t,g=f*a+a,b=Math.pow(l,2)*Math.pow(m,2)*t,v=Math.exp(-f),y=Xb(Math.pow(m,2),l);return(-n(m)+ij>0?-1:1)*((g-b)*v)/y}):(n=m=>{const x=Math.exp(-m*t),f=(m-a)*t+1;return-ij+x*f},i=m=>{const x=Math.exp(-m*t),f=(a-m)*(t*t);return x*f});const c=5/t,u=gU(n,i,c);if(t=mo(t),isNaN(u))return{stiffness:Ba.stiffness,damping:Ba.damping,duration:t};{const m=Math.pow(u,2)*r;return{stiffness:m,damping:l*2*Math.sqrt(r*m),duration:t}}}const fU=12;function gU(t,s,a){let r=a;for(let n=1;n<fU;n++)r=r-t(r)/s(r);return r}function Xb(t,s){return t*Math.sqrt(1-s*s)}const vU=["duration","bounce"],yU=["stiffness","damping","mass"];function jS(t,s){return s.some(a=>t[a]!==void 0)}function jU(t){let s={velocity:Ba.velocity,stiffness:Ba.stiffness,damping:Ba.damping,mass:Ba.mass,isResolvedFromDuration:!1,...t};if(!jS(t,yU)&&jS(t,vU))if(t.visualDuration){const a=t.visualDuration,r=2*Math.PI/(a*1.2),n=r*r,i=2*vo(.05,1,1-(t.bounce||0))*Math.sqrt(n);s={...s,mass:Ba.mass,stiffness:n,damping:i}}else{const a=pU(t);s={...s,...a,mass:Ba.mass},s.isResolvedFromDuration=!0}return s}function EP(t=Ba.visualDuration,s=Ba.bounce){const a=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:s}:t;let{restSpeed:r,restDelta:n}=a;const i=a.keyframes[0],l=a.keyframes[a.keyframes.length-1],c={done:!1,value:i},{stiffness:u,damping:m,mass:x,duration:f,velocity:g,isResolvedFromDuration:b}=jU({...a,velocity:-ho(a.velocity||0)}),v=g||0,y=m/(2*Math.sqrt(u*x)),w=l-i,k=ho(Math.sqrt(u/x)),C=Math.abs(w)<5;r||(r=C?Ba.restSpeed.granular:Ba.restSpeed.default),n||(n=C?Ba.restDelta.granular:Ba.restDelta.default);let _;if(y<1){const E=Xb(k,y);_=R=>{const z=Math.exp(-y*k*R);return l-z*((v+y*k*w)/E*Math.sin(E*R)+w*Math.cos(E*R))}}else if(y===1)_=E=>l-Math.exp(-k*E)*(w+(v+k*w)*E);else{const E=k*Math.sqrt(y*y-1);_=R=>{const z=Math.exp(-y*k*R),A=Math.min(E*R,300);return l-z*((v+y*k*w)*Math.sinh(A)+E*w*Math.cosh(A))/E}}const M={calculatedDuration:b&&f||null,next:E=>{const R=_(E);if(b)c.done=E>=f;else{let z=0;y<1&&(z=E===0?mo(v):_P(_,E,R));const A=Math.abs(z)<=r,V=Math.abs(l-R)<=n;c.done=A&&V}return c.value=c.done?l:R,c},toString:()=>{const E=Math.min(GE(M),Ub),R=KE(z=>M.next(E*z).value,E,30);return E+"ms "+R}};return M}function bS({keyframes:t,velocity:s=0,power:a=.8,timeConstant:r=325,bounceDamping:n=10,bounceStiffness:i=500,modifyTarget:l,min:c,max:u,restDelta:m=.5,restSpeed:x}){const f=t[0],g={done:!1,value:f},b=A=>c!==void 0&&A<c||u!==void 0&&A>u,v=A=>c===void 0?u:u===void 0||Math.abs(c-A)<Math.abs(u-A)?c:u;let y=a*s;const w=f+y,k=l===void 0?w:l(w);k!==w&&(y=k-f);const C=A=>-y*Math.exp(-A/r),_=A=>k+C(A),M=A=>{const V=C(A),H=_(A);g.done=Math.abs(V)<=m,g.value=g.done?k:H};let E,R;const z=A=>{b(g.value)&&(E=A,R=EP({keyframes:[g.value,v(g.value)],velocity:_P(_,A,g.value),damping:n,stiffness:i,restDelta:m,restSpeed:x}))};return z(0),{calculatedDuration:null,next:A=>{let V=!1;return!R&&E===void 0&&(V=!0,M(A),z(A)),E!==void 0&&A>=E?R.next(A-E):(!V&&M(A),g)}}}const bU=Tx(.42,0,1,1),NU=Tx(0,0,.58,1),PP=Tx(.42,0,.58,1),wU=t=>Array.isArray(t)&&typeof t[0]!="number",kU={linear:di,easeIn:bU,easeInOut:PP,easeOut:NU,circIn:Yw,circInOut:dP,circOut:cP,backIn:Kw,backInOut:lP,backOut:iP,anticipate:oP},NS=t=>{if(Uw(t)){TE(t.length===4);const[s,a,r,n]=t;return Tx(s,a,r,n)}else if(typeof t=="string")return kU[t];return t};function CU(t,s,a){const r=[],n=a||TP,i=t.length-1;for(let l=0;l<i;l++){let c=n(t[l],t[l+1]);if(s){const u=Array.isArray(s)?s[l]||di:s;c=_x(u,c)}r.push(c)}return r}function SU(t,s,{clamp:a=!0,ease:r,mixer:n}={}){const i=t.length;if(TE(i===s.length),i===1)return()=>s[0];if(i===2&&s[0]===s[1])return()=>s[1];const l=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),s=[...s].reverse());const c=CU(s,r,n),u=c.length,m=x=>{if(l&&x<t[0])return s[0];let f=0;if(u>1)for(;f<t.length-2&&!(x<t[f+1]);f++);const g=Wu(t[f],t[f+1],x);return c[f](g)};return a?x=>m(vo(t[0],t[i-1],x)):m}function TU(t,s){const a=t[t.length-1];for(let r=1;r<=s;r++){const n=Wu(0,s,r);t.push(Ra(a,1,n))}}function _U(t){const s=[0];return TU(s,t.length-1),s}function EU(t,s){return t.map(a=>a*s)}function PU(t,s){return t.map(()=>s||PP).splice(0,t.length-1)}function vg({duration:t=300,keyframes:s,times:a,ease:r="easeInOut"}){const n=wU(r)?r.map(NS):NS(r),i={done:!1,value:s[0]},l=EU(a&&a.length===s.length?a:_U(s),t),c=SU(l,s,{ease:Array.isArray(n)?n:PU(s,n)});return{calculatedDuration:t,next:u=>(i.value=c(u),i.done=u>=t,i)}}const AU=t=>{const s=({timestamp:a})=>t(a);return{start:()=>ba.update(s,!0),stop:()=>sc(s),now:()=>Rr.isProcessing?Rr.timestamp:Al.now()}},DU={decay:bS,inertia:bS,tween:vg,keyframes:vg,spring:EP},FU=t=>t/100;class t1 extends CP{constructor(s){super(s),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:u}=this.options;u&&u()};const{name:a,motionValue:r,element:n,keyframes:i}=this.options,l=n?.KeyframeResolver||Jw,c=(u,m)=>this.onKeyframesResolved(u,m);this.resolver=new l(i,c,a,r,n),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(s){const{type:a="keyframes",repeat:r=0,repeatDelay:n=0,repeatType:i,velocity:l=0}=this.options,c=Vw(a)?a:DU[a]||vg;let u,m;c!==vg&&typeof s[0]!="number"&&(u=_x(FU,TP(s[0],s[1])),s=[0,100]);const x=c({...this.options,keyframes:s});i==="mirror"&&(m=c({...this.options,keyframes:[...s].reverse(),velocity:-l})),x.calculatedDuration===null&&(x.calculatedDuration=GE(x));const{calculatedDuration:f}=x,g=f+n,b=g*(r+1)-n;return{generator:x,mirroredGenerator:m,mapPercentToKeyframes:u,calculatedDuration:f,resolvedDuration:g,totalDuration:b}}onPostResolved(){const{autoplay:s=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!s?this.pause():this.state=this.pendingPlayState}tick(s,a=!1){const{resolved:r}=this;if(!r){const{keyframes:A}=this.options;return{done:!0,value:A[A.length-1]}}const{finalKeyframe:n,generator:i,mirroredGenerator:l,mapPercentToKeyframes:c,keyframes:u,calculatedDuration:m,totalDuration:x,resolvedDuration:f}=r;if(this.startTime===null)return i.next(0);const{delay:g,repeat:b,repeatType:v,repeatDelay:y,onUpdate:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,s):this.speed<0&&(this.startTime=Math.min(s-x/this.speed,this.startTime)),a?this.currentTime=s:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(s-this.startTime)*this.speed;const k=this.currentTime-g*(this.speed>=0?1:-1),C=this.speed>=0?k<0:k>x;this.currentTime=Math.max(k,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=x);let _=this.currentTime,M=i;if(b){const A=Math.min(this.currentTime,x)/f;let V=Math.floor(A),H=A%1;!H&&A>=1&&(H=1),H===1&&V--,V=Math.min(V,b+1),V%2&&(v==="reverse"?(H=1-H,y&&(H-=y/f)):v==="mirror"&&(M=l)),_=vo(0,1,H)*f}const E=C?{done:!1,value:u[0]}:M.next(_);c&&(E.value=c(E.value));let{done:R}=E;!C&&m!==null&&(R=this.speed>=0?this.currentTime>=x:this.currentTime<=0);const z=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&R);return z&&n!==void 0&&(E.value=w0(u,this.options,n)),w&&w(E.value),z&&this.finish(),E}get duration(){const{resolved:s}=this;return s?ho(s.calculatedDuration):0}get time(){return ho(this.currentTime)}set time(s){s=mo(s),this.currentTime=s,this.holdTime!==null||this.speed===0?this.holdTime=s:this.driver&&(this.startTime=this.driver.now()-s/this.speed)}get speed(){return this.playbackSpeed}set speed(s){const a=this.playbackSpeed!==s;this.playbackSpeed=s,a&&(this.time=ho(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:s=AU,onPlay:a,startTime:r}=this.options;this.driver||(this.driver=s(i=>this.tick(i))),a&&a();const n=this.driver.now();this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=n):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var s;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(s=this.currentTime)!==null&&s!==void 0?s:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:s}=this.options;s&&s()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(s){return this.startTime=0,this.tick(s,!0)}}const MU=new Set(["opacity","clipPath","filter","transform"]);function IU(t,s,a,{delay:r=0,duration:n=300,repeat:i=0,repeatType:l="loop",ease:c="easeInOut",times:u}={}){const m={[s]:a};u&&(m.offset=u);const x=QE(c,n);return Array.isArray(x)&&(m.easing=x),t.animate(m,{delay:r,duration:n,easing:Array.isArray(x)?"linear":x,fill:"both",iterations:i+1,direction:l==="reverse"?"alternate":"normal"})}const RU=Tw(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),yg=10,LU=2e4;function OU(t){return Vw(t.type)||t.type==="spring"||!YE(t.ease)}function $U(t,s){const a=new t1({...s,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const n=[];let i=0;for(;!r.done&&i<LU;)r=a.sample(i),n.push(r.value),i+=yg;return{times:void 0,keyframes:n,duration:i-yg,ease:"linear"}}const AP={anticipate:oP,backInOut:lP,circInOut:dP};function BU(t){return t in AP}class wS extends CP{constructor(s){super(s);const{name:a,motionValue:r,element:n,keyframes:i}=this.options;this.resolver=new kP(i,(l,c)=>this.onKeyframesResolved(l,c),a,r,n),this.resolver.scheduleResolve()}initPlayback(s,a){let{duration:r=300,times:n,ease:i,type:l,motionValue:c,name:u,startTime:m}=this.options;if(!c.owner||!c.owner.current)return!1;if(typeof i=="string"&&fg()&&BU(i)&&(i=AP[i]),OU(this.options)){const{onComplete:f,onUpdate:g,motionValue:b,element:v,...y}=this.options,w=$U(s,y);s=w.keyframes,s.length===1&&(s[1]=s[0]),r=w.duration,n=w.times,i=w.ease,l="keyframes"}const x=IU(c.owner.current,u,s,{...this.options,duration:r,times:n,ease:i});return x.startTime=m??this.calcStartTime(),this.pendingTimeline?(lS(x,this.pendingTimeline),this.pendingTimeline=void 0):x.onfinish=()=>{const{onComplete:f}=this.options;c.set(w0(s,this.options,a)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:x,duration:r,times:n,type:l,ease:i,keyframes:s}}get duration(){const{resolved:s}=this;if(!s)return 0;const{duration:a}=s;return ho(a)}get time(){const{resolved:s}=this;if(!s)return 0;const{animation:a}=s;return ho(a.currentTime||0)}set time(s){const{resolved:a}=this;if(!a)return;const{animation:r}=a;r.currentTime=mo(s)}get speed(){const{resolved:s}=this;if(!s)return 1;const{animation:a}=s;return a.playbackRate}set speed(s){const{resolved:a}=this;if(!a)return;const{animation:r}=a;r.playbackRate=s}get state(){const{resolved:s}=this;if(!s)return"idle";const{animation:a}=s;return a.playState}get startTime(){const{resolved:s}=this;if(!s)return null;const{animation:a}=s;return a.startTime}attachTimeline(s){if(!this._resolved)this.pendingTimeline=s;else{const{resolved:a}=this;if(!a)return di;const{animation:r}=a;lS(r,s)}return di}play(){if(this.isStopped)return;const{resolved:s}=this;if(!s)return;const{animation:a}=s;a.playState==="finished"&&this.updateFinishedPromise(),a.play()}pause(){const{resolved:s}=this;if(!s)return;const{animation:a}=s;a.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:s}=this;if(!s)return;const{animation:a,keyframes:r,duration:n,type:i,ease:l,times:c}=s;if(a.playState==="idle"||a.playState==="finished")return;if(this.time){const{motionValue:m,onUpdate:x,onComplete:f,element:g,...b}=this.options,v=new t1({...b,keyframes:r,duration:n,type:i,ease:l,times:c,isGenerator:!0}),y=mo(this.time);m.setWithVelocity(v.sample(y-yg).value,v.sample(y).value,yg)}const{onStop:u}=this.options;u&&u(),this.cancel()}complete(){const{resolved:s}=this;s&&s.animation.finish()}cancel(){const{resolved:s}=this;s&&s.animation.cancel()}static supports(s){const{motionValue:a,name:r,repeatDelay:n,repeatType:i,damping:l,type:c}=s;if(!a||!a.owner||!(a.owner.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:m}=a.owner.getProps();return RU()&&r&&MU.has(r)&&!u&&!m&&!n&&i!=="mirror"&&l!==0&&c!=="inertia"}}const zU={type:"spring",stiffness:500,damping:25,restSpeed:10},VU=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),UU={type:"keyframes",duration:.8},qU={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},HU=(t,{keyframes:s})=>s.length>2?UU:Ed.has(t)?t.startsWith("scale")?VU(s[1]):zU:qU;function WU({when:t,delay:s,delayChildren:a,staggerChildren:r,staggerDirection:n,repeat:i,repeatType:l,repeatDelay:c,from:u,elapsed:m,...x}){return!!Object.keys(x).length}const s1=(t,s,a,r={},n,i)=>l=>{const c=zw(r,t)||{},u=c.delay||r.delay||0;let{elapsed:m=0}=r;m=m-mo(u);let x={keyframes:Array.isArray(a)?a:[null,a],ease:"easeOut",velocity:s.getVelocity(),...c,delay:-m,onUpdate:g=>{s.set(g),c.onUpdate&&c.onUpdate(g)},onComplete:()=>{l(),c.onComplete&&c.onComplete()},name:t,motionValue:s,element:i?void 0:n};WU(c)||(x={...x,...HU(t,x)}),x.duration&&(x.duration=mo(x.duration)),x.repeatDelay&&(x.repeatDelay=mo(x.repeatDelay)),x.from!==void 0&&(x.keyframes[0]=x.from);let f=!1;if((x.type===!1||x.duration===0&&!x.repeatDelay)&&(x.duration=0,x.delay===0&&(f=!0)),f&&!i&&s.get()!==void 0){const g=w0(x.keyframes,c);if(g!==void 0)return ba.update(()=>{x.onUpdate(g),x.onComplete()}),new uV([])}return!i&&wS.supports(x)?new wS(x):new t1(x)};function GU({protectedKeys:t,needsAnimating:s},a){const r=t.hasOwnProperty(a)&&s[a]!==!0;return s[a]=!1,r}function DP(t,s,{delay:a=0,transitionOverride:r,type:n}={}){var i;let{transition:l=t.getDefaultTransition(),transitionEnd:c,...u}=s;r&&(l=r);const m=[],x=n&&t.animationState&&t.animationState.getState()[n];for(const f in u){const g=t.getValue(f,(i=t.latestValues[f])!==null&&i!==void 0?i:null),b=u[f];if(b===void 0||x&&GU(x,f))continue;const v={delay:a,...zw(l||{},f)};let y=!1;if(window.MotionHandoffAnimation){const k=sP(t);if(k){const C=window.MotionHandoffAnimation(k,f,ba);C!==null&&(v.startTime=C,y=!0)}}Hb(t,f),g.start(s1(f,g,b,t.shouldReduceMotion&&eP.has(f)?{type:!1}:v,t,y));const w=g.animation;w&&m.push(w)}return c&&Promise.all(m).then(()=>{ba.update(()=>{c&&CV(t,c)})}),m}function Zb(t,s,a={}){var r;const n=N0(t,s,a.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=n||{};a.transitionOverride&&(i=a.transitionOverride);const l=n?()=>Promise.all(DP(t,n,a)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:x=0,staggerChildren:f,staggerDirection:g}=i;return KU(t,s,x+m,f,g,a)}:()=>Promise.resolve(),{when:u}=i;if(u){const[m,x]=u==="beforeChildren"?[l,c]:[c,l];return m().then(()=>x())}else return Promise.all([l(),c(a.delay)])}function KU(t,s,a=0,r=0,n=1,i){const l=[],c=(t.variantChildren.size-1)*r,u=n===1?(m=0)=>m*r:(m=0)=>c-m*r;return Array.from(t.variantChildren).sort(YU).forEach((m,x)=>{m.notify("AnimationStart",s),l.push(Zb(m,s,{...i,delay:a+u(x)}).then(()=>m.notify("AnimationComplete",s)))}),Promise.all(l)}function YU(t,s){return t.sortNodePosition(s)}function QU(t,s,a={}){t.notify("AnimationStart",s);let r;if(Array.isArray(s)){const n=s.map(i=>Zb(t,i,a));r=Promise.all(n)}else if(typeof s=="string")r=Zb(t,s,a);else{const n=typeof s=="function"?N0(t,s,a.custom):s;r=Promise.all(DP(t,n,a))}return r.then(()=>{t.notify("AnimationComplete",s)})}const XU=Ew.length;function FP(t){if(!t)return;if(!t.isControllingVariants){const a=t.parent?FP(t.parent)||{}:{};return t.props.initial!==void 0&&(a.initial=t.props.initial),a}const s={};for(let a=0;a<XU;a++){const r=Ew[a],n=t.props[r];($h(n)||n===!1)&&(s[r]=n)}return s}const ZU=[..._w].reverse(),JU=_w.length;function eq(t){return s=>Promise.all(s.map(({animation:a,options:r})=>QU(t,a,r)))}function tq(t){let s=eq(t),a=kS(),r=!0;const n=u=>(m,x)=>{var f;const g=N0(t,x,u==="exit"?(f=t.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(g){const{transition:b,transitionEnd:v,...y}=g;m={...m,...y,...v}}return m};function i(u){s=u(t)}function l(u){const{props:m}=t,x=FP(t.parent)||{},f=[],g=new Set;let b={},v=1/0;for(let w=0;w<JU;w++){const k=ZU[w],C=a[k],_=m[k]!==void 0?m[k]:x[k],M=$h(_),E=k===u?C.isActive:null;E===!1&&(v=w);let R=_===x[k]&&_!==m[k]&&M;if(R&&r&&t.manuallyAnimateOnMount&&(R=!1),C.protectedKeys={...b},!C.isActive&&E===null||!_&&!C.prevProp||j0(_)||typeof _=="boolean")continue;const z=sq(C.prevProp,_);let A=z||k===u&&C.isActive&&!R&&M||w>v&&M,V=!1;const H=Array.isArray(_)?_:[_];let I=H.reduce(n(k),{});E===!1&&(I={});const{prevResolvedValues:q={}}=C,fe={...q,...I},oe=ie=>{A=!0,g.has(ie)&&(V=!0,g.delete(ie)),C.needsAnimating[ie]=!0;const B=t.getValue(ie);B&&(B.liveStyle=!1)};for(const ie in fe){const B=I[ie],ae=q[ie];if(b.hasOwnProperty(ie))continue;let ke=!1;Vb(B)&&Vb(ae)?ke=!WE(B,ae):ke=B!==ae,ke?B!=null?oe(ie):g.add(ie):B!==void 0&&g.has(ie)?oe(ie):C.protectedKeys[ie]=!0}C.prevProp=_,C.prevResolvedValues=I,C.isActive&&(b={...b,...I}),r&&t.blockInitialAnimation&&(A=!1),A&&(!(R&&z)||V)&&f.push(...H.map(ie=>({animation:ie,options:{type:k}})))}if(g.size){const w={};g.forEach(k=>{const C=t.getBaseTarget(k),_=t.getValue(k);_&&(_.liveStyle=!0),w[k]=C??null}),f.push({animation:w})}let y=!!f.length;return r&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(y=!1),r=!1,y?s(f):Promise.resolve()}function c(u,m){var x;if(a[u].isActive===m)return Promise.resolve();(x=t.variantChildren)===null||x===void 0||x.forEach(g=>{var b;return(b=g.animationState)===null||b===void 0?void 0:b.setActive(u,m)}),a[u].isActive=m;const f=l(u);for(const g in a)a[g].protectedKeys={};return f}return{animateChanges:l,setActive:c,setAnimateFunction:i,getState:()=>a,reset:()=>{a=kS(),r=!0}}}function sq(t,s){return typeof s=="string"?s!==t:Array.isArray(s)?!WE(s,t):!1}function Oc(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function kS(){return{animate:Oc(!0),whileInView:Oc(),whileHover:Oc(),whileTap:Oc(),whileDrag:Oc(),whileFocus:Oc(),exit:Oc()}}class hc{constructor(s){this.isMounted=!1,this.node=s}update(){}}class aq extends hc{constructor(s){super(s),s.animationState||(s.animationState=tq(s))}updateAnimationControlsSubscription(){const{animate:s}=this.node.getProps();j0(s)&&(this.unmountControls=s.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:s}=this.node.getProps(),{animate:a}=this.node.prevProps||{};s!==a&&this.updateAnimationControlsSubscription()}unmount(){var s;this.node.animationState.reset(),(s=this.unmountControls)===null||s===void 0||s.call(this)}}let rq=0;class nq extends hc{constructor(){super(...arguments),this.id=rq++}update(){if(!this.node.presenceContext)return;const{isPresent:s,onExitComplete:a}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||s===r)return;const n=this.node.animationState.setActive("exit",!s);a&&!s&&n.then(()=>a(this.id))}mount(){const{register:s}=this.node.presenceContext||{};s&&(this.unmount=s(this.id))}unmount(){}}const iq={animation:{Feature:aq},exit:{Feature:nq}};function Uh(t,s,a,r={passive:!0}){return t.addEventListener(s,a,r),()=>t.removeEventListener(s,a)}function Ex(t){return{point:{x:t.pageX,y:t.pageY}}}const lq=t=>s=>qw(s)&&t(s,Ex(s));function Ph(t,s,a,r){return Uh(t,s,lq(a),r)}const CS=(t,s)=>Math.abs(t-s);function oq(t,s){const a=CS(t.x,s.x),r=CS(t.y,s.y);return Math.sqrt(a**2+r**2)}class MP{constructor(s,a,{transformPagePoint:r,contextWindow:n,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=oj(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,b=oq(f.offset,{x:0,y:0})>=3;if(!g&&!b)return;const{point:v}=f,{timestamp:y}=Rr;this.history.push({...v,timestamp:y});const{onStart:w,onMove:k}=this.handlers;g||(w&&w(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),k&&k(this.lastMoveEvent,f)},this.handlePointerMove=(f,g)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=lj(g,this.transformPagePoint),ba.update(this.updatePoint,!0)},this.handlePointerUp=(f,g)=>{this.end();const{onEnd:b,onSessionEnd:v,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=oj(f.type==="pointercancel"?this.lastMoveEventInfo:lj(g,this.transformPagePoint),this.history);this.startEvent&&b&&b(f,w),v&&v(f,w)},!qw(s))return;this.dragSnapToOrigin=i,this.handlers=a,this.transformPagePoint=r,this.contextWindow=n||window;const l=Ex(s),c=lj(l,this.transformPagePoint),{point:u}=c,{timestamp:m}=Rr;this.history=[{...u,timestamp:m}];const{onSessionStart:x}=a;x&&x(s,oj(c,this.history)),this.removeListeners=_x(Ph(this.contextWindow,"pointermove",this.handlePointerMove),Ph(this.contextWindow,"pointerup",this.handlePointerUp),Ph(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(s){this.handlers=s}end(){this.removeListeners&&this.removeListeners(),sc(this.updatePoint)}}function lj(t,s){return s?{point:s(t.point)}:t}function SS(t,s){return{x:t.x-s.x,y:t.y-s.y}}function oj({point:t},s){return{point:t,delta:SS(t,IP(s)),offset:SS(t,cq(s)),velocity:dq(s,.1)}}function cq(t){return t[0]}function IP(t){return t[t.length-1]}function dq(t,s){if(t.length<2)return{x:0,y:0};let a=t.length-1,r=null;const n=IP(t);for(;a>=0&&(r=t[a],!(n.timestamp-r.timestamp>mo(s)));)a--;if(!r)return{x:0,y:0};const i=ho(n.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const l={x:(n.x-r.x)/i,y:(n.y-r.y)/i};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}const RP=1e-4,uq=1-RP,mq=1+RP,LP=.01,hq=0-LP,xq=0+LP;function fi(t){return t.max-t.min}function pq(t,s,a){return Math.abs(t-s)<=a}function TS(t,s,a,r=.5){t.origin=r,t.originPoint=Ra(s.min,s.max,t.origin),t.scale=fi(a)/fi(s),t.translate=Ra(a.min,a.max,t.origin)-t.originPoint,(t.scale>=uq&&t.scale<=mq||isNaN(t.scale))&&(t.scale=1),(t.translate>=hq&&t.translate<=xq||isNaN(t.translate))&&(t.translate=0)}function Ah(t,s,a,r){TS(t.x,s.x,a.x,r?r.originX:void 0),TS(t.y,s.y,a.y,r?r.originY:void 0)}function _S(t,s,a){t.min=a.min+s.min,t.max=t.min+fi(s)}function fq(t,s,a){_S(t.x,s.x,a.x),_S(t.y,s.y,a.y)}function ES(t,s,a){t.min=s.min-a.min,t.max=t.min+fi(s)}function Dh(t,s,a){ES(t.x,s.x,a.x),ES(t.y,s.y,a.y)}function gq(t,{min:s,max:a},r){return s!==void 0&&t<s?t=r?Ra(s,t,r.min):Math.max(t,s):a!==void 0&&t>a&&(t=r?Ra(a,t,r.max):Math.min(t,a)),t}function PS(t,s,a){return{min:s!==void 0?t.min+s:void 0,max:a!==void 0?t.max+a-(t.max-t.min):void 0}}function vq(t,{top:s,left:a,bottom:r,right:n}){return{x:PS(t.x,a,n),y:PS(t.y,s,r)}}function AS(t,s){let a=s.min-t.min,r=s.max-t.max;return s.max-s.min<t.max-t.min&&([a,r]=[r,a]),{min:a,max:r}}function yq(t,s){return{x:AS(t.x,s.x),y:AS(t.y,s.y)}}function jq(t,s){let a=.5;const r=fi(t),n=fi(s);return n>r?a=Wu(s.min,s.max-r,t.min):r>n&&(a=Wu(t.min,t.max-n,s.min)),vo(0,1,a)}function bq(t,s){const a={};return s.min!==void 0&&(a.min=s.min-t.min),s.max!==void 0&&(a.max=s.max-t.min),a}const Jb=.35;function Nq(t=Jb){return t===!1?t=0:t===!0&&(t=Jb),{x:DS(t,"left","right"),y:DS(t,"top","bottom")}}function DS(t,s,a){return{min:FS(t,s),max:FS(t,a)}}function FS(t,s){return typeof t=="number"?t:t[s]||0}const MS=()=>({translate:0,scale:1,origin:0,originPoint:0}),Nu=()=>({x:MS(),y:MS()}),IS=()=>({min:0,max:0}),Xa=()=>({x:IS(),y:IS()});function Ti(t){return[t("x"),t("y")]}function OP({top:t,left:s,right:a,bottom:r}){return{x:{min:s,max:a},y:{min:t,max:r}}}function wq({x:t,y:s}){return{top:s.min,right:t.max,bottom:s.max,left:t.min}}function kq(t,s){if(!s)return t;const a=s({x:t.left,y:t.top}),r=s({x:t.right,y:t.bottom});return{top:a.y,left:a.x,bottom:r.y,right:r.x}}function cj(t){return t===void 0||t===1}function eN({scale:t,scaleX:s,scaleY:a}){return!cj(t)||!cj(s)||!cj(a)}function Bc(t){return eN(t)||$P(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function $P(t){return RS(t.x)||RS(t.y)}function RS(t){return t&&t!=="0%"}function jg(t,s,a){const r=t-a,n=s*r;return a+n}function LS(t,s,a,r,n){return n!==void 0&&(t=jg(t,n,r)),jg(t,a,r)+s}function tN(t,s=0,a=1,r,n){t.min=LS(t.min,s,a,r,n),t.max=LS(t.max,s,a,r,n)}function BP(t,{x:s,y:a}){tN(t.x,s.translate,s.scale,s.originPoint),tN(t.y,a.translate,a.scale,a.originPoint)}const OS=.999999999999,$S=1.0000000000001;function Cq(t,s,a,r=!1){const n=a.length;if(!n)return;s.x=s.y=1;let i,l;for(let c=0;c<n;c++){i=a[c],l=i.projectionDelta;const{visualElement:u}=i.options;u&&u.props.style&&u.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&ku(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),l&&(s.x*=l.x.scale,s.y*=l.y.scale,BP(t,l)),r&&Bc(i.latestValues)&&ku(t,i.latestValues))}s.x<$S&&s.x>OS&&(s.x=1),s.y<$S&&s.y>OS&&(s.y=1)}function wu(t,s){t.min=t.min+s,t.max=t.max+s}function BS(t,s,a,r,n=.5){const i=Ra(t.min,t.max,n);tN(t,s,a,i,r)}function ku(t,s){BS(t.x,s.x,s.scaleX,s.scale,s.originX),BS(t.y,s.y,s.scaleY,s.scale,s.originY)}function zP(t,s){return OP(kq(t.getBoundingClientRect(),s))}function Sq(t,s,a){const r=zP(t,a),{scroll:n}=s;return n&&(wu(r.x,n.offset.x),wu(r.y,n.offset.y)),r}const VP=({current:t})=>t?t.ownerDocument.defaultView:null,Tq=new WeakMap;class _q{constructor(s){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Xa(),this.visualElement=s}start(s,{snapToCursor:a=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const n=x=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),a&&this.snapToCursor(Ex(x).point)},i=(x,f)=>{const{drag:g,dragPropagation:b,onDragStart:v}=this.getProps();if(g&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=jV(g),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ti(w=>{let k=this.getAxisMotionValue(w).get()||0;if(Pl.test(k)){const{projection:C}=this.visualElement;if(C&&C.layout){const _=C.layout.layoutBox[w];_&&(k=fi(_)*(parseFloat(k)/100))}}this.originPoint[w]=k}),v&&ba.postRender(()=>v(x,f)),Hb(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},l=(x,f)=>{const{dragPropagation:g,dragDirectionLock:b,onDirectionLock:v,onDrag:y}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:w}=f;if(b&&this.currentDirection===null){this.currentDirection=Eq(w),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",f.point,w),this.updateAxis("y",f.point,w),this.visualElement.render(),y&&y(x,f)},c=(x,f)=>this.stop(x,f),u=()=>Ti(x=>{var f;return this.getAnimationState(x)==="paused"&&((f=this.getAxisMotionValue(x).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new MP(s,{onSessionStart:n,onStart:i,onMove:l,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,contextWindow:VP(this.visualElement)})}stop(s,a){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:n}=a;this.startAnimation(n);const{onDragEnd:i}=this.getProps();i&&ba.postRender(()=>i(s,a))}cancel(){this.isDragging=!1;const{projection:s,animationState:a}=this.visualElement;s&&(s.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),a&&a.setActive("whileDrag",!1)}updateAxis(s,a,r){const{drag:n}=this.getProps();if(!r||!nf(s,n,this.currentDirection))return;const i=this.getAxisMotionValue(s);let l=this.originPoint[s]+r[s];this.constraints&&this.constraints[s]&&(l=gq(l,this.constraints[s],this.elastic[s])),i.set(l)}resolveConstraints(){var s;const{dragConstraints:a,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)===null||s===void 0?void 0:s.layout,i=this.constraints;a&&ju(a)?this.constraints||(this.constraints=this.resolveRefConstraints()):a&&n?this.constraints=vq(n.layoutBox,a):this.constraints=!1,this.elastic=Nq(r),i!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Ti(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=bq(n.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:s,onMeasureDragConstraints:a}=this.getProps();if(!s||!ju(s))return!1;const r=s.current,{projection:n}=this.visualElement;if(!n||!n.layout)return!1;const i=Sq(r,n.root,this.visualElement.getTransformPagePoint());let l=yq(n.layout.layoutBox,i);if(a){const c=a(wq(l));this.hasMutatedConstraints=!!c,c&&(l=OP(c))}return l}startAnimation(s){const{drag:a,dragMomentum:r,dragElastic:n,dragTransition:i,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),u=this.constraints||{},m=Ti(x=>{if(!nf(x,a,this.currentDirection))return;let f=u&&u[x]||{};l&&(f={min:0,max:0});const g=n?200:1e6,b=n?40:1e7,v={type:"inertia",velocity:r?s[x]:0,bounceStiffness:g,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(x,v)});return Promise.all(m).then(c)}startAxisValueAnimation(s,a){const r=this.getAxisMotionValue(s);return Hb(this.visualElement,s),r.start(s1(s,r,0,a,this.visualElement,!1))}stopAnimation(){Ti(s=>this.getAxisMotionValue(s).stop())}pauseAnimation(){Ti(s=>{var a;return(a=this.getAxisMotionValue(s).animation)===null||a===void 0?void 0:a.pause()})}getAnimationState(s){var a;return(a=this.getAxisMotionValue(s).animation)===null||a===void 0?void 0:a.state}getAxisMotionValue(s){const a=`_drag${s.toUpperCase()}`,r=this.visualElement.getProps(),n=r[a];return n||this.visualElement.getValue(s,(r.initial?r.initial[s]:void 0)||0)}snapToCursor(s){Ti(a=>{const{drag:r}=this.getProps();if(!nf(a,r,this.currentDirection))return;const{projection:n}=this.visualElement,i=this.getAxisMotionValue(a);if(n&&n.layout){const{min:l,max:c}=n.layout.layoutBox[a];i.set(s[a]-Ra(l,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:s,dragConstraints:a}=this.getProps(),{projection:r}=this.visualElement;if(!ju(a)||!r||!this.constraints)return;this.stopAnimation();const n={x:0,y:0};Ti(l=>{const c=this.getAxisMotionValue(l);if(c&&this.constraints!==!1){const u=c.get();n[l]=jq({min:u,max:u},this.constraints[l])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ti(l=>{if(!nf(l,s,null))return;const c=this.getAxisMotionValue(l),{min:u,max:m}=this.constraints[l];c.set(Ra(u,m,n[l]))})}addListeners(){if(!this.visualElement.current)return;Tq.set(this.visualElement,this);const s=this.visualElement.current,a=Ph(s,"pointerdown",u=>{const{drag:m,dragListener:x=!0}=this.getProps();m&&x&&this.start(u)}),r=()=>{const{dragConstraints:u}=this.getProps();ju(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,i=n.addEventListener("measure",r);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),ba.read(r);const l=Uh(window,"resize",()=>this.scalePositionWithinConstraints()),c=n.addEventListener("didUpdate",(({delta:u,hasLayoutChanged:m})=>{this.isDragging&&m&&(Ti(x=>{const f=this.getAxisMotionValue(x);f&&(this.originPoint[x]+=u[x].translate,f.set(f.get()+u[x].translate))}),this.visualElement.render())}));return()=>{l(),a(),i(),c&&c()}}getProps(){const s=this.visualElement.getProps(),{drag:a=!1,dragDirectionLock:r=!1,dragPropagation:n=!1,dragConstraints:i=!1,dragElastic:l=Jb,dragMomentum:c=!0}=s;return{...s,drag:a,dragDirectionLock:r,dragPropagation:n,dragConstraints:i,dragElastic:l,dragMomentum:c}}}function nf(t,s,a){return(s===!0||s===t)&&(a===null||a===t)}function Eq(t,s=10){let a=null;return Math.abs(t.y)>s?a="y":Math.abs(t.x)>s&&(a="x"),a}class Pq extends hc{constructor(s){super(s),this.removeGroupControls=di,this.removeListeners=di,this.controls=new _q(s)}mount(){const{dragControls:s}=this.node.getProps();s&&(this.removeGroupControls=s.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||di}unmount(){this.removeGroupControls(),this.removeListeners()}}const zS=t=>(s,a)=>{t&&ba.postRender(()=>t(s,a))};class Aq extends hc{constructor(){super(...arguments),this.removePointerDownListener=di}onPointerDown(s){this.session=new MP(s,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:VP(this.node)})}createPanHandlers(){const{onPanSessionStart:s,onPanStart:a,onPan:r,onPanEnd:n}=this.node.getProps();return{onSessionStart:zS(s),onStart:zS(a),onMove:r,onEnd:(i,l)=>{delete this.session,n&&ba.postRender(()=>n(i,l))}}}mount(){this.removePointerDownListener=Ph(this.node.current,"pointerdown",s=>this.onPointerDown(s))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Bf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function VS(t,s){return s.max===s.min?0:t/(s.max-s.min)*100}const rh={correct:(t,s)=>{if(!s.target)return t;if(typeof t=="string")if(Zt.test(t))t=parseFloat(t);else return t;const a=VS(t,s.target.x),r=VS(t,s.target.y);return`${a}% ${r}%`}},Dq={correct:(t,{treeScale:s,projectionDelta:a})=>{const r=t,n=ac.parse(t);if(n.length>5)return r;const i=ac.createTransformer(t),l=typeof n[0]!="number"?1:0,c=a.x.scale*s.x,u=a.y.scale*s.y;n[0+l]/=c,n[1+l]/=u;const m=Ra(c,u,.5);return typeof n[2+l]=="number"&&(n[2+l]/=m),typeof n[3+l]=="number"&&(n[3+l]/=m),i(n)}};class Fq extends h.Component{componentDidMount(){const{visualElement:s,layoutGroup:a,switchLayoutGroup:r,layoutId:n}=this.props,{projection:i}=s;Jz(Mq),i&&(a.group&&a.group.add(i),r&&r.register&&n&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Bf.hasEverUpdated=!0}getSnapshotBeforeUpdate(s){const{layoutDependency:a,visualElement:r,drag:n,isPresent:i}=this.props,l=r.projection;return l&&(l.isPresent=i,n||s.layoutDependency!==a||a===void 0?l.willUpdate():this.safeToRemove(),s.isPresent!==i&&(i?l.promote():l.relegate()||ba.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:s}=this.props.visualElement;s&&(s.root.didUpdate(),Aw.postRender(()=>{!s.currentAnimation&&s.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:s,layoutGroup:a,switchLayoutGroup:r}=this.props,{projection:n}=s;n&&(n.scheduleCheckAfterUnmount(),a&&a.group&&a.group.remove(n),r&&r.deregister&&r.deregister(n))}safeToRemove(){const{safeToRemove:s}=this.props;s&&s()}render(){return null}}function UP(t){const[s,a]=CE(),r=h.useContext(ww);return e.jsx(Fq,{...t,layoutGroup:r,switchLayoutGroup:h.useContext(FE),isPresent:s,safeToRemove:a})}const Mq={borderRadius:{...rh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:rh,borderTopRightRadius:rh,borderBottomLeftRadius:rh,borderBottomRightRadius:rh,boxShadow:Dq};function Iq(t,s,a){const r=en(t)?t:zh(t);return r.start(s1("",r,s,a)),r.animation}function Rq(t){return t instanceof SVGElement&&t.tagName!=="svg"}const Lq=(t,s)=>t.depth-s.depth;class Oq{constructor(){this.children=[],this.isDirty=!1}add(s){Hw(this.children,s),this.isDirty=!0}remove(s){Ww(this.children,s),this.isDirty=!0}forEach(s){this.isDirty&&this.children.sort(Lq),this.isDirty=!1,this.children.forEach(s)}}function $q(t,s){const a=Al.now(),r=({timestamp:n})=>{const i=n-a;i>=s&&(sc(r),t(i-s))};return ba.read(r,!0),()=>sc(r)}const qP=["TopLeft","TopRight","BottomLeft","BottomRight"],Bq=qP.length,US=t=>typeof t=="string"?parseFloat(t):t,qS=t=>typeof t=="number"||Zt.test(t);function zq(t,s,a,r,n,i){n?(t.opacity=Ra(0,a.opacity!==void 0?a.opacity:1,Vq(r)),t.opacityExit=Ra(s.opacity!==void 0?s.opacity:1,0,Uq(r))):i&&(t.opacity=Ra(s.opacity!==void 0?s.opacity:1,a.opacity!==void 0?a.opacity:1,r));for(let l=0;l<Bq;l++){const c=`border${qP[l]}Radius`;let u=HS(s,c),m=HS(a,c);if(u===void 0&&m===void 0)continue;u||(u=0),m||(m=0),u===0||m===0||qS(u)===qS(m)?(t[c]=Math.max(Ra(US(u),US(m),r),0),(Pl.test(m)||Pl.test(u))&&(t[c]+="%")):t[c]=m}(s.rotate||a.rotate)&&(t.rotate=Ra(s.rotate||0,a.rotate||0,r))}function HS(t,s){return t[s]!==void 0?t[s]:t.borderRadius}const Vq=HP(0,.5,cP),Uq=HP(.5,.95,di);function HP(t,s,a){return r=>r<t?0:r>s?1:a(Wu(t,s,r))}function WS(t,s){t.min=s.min,t.max=s.max}function Si(t,s){WS(t.x,s.x),WS(t.y,s.y)}function GS(t,s){t.translate=s.translate,t.scale=s.scale,t.originPoint=s.originPoint,t.origin=s.origin}function KS(t,s,a,r,n){return t-=s,t=jg(t,1/a,r),n!==void 0&&(t=jg(t,1/n,r)),t}function qq(t,s=0,a=1,r=.5,n,i=t,l=t){if(Pl.test(s)&&(s=parseFloat(s),s=Ra(l.min,l.max,s/100)-l.min),typeof s!="number")return;let c=Ra(i.min,i.max,r);t===i&&(c-=s),t.min=KS(t.min,s,a,c,n),t.max=KS(t.max,s,a,c,n)}function YS(t,s,[a,r,n],i,l){qq(t,s[a],s[r],s[n],s.scale,i,l)}const Hq=["x","scaleX","originX"],Wq=["y","scaleY","originY"];function QS(t,s,a,r){YS(t.x,s,Hq,a?a.x:void 0,r?r.x:void 0),YS(t.y,s,Wq,a?a.y:void 0,r?r.y:void 0)}function XS(t){return t.translate===0&&t.scale===1}function WP(t){return XS(t.x)&&XS(t.y)}function ZS(t,s){return t.min===s.min&&t.max===s.max}function Gq(t,s){return ZS(t.x,s.x)&&ZS(t.y,s.y)}function JS(t,s){return Math.round(t.min)===Math.round(s.min)&&Math.round(t.max)===Math.round(s.max)}function GP(t,s){return JS(t.x,s.x)&&JS(t.y,s.y)}function e5(t){return fi(t.x)/fi(t.y)}function t5(t,s){return t.translate===s.translate&&t.scale===s.scale&&t.originPoint===s.originPoint}class Kq{constructor(){this.members=[]}add(s){Hw(this.members,s),s.scheduleRender()}remove(s){if(Ww(this.members,s),s===this.prevLead&&(this.prevLead=void 0),s===this.lead){const a=this.members[this.members.length-1];a&&this.promote(a)}}relegate(s){const a=this.members.findIndex(n=>s===n);if(a===0)return!1;let r;for(let n=a;n>=0;n--){const i=this.members[n];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(s,a){const r=this.lead;if(s!==r&&(this.prevLead=r,this.lead=s,s.show(),r)){r.instance&&r.scheduleRender(),s.scheduleRender(),s.resumeFrom=r,a&&(s.resumeFrom.preserveOpacity=!0),r.snapshot&&(s.snapshot=r.snapshot,s.snapshot.latestValues=r.animationValues||r.latestValues),s.root&&s.root.isUpdating&&(s.isLayoutDirty=!0);const{crossfade:n}=s.options;n===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(s=>{const{options:a,resumingFrom:r}=s;a.onExitComplete&&a.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(s=>{s.instance&&s.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Yq(t,s,a){let r="";const n=t.x.translate/s.x,i=t.y.translate/s.y,l=a?.z||0;if((n||i||l)&&(r=`translate3d(${n}px, ${i}px, ${l}px) `),(s.x!==1||s.y!==1)&&(r+=`scale(${1/s.x}, ${1/s.y}) `),a){const{transformPerspective:m,rotate:x,rotateX:f,rotateY:g,skewX:b,skewY:v}=a;m&&(r=`perspective(${m}px) ${r}`),x&&(r+=`rotate(${x}deg) `),f&&(r+=`rotateX(${f}deg) `),g&&(r+=`rotateY(${g}deg) `),b&&(r+=`skewX(${b}deg) `),v&&(r+=`skewY(${v}deg) `)}const c=t.x.scale*s.x,u=t.y.scale*s.y;return(c!==1||u!==1)&&(r+=`scale(${c}, ${u})`),r||"none"}const zc={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},wh=typeof window<"u"&&window.MotionDebug!==void 0,dj=["","X","Y","Z"],Qq={visibility:"hidden"},s5=1e3;let Xq=0;function uj(t,s,a,r){const{latestValues:n}=s;n[t]&&(a[t]=n[t],s.setStaticValue(t,0),r&&(r[t]=0))}function KP(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:s}=t.options;if(!s)return;const a=sP(s);if(window.MotionHasOptimisedAnimation(a,"transform")){const{layout:n,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(a,"transform",ba,!(n||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&KP(r)}function YP({attachResizeListener:t,defaultParent:s,measureScroll:a,checkIsScrollRoot:r,resetTransform:n}){return class{constructor(l={},c=s?.()){this.id=Xq++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,wh&&(zc.totalNodes=zc.resolvedTargetDeltas=zc.recalculatedProjection=0),this.nodes.forEach(eH),this.nodes.forEach(nH),this.nodes.forEach(iH),this.nodes.forEach(tH),wh&&window.MotionDebug.record(zc)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new Oq)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new Gw),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const u=this.eventHandlers.get(l);u&&u.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,c=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Rq(l),this.instance=l;const{layoutId:u,layout:m,visualElement:x}=this.options;if(x&&!x.current&&x.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),c&&(m||u)&&(this.isLayoutDirty=!0),t){let f;const g=()=>this.root.updateBlockedByResize=!1;t(l,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=$q(g,250),Bf.hasAnimatedSinceResize&&(Bf.hasAnimatedSinceResize=!1,this.nodes.forEach(r5))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&x&&(u||m)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:g,hasRelativeTargetChanged:b,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||x.getDefaultTransition()||uH,{onLayoutAnimationStart:w,onLayoutAnimationComplete:k}=x.getProps(),C=!this.targetLayout||!GP(this.targetLayout,v)||b,_=!g&&b;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||_||g&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,_);const M={...zw(y,"layout"),onPlay:w,onComplete:k};(x.shouldReduceMotion||this.options.layoutRoot)&&(M.delay=0,M.type=!1),this.startAnimation(M)}else g||r5(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,sc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(lH),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&KP(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let x=0;x<this.path.length;x++){const f=this.path[x];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:c,layout:u}=this.options;if(c===void 0&&!u)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(a5);return}this.isUpdating||this.nodes.forEach(aH),this.isUpdating=!1,this.nodes.forEach(rH),this.nodes.forEach(Zq),this.nodes.forEach(Jq),this.clearAllSnapshots();const c=Al.now();Rr.delta=vo(0,1e3/60,c-Rr.timestamp),Rr.timestamp=c,Rr.isProcessing=!0,tj.update.process(Rr),tj.preRender.process(Rr),tj.render.process(Rr),Rr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Aw.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(sH),this.sharedNodes.forEach(oH)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ba.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ba.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Xa(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c){const u=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:u,offset:a(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!n)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!WP(this.projectionDelta),u=this.getTransformTemplate(),m=u?u(this.latestValues,""):void 0,x=m!==this.prevTransformTemplateValue;l&&(c||Bc(this.latestValues)||x)&&(n(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let u=this.removeElementScroll(c);return l&&(u=this.removeTransform(u)),mH(u),{animationId:this.root.animationId,measuredBox:c,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var l;const{visualElement:c}=this.options;if(!c)return Xa();const u=c.measureViewportBox();if(!(((l=this.scroll)===null||l===void 0?void 0:l.wasRoot)||this.path.some(hH))){const{scroll:x}=this.root;x&&(wu(u.x,x.offset.x),wu(u.y,x.offset.y))}return u}removeElementScroll(l){var c;const u=Xa();if(Si(u,l),!((c=this.scroll)===null||c===void 0)&&c.wasRoot)return u;for(let m=0;m<this.path.length;m++){const x=this.path[m],{scroll:f,options:g}=x;x!==this.root&&f&&g.layoutScroll&&(f.wasRoot&&Si(u,l),wu(u.x,f.offset.x),wu(u.y,f.offset.y))}return u}applyTransform(l,c=!1){const u=Xa();Si(u,l);for(let m=0;m<this.path.length;m++){const x=this.path[m];!c&&x.options.layoutScroll&&x.scroll&&x!==x.root&&ku(u,{x:-x.scroll.offset.x,y:-x.scroll.offset.y}),Bc(x.latestValues)&&ku(u,x.latestValues)}return Bc(this.latestValues)&&ku(u,this.latestValues),u}removeTransform(l){const c=Xa();Si(c,l);for(let u=0;u<this.path.length;u++){const m=this.path[u];if(!m.instance||!Bc(m.latestValues))continue;eN(m.latestValues)&&m.updateSnapshot();const x=Xa(),f=m.measurePageBox();Si(x,f),QS(c,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,x)}return Bc(this.latestValues)&&QS(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Rr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var c;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==u;if(!(l||m&&this.isSharedProjectionDirty||this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:g}=this.options;if(!(!this.layout||!(f||g))){if(this.resolvedRelativeTargetAt=Rr.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Xa(),this.relativeTargetOrigin=Xa(),Dh(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),Si(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Xa(),this.targetWithTransforms=Xa()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),fq(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Si(this.target,this.layout.layoutBox),BP(this.target,this.targetDelta)):Si(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Xa(),this.relativeTargetOrigin=Xa(),Dh(this.relativeTargetOrigin,this.target,b.target),Si(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}wh&&zc.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||eN(this.parent.latestValues)||$P(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const c=this.getLead(),u=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(m=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===Rr.timestamp&&(m=!1),m)return;const{layout:x,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(x||f))return;Si(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,b=this.treeScale.y;Cq(this.layoutCorrected,this.treeScale,this.path,u),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Xa());const{target:v}=c;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(GS(this.prevProjectionDelta.x,this.projectionDelta.x),GS(this.prevProjectionDelta.y,this.projectionDelta.y)),Ah(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==b||!t5(this.projectionDelta.x,this.prevProjectionDelta.x)||!t5(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),wh&&zc.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var c;if((c=this.options.visualElement)===null||c===void 0||c.scheduleRender(),l){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Nu(),this.projectionDelta=Nu(),this.projectionDeltaWithTransform=Nu()}setAnimationOrigin(l,c=!1){const u=this.snapshot,m=u?u.latestValues:{},x={...this.latestValues},f=Nu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const g=Xa(),b=u?u.source:void 0,v=this.layout?this.layout.source:void 0,y=b!==v,w=this.getStack(),k=!w||w.members.length<=1,C=!!(y&&!k&&this.options.crossfade===!0&&!this.path.some(dH));this.animationProgress=0;let _;this.mixTargetDelta=M=>{const E=M/1e3;n5(f.x,l.x,E),n5(f.y,l.y,E),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Dh(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),cH(this.relativeTarget,this.relativeTargetOrigin,g,E),_&&Gq(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=Xa()),Si(_,this.relativeTarget)),y&&(this.animationValues=x,zq(x,m,this.latestValues,E,C,k)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(sc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ba.update(()=>{Bf.hasAnimatedSinceResize=!0,this.currentAnimation=Iq(0,s5,{...l,onUpdate:c=>{this.mixTargetDelta(c),l.onUpdate&&l.onUpdate(c)},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(s5),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:u,layout:m,latestValues:x}=l;if(!(!c||!u||!m)){if(this!==l&&this.layout&&m&&QP(this.options.animationType,this.layout.layoutBox,m.layoutBox)){u=this.target||Xa();const f=fi(this.layout.layoutBox.x);u.x.min=l.target.x.min,u.x.max=u.x.min+f;const g=fi(this.layout.layoutBox.y);u.y.min=l.target.y.min,u.y.max=u.y.min+g}Si(c,u),ku(c,x),Ah(this.projectionDeltaWithTransform,this.layoutCorrected,c,x)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new Kq),this.sharedNodes.get(l).add(c);const m=c.options.initialPromotionConfig;c.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:c}=this.options;return c?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:c}=this.options;return c?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:u}={}){const m=this.getStack();m&&m.promote(this,u),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:u}=l;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(c=!0),!c)return;const m={};u.z&&uj("z",l,m,this.animationValues);for(let x=0;x<dj.length;x++)uj(`rotate${dj[x]}`,l,m,this.animationValues),uj(`skew${dj[x]}`,l,m,this.animationValues);l.render();for(const x in m)l.setStaticValue(x,m[x]),this.animationValues&&(this.animationValues[x]=m[x]);l.scheduleRender()}getProjectionStyles(l){var c,u;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Qq;const m={visibility:""},x=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,m.opacity="",m.pointerEvents=Of(l?.pointerEvents)||"",m.transform=x?x(this.latestValues,""):"none",m;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=Of(l?.pointerEvents)||""),this.hasProjected&&!Bc(this.latestValues)&&(y.transform=x?x({},""):"none",this.hasProjected=!1),y}const g=f.animationValues||f.latestValues;this.applyTransformsToTarget(),m.transform=Yq(this.projectionDeltaWithTransform,this.treeScale,g),x&&(m.transform=x(g,m.transform));const{x:b,y:v}=this.projectionDelta;m.transformOrigin=`${b.origin*100}% ${v.origin*100}% 0`,f.animationValues?m.opacity=f===this?(u=(c=g.opacity)!==null&&c!==void 0?c:this.latestValues.opacity)!==null&&u!==void 0?u:1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:m.opacity=f===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const y in pg){if(g[y]===void 0)continue;const{correct:w,applyTo:k}=pg[y],C=m.transform==="none"?g[y]:w(g[y],f);if(k){const _=k.length;for(let M=0;M<_;M++)m[k[M]]=C}else m[y]=C}return this.options.layoutId&&(m.pointerEvents=f===this?Of(l?.pointerEvents)||"":"none"),m}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var c;return(c=l.currentAnimation)===null||c===void 0?void 0:c.stop()}),this.root.nodes.forEach(a5),this.root.sharedNodes.clear()}}}function Zq(t){t.updateLayout()}function Jq(t){var s;const a=((s=t.resumeFrom)===null||s===void 0?void 0:s.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&a&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:n}=t.layout,{animationType:i}=t.options,l=a.source!==t.layout.source;i==="size"?Ti(f=>{const g=l?a.measuredBox[f]:a.layoutBox[f],b=fi(g);g.min=r[f].min,g.max=g.min+b}):QP(i,a.layoutBox,r)&&Ti(f=>{const g=l?a.measuredBox[f]:a.layoutBox[f],b=fi(r[f]);g.max=g.min+b,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+b)});const c=Nu();Ah(c,r,a.layoutBox);const u=Nu();l?Ah(u,t.applyTransform(n,!0),a.measuredBox):Ah(u,r,a.layoutBox);const m=!WP(c);let x=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:g,layout:b}=f;if(g&&b){const v=Xa();Dh(v,a.layoutBox,g.layoutBox);const y=Xa();Dh(y,r,b.layoutBox),GP(v,y)||(x=!0),f.options.layoutRoot&&(t.relativeTarget=y,t.relativeTargetOrigin=v,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:a,delta:u,layoutDelta:c,hasLayoutChanged:m,hasRelativeTargetChanged:x})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function eH(t){wh&&zc.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function tH(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function sH(t){t.clearSnapshot()}function a5(t){t.clearMeasurements()}function aH(t){t.isLayoutDirty=!1}function rH(t){const{visualElement:s}=t.options;s&&s.getProps().onBeforeLayoutMeasure&&s.notify("BeforeLayoutMeasure"),t.resetTransform()}function r5(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function nH(t){t.resolveTargetDelta()}function iH(t){t.calcProjection()}function lH(t){t.resetSkewAndRotation()}function oH(t){t.removeLeadSnapshot()}function n5(t,s,a){t.translate=Ra(s.translate,0,a),t.scale=Ra(s.scale,1,a),t.origin=s.origin,t.originPoint=s.originPoint}function i5(t,s,a,r){t.min=Ra(s.min,a.min,r),t.max=Ra(s.max,a.max,r)}function cH(t,s,a,r){i5(t.x,s.x,a.x,r),i5(t.y,s.y,a.y,r)}function dH(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const uH={duration:.45,ease:[.4,0,.1,1]},l5=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),o5=l5("applewebkit/")&&!l5("chrome/")?Math.round:di;function c5(t){t.min=o5(t.min),t.max=o5(t.max)}function mH(t){c5(t.x),c5(t.y)}function QP(t,s,a){return t==="position"||t==="preserve-aspect"&&!pq(e5(s),e5(a),.2)}function hH(t){var s;return t!==t.root&&((s=t.scroll)===null||s===void 0?void 0:s.wasRoot)}const xH=YP({attachResizeListener:(t,s)=>Uh(t,"resize",s),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),mj={current:void 0},XP=YP({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!mj.current){const t=new xH({});t.mount(window),t.setOptions({layoutScroll:!0}),mj.current=t}return mj.current},resetTransform:(t,s)=>{t.style.transform=s!==void 0?s:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),pH={pan:{Feature:Aq},drag:{Feature:Pq,ProjectionNode:XP,MeasureLayout:UP}};function d5(t,s,a){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",a==="Start");const n="onHover"+a,i=r[n];i&&ba.postRender(()=>i(s,Ex(s)))}class fH extends hc{mount(){const{current:s}=this.node;s&&(this.unmount=pV(s,a=>(d5(this.node,a,"Start"),r=>d5(this.node,r,"End"))))}unmount(){}}class gH extends hc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let s=!1;try{s=this.node.current.matches(":focus-visible")}catch{s=!0}!s||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=_x(Uh(this.node.current,"focus",()=>this.onFocus()),Uh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function u5(t,s,a){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",a==="Start");const n="onTap"+(a==="End"?"":a),i=r[n];i&&ba.postRender(()=>i(s,Ex(s)))}class vH extends hc{mount(){const{current:s}=this.node;s&&(this.unmount=yV(s,a=>(u5(this.node,a,"Start"),(r,{success:n})=>u5(this.node,r,n?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const sN=new WeakMap,hj=new WeakMap,yH=t=>{const s=sN.get(t.target);s&&s(t)},jH=t=>{t.forEach(yH)};function bH({root:t,...s}){const a=t||document;hj.has(a)||hj.set(a,{});const r=hj.get(a),n=JSON.stringify(s);return r[n]||(r[n]=new IntersectionObserver(jH,{root:t,...s})),r[n]}function NH(t,s,a){const r=bH(s);return sN.set(t,a),r.observe(t),()=>{sN.delete(t),r.unobserve(t)}}const wH={some:0,all:1};class kH extends hc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:s={}}=this.node.getProps(),{root:a,margin:r,amount:n="some",once:i}=s,l={root:a?a.current:void 0,rootMargin:r,threshold:typeof n=="number"?n:wH[n]},c=u=>{const{isIntersecting:m}=u;if(this.isInView===m||(this.isInView=m,i&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:x,onViewportLeave:f}=this.node.getProps(),g=m?x:f;g&&g(u)};return NH(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:s,prevProps:a}=this.node;["amount","margin","root"].some(CH(s,a))&&this.startObserver()}unmount(){}}function CH({viewport:t={}},{viewport:s={}}={}){return a=>t[a]!==s[a]}const SH={inView:{Feature:kH},tap:{Feature:vH},focus:{Feature:gH},hover:{Feature:fH}},TH={layout:{ProjectionNode:XP,MeasureLayout:UP}},aN={current:null},ZP={current:!1};function _H(){if(ZP.current=!0,!!Sw)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),s=()=>aN.current=t.matches;t.addListener(s),s()}else aN.current=!1}const EH=[...wP,Zr,ac],PH=t=>EH.find(NP(t)),m5=new WeakMap;function AH(t,s,a){for(const r in s){const n=s[r],i=a[r];if(en(n))t.addValue(r,n);else if(en(i))t.addValue(r,zh(n,{owner:t}));else if(i!==n)if(t.hasValue(r)){const l=t.getValue(r);l.liveStyle===!0?l.jump(n):l.hasAnimated||l.set(n)}else{const l=t.getStaticValue(r);t.addValue(r,zh(l!==void 0?l:n,{owner:t}))}}for(const r in a)s[r]===void 0&&t.removeValue(r);return s}const h5=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class DH{scrapeMotionValuesFromProps(s,a,r){return{}}constructor({parent:s,props:a,presenceContext:r,reducedMotionConfig:n,blockInitialAnimation:i,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Jw,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=Al.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,ba.render(this.render,!1,!0))};const{latestValues:u,renderState:m,onUpdate:x}=l;this.onUpdate=x,this.latestValues=u,this.baseTarget={...u},this.initialValues=a.initial?{...u}:{},this.renderState=m,this.parent=s,this.props=a,this.presenceContext=r,this.depth=s?s.depth+1:0,this.reducedMotionConfig=n,this.options=c,this.blockInitialAnimation=!!i,this.isControllingVariants=b0(a),this.isVariantNode=AE(a),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(s&&s.current);const{willChange:f,...g}=this.scrapeMotionValuesFromProps(a,{},this);for(const b in g){const v=g[b];u[b]!==void 0&&en(v)&&v.set(u[b],!1)}}mount(s){this.current=s,m5.set(s,this),this.projection&&!this.projection.instance&&this.projection.mount(s),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((a,r)=>this.bindToMotionValue(r,a)),ZP.current||_H(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:aN.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){m5.delete(this.current),this.projection&&this.projection.unmount(),sc(this.notifyUpdate),sc(this.render),this.valueSubscriptions.forEach(s=>s()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const s in this.events)this.events[s].clear();for(const s in this.features){const a=this.features[s];a&&(a.unmount(),a.isMounted=!1)}this.current=null}bindToMotionValue(s,a){this.valueSubscriptions.has(s)&&this.valueSubscriptions.get(s)();const r=Ed.has(s),n=a.on("change",c=>{this.latestValues[s]=c,this.props.onUpdate&&ba.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=a.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,s,a)),this.valueSubscriptions.set(s,()=>{n(),i(),l&&l(),a.owner&&a.stop()})}sortNodePosition(s){return!this.current||!this.sortInstanceNodePosition||this.type!==s.type?0:this.sortInstanceNodePosition(this.current,s.current)}updateFeatures(){let s="animation";for(s in Gu){const a=Gu[s];if(!a)continue;const{isEnabled:r,Feature:n}=a;if(!this.features[s]&&n&&r(this.props)&&(this.features[s]=new n(this)),this.features[s]){const i=this.features[s];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Xa()}getStaticValue(s){return this.latestValues[s]}setStaticValue(s,a){this.latestValues[s]=a}update(s,a){(s.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=s,this.prevPresenceContext=this.presenceContext,this.presenceContext=a;for(let r=0;r<h5.length;r++){const n=h5[r];this.propEventSubscriptions[n]&&(this.propEventSubscriptions[n](),delete this.propEventSubscriptions[n]);const i="on"+n,l=s[i];l&&(this.propEventSubscriptions[n]=this.on(n,l))}this.prevMotionValues=AH(this,this.scrapeMotionValuesFromProps(s,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(s){return this.props.variants?this.props.variants[s]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(s){const a=this.getClosestVariantNode();if(a)return a.variantChildren&&a.variantChildren.add(s),()=>a.variantChildren.delete(s)}addValue(s,a){const r=this.values.get(s);a!==r&&(r&&this.removeValue(s),this.bindToMotionValue(s,a),this.values.set(s,a),this.latestValues[s]=a.get())}removeValue(s){this.values.delete(s);const a=this.valueSubscriptions.get(s);a&&(a(),this.valueSubscriptions.delete(s)),delete this.latestValues[s],this.removeValueFromRenderState(s,this.renderState)}hasValue(s){return this.values.has(s)}getValue(s,a){if(this.props.values&&this.props.values[s])return this.props.values[s];let r=this.values.get(s);return r===void 0&&a!==void 0&&(r=zh(a===null?void 0:a,{owner:this}),this.addValue(s,r)),r}readValue(s,a){var r;let n=this.latestValues[s]!==void 0||!this.current?this.latestValues[s]:(r=this.getBaseTargetFromProps(this.props,s))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,s,this.options);return n!=null&&(typeof n=="string"&&(jP(n)||uP(n))?n=parseFloat(n):!PH(n)&&ac.test(a)&&(n=gP(s,a)),this.setBaseTarget(s,en(n)?n.get():n)),en(n)?n.get():n}setBaseTarget(s,a){this.baseTarget[s]=a}getBaseTarget(s){var a;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const l=Fw(this.props,r,(a=this.presenceContext)===null||a===void 0?void 0:a.custom);l&&(n=l[s])}if(r&&n!==void 0)return n;const i=this.getBaseTargetFromProps(this.props,s);return i!==void 0&&!en(i)?i:this.initialValues[s]!==void 0&&n===void 0?void 0:this.baseTarget[s]}on(s,a){return this.events[s]||(this.events[s]=new Gw),this.events[s].add(a)}notify(s,...a){this.events[s]&&this.events[s].notify(...a)}}class JP extends DH{constructor(){super(...arguments),this.KeyframeResolver=kP}sortInstanceNodePosition(s,a){return s.compareDocumentPosition(a)&2?1:-1}getBaseTargetFromProps(s,a){return s.style?s.style[a]:void 0}removeValueFromRenderState(s,{vars:a,style:r}){delete a[s],delete r[s]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:s}=this.props;en(s)&&(this.childSubscription=s.on("change",a=>{this.current&&(this.current.textContent=`${a}`)}))}}function FH(t){return window.getComputedStyle(t)}class MH extends JP{constructor(){super(...arguments),this.type="html",this.renderInstance=BE}readValueFromInstance(s,a){if(Ed.has(a)){const r=Zw(a);return r&&r.default||0}else{const r=FH(s),n=(LE(a)?r.getPropertyValue(a):r[a])||0;return typeof n=="string"?n.trim():n}}measureInstanceViewportBox(s,{transformPagePoint:a}){return zP(s,a)}build(s,a,r){Rw(s,a,r.transformTemplate)}scrapeMotionValuesFromProps(s,a,r){return Bw(s,a,r)}}class IH extends JP{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Xa}getBaseTargetFromProps(s,a){return s[a]}readValueFromInstance(s,a){if(Ed.has(a)){const r=Zw(a);return r&&r.default||0}return a=zE.has(a)?a:Pw(a),s.getAttribute(a)}scrapeMotionValuesFromProps(s,a,r){return qE(s,a,r)}build(s,a,r){Lw(s,a,this.isSVGTag,r.transformTemplate)}renderInstance(s,a,r,n){VE(s,a,r,n)}mount(s){this.isSVGTag=$w(s.tagName),super.mount(s)}}const RH=(t,s)=>Dw(t)?new IH(s):new MH(s,{allowProjection:t!==h.Fragment}),LH=oV({...iq,...SH,...pH,...TH},RH),He=wz(LH);function OH(t,s=[]){let a=[];function r(i,l){const c=h.createContext(l);c.displayName=i+"Context";const u=a.length;a=[...a,l];const m=f=>{const{scope:g,children:b,...v}=f,y=g?.[t]?.[u]||c,w=h.useMemo(()=>v,Object.values(v));return e.jsx(y.Provider,{value:w,children:b})};m.displayName=i+"Provider";function x(f,g){const b=g?.[t]?.[u]||c,v=h.useContext(b);if(v)return v;if(l!==void 0)return l;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[m,x]}const n=()=>{const i=a.map(l=>h.createContext(l));return function(c){const u=c?.[t]||i;return h.useMemo(()=>({[`__scope${t}`]:{...c,[t]:u}}),[c,u])}};return n.scopeName=t,[r,$H(n,...s)]}function $H(...t){const s=t[0];if(t.length===1)return s;const a=()=>{const r=t.map(n=>({useScope:n(),scopeName:n.scopeName}));return function(i){const l=r.reduce((c,{useScope:u,scopeName:m})=>{const f=u(i)[`__scope${m}`];return{...c,...f}},{});return h.useMemo(()=>({[`__scope${s.scopeName}`]:l}),[l])}};return a.scopeName=s.scopeName,a}var BH=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],a1=BH.reduce((t,s)=>{const a=Cx(`Primitive.${s}`),r=h.forwardRef((n,i)=>{const{asChild:l,...c}=n,u=l?a:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(u,{...c,ref:i})});return r.displayName=`Primitive.${s}`,{...t,[s]:r}},{});function zH(){return TT.useSyncExternalStore(VH,()=>!0,()=>!1)}function VH(){return()=>{}}var r1="Avatar",[UH]=OH(r1),[qH,eA]=UH(r1),tA=h.forwardRef((t,s)=>{const{__scopeAvatar:a,...r}=t,[n,i]=h.useState("idle");return e.jsx(qH,{scope:a,imageLoadingStatus:n,onImageLoadingStatusChange:i,children:e.jsx(a1.span,{...r,ref:s})})});tA.displayName=r1;var sA="AvatarImage",aA=h.forwardRef((t,s)=>{const{__scopeAvatar:a,src:r,onLoadingStatusChange:n=()=>{},...i}=t,l=eA(sA,a),c=HH(r,i),u=Ua(m=>{n(m),l.onImageLoadingStatusChange(m)});return Wa(()=>{c!=="idle"&&u(c)},[c,u]),c==="loaded"?e.jsx(a1.img,{...i,ref:s,src:r}):null});aA.displayName=sA;var rA="AvatarFallback",nA=h.forwardRef((t,s)=>{const{__scopeAvatar:a,delayMs:r,...n}=t,i=eA(rA,a),[l,c]=h.useState(r===void 0);return h.useEffect(()=>{if(r!==void 0){const u=window.setTimeout(()=>c(!0),r);return()=>window.clearTimeout(u)}},[r]),l&&i.imageLoadingStatus!=="loaded"?e.jsx(a1.span,{...n,ref:s}):null});nA.displayName=rA;function x5(t,s){return t?s?(t.src!==s&&(t.src=s),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function HH(t,{referrerPolicy:s,crossOrigin:a}){const r=zH(),n=h.useRef(null),i=r?(n.current||(n.current=new window.Image),n.current):null,[l,c]=h.useState(()=>x5(i,t));return Wa(()=>{c(x5(i,t))},[i,t]),Wa(()=>{const u=f=>()=>{c(f)};if(!i)return;const m=u("loaded"),x=u("error");return i.addEventListener("load",m),i.addEventListener("error",x),s&&(i.referrerPolicy=s),typeof a=="string"&&(i.crossOrigin=a),()=>{i.removeEventListener("load",m),i.removeEventListener("error",x)}},[i,a,s]),l}var iA=tA,lA=aA,oA=nA;const Ls=h.forwardRef(({className:t,...s},a)=>e.jsx(iA,{ref:a,className:te(`
      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10
      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,t),...s}));Ls.displayName=iA.displayName;const Br=h.forwardRef(({className:t,...s},a)=>e.jsx(lA,{ref:a,className:te("aspect-square h-full w-full",t),...s}));Br.displayName=lA.displayName;const Os=h.forwardRef(({className:t,...s},a)=>e.jsx(oA,{ref:a,className:te("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...s}));Os.displayName=oA.displayName;var WH=h.createContext(void 0);function xc(t){const s=h.useContext(WH);return t||s||"ltr"}var xj=0;function k0(){h.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??p5()),document.body.insertAdjacentElement("beforeend",t[1]??p5()),xj++,()=>{xj===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(s=>s.remove()),xj--}},[])}function p5(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var pj="focusScope.autoFocusOnMount",fj="focusScope.autoFocusOnUnmount",f5={bubbles:!1,cancelable:!0},GH="FocusScope",Px=h.forwardRef((t,s)=>{const{loop:a=!1,trapped:r=!1,onMountAutoFocus:n,onUnmountAutoFocus:i,...l}=t,[c,u]=h.useState(null),m=Ua(n),x=Ua(i),f=h.useRef(null),g=zt(s,y=>u(y)),b=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(r){let y=function(_){if(b.paused||!c)return;const M=_.target;c.contains(M)?f.current=M:Ko(f.current,{select:!0})},w=function(_){if(b.paused||!c)return;const M=_.relatedTarget;M!==null&&(c.contains(M)||Ko(f.current,{select:!0}))},k=function(_){if(document.activeElement===document.body)for(const E of _)E.removedNodes.length>0&&Ko(c)};document.addEventListener("focusin",y),document.addEventListener("focusout",w);const C=new MutationObserver(k);return c&&C.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",w),C.disconnect()}}},[r,c,b.paused]),h.useEffect(()=>{if(c){v5.add(b);const y=document.activeElement;if(!c.contains(y)){const k=new CustomEvent(pj,f5);c.addEventListener(pj,m),c.dispatchEvent(k),k.defaultPrevented||(KH(JH(cA(c)),{select:!0}),document.activeElement===y&&Ko(c))}return()=>{c.removeEventListener(pj,m),setTimeout(()=>{const k=new CustomEvent(fj,f5);c.addEventListener(fj,x),c.dispatchEvent(k),k.defaultPrevented||Ko(y??document.body,{select:!0}),c.removeEventListener(fj,x),v5.remove(b)},0)}}},[c,m,x,b]);const v=h.useCallback(y=>{if(!a&&!r||b.paused)return;const w=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,k=document.activeElement;if(w&&k){const C=y.currentTarget,[_,M]=YH(C);_&&M?!y.shiftKey&&k===M?(y.preventDefault(),a&&Ko(_,{select:!0})):y.shiftKey&&k===_&&(y.preventDefault(),a&&Ko(M,{select:!0})):k===C&&y.preventDefault()}},[a,r,b.paused]);return e.jsx(lt.div,{tabIndex:-1,...l,ref:g,onKeyDown:v})});Px.displayName=GH;function KH(t,{select:s=!1}={}){const a=document.activeElement;for(const r of t)if(Ko(r,{select:s}),document.activeElement!==a)return}function YH(t){const s=cA(t),a=g5(s,t),r=g5(s.reverse(),t);return[a,r]}function cA(t){const s=[],a=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const n=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||n?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;a.nextNode();)s.push(a.currentNode);return s}function g5(t,s){for(const a of t)if(!QH(a,{upTo:s}))return a}function QH(t,{upTo:s}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(s!==void 0&&t===s)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function XH(t){return t instanceof HTMLInputElement&&"select"in t}function Ko(t,{select:s=!1}={}){if(t&&t.focus){const a=document.activeElement;t.focus({preventScroll:!0}),t!==a&&XH(t)&&s&&t.select()}}var v5=ZH();function ZH(){let t=[];return{add(s){const a=t[0];s!==a&&a?.pause(),t=y5(t,s),t.unshift(s)},remove(s){t=y5(t,s),t[0]?.resume()}}}function y5(t,s){const a=[...t],r=a.indexOf(s);return r!==-1&&a.splice(r,1),a}function JH(t){return t.filter(s=>s.tagName!=="A")}var gj="rovingFocusGroup.onEntryFocus",eW={bubbles:!1,cancelable:!0},Ax="RovingFocusGroup",[rN,dA,tW]=lm(Ax),[sW,gm]=kr(Ax,[tW]),[aW,rW]=sW(Ax),uA=h.forwardRef((t,s)=>e.jsx(rN.Provider,{scope:t.__scopeRovingFocusGroup,children:e.jsx(rN.Slot,{scope:t.__scopeRovingFocusGroup,children:e.jsx(nW,{...t,ref:s})})}));uA.displayName=Ax;var nW=h.forwardRef((t,s)=>{const{__scopeRovingFocusGroup:a,orientation:r,loop:n=!1,dir:i,currentTabStopId:l,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:u,onEntryFocus:m,preventScrollOnEntryFocus:x=!1,...f}=t,g=h.useRef(null),b=zt(s,g),v=xc(i),[y,w]=ln({prop:l,defaultProp:c??null,onChange:u,caller:Ax}),[k,C]=h.useState(!1),_=Ua(m),M=dA(a),E=h.useRef(!1),[R,z]=h.useState(0);return h.useEffect(()=>{const A=g.current;if(A)return A.addEventListener(gj,_),()=>A.removeEventListener(gj,_)},[_]),e.jsx(aW,{scope:a,orientation:r,dir:v,loop:n,currentTabStopId:y,onItemFocus:h.useCallback(A=>w(A),[w]),onItemShiftTab:h.useCallback(()=>C(!0),[]),onFocusableItemAdd:h.useCallback(()=>z(A=>A+1),[]),onFocusableItemRemove:h.useCallback(()=>z(A=>A-1),[]),children:e.jsx(lt.div,{tabIndex:k||R===0?-1:0,"data-orientation":r,...f,ref:b,style:{outline:"none",...t.style},onMouseDown:Ye(t.onMouseDown,()=>{E.current=!0}),onFocus:Ye(t.onFocus,A=>{const V=!E.current;if(A.target===A.currentTarget&&V&&!k){const H=new CustomEvent(gj,eW);if(A.currentTarget.dispatchEvent(H),!H.defaultPrevented){const I=M().filter(me=>me.focusable),q=I.find(me=>me.active),fe=I.find(me=>me.id===y),Ee=[q,fe,...I].filter(Boolean).map(me=>me.ref.current);xA(Ee,x)}}E.current=!1}),onBlur:Ye(t.onBlur,()=>C(!1))})})}),mA="RovingFocusGroupItem",hA=h.forwardRef((t,s)=>{const{__scopeRovingFocusGroup:a,focusable:r=!0,active:n=!1,tabStopId:i,children:l,...c}=t,u=ur(),m=i||u,x=rW(mA,a),f=x.currentTabStopId===m,g=dA(a),{onFocusableItemAdd:b,onFocusableItemRemove:v,currentTabStopId:y}=x;return h.useEffect(()=>{if(r)return b(),()=>v()},[r,b,v]),e.jsx(rN.ItemSlot,{scope:a,id:m,focusable:r,active:n,children:e.jsx(lt.span,{tabIndex:f?0:-1,"data-orientation":x.orientation,...c,ref:s,onMouseDown:Ye(t.onMouseDown,w=>{r?x.onItemFocus(m):w.preventDefault()}),onFocus:Ye(t.onFocus,()=>x.onItemFocus(m)),onKeyDown:Ye(t.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){x.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const k=oW(w,x.orientation,x.dir);if(k!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let _=g().filter(M=>M.focusable).map(M=>M.ref.current);if(k==="last")_.reverse();else if(k==="prev"||k==="next"){k==="prev"&&_.reverse();const M=_.indexOf(w.currentTarget);_=x.loop?cW(_,M+1):_.slice(M+1)}setTimeout(()=>xA(_))}}),children:typeof l=="function"?l({isCurrentTabStop:f,hasTabStop:y!=null}):l})})});hA.displayName=mA;var iW={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function lW(t,s){return s!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function oW(t,s,a){const r=lW(t.key,a);if(!(s==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(s==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return iW[r]}function xA(t,s=!1){const a=document.activeElement;for(const r of t)if(r===a||(r.focus({preventScroll:s}),document.activeElement!==a))return}function cW(t,s){return t.map((a,r)=>t[(s+r)%t.length])}var n1=uA,i1=hA;function dW(t){const s=uW(t),a=h.forwardRef((r,n)=>{const{children:i,...l}=r,c=h.Children.toArray(i),u=c.find(hW);if(u){const m=u.props.children,x=c.map(f=>f===u?h.Children.count(m)>1?h.Children.only(null):h.isValidElement(m)?m.props.children:null:f);return e.jsx(s,{...l,ref:n,children:h.isValidElement(m)?h.cloneElement(m,void 0,x):null})}return e.jsx(s,{...l,ref:n,children:i})});return a.displayName=`${t}.Slot`,a}function uW(t){const s=h.forwardRef((a,r)=>{const{children:n,...i}=a;if(h.isValidElement(n)){const l=pW(n),c=xW(i,n.props);return n.type!==h.Fragment&&(c.ref=r?kn(r,l):l),h.cloneElement(n,c)}return h.Children.count(n)>1?h.Children.only(null):null});return s.displayName=`${t}.SlotClone`,s}var mW=Symbol("radix.slottable");function hW(t){return h.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===mW}function xW(t,s){const a={...s};for(const r in s){const n=t[r],i=s[r];/^on[A-Z]/.test(r)?n&&i?a[r]=(...c)=>{const u=i(...c);return n(...c),u}:n&&(a[r]=n):r==="style"?a[r]={...n,...i}:r==="className"&&(a[r]=[n,i].filter(Boolean).join(" "))}return{...t,...a}}function pW(t){let s=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,a=s&&"isReactWarning"in s&&s.isReactWarning;return a?t.ref:(s=Object.getOwnPropertyDescriptor(t,"ref")?.get,a=s&&"isReactWarning"in s&&s.isReactWarning,a?t.props.ref:t.props.ref||t.ref)}var fW=function(t){if(typeof document>"u")return null;var s=Array.isArray(t)?t[0]:t;return s.ownerDocument.body},au=new WeakMap,lf=new WeakMap,of={},vj=0,pA=function(t){return t&&(t.host||pA(t.parentNode))},gW=function(t,s){return s.map(function(a){if(t.contains(a))return a;var r=pA(a);return r&&t.contains(r)?r:(console.error("aria-hidden",a,"in not contained inside",t,". Doing nothing"),null)}).filter(function(a){return!!a})},vW=function(t,s,a,r){var n=gW(s,Array.isArray(t)?t:[t]);of[a]||(of[a]=new WeakMap);var i=of[a],l=[],c=new Set,u=new Set(n),m=function(f){!f||c.has(f)||(c.add(f),m(f.parentNode))};n.forEach(m);var x=function(f){!f||u.has(f)||Array.prototype.forEach.call(f.children,function(g){if(c.has(g))x(g);else try{var b=g.getAttribute(r),v=b!==null&&b!=="false",y=(au.get(g)||0)+1,w=(i.get(g)||0)+1;au.set(g,y),i.set(g,w),l.push(g),y===1&&v&&lf.set(g,!0),w===1&&g.setAttribute(a,"true"),v||g.setAttribute(r,"true")}catch(k){console.error("aria-hidden: cannot operate on ",g,k)}})};return x(s),c.clear(),vj++,function(){l.forEach(function(f){var g=au.get(f)-1,b=i.get(f)-1;au.set(f,g),i.set(f,b),g||(lf.has(f)||f.removeAttribute(r),lf.delete(f)),b||f.removeAttribute(a)}),vj--,vj||(au=new WeakMap,au=new WeakMap,lf=new WeakMap,of={})}},C0=function(t,s,a){a===void 0&&(a="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),n=fW(t);return n?(r.push.apply(r,Array.from(n.querySelectorAll("[aria-live], script"))),vW(r,n,a,"aria-hidden")):function(){return null}},Cl=function(){return Cl=Object.assign||function(s){for(var a,r=1,n=arguments.length;r<n;r++){a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(s[i]=a[i])}return s},Cl.apply(this,arguments)};function fA(t,s){var a={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&s.indexOf(r)<0&&(a[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)s.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(a[r[n]]=t[r[n]]);return a}function yW(t,s,a){if(a||arguments.length===2)for(var r=0,n=s.length,i;r<n;r++)(i||!(r in s))&&(i||(i=Array.prototype.slice.call(s,0,r)),i[r]=s[r]);return t.concat(i||Array.prototype.slice.call(s))}var zf="right-scroll-bar-position",Vf="width-before-scroll-bar",jW="with-scroll-bars-hidden",bW="--removed-body-scroll-bar-size";function yj(t,s){return typeof t=="function"?t(s):t&&(t.current=s),t}function NW(t,s){var a=h.useState(function(){return{value:t,callback:s,facade:{get current(){return a.value},set current(r){var n=a.value;n!==r&&(a.value=r,a.callback(r,n))}}}})[0];return a.callback=s,a.facade}var wW=typeof window<"u"?h.useLayoutEffect:h.useEffect,j5=new WeakMap;function kW(t,s){var a=NW(null,function(r){return t.forEach(function(n){return yj(n,r)})});return wW(function(){var r=j5.get(a);if(r){var n=new Set(r),i=new Set(t),l=a.current;n.forEach(function(c){i.has(c)||yj(c,null)}),i.forEach(function(c){n.has(c)||yj(c,l)})}j5.set(a,t)},[t]),a}function CW(t){return t}function SW(t,s){s===void 0&&(s=CW);var a=[],r=!1,n={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return a.length?a[a.length-1]:t},useMedium:function(i){var l=s(i,r);return a.push(l),function(){a=a.filter(function(c){return c!==l})}},assignSyncMedium:function(i){for(r=!0;a.length;){var l=a;a=[],l.forEach(i)}a={push:function(c){return i(c)},filter:function(){return a}}},assignMedium:function(i){r=!0;var l=[];if(a.length){var c=a;a=[],c.forEach(i),l=a}var u=function(){var x=l;l=[],x.forEach(i)},m=function(){return Promise.resolve().then(u)};m(),a={push:function(x){l.push(x),m()},filter:function(x){return l=l.filter(x),a}}}};return n}function TW(t){t===void 0&&(t={});var s=SW(null);return s.options=Cl({async:!0,ssr:!1},t),s}var gA=function(t){var s=t.sideCar,a=fA(t,["sideCar"]);if(!s)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=s.read();if(!r)throw new Error("Sidecar medium not found");return h.createElement(r,Cl({},a))};gA.isSideCarExport=!0;function _W(t,s){return t.useMedium(s),gA}var vA=TW(),jj=function(){},S0=h.forwardRef(function(t,s){var a=h.useRef(null),r=h.useState({onScrollCapture:jj,onWheelCapture:jj,onTouchMoveCapture:jj}),n=r[0],i=r[1],l=t.forwardProps,c=t.children,u=t.className,m=t.removeScrollBar,x=t.enabled,f=t.shards,g=t.sideCar,b=t.noRelative,v=t.noIsolation,y=t.inert,w=t.allowPinchZoom,k=t.as,C=k===void 0?"div":k,_=t.gapMode,M=fA(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=g,R=kW([a,s]),z=Cl(Cl({},M),n);return h.createElement(h.Fragment,null,x&&h.createElement(E,{sideCar:vA,removeScrollBar:m,shards:f,noRelative:b,noIsolation:v,inert:y,setCallbacks:i,allowPinchZoom:!!w,lockRef:a,gapMode:_}),l?h.cloneElement(h.Children.only(c),Cl(Cl({},z),{ref:R})):h.createElement(C,Cl({},z,{className:u,ref:R}),c))});S0.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};S0.classNames={fullWidth:Vf,zeroRight:zf};var EW=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function PW(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var s=EW();return s&&t.setAttribute("nonce",s),t}function AW(t,s){t.styleSheet?t.styleSheet.cssText=s:t.appendChild(document.createTextNode(s))}function DW(t){var s=document.head||document.getElementsByTagName("head")[0];s.appendChild(t)}var FW=function(){var t=0,s=null;return{add:function(a){t==0&&(s=PW())&&(AW(s,a),DW(s)),t++},remove:function(){t--,!t&&s&&(s.parentNode&&s.parentNode.removeChild(s),s=null)}}},MW=function(){var t=FW();return function(s,a){h.useEffect(function(){return t.add(s),function(){t.remove()}},[s&&a])}},yA=function(){var t=MW(),s=function(a){var r=a.styles,n=a.dynamic;return t(r,n),null};return s},IW={left:0,top:0,right:0,gap:0},bj=function(t){return parseInt(t||"",10)||0},RW=function(t){var s=window.getComputedStyle(document.body),a=s[t==="padding"?"paddingLeft":"marginLeft"],r=s[t==="padding"?"paddingTop":"marginTop"],n=s[t==="padding"?"paddingRight":"marginRight"];return[bj(a),bj(r),bj(n)]},LW=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return IW;var s=RW(t),a=document.documentElement.clientWidth,r=window.innerWidth;return{left:s[0],top:s[1],right:s[2],gap:Math.max(0,r-a+s[2]-s[0])}},OW=yA(),Fu="data-scroll-locked",$W=function(t,s,a,r){var n=t.left,i=t.top,l=t.right,c=t.gap;return a===void 0&&(a="margin"),`
  .`.concat(jW,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body[`).concat(Fu,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([s&&"position: relative ".concat(r,";"),a==="margin"&&`
    padding-left: `.concat(n,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),a==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(zf,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(Vf,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(zf," .").concat(zf,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Vf," .").concat(Vf,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Fu,`] {
    `).concat(bW,": ").concat(c,`px;
  }
`)},b5=function(){var t=parseInt(document.body.getAttribute(Fu)||"0",10);return isFinite(t)?t:0},BW=function(){h.useEffect(function(){return document.body.setAttribute(Fu,(b5()+1).toString()),function(){var t=b5()-1;t<=0?document.body.removeAttribute(Fu):document.body.setAttribute(Fu,t.toString())}},[])},zW=function(t){var s=t.noRelative,a=t.noImportant,r=t.gapMode,n=r===void 0?"margin":r;BW();var i=h.useMemo(function(){return LW(n)},[n]);return h.createElement(OW,{styles:$W(i,!s,n,a?"":"!important")})},nN=!1;if(typeof window<"u")try{var cf=Object.defineProperty({},"passive",{get:function(){return nN=!0,!0}});window.addEventListener("test",cf,cf),window.removeEventListener("test",cf,cf)}catch{nN=!1}var ru=nN?{passive:!1}:!1,VW=function(t){return t.tagName==="TEXTAREA"},jA=function(t,s){if(!(t instanceof Element))return!1;var a=window.getComputedStyle(t);return a[s]!=="hidden"&&!(a.overflowY===a.overflowX&&!VW(t)&&a[s]==="visible")},UW=function(t){return jA(t,"overflowY")},qW=function(t){return jA(t,"overflowX")},N5=function(t,s){var a=s.ownerDocument,r=s;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var n=bA(t,r);if(n){var i=NA(t,r),l=i[1],c=i[2];if(l>c)return!0}r=r.parentNode}while(r&&r!==a.body);return!1},HW=function(t){var s=t.scrollTop,a=t.scrollHeight,r=t.clientHeight;return[s,a,r]},WW=function(t){var s=t.scrollLeft,a=t.scrollWidth,r=t.clientWidth;return[s,a,r]},bA=function(t,s){return t==="v"?UW(s):qW(s)},NA=function(t,s){return t==="v"?HW(s):WW(s)},GW=function(t,s){return t==="h"&&s==="rtl"?-1:1},KW=function(t,s,a,r,n){var i=GW(t,window.getComputedStyle(s).direction),l=i*r,c=a.target,u=s.contains(c),m=!1,x=l>0,f=0,g=0;do{if(!c)break;var b=NA(t,c),v=b[0],y=b[1],w=b[2],k=y-w-i*v;(v||k)&&bA(t,c)&&(f+=k,g+=v);var C=c.parentNode;c=C&&C.nodeType===Node.DOCUMENT_FRAGMENT_NODE?C.host:C}while(!u&&c!==document.body||u&&(s.contains(c)||s===c));return(x&&Math.abs(f)<1||!x&&Math.abs(g)<1)&&(m=!0),m},df=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},w5=function(t){return[t.deltaX,t.deltaY]},k5=function(t){return t&&"current"in t?t.current:t},YW=function(t,s){return t[0]===s[0]&&t[1]===s[1]},QW=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},XW=0,nu=[];function ZW(t){var s=h.useRef([]),a=h.useRef([0,0]),r=h.useRef(),n=h.useState(XW++)[0],i=h.useState(yA)[0],l=h.useRef(t);h.useEffect(function(){l.current=t},[t]),h.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(n));var y=yW([t.lockRef.current],(t.shards||[]).map(k5),!0).filter(Boolean);return y.forEach(function(w){return w.classList.add("allow-interactivity-".concat(n))}),function(){document.body.classList.remove("block-interactivity-".concat(n)),y.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(n))})}}},[t.inert,t.lockRef.current,t.shards]);var c=h.useCallback(function(y,w){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!l.current.allowPinchZoom;var k=df(y),C=a.current,_="deltaX"in y?y.deltaX:C[0]-k[0],M="deltaY"in y?y.deltaY:C[1]-k[1],E,R=y.target,z=Math.abs(_)>Math.abs(M)?"h":"v";if("touches"in y&&z==="h"&&R.type==="range")return!1;var A=window.getSelection(),V=A&&A.anchorNode,H=V?V===R||V.contains(R):!1;if(H)return!1;var I=N5(z,R);if(!I)return!0;if(I?E=z:(E=z==="v"?"h":"v",I=N5(z,R)),!I)return!1;if(!r.current&&"changedTouches"in y&&(_||M)&&(r.current=E),!E)return!0;var q=r.current||E;return KW(q,w,y,q==="h"?_:M)},[]),u=h.useCallback(function(y){var w=y;if(!(!nu.length||nu[nu.length-1]!==i)){var k="deltaY"in w?w5(w):df(w),C=s.current.filter(function(E){return E.name===w.type&&(E.target===w.target||w.target===E.shadowParent)&&YW(E.delta,k)})[0];if(C&&C.should){w.cancelable&&w.preventDefault();return}if(!C){var _=(l.current.shards||[]).map(k5).filter(Boolean).filter(function(E){return E.contains(w.target)}),M=_.length>0?c(w,_[0]):!l.current.noIsolation;M&&w.cancelable&&w.preventDefault()}}},[]),m=h.useCallback(function(y,w,k,C){var _={name:y,delta:w,target:k,should:C,shadowParent:JW(k)};s.current.push(_),setTimeout(function(){s.current=s.current.filter(function(M){return M!==_})},1)},[]),x=h.useCallback(function(y){a.current=df(y),r.current=void 0},[]),f=h.useCallback(function(y){m(y.type,w5(y),y.target,c(y,t.lockRef.current))},[]),g=h.useCallback(function(y){m(y.type,df(y),y.target,c(y,t.lockRef.current))},[]);h.useEffect(function(){return nu.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:g}),document.addEventListener("wheel",u,ru),document.addEventListener("touchmove",u,ru),document.addEventListener("touchstart",x,ru),function(){nu=nu.filter(function(y){return y!==i}),document.removeEventListener("wheel",u,ru),document.removeEventListener("touchmove",u,ru),document.removeEventListener("touchstart",x,ru)}},[]);var b=t.removeScrollBar,v=t.inert;return h.createElement(h.Fragment,null,v?h.createElement(i,{styles:QW(n)}):null,b?h.createElement(zW,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function JW(t){for(var s=null;t!==null;)t instanceof ShadowRoot&&(s=t.host,t=t.host),t=t.parentNode;return s}const eG=_W(vA,ZW);var Dx=h.forwardRef(function(t,s){return h.createElement(S0,Cl({},t,{ref:s,sideCar:eG}))});Dx.classNames=S0.classNames;var iN=["Enter"," "],tG=["ArrowDown","PageUp","Home"],wA=["ArrowUp","PageDown","End"],sG=[...tG,...wA],aG={ltr:[...iN,"ArrowRight"],rtl:[...iN,"ArrowLeft"]},rG={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Fx="Menu",[qh,nG,iG]=lm(Fx),[Pd,kA]=kr(Fx,[iG,mc,gm]),T0=mc(),CA=gm(),[lG,Ad]=Pd(Fx),[oG,Mx]=Pd(Fx),SA=t=>{const{__scopeMenu:s,open:a=!1,children:r,dir:n,onOpenChange:i,modal:l=!0}=t,c=T0(s),[u,m]=h.useState(null),x=h.useRef(!1),f=Ua(i),g=xc(n);return h.useEffect(()=>{const b=()=>{x.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>x.current=!1;return document.addEventListener("keydown",b,{capture:!0}),()=>{document.removeEventListener("keydown",b,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),e.jsx(u0,{...c,children:e.jsx(lG,{scope:s,open:a,onOpenChange:f,content:u,onContentChange:m,children:e.jsx(oG,{scope:s,onClose:h.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:x,dir:g,modal:l,children:r})})})};SA.displayName=Fx;var cG="MenuAnchor",l1=h.forwardRef((t,s)=>{const{__scopeMenu:a,...r}=t,n=T0(a);return e.jsx(kx,{...n,...r,ref:s})});l1.displayName=cG;var o1="MenuPortal",[dG,TA]=Pd(o1,{forceMount:void 0}),_A=t=>{const{__scopeMenu:s,forceMount:a,children:r,container:n}=t,i=Ad(o1,s);return e.jsx(dG,{scope:s,forceMount:a,children:e.jsx(xr,{present:a||i.open,children:e.jsx(om,{asChild:!0,container:n,children:r})})})};_A.displayName=o1;var Pi="MenuContent",[uG,c1]=Pd(Pi),EA=h.forwardRef((t,s)=>{const a=TA(Pi,t.__scopeMenu),{forceMount:r=a.forceMount,...n}=t,i=Ad(Pi,t.__scopeMenu),l=Mx(Pi,t.__scopeMenu);return e.jsx(qh.Provider,{scope:t.__scopeMenu,children:e.jsx(xr,{present:r||i.open,children:e.jsx(qh.Slot,{scope:t.__scopeMenu,children:l.modal?e.jsx(mG,{...n,ref:s}):e.jsx(hG,{...n,ref:s})})})})}),mG=h.forwardRef((t,s)=>{const a=Ad(Pi,t.__scopeMenu),r=h.useRef(null),n=zt(s,r);return h.useEffect(()=>{const i=r.current;if(i)return C0(i)},[]),e.jsx(d1,{...t,ref:n,trapFocus:a.open,disableOutsidePointerEvents:a.open,disableOutsideScroll:!0,onFocusOutside:Ye(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>a.onOpenChange(!1)})}),hG=h.forwardRef((t,s)=>{const a=Ad(Pi,t.__scopeMenu);return e.jsx(d1,{...t,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>a.onOpenChange(!1)})}),xG=dW("MenuContent.ScrollLock"),d1=h.forwardRef((t,s)=>{const{__scopeMenu:a,loop:r=!1,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:l,disableOutsidePointerEvents:c,onEntryFocus:u,onEscapeKeyDown:m,onPointerDownOutside:x,onFocusOutside:f,onInteractOutside:g,onDismiss:b,disableOutsideScroll:v,...y}=t,w=Ad(Pi,a),k=Mx(Pi,a),C=T0(a),_=CA(a),M=nG(a),[E,R]=h.useState(null),z=h.useRef(null),A=zt(s,z,w.onContentChange),V=h.useRef(0),H=h.useRef(""),I=h.useRef(0),q=h.useRef(null),fe=h.useRef("right"),oe=h.useRef(0),Ee=v?Dx:h.Fragment,me=v?{as:xG,allowPinchZoom:!0}:void 0,ie=ae=>{const ke=H.current+ae,$=M().filter(K=>!K.disabled),L=document.activeElement,W=$.find(K=>K.ref.current===L)?.textValue,re=$.map(K=>K.textValue),se=SG(re,ke,W),ge=$.find(K=>K.textValue===se)?.ref.current;(function K(J){H.current=J,window.clearTimeout(V.current),J!==""&&(V.current=window.setTimeout(()=>K(""),1e3))})(ke),ge&&setTimeout(()=>ge.focus())};h.useEffect(()=>()=>window.clearTimeout(V.current),[]),k0();const B=h.useCallback(ae=>fe.current===q.current?.side&&_G(ae,q.current?.area),[]);return e.jsx(uG,{scope:a,searchRef:H,onItemEnter:h.useCallback(ae=>{B(ae)&&ae.preventDefault()},[B]),onItemLeave:h.useCallback(ae=>{B(ae)||(z.current?.focus(),R(null))},[B]),onTriggerLeave:h.useCallback(ae=>{B(ae)&&ae.preventDefault()},[B]),pointerGraceTimerRef:I,onPointerGraceIntentChange:h.useCallback(ae=>{q.current=ae},[]),children:e.jsx(Ee,{...me,children:e.jsx(Px,{asChild:!0,trapped:n,onMountAutoFocus:Ye(i,ae=>{ae.preventDefault(),z.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:e.jsx(kd,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:m,onPointerDownOutside:x,onFocusOutside:f,onInteractOutside:g,onDismiss:b,children:e.jsx(n1,{asChild:!0,..._,dir:k.dir,orientation:"vertical",loop:r,currentTabStopId:E,onCurrentTabStopIdChange:R,onEntryFocus:Ye(u,ae=>{k.isUsingKeyboardRef.current||ae.preventDefault()}),preventScrollOnEntryFocus:!0,children:e.jsx(m0,{role:"menu","aria-orientation":"vertical","data-state":HA(w.open),"data-radix-menu-content":"",dir:k.dir,...C,...y,ref:A,style:{outline:"none",...y.style},onKeyDown:Ye(y.onKeyDown,ae=>{const $=ae.target.closest("[data-radix-menu-content]")===ae.currentTarget,L=ae.ctrlKey||ae.altKey||ae.metaKey,W=ae.key.length===1;$&&(ae.key==="Tab"&&ae.preventDefault(),!L&&W&&ie(ae.key));const re=z.current;if(ae.target!==re||!sG.includes(ae.key))return;ae.preventDefault();const ge=M().filter(K=>!K.disabled).map(K=>K.ref.current);wA.includes(ae.key)&&ge.reverse(),kG(ge)}),onBlur:Ye(t.onBlur,ae=>{ae.currentTarget.contains(ae.target)||(window.clearTimeout(V.current),H.current="")}),onPointerMove:Ye(t.onPointerMove,Hh(ae=>{const ke=ae.target,$=oe.current!==ae.clientX;if(ae.currentTarget.contains(ke)&&$){const L=ae.clientX>oe.current?"right":"left";fe.current=L,oe.current=ae.clientX}}))})})})})})})});EA.displayName=Pi;var pG="MenuGroup",u1=h.forwardRef((t,s)=>{const{__scopeMenu:a,...r}=t;return e.jsx(lt.div,{role:"group",...r,ref:s})});u1.displayName=pG;var fG="MenuLabel",PA=h.forwardRef((t,s)=>{const{__scopeMenu:a,...r}=t;return e.jsx(lt.div,{...r,ref:s})});PA.displayName=fG;var bg="MenuItem",C5="menu.itemSelect",_0=h.forwardRef((t,s)=>{const{disabled:a=!1,onSelect:r,...n}=t,i=h.useRef(null),l=Mx(bg,t.__scopeMenu),c=c1(bg,t.__scopeMenu),u=zt(s,i),m=h.useRef(!1),x=()=>{const f=i.current;if(!a&&f){const g=new CustomEvent(C5,{bubbles:!0,cancelable:!0});f.addEventListener(C5,b=>r?.(b),{once:!0}),KN(f,g),g.defaultPrevented?m.current=!1:l.onClose()}};return e.jsx(AA,{...n,ref:u,disabled:a,onClick:Ye(t.onClick,x),onPointerDown:f=>{t.onPointerDown?.(f),m.current=!0},onPointerUp:Ye(t.onPointerUp,f=>{m.current||f.currentTarget?.click()}),onKeyDown:Ye(t.onKeyDown,f=>{const g=c.searchRef.current!=="";a||g&&f.key===" "||iN.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});_0.displayName=bg;var AA=h.forwardRef((t,s)=>{const{__scopeMenu:a,disabled:r=!1,textValue:n,...i}=t,l=c1(bg,a),c=CA(a),u=h.useRef(null),m=zt(s,u),[x,f]=h.useState(!1),[g,b]=h.useState("");return h.useEffect(()=>{const v=u.current;v&&b((v.textContent??"").trim())},[i.children]),e.jsx(qh.ItemSlot,{scope:a,disabled:r,textValue:n??g,children:e.jsx(i1,{asChild:!0,...c,focusable:!r,children:e.jsx(lt.div,{role:"menuitem","data-highlighted":x?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:m,onPointerMove:Ye(t.onPointerMove,Hh(v=>{r?l.onItemLeave(v):(l.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ye(t.onPointerLeave,Hh(v=>l.onItemLeave(v))),onFocus:Ye(t.onFocus,()=>f(!0)),onBlur:Ye(t.onBlur,()=>f(!1))})})})}),gG="MenuCheckboxItem",DA=h.forwardRef((t,s)=>{const{checked:a=!1,onCheckedChange:r,...n}=t;return e.jsx(LA,{scope:t.__scopeMenu,checked:a,children:e.jsx(_0,{role:"menuitemcheckbox","aria-checked":Ng(a)?"mixed":a,...n,ref:s,"data-state":h1(a),onSelect:Ye(n.onSelect,()=>r?.(Ng(a)?!0:!a),{checkForDefaultPrevented:!1})})})});DA.displayName=gG;var FA="MenuRadioGroup",[vG,yG]=Pd(FA,{value:void 0,onValueChange:()=>{}}),MA=h.forwardRef((t,s)=>{const{value:a,onValueChange:r,...n}=t,i=Ua(r);return e.jsx(vG,{scope:t.__scopeMenu,value:a,onValueChange:i,children:e.jsx(u1,{...n,ref:s})})});MA.displayName=FA;var IA="MenuRadioItem",RA=h.forwardRef((t,s)=>{const{value:a,...r}=t,n=yG(IA,t.__scopeMenu),i=a===n.value;return e.jsx(LA,{scope:t.__scopeMenu,checked:i,children:e.jsx(_0,{role:"menuitemradio","aria-checked":i,...r,ref:s,"data-state":h1(i),onSelect:Ye(r.onSelect,()=>n.onValueChange?.(a),{checkForDefaultPrevented:!1})})})});RA.displayName=IA;var m1="MenuItemIndicator",[LA,jG]=Pd(m1,{checked:!1}),OA=h.forwardRef((t,s)=>{const{__scopeMenu:a,forceMount:r,...n}=t,i=jG(m1,a);return e.jsx(xr,{present:r||Ng(i.checked)||i.checked===!0,children:e.jsx(lt.span,{...n,ref:s,"data-state":h1(i.checked)})})});OA.displayName=m1;var bG="MenuSeparator",$A=h.forwardRef((t,s)=>{const{__scopeMenu:a,...r}=t;return e.jsx(lt.div,{role:"separator","aria-orientation":"horizontal",...r,ref:s})});$A.displayName=bG;var NG="MenuArrow",BA=h.forwardRef((t,s)=>{const{__scopeMenu:a,...r}=t,n=T0(a);return e.jsx(h0,{...n,...r,ref:s})});BA.displayName=NG;var wG="MenuSub",[kpe,zA]=Pd(wG),kh="MenuSubTrigger",VA=h.forwardRef((t,s)=>{const a=Ad(kh,t.__scopeMenu),r=Mx(kh,t.__scopeMenu),n=zA(kh,t.__scopeMenu),i=c1(kh,t.__scopeMenu),l=h.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:u}=i,m={__scopeMenu:t.__scopeMenu},x=h.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return h.useEffect(()=>x,[x]),h.useEffect(()=>{const f=c.current;return()=>{window.clearTimeout(f),u(null)}},[c,u]),e.jsx(l1,{asChild:!0,...m,children:e.jsx(AA,{id:n.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":n.contentId,"data-state":HA(a.open),...t,ref:kn(s,n.onTriggerChange),onClick:f=>{t.onClick?.(f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),a.open||a.onOpenChange(!0))},onPointerMove:Ye(t.onPointerMove,Hh(f=>{i.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!a.open&&!l.current&&(i.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{a.onOpenChange(!0),x()},100))})),onPointerLeave:Ye(t.onPointerLeave,Hh(f=>{x();const g=a.content?.getBoundingClientRect();if(g){const b=a.content?.dataset.side,v=b==="right",y=v?-5:5,w=g[v?"left":"right"],k=g[v?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+y,y:f.clientY},{x:w,y:g.top},{x:k,y:g.top},{x:k,y:g.bottom},{x:w,y:g.bottom}],side:b}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Ye(t.onKeyDown,f=>{const g=i.searchRef.current!=="";t.disabled||g&&f.key===" "||aG[r.dir].includes(f.key)&&(a.onOpenChange(!0),a.content?.focus(),f.preventDefault())})})})});VA.displayName=kh;var UA="MenuSubContent",qA=h.forwardRef((t,s)=>{const a=TA(Pi,t.__scopeMenu),{forceMount:r=a.forceMount,...n}=t,i=Ad(Pi,t.__scopeMenu),l=Mx(Pi,t.__scopeMenu),c=zA(UA,t.__scopeMenu),u=h.useRef(null),m=zt(s,u);return e.jsx(qh.Provider,{scope:t.__scopeMenu,children:e.jsx(xr,{present:r||i.open,children:e.jsx(qh.Slot,{scope:t.__scopeMenu,children:e.jsx(d1,{id:c.contentId,"aria-labelledby":c.triggerId,...n,ref:m,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:x=>{l.isUsingKeyboardRef.current&&u.current?.focus(),x.preventDefault()},onCloseAutoFocus:x=>x.preventDefault(),onFocusOutside:Ye(t.onFocusOutside,x=>{x.target!==c.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Ye(t.onEscapeKeyDown,x=>{l.onClose(),x.preventDefault()}),onKeyDown:Ye(t.onKeyDown,x=>{const f=x.currentTarget.contains(x.target),g=rG[l.dir].includes(x.key);f&&g&&(i.onOpenChange(!1),c.trigger?.focus(),x.preventDefault())})})})})})});qA.displayName=UA;function HA(t){return t?"open":"closed"}function Ng(t){return t==="indeterminate"}function h1(t){return Ng(t)?"indeterminate":t?"checked":"unchecked"}function kG(t){const s=document.activeElement;for(const a of t)if(a===s||(a.focus(),document.activeElement!==s))return}function CG(t,s){return t.map((a,r)=>t[(s+r)%t.length])}function SG(t,s,a){const n=s.length>1&&Array.from(s).every(m=>m===s[0])?s[0]:s,i=a?t.indexOf(a):-1;let l=CG(t,Math.max(i,0));n.length===1&&(l=l.filter(m=>m!==a));const u=l.find(m=>m.toLowerCase().startsWith(n.toLowerCase()));return u!==a?u:void 0}function TG(t,s){const{x:a,y:r}=t;let n=!1;for(let i=0,l=s.length-1;i<s.length;l=i++){const c=s[i],u=s[l],m=c.x,x=c.y,f=u.x,g=u.y;x>r!=g>r&&a<(f-m)*(r-x)/(g-x)+m&&(n=!n)}return n}function _G(t,s){if(!s)return!1;const a={x:t.clientX,y:t.clientY};return TG(a,s)}function Hh(t){return s=>s.pointerType==="mouse"?t(s):void 0}var EG=SA,PG=l1,AG=_A,DG=EA,FG=u1,MG=PA,IG=_0,RG=DA,LG=MA,OG=RA,$G=OA,BG=$A,zG=BA,VG=VA,UG=qA,E0="DropdownMenu",[qG]=kr(E0,[kA]),En=kA(),[HG,WA]=qG(E0),GA=t=>{const{__scopeDropdownMenu:s,children:a,dir:r,open:n,defaultOpen:i,onOpenChange:l,modal:c=!0}=t,u=En(s),m=h.useRef(null),[x,f]=ln({prop:n,defaultProp:i??!1,onChange:l,caller:E0});return e.jsx(HG,{scope:s,triggerId:ur(),triggerRef:m,contentId:ur(),open:x,onOpenChange:f,onOpenToggle:h.useCallback(()=>f(g=>!g),[f]),modal:c,children:e.jsx(EG,{...u,open:x,onOpenChange:f,dir:r,modal:c,children:a})})};GA.displayName=E0;var KA="DropdownMenuTrigger",YA=h.forwardRef((t,s)=>{const{__scopeDropdownMenu:a,disabled:r=!1,...n}=t,i=WA(KA,a),l=En(a);return e.jsx(PG,{asChild:!0,...l,children:e.jsx(lt.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...n,ref:kn(s,i.triggerRef),onPointerDown:Ye(t.onPointerDown,c=>{!r&&c.button===0&&c.ctrlKey===!1&&(i.onOpenToggle(),i.open||c.preventDefault())}),onKeyDown:Ye(t.onKeyDown,c=>{r||(["Enter"," "].includes(c.key)&&i.onOpenToggle(),c.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});YA.displayName=KA;var WG="DropdownMenuPortal",QA=t=>{const{__scopeDropdownMenu:s,...a}=t,r=En(s);return e.jsx(AG,{...r,...a})};QA.displayName=WG;var XA="DropdownMenuContent",ZA=h.forwardRef((t,s)=>{const{__scopeDropdownMenu:a,...r}=t,n=WA(XA,a),i=En(a),l=h.useRef(!1);return e.jsx(DG,{id:n.contentId,"aria-labelledby":n.triggerId,...i,...r,ref:s,onCloseAutoFocus:Ye(t.onCloseAutoFocus,c=>{l.current||n.triggerRef.current?.focus(),l.current=!1,c.preventDefault()}),onInteractOutside:Ye(t.onInteractOutside,c=>{const u=c.detail.originalEvent,m=u.button===0&&u.ctrlKey===!0,x=u.button===2||m;(!n.modal||x)&&(l.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});ZA.displayName=XA;var GG="DropdownMenuGroup",KG=h.forwardRef((t,s)=>{const{__scopeDropdownMenu:a,...r}=t,n=En(a);return e.jsx(FG,{...n,...r,ref:s})});KG.displayName=GG;var YG="DropdownMenuLabel",JA=h.forwardRef((t,s)=>{const{__scopeDropdownMenu:a,...r}=t,n=En(a);return e.jsx(MG,{...n,...r,ref:s})});JA.displayName=YG;var QG="DropdownMenuItem",e6=h.forwardRef((t,s)=>{const{__scopeDropdownMenu:a,...r}=t,n=En(a);return e.jsx(IG,{...n,...r,ref:s})});e6.displayName=QG;var XG="DropdownMenuCheckboxItem",t6=h.forwardRef((t,s)=>{const{__scopeDropdownMenu:a,...r}=t,n=En(a);return e.jsx(RG,{...n,...r,ref:s})});t6.displayName=XG;var ZG="DropdownMenuRadioGroup",JG=h.forwardRef((t,s)=>{const{__scopeDropdownMenu:a,...r}=t,n=En(a);return e.jsx(LG,{...n,...r,ref:s})});JG.displayName=ZG;var eK="DropdownMenuRadioItem",s6=h.forwardRef((t,s)=>{const{__scopeDropdownMenu:a,...r}=t,n=En(a);return e.jsx(OG,{...n,...r,ref:s})});s6.displayName=eK;var tK="DropdownMenuItemIndicator",a6=h.forwardRef((t,s)=>{const{__scopeDropdownMenu:a,...r}=t,n=En(a);return e.jsx($G,{...n,...r,ref:s})});a6.displayName=tK;var sK="DropdownMenuSeparator",r6=h.forwardRef((t,s)=>{const{__scopeDropdownMenu:a,...r}=t,n=En(a);return e.jsx(BG,{...n,...r,ref:s})});r6.displayName=sK;var aK="DropdownMenuArrow",rK=h.forwardRef((t,s)=>{const{__scopeDropdownMenu:a,...r}=t,n=En(a);return e.jsx(zG,{...n,...r,ref:s})});rK.displayName=aK;var nK="DropdownMenuSubTrigger",n6=h.forwardRef((t,s)=>{const{__scopeDropdownMenu:a,...r}=t,n=En(a);return e.jsx(VG,{...n,...r,ref:s})});n6.displayName=nK;var iK="DropdownMenuSubContent",i6=h.forwardRef((t,s)=>{const{__scopeDropdownMenu:a,...r}=t,n=En(a);return e.jsx(UG,{...n,...r,ref:s,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});i6.displayName=iK;var lK=GA,oK=YA,cK=QA,l6=ZA,o6=JA,c6=e6,d6=t6,u6=s6,m6=a6,h6=r6,x6=n6,p6=i6;const Yu=lK,Qu=oK,dK=h.forwardRef(({className:t,inset:s,children:a,...r},n)=>e.jsxs(x6,{ref:n,className:te("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",s&&"pl-8",t),...r,children:[a,e.jsx($s,{className:"ml-auto"})]}));dK.displayName=x6.displayName;const uK=h.forwardRef(({className:t,...s},a)=>e.jsx(p6,{ref:a,className:te("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...s}));uK.displayName=p6.displayName;const cd=h.forwardRef(({className:t,sideOffset:s=4,...a},r)=>e.jsx(cK,{children:e.jsx(l6,{ref:r,sideOffset:s,className:te("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...a})}));cd.displayName=l6.displayName;const Va=h.forwardRef(({className:t,inset:s,...a},r)=>e.jsx(c6,{ref:r,className:te("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",s&&"pl-8",t),...a}));Va.displayName=c6.displayName;const mK=h.forwardRef(({className:t,children:s,checked:a,...r},n)=>e.jsxs(d6,{ref:n,className:te("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:a,...r,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(m6,{children:e.jsx(rs,{className:"h-4 w-4"})})}),s]}));mK.displayName=d6.displayName;const hK=h.forwardRef(({className:t,children:s,...a},r)=>e.jsxs(u6,{ref:r,className:te("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...a,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(m6,{children:e.jsx(w_,{className:"h-2 w-2 fill-current"})})}),s]}));hK.displayName=u6.displayName;const xK=h.forwardRef(({className:t,inset:s,...a},r)=>e.jsx(o6,{ref:r,className:te("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",t),...a}));xK.displayName=o6.displayName;const f6=h.forwardRef(({className:t,...s},a)=>e.jsx(h6,{ref:a,className:te("-mx-1 my-1 h-px bg-muted",t),...s}));f6.displayName=h6.displayName;function vm(){const{user:t,logout:s}=qr();return t?e.jsxs(Yu,{children:[e.jsx(Qu,{asChild:!0,children:e.jsxs(S,{variant:"ghost",className:"flex items-center gap-2 px-2","data-testid":"button-user-menu",children:[e.jsxs(Ls,{className:"h-8 w-8",children:[e.jsx(Br,{src:t.profileImageUrl||void 0,alt:t.firstName||"User"}),e.jsx(Os,{className:"bg-primary/10 text-primary font-bold text-sm",children:t.firstName?.[0]||"U"})]}),e.jsx("span",{className:"text-sm font-medium text-[#6B7280] dark:text-gray-300",children:t.firstName}),e.jsx(qs,{className:"w-4 h-4 text-muted-foreground"})]})}),e.jsxs(cd,{align:"end",className:"w-56",children:[e.jsx(Va,{asChild:!0,children:e.jsxs(Ce,{href:"/dashboard",className:"cursor-pointer","data-testid":"link-user-my-trips",children:[e.jsx(r0,{className:"w-4 h-4 mr-2"}),"My Trips"]})}),e.jsx(Va,{asChild:!0,children:e.jsxs(Ce,{href:"/credits",className:"cursor-pointer","data-testid":"link-user-credits",children:[e.jsx(Sa,{className:"w-4 h-4 mr-2"}),"Credits & Billing"]})}),e.jsx(Va,{asChild:!0,children:e.jsxs(Ce,{href:"/expert-status",className:"cursor-pointer","data-testid":"link-user-expert-status",children:[e.jsx(wn,{className:"w-4 h-4 mr-2"}),"Expert Application"]})}),e.jsx(Va,{asChild:!0,children:e.jsxs(Ce,{href:"/provider-status",className:"cursor-pointer","data-testid":"link-user-provider-status",children:[e.jsx(va,{className:"w-4 h-4 mr-2"}),"Provider Application"]})}),e.jsxs(Va,{onClick:()=>s(),className:"text-destructive cursor-pointer","data-testid":"button-logout",children:[e.jsx(_d,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]}):e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("a",{href:"/api/login",children:e.jsx(S,{variant:"outline",className:"rounded-full px-4","data-testid":"button-login",children:"Login"})}),e.jsx("a",{href:"/api/login",children:e.jsx(S,{className:"bg-primary hover:bg-primary/90 text-white rounded-full px-4","data-testid":"button-sign-up",children:"Sign Up"})})]})}function pK(t){const s=fK(t),a=h.forwardRef((r,n)=>{const{children:i,...l}=r,c=h.Children.toArray(i),u=c.find(vK);if(u){const m=u.props.children,x=c.map(f=>f===u?h.Children.count(m)>1?h.Children.only(null):h.isValidElement(m)?m.props.children:null:f);return e.jsx(s,{...l,ref:n,children:h.isValidElement(m)?h.cloneElement(m,void 0,x):null})}return e.jsx(s,{...l,ref:n,children:i})});return a.displayName=`${t}.Slot`,a}function fK(t){const s=h.forwardRef((a,r)=>{const{children:n,...i}=a;if(h.isValidElement(n)){const l=jK(n),c=yK(i,n.props);return n.type!==h.Fragment&&(c.ref=r?kn(r,l):l),h.cloneElement(n,c)}return h.Children.count(n)>1?h.Children.only(null):null});return s.displayName=`${t}.SlotClone`,s}var gK=Symbol("radix.slottable");function vK(t){return h.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===gK}function yK(t,s){const a={...s};for(const r in s){const n=t[r],i=s[r];/^on[A-Z]/.test(r)?n&&i?a[r]=(...c)=>{const u=i(...c);return n(...c),u}:n&&(a[r]=n):r==="style"?a[r]={...n,...i}:r==="className"&&(a[r]=[n,i].filter(Boolean).join(" "))}return{...t,...a}}function jK(t){let s=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,a=s&&"isReactWarning"in s&&s.isReactWarning;return a?t.ref:(s=Object.getOwnPropertyDescriptor(t,"ref")?.get,a=s&&"isReactWarning"in s&&s.isReactWarning,a?t.props.ref:t.props.ref||t.ref)}var P0="Popover",[g6]=kr(P0,[mc]),Ix=mc(),[bK,pc]=g6(P0),v6=t=>{const{__scopePopover:s,children:a,open:r,defaultOpen:n,onOpenChange:i,modal:l=!1}=t,c=Ix(s),u=h.useRef(null),[m,x]=h.useState(!1),[f,g]=ln({prop:r,defaultProp:n??!1,onChange:i,caller:P0});return e.jsx(u0,{...c,children:e.jsx(bK,{scope:s,contentId:ur(),triggerRef:u,open:f,onOpenChange:g,onOpenToggle:h.useCallback(()=>g(b=>!b),[g]),hasCustomAnchor:m,onCustomAnchorAdd:h.useCallback(()=>x(!0),[]),onCustomAnchorRemove:h.useCallback(()=>x(!1),[]),modal:l,children:a})})};v6.displayName=P0;var y6="PopoverAnchor",NK=h.forwardRef((t,s)=>{const{__scopePopover:a,...r}=t,n=pc(y6,a),i=Ix(a),{onCustomAnchorAdd:l,onCustomAnchorRemove:c}=n;return h.useEffect(()=>(l(),()=>c()),[l,c]),e.jsx(kx,{...i,...r,ref:s})});NK.displayName=y6;var j6="PopoverTrigger",b6=h.forwardRef((t,s)=>{const{__scopePopover:a,...r}=t,n=pc(j6,a),i=Ix(a),l=zt(s,n.triggerRef),c=e.jsx(lt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":S6(n.open),...r,ref:l,onClick:Ye(t.onClick,n.onOpenToggle)});return n.hasCustomAnchor?c:e.jsx(kx,{asChild:!0,...i,children:c})});b6.displayName=j6;var x1="PopoverPortal",[wK,kK]=g6(x1,{forceMount:void 0}),N6=t=>{const{__scopePopover:s,forceMount:a,children:r,container:n}=t,i=pc(x1,s);return e.jsx(wK,{scope:s,forceMount:a,children:e.jsx(xr,{present:a||i.open,children:e.jsx(om,{asChild:!0,container:n,children:r})})})};N6.displayName=x1;var Xu="PopoverContent",w6=h.forwardRef((t,s)=>{const a=kK(Xu,t.__scopePopover),{forceMount:r=a.forceMount,...n}=t,i=pc(Xu,t.__scopePopover);return e.jsx(xr,{present:r||i.open,children:i.modal?e.jsx(SK,{...n,ref:s}):e.jsx(TK,{...n,ref:s})})});w6.displayName=Xu;var CK=pK("PopoverContent.RemoveScroll"),SK=h.forwardRef((t,s)=>{const a=pc(Xu,t.__scopePopover),r=h.useRef(null),n=zt(s,r),i=h.useRef(!1);return h.useEffect(()=>{const l=r.current;if(l)return C0(l)},[]),e.jsx(Dx,{as:CK,allowPinchZoom:!0,children:e.jsx(k6,{...t,ref:n,trapFocus:a.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ye(t.onCloseAutoFocus,l=>{l.preventDefault(),i.current||a.triggerRef.current?.focus()}),onPointerDownOutside:Ye(t.onPointerDownOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,m=c.button===2||u;i.current=m},{checkForDefaultPrevented:!1}),onFocusOutside:Ye(t.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1})})})}),TK=h.forwardRef((t,s)=>{const a=pc(Xu,t.__scopePopover),r=h.useRef(!1),n=h.useRef(!1);return e.jsx(k6,{...t,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{t.onCloseAutoFocus?.(i),i.defaultPrevented||(r.current||a.triggerRef.current?.focus(),i.preventDefault()),r.current=!1,n.current=!1},onInteractOutside:i=>{t.onInteractOutside?.(i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(n.current=!0));const l=i.target;a.triggerRef.current?.contains(l)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&n.current&&i.preventDefault()}})}),k6=h.forwardRef((t,s)=>{const{__scopePopover:a,trapFocus:r,onOpenAutoFocus:n,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:m,onInteractOutside:x,...f}=t,g=pc(Xu,a),b=Ix(a);return k0(),e.jsx(Px,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:n,onUnmountAutoFocus:i,children:e.jsx(kd,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:x,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:m,onDismiss:()=>g.onOpenChange(!1),children:e.jsx(m0,{"data-state":S6(g.open),role:"dialog",id:g.contentId,...b,...f,ref:s,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),C6="PopoverClose",_K=h.forwardRef((t,s)=>{const{__scopePopover:a,...r}=t,n=pc(C6,a);return e.jsx(lt.button,{type:"button",...r,ref:s,onClick:Ye(t.onClick,()=>n.onOpenChange(!1))})});_K.displayName=C6;var EK="PopoverArrow",PK=h.forwardRef((t,s)=>{const{__scopePopover:a,...r}=t,n=Ix(a);return e.jsx(h0,{...n,...r,ref:s})});PK.displayName=EK;function S6(t){return t?"open":"closed"}var AK=v6,DK=b6,FK=N6,T6=w6;const yn=AK,jn=DK,tn=h.forwardRef(({className:t,align:s="center",sideOffset:a=4,...r},n)=>e.jsx(FK,{children:e.jsx(T6,{ref:n,align:s,sideOffset:a,className:te("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",t),...r})}));tn.displayName=T6.displayName;function Wh(t,[s,a]){return Math.min(a,Math.max(s,t))}function MK(t,s){return h.useReducer((a,r)=>s[a][r]??a,t)}var p1="ScrollArea",[_6]=kr(p1),[IK,Mi]=_6(p1),E6=h.forwardRef((t,s)=>{const{__scopeScrollArea:a,type:r="hover",dir:n,scrollHideDelay:i=600,...l}=t,[c,u]=h.useState(null),[m,x]=h.useState(null),[f,g]=h.useState(null),[b,v]=h.useState(null),[y,w]=h.useState(null),[k,C]=h.useState(0),[_,M]=h.useState(0),[E,R]=h.useState(!1),[z,A]=h.useState(!1),V=zt(s,I=>u(I)),H=xc(n);return e.jsx(IK,{scope:a,type:r,dir:H,scrollHideDelay:i,scrollArea:c,viewport:m,onViewportChange:x,content:f,onContentChange:g,scrollbarX:b,onScrollbarXChange:v,scrollbarXEnabled:E,onScrollbarXEnabledChange:R,scrollbarY:y,onScrollbarYChange:w,scrollbarYEnabled:z,onScrollbarYEnabledChange:A,onCornerWidthChange:C,onCornerHeightChange:M,children:e.jsx(lt.div,{dir:H,...l,ref:V,style:{position:"relative","--radix-scroll-area-corner-width":k+"px","--radix-scroll-area-corner-height":_+"px",...t.style}})})});E6.displayName=p1;var P6="ScrollAreaViewport",A6=h.forwardRef((t,s)=>{const{__scopeScrollArea:a,children:r,nonce:n,...i}=t,l=Mi(P6,a),c=h.useRef(null),u=zt(s,c,l.onViewportChange);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),e.jsx(lt.div,{"data-radix-scroll-area-viewport":"",...i,ref:u,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...t.style},children:e.jsx("div",{ref:l.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});A6.displayName=P6;var zl="ScrollAreaScrollbar",f1=h.forwardRef((t,s)=>{const{forceMount:a,...r}=t,n=Mi(zl,t.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:l}=n,c=t.orientation==="horizontal";return h.useEffect(()=>(c?i(!0):l(!0),()=>{c?i(!1):l(!1)}),[c,i,l]),n.type==="hover"?e.jsx(RK,{...r,ref:s,forceMount:a}):n.type==="scroll"?e.jsx(LK,{...r,ref:s,forceMount:a}):n.type==="auto"?e.jsx(D6,{...r,ref:s,forceMount:a}):n.type==="always"?e.jsx(g1,{...r,ref:s}):null});f1.displayName=zl;var RK=h.forwardRef((t,s)=>{const{forceMount:a,...r}=t,n=Mi(zl,t.__scopeScrollArea),[i,l]=h.useState(!1);return h.useEffect(()=>{const c=n.scrollArea;let u=0;if(c){const m=()=>{window.clearTimeout(u),l(!0)},x=()=>{u=window.setTimeout(()=>l(!1),n.scrollHideDelay)};return c.addEventListener("pointerenter",m),c.addEventListener("pointerleave",x),()=>{window.clearTimeout(u),c.removeEventListener("pointerenter",m),c.removeEventListener("pointerleave",x)}}},[n.scrollArea,n.scrollHideDelay]),e.jsx(xr,{present:a||i,children:e.jsx(D6,{"data-state":i?"visible":"hidden",...r,ref:s})})}),LK=h.forwardRef((t,s)=>{const{forceMount:a,...r}=t,n=Mi(zl,t.__scopeScrollArea),i=t.orientation==="horizontal",l=D0(()=>u("SCROLL_END"),100),[c,u]=MK("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return h.useEffect(()=>{if(c==="idle"){const m=window.setTimeout(()=>u("HIDE"),n.scrollHideDelay);return()=>window.clearTimeout(m)}},[c,n.scrollHideDelay,u]),h.useEffect(()=>{const m=n.viewport,x=i?"scrollLeft":"scrollTop";if(m){let f=m[x];const g=()=>{const b=m[x];f!==b&&(u("SCROLL"),l()),f=b};return m.addEventListener("scroll",g),()=>m.removeEventListener("scroll",g)}},[n.viewport,i,u,l]),e.jsx(xr,{present:a||c!=="hidden",children:e.jsx(g1,{"data-state":c==="hidden"?"hidden":"visible",...r,ref:s,onPointerEnter:Ye(t.onPointerEnter,()=>u("POINTER_ENTER")),onPointerLeave:Ye(t.onPointerLeave,()=>u("POINTER_LEAVE"))})})}),D6=h.forwardRef((t,s)=>{const a=Mi(zl,t.__scopeScrollArea),{forceMount:r,...n}=t,[i,l]=h.useState(!1),c=t.orientation==="horizontal",u=D0(()=>{if(a.viewport){const m=a.viewport.offsetWidth<a.viewport.scrollWidth,x=a.viewport.offsetHeight<a.viewport.scrollHeight;l(c?m:x)}},10);return Zu(a.viewport,u),Zu(a.content,u),e.jsx(xr,{present:r||i,children:e.jsx(g1,{"data-state":i?"visible":"hidden",...n,ref:s})})}),g1=h.forwardRef((t,s)=>{const{orientation:a="vertical",...r}=t,n=Mi(zl,t.__scopeScrollArea),i=h.useRef(null),l=h.useRef(0),[c,u]=h.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),m=L6(c.viewport,c.content),x={...r,sizes:c,onSizesChange:u,hasThumb:m>0&&m<1,onThumbChange:g=>i.current=g,onThumbPointerUp:()=>l.current=0,onThumbPointerDown:g=>l.current=g};function f(g,b){return UK(g,l.current,c,b)}return a==="horizontal"?e.jsx(OK,{...x,ref:s,onThumbPositionChange:()=>{if(n.viewport&&i.current){const g=n.viewport.scrollLeft,b=S5(g,c,n.dir);i.current.style.transform=`translate3d(${b}px, 0, 0)`}},onWheelScroll:g=>{n.viewport&&(n.viewport.scrollLeft=g)},onDragScroll:g=>{n.viewport&&(n.viewport.scrollLeft=f(g,n.dir))}}):a==="vertical"?e.jsx($K,{...x,ref:s,onThumbPositionChange:()=>{if(n.viewport&&i.current){const g=n.viewport.scrollTop,b=S5(g,c);i.current.style.transform=`translate3d(0, ${b}px, 0)`}},onWheelScroll:g=>{n.viewport&&(n.viewport.scrollTop=g)},onDragScroll:g=>{n.viewport&&(n.viewport.scrollTop=f(g))}}):null}),OK=h.forwardRef((t,s)=>{const{sizes:a,onSizesChange:r,...n}=t,i=Mi(zl,t.__scopeScrollArea),[l,c]=h.useState(),u=h.useRef(null),m=zt(s,u,i.onScrollbarXChange);return h.useEffect(()=>{u.current&&c(getComputedStyle(u.current))},[u]),e.jsx(M6,{"data-orientation":"horizontal",...n,ref:m,sizes:a,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":A0(a)+"px",...t.style},onThumbPointerDown:x=>t.onThumbPointerDown(x.x),onDragScroll:x=>t.onDragScroll(x.x),onWheelScroll:(x,f)=>{if(i.viewport){const g=i.viewport.scrollLeft+x.deltaX;t.onWheelScroll(g),$6(g,f)&&x.preventDefault()}},onResize:()=>{u.current&&i.viewport&&l&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:kg(l.paddingLeft),paddingEnd:kg(l.paddingRight)}})}})}),$K=h.forwardRef((t,s)=>{const{sizes:a,onSizesChange:r,...n}=t,i=Mi(zl,t.__scopeScrollArea),[l,c]=h.useState(),u=h.useRef(null),m=zt(s,u,i.onScrollbarYChange);return h.useEffect(()=>{u.current&&c(getComputedStyle(u.current))},[u]),e.jsx(M6,{"data-orientation":"vertical",...n,ref:m,sizes:a,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":A0(a)+"px",...t.style},onThumbPointerDown:x=>t.onThumbPointerDown(x.y),onDragScroll:x=>t.onDragScroll(x.y),onWheelScroll:(x,f)=>{if(i.viewport){const g=i.viewport.scrollTop+x.deltaY;t.onWheelScroll(g),$6(g,f)&&x.preventDefault()}},onResize:()=>{u.current&&i.viewport&&l&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:kg(l.paddingTop),paddingEnd:kg(l.paddingBottom)}})}})}),[BK,F6]=_6(zl),M6=h.forwardRef((t,s)=>{const{__scopeScrollArea:a,sizes:r,hasThumb:n,onThumbChange:i,onThumbPointerUp:l,onThumbPointerDown:c,onThumbPositionChange:u,onDragScroll:m,onWheelScroll:x,onResize:f,...g}=t,b=Mi(zl,a),[v,y]=h.useState(null),w=zt(s,V=>y(V)),k=h.useRef(null),C=h.useRef(""),_=b.viewport,M=r.content-r.viewport,E=Ua(x),R=Ua(u),z=D0(f,10);function A(V){if(k.current){const H=V.clientX-k.current.left,I=V.clientY-k.current.top;m({x:H,y:I})}}return h.useEffect(()=>{const V=H=>{const I=H.target;v?.contains(I)&&E(H,M)};return document.addEventListener("wheel",V,{passive:!1}),()=>document.removeEventListener("wheel",V,{passive:!1})},[_,v,M,E]),h.useEffect(R,[r,R]),Zu(v,z),Zu(b.content,z),e.jsx(BK,{scope:a,scrollbar:v,hasThumb:n,onThumbChange:Ua(i),onThumbPointerUp:Ua(l),onThumbPositionChange:R,onThumbPointerDown:Ua(c),children:e.jsx(lt.div,{...g,ref:w,style:{position:"absolute",...g.style},onPointerDown:Ye(t.onPointerDown,V=>{V.button===0&&(V.target.setPointerCapture(V.pointerId),k.current=v.getBoundingClientRect(),C.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",b.viewport&&(b.viewport.style.scrollBehavior="auto"),A(V))}),onPointerMove:Ye(t.onPointerMove,A),onPointerUp:Ye(t.onPointerUp,V=>{const H=V.target;H.hasPointerCapture(V.pointerId)&&H.releasePointerCapture(V.pointerId),document.body.style.webkitUserSelect=C.current,b.viewport&&(b.viewport.style.scrollBehavior=""),k.current=null})})})}),wg="ScrollAreaThumb",I6=h.forwardRef((t,s)=>{const{forceMount:a,...r}=t,n=F6(wg,t.__scopeScrollArea);return e.jsx(xr,{present:a||n.hasThumb,children:e.jsx(zK,{ref:s,...r})})}),zK=h.forwardRef((t,s)=>{const{__scopeScrollArea:a,style:r,...n}=t,i=Mi(wg,a),l=F6(wg,a),{onThumbPositionChange:c}=l,u=zt(s,f=>l.onThumbChange(f)),m=h.useRef(void 0),x=D0(()=>{m.current&&(m.current(),m.current=void 0)},100);return h.useEffect(()=>{const f=i.viewport;if(f){const g=()=>{if(x(),!m.current){const b=qK(f,c);m.current=b,c()}};return c(),f.addEventListener("scroll",g),()=>f.removeEventListener("scroll",g)}},[i.viewport,x,c]),e.jsx(lt.div,{"data-state":l.hasThumb?"visible":"hidden",...n,ref:u,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Ye(t.onPointerDownCapture,f=>{const b=f.target.getBoundingClientRect(),v=f.clientX-b.left,y=f.clientY-b.top;l.onThumbPointerDown({x:v,y})}),onPointerUp:Ye(t.onPointerUp,l.onThumbPointerUp)})});I6.displayName=wg;var v1="ScrollAreaCorner",R6=h.forwardRef((t,s)=>{const a=Mi(v1,t.__scopeScrollArea),r=!!(a.scrollbarX&&a.scrollbarY);return a.type!=="scroll"&&r?e.jsx(VK,{...t,ref:s}):null});R6.displayName=v1;var VK=h.forwardRef((t,s)=>{const{__scopeScrollArea:a,...r}=t,n=Mi(v1,a),[i,l]=h.useState(0),[c,u]=h.useState(0),m=!!(i&&c);return Zu(n.scrollbarX,()=>{const x=n.scrollbarX?.offsetHeight||0;n.onCornerHeightChange(x),u(x)}),Zu(n.scrollbarY,()=>{const x=n.scrollbarY?.offsetWidth||0;n.onCornerWidthChange(x),l(x)}),m?e.jsx(lt.div,{...r,ref:s,style:{width:i,height:c,position:"absolute",right:n.dir==="ltr"?0:void 0,left:n.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function kg(t){return t?parseInt(t,10):0}function L6(t,s){const a=t/s;return isNaN(a)?0:a}function A0(t){const s=L6(t.viewport,t.content),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-a)*s;return Math.max(r,18)}function UK(t,s,a,r="ltr"){const n=A0(a),i=n/2,l=s||i,c=n-l,u=a.scrollbar.paddingStart+l,m=a.scrollbar.size-a.scrollbar.paddingEnd-c,x=a.content-a.viewport,f=r==="ltr"?[0,x]:[x*-1,0];return O6([u,m],f)(t)}function S5(t,s,a="ltr"){const r=A0(s),n=s.scrollbar.paddingStart+s.scrollbar.paddingEnd,i=s.scrollbar.size-n,l=s.content-s.viewport,c=i-r,u=a==="ltr"?[0,l]:[l*-1,0],m=Wh(t,u);return O6([0,l],[0,c])(m)}function O6(t,s){return a=>{if(t[0]===t[1]||s[0]===s[1])return s[0];const r=(s[1]-s[0])/(t[1]-t[0]);return s[0]+r*(a-t[0])}}function $6(t,s){return t>0&&t<s}var qK=(t,s=()=>{})=>{let a={left:t.scrollLeft,top:t.scrollTop},r=0;return(function n(){const i={left:t.scrollLeft,top:t.scrollTop},l=a.left!==i.left,c=a.top!==i.top;(l||c)&&s(),a=i,r=window.requestAnimationFrame(n)})(),()=>window.cancelAnimationFrame(r)};function D0(t,s){const a=Ua(t),r=h.useRef(0);return h.useEffect(()=>()=>window.clearTimeout(r.current),[]),h.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(a,s)},[a,s])}function Zu(t,s){const a=Ua(s);Wa(()=>{let r=0;if(t){const n=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(a)});return n.observe(t),()=>{window.cancelAnimationFrame(r),n.unobserve(t)}}},[t,a])}var B6=E6,HK=A6,WK=R6;const Ha=h.forwardRef(({className:t,children:s,...a},r)=>e.jsxs(B6,{ref:r,className:te("relative overflow-hidden",t),...a,children:[e.jsx(HK,{className:"h-full w-full rounded-[inherit]",children:s}),e.jsx(z6,{}),e.jsx(WK,{})]}));Ha.displayName=B6.displayName;const z6=h.forwardRef(({className:t,orientation:s="vertical",...a},r)=>e.jsx(f1,{ref:r,orientation:s,className:te("flex touch-none select-none transition-colors",s==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",s==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...a,children:e.jsx(I6,{className:"relative flex-1 rounded-full bg-border"})}));z6.displayName=f1.displayName;function Bt(t){const s=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&s==="[object Date]"?new t.constructor(+t):typeof t=="number"||s==="[object Number]"||typeof t=="string"||s==="[object String]"?new Date(t):new Date(NaN)}function Hn(t,s){return t instanceof Date?new t.constructor(s):new Date(s)}function Lr(t,s){const a=Bt(t);return isNaN(s)?Hn(t,NaN):(s&&a.setDate(a.getDate()+s),a)}function Vn(t,s){const a=Bt(t);if(isNaN(s))return Hn(t,NaN);if(!s)return a;const r=a.getDate(),n=Hn(t,a.getTime());n.setMonth(a.getMonth()+s+1,0);const i=n.getDate();return r>=i?n:(a.setFullYear(n.getFullYear(),n.getMonth(),r),a)}const y1=6048e5,GK=864e5,V6=6e4,U6=36e5,uf=43200,T5=1440;let KK={};function ym(){return KK}function Rl(t,s){const a=ym(),r=s?.weekStartsOn??s?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,n=Bt(t),i=n.getDay(),l=(i<r?7:0)+i-r;return n.setDate(n.getDate()-l),n.setHours(0,0,0,0),n}function dd(t){return Rl(t,{weekStartsOn:1})}function q6(t){const s=Bt(t),a=s.getFullYear(),r=Hn(t,0);r.setFullYear(a+1,0,4),r.setHours(0,0,0,0);const n=dd(r),i=Hn(t,0);i.setFullYear(a,0,4),i.setHours(0,0,0,0);const l=dd(i);return s.getTime()>=n.getTime()?a+1:s.getTime()>=l.getTime()?a:a-1}function Ju(t){const s=Bt(t);return s.setHours(0,0,0,0),s}function em(t){const s=Bt(t),a=new Date(Date.UTC(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()));return a.setUTCFullYear(s.getFullYear()),+t-+a}function el(t,s){const a=Ju(t),r=Ju(s),n=+a-em(a),i=+r-em(r);return Math.round((n-i)/GK)}function YK(t){const s=q6(t),a=Hn(t,0);return a.setFullYear(s,0,4),a.setHours(0,0,0,0),dd(a)}function lN(t,s){const a=s*7;return Lr(t,a)}function QK(t,s){return Vn(t,s*12)}function XK(t){let s;return t.forEach(function(a){const r=Bt(a);(s===void 0||s<r||isNaN(Number(r)))&&(s=r)}),s||new Date(NaN)}function ZK(t){let s;return t.forEach(a=>{const r=Bt(a);(!s||s>r||isNaN(+r))&&(s=r)}),s||new Date(NaN)}function Uf(t,s){const a=Bt(t),r=Bt(s),n=a.getTime()-r.getTime();return n<0?-1:n>0?1:n}function JK(t){return Hn(t,Date.now())}function sn(t,s){const a=Ju(t),r=Ju(s);return+a==+r}function j1(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function eY(t){if(!j1(t)&&typeof t!="number")return!1;const s=Bt(t);return!isNaN(Number(s))}function tm(t,s){const a=Bt(t),r=Bt(s),n=a.getFullYear()-r.getFullYear(),i=a.getMonth()-r.getMonth();return n*12+i}function tY(t,s,a){const r=Rl(t,a),n=Rl(s,a),i=+r-em(r),l=+n-em(n);return Math.round((i-l)/y1)}function Zo(t,s){const a=Bt(t),r=Bt(s),n=_5(a,r),i=Math.abs(el(a,r));a.setDate(a.getDate()-n*i);const l=+(_5(a,r)===-n),c=n*(i-l);return c===0?0:c}function _5(t,s){const a=t.getFullYear()-s.getFullYear()||t.getMonth()-s.getMonth()||t.getDate()-s.getDate()||t.getHours()-s.getHours()||t.getMinutes()-s.getMinutes()||t.getSeconds()-s.getSeconds()||t.getMilliseconds()-s.getMilliseconds();return a<0?-1:a>0?1:a}function sY(t){return s=>{const r=(t?Math[t]:Math.trunc)(s);return r===0?0:r}}function aY(t,s){return+Bt(t)-+Bt(s)}function rY(t){const s=Bt(t);return s.setHours(23,59,59,999),s}function sm(t){const s=Bt(t),a=s.getMonth();return s.setFullYear(s.getFullYear(),a+1,0),s.setHours(23,59,59,999),s}function nY(t){const s=Bt(t);return+rY(s)==+sm(s)}function iY(t,s){const a=Bt(t),r=Bt(s),n=Uf(a,r),i=Math.abs(tm(a,r));let l;if(i<1)l=0;else{a.getMonth()===1&&a.getDate()>27&&a.setDate(30),a.setMonth(a.getMonth()-n*i);let c=Uf(a,r)===-n;nY(Bt(t))&&i===1&&Uf(t,r)===1&&(c=!1),l=n*(i-Number(c))}return l===0?0:l}function lY(t,s,a){const r=aY(t,s)/1e3;return sY(a?.roundingMethod)(r)}function oY(t,s){const a=Bt(t.start),r=Bt(t.end);let n=+a>+r;const i=n?+a:+r,l=n?r:a;l.setHours(0,0,0,0);let c=1;const u=[];for(;+l<=i;)u.push(Bt(l)),l.setDate(l.getDate()+c),l.setHours(0,0,0,0);return n?u.reverse():u}function an(t){const s=Bt(t);return s.setDate(1),s.setHours(0,0,0,0),s}function H6(t){const s=Bt(t),a=Hn(t,0);return a.setFullYear(s.getFullYear(),0,1),a.setHours(0,0,0,0),a}function b1(t,s){const a=ym(),r=s?.weekStartsOn??s?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,n=Bt(t),i=n.getDay(),l=(i<r?-7:0)+6-(i-r);return n.setDate(n.getDate()+l),n.setHours(23,59,59,999),n}function W6(t){return b1(t,{weekStartsOn:1})}const cY={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},dY=(t,s,a)=>{let r;const n=cY[t];return typeof n=="string"?r=n:s===1?r=n.one:r=n.other.replace("{{count}}",s.toString()),a?.addSuffix?a.comparison&&a.comparison>0?"in "+r:r+" ago":r};function Nj(t){return(s={})=>{const a=s.width?String(s.width):t.defaultWidth;return t.formats[a]||t.formats[t.defaultWidth]}}const uY={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},mY={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},hY={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},xY={date:Nj({formats:uY,defaultWidth:"full"}),time:Nj({formats:mY,defaultWidth:"full"}),dateTime:Nj({formats:hY,defaultWidth:"full"})},pY={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},fY=(t,s,a,r)=>pY[t];function nh(t){return(s,a)=>{const r=a?.context?String(a.context):"standalone";let n;if(r==="formatting"&&t.formattingValues){const l=t.defaultFormattingWidth||t.defaultWidth,c=a?.width?String(a.width):l;n=t.formattingValues[c]||t.formattingValues[l]}else{const l=t.defaultWidth,c=a?.width?String(a.width):t.defaultWidth;n=t.values[c]||t.values[l]}const i=t.argumentCallback?t.argumentCallback(s):s;return n[i]}}const gY={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},vY={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},yY={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},jY={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},bY={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},NY={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},wY=(t,s)=>{const a=Number(t),r=a%100;if(r>20||r<10)switch(r%10){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd"}return a+"th"},kY={ordinalNumber:wY,era:nh({values:gY,defaultWidth:"wide"}),quarter:nh({values:vY,defaultWidth:"wide",argumentCallback:t=>t-1}),month:nh({values:yY,defaultWidth:"wide"}),day:nh({values:jY,defaultWidth:"wide"}),dayPeriod:nh({values:bY,defaultWidth:"wide",formattingValues:NY,defaultFormattingWidth:"wide"})};function ih(t){return(s,a={})=>{const r=a.width,n=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=s.match(n);if(!i)return null;const l=i[0],c=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],u=Array.isArray(c)?SY(c,f=>f.test(l)):CY(c,f=>f.test(l));let m;m=t.valueCallback?t.valueCallback(u):u,m=a.valueCallback?a.valueCallback(m):m;const x=s.slice(l.length);return{value:m,rest:x}}}function CY(t,s){for(const a in t)if(Object.prototype.hasOwnProperty.call(t,a)&&s(t[a]))return a}function SY(t,s){for(let a=0;a<t.length;a++)if(s(t[a]))return a}function TY(t){return(s,a={})=>{const r=s.match(t.matchPattern);if(!r)return null;const n=r[0],i=s.match(t.parsePattern);if(!i)return null;let l=t.valueCallback?t.valueCallback(i[0]):i[0];l=a.valueCallback?a.valueCallback(l):l;const c=s.slice(n.length);return{value:l,rest:c}}}const _Y=/^(\d+)(th|st|nd|rd)?/i,EY=/\d+/i,PY={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},AY={any:[/^b/i,/^(a|c)/i]},DY={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},FY={any:[/1/i,/2/i,/3/i,/4/i]},MY={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},IY={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},RY={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},LY={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},OY={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},$Y={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},BY={ordinalNumber:TY({matchPattern:_Y,parsePattern:EY,valueCallback:t=>parseInt(t,10)}),era:ih({matchPatterns:PY,defaultMatchWidth:"wide",parsePatterns:AY,defaultParseWidth:"any"}),quarter:ih({matchPatterns:DY,defaultMatchWidth:"wide",parsePatterns:FY,defaultParseWidth:"any",valueCallback:t=>t+1}),month:ih({matchPatterns:MY,defaultMatchWidth:"wide",parsePatterns:IY,defaultParseWidth:"any"}),day:ih({matchPatterns:RY,defaultMatchWidth:"wide",parsePatterns:LY,defaultParseWidth:"any"}),dayPeriod:ih({matchPatterns:OY,defaultMatchWidth:"any",parsePatterns:$Y,defaultParseWidth:"any"})},N1={code:"en-US",formatDistance:dY,formatLong:xY,formatRelative:fY,localize:kY,match:BY,options:{weekStartsOn:0,firstWeekContainsDate:1}};function zY(t){const s=Bt(t);return el(s,H6(s))+1}function G6(t){const s=Bt(t),a=+dd(s)-+YK(s);return Math.round(a/y1)+1}function K6(t,s){const a=Bt(t),r=a.getFullYear(),n=ym(),i=s?.firstWeekContainsDate??s?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,l=Hn(t,0);l.setFullYear(r+1,0,i),l.setHours(0,0,0,0);const c=Rl(l,s),u=Hn(t,0);u.setFullYear(r,0,i),u.setHours(0,0,0,0);const m=Rl(u,s);return a.getTime()>=c.getTime()?r+1:a.getTime()>=m.getTime()?r:r-1}function VY(t,s){const a=ym(),r=s?.firstWeekContainsDate??s?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,n=K6(t,s),i=Hn(t,0);return i.setFullYear(n,0,r),i.setHours(0,0,0,0),Rl(i,s)}function Y6(t,s){const a=Bt(t),r=+Rl(a,s)-+VY(a,s);return Math.round(r/y1)+1}function Gs(t,s){const a=t<0?"-":"",r=Math.abs(t).toString().padStart(s,"0");return a+r}const Ho={y(t,s){const a=t.getFullYear(),r=a>0?a:1-a;return Gs(s==="yy"?r%100:r,s.length)},M(t,s){const a=t.getMonth();return s==="M"?String(a+1):Gs(a+1,2)},d(t,s){return Gs(t.getDate(),s.length)},a(t,s){const a=t.getHours()/12>=1?"pm":"am";switch(s){case"a":case"aa":return a.toUpperCase();case"aaa":return a;case"aaaaa":return a[0];default:return a==="am"?"a.m.":"p.m."}},h(t,s){return Gs(t.getHours()%12||12,s.length)},H(t,s){return Gs(t.getHours(),s.length)},m(t,s){return Gs(t.getMinutes(),s.length)},s(t,s){return Gs(t.getSeconds(),s.length)},S(t,s){const a=s.length,r=t.getMilliseconds(),n=Math.trunc(r*Math.pow(10,a-3));return Gs(n,s.length)}},iu={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},E5={G:function(t,s,a){const r=t.getFullYear()>0?1:0;switch(s){case"G":case"GG":case"GGG":return a.era(r,{width:"abbreviated"});case"GGGGG":return a.era(r,{width:"narrow"});default:return a.era(r,{width:"wide"})}},y:function(t,s,a){if(s==="yo"){const r=t.getFullYear(),n=r>0?r:1-r;return a.ordinalNumber(n,{unit:"year"})}return Ho.y(t,s)},Y:function(t,s,a,r){const n=K6(t,r),i=n>0?n:1-n;if(s==="YY"){const l=i%100;return Gs(l,2)}return s==="Yo"?a.ordinalNumber(i,{unit:"year"}):Gs(i,s.length)},R:function(t,s){const a=q6(t);return Gs(a,s.length)},u:function(t,s){const a=t.getFullYear();return Gs(a,s.length)},Q:function(t,s,a){const r=Math.ceil((t.getMonth()+1)/3);switch(s){case"Q":return String(r);case"QQ":return Gs(r,2);case"Qo":return a.ordinalNumber(r,{unit:"quarter"});case"QQQ":return a.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return a.quarter(r,{width:"narrow",context:"formatting"});default:return a.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,s,a){const r=Math.ceil((t.getMonth()+1)/3);switch(s){case"q":return String(r);case"qq":return Gs(r,2);case"qo":return a.ordinalNumber(r,{unit:"quarter"});case"qqq":return a.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return a.quarter(r,{width:"narrow",context:"standalone"});default:return a.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,s,a){const r=t.getMonth();switch(s){case"M":case"MM":return Ho.M(t,s);case"Mo":return a.ordinalNumber(r+1,{unit:"month"});case"MMM":return a.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return a.month(r,{width:"narrow",context:"formatting"});default:return a.month(r,{width:"wide",context:"formatting"})}},L:function(t,s,a){const r=t.getMonth();switch(s){case"L":return String(r+1);case"LL":return Gs(r+1,2);case"Lo":return a.ordinalNumber(r+1,{unit:"month"});case"LLL":return a.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return a.month(r,{width:"narrow",context:"standalone"});default:return a.month(r,{width:"wide",context:"standalone"})}},w:function(t,s,a,r){const n=Y6(t,r);return s==="wo"?a.ordinalNumber(n,{unit:"week"}):Gs(n,s.length)},I:function(t,s,a){const r=G6(t);return s==="Io"?a.ordinalNumber(r,{unit:"week"}):Gs(r,s.length)},d:function(t,s,a){return s==="do"?a.ordinalNumber(t.getDate(),{unit:"date"}):Ho.d(t,s)},D:function(t,s,a){const r=zY(t);return s==="Do"?a.ordinalNumber(r,{unit:"dayOfYear"}):Gs(r,s.length)},E:function(t,s,a){const r=t.getDay();switch(s){case"E":case"EE":case"EEE":return a.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return a.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(r,{width:"short",context:"formatting"});default:return a.day(r,{width:"wide",context:"formatting"})}},e:function(t,s,a,r){const n=t.getDay(),i=(n-r.weekStartsOn+8)%7||7;switch(s){case"e":return String(i);case"ee":return Gs(i,2);case"eo":return a.ordinalNumber(i,{unit:"day"});case"eee":return a.day(n,{width:"abbreviated",context:"formatting"});case"eeeee":return a.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(n,{width:"short",context:"formatting"});default:return a.day(n,{width:"wide",context:"formatting"})}},c:function(t,s,a,r){const n=t.getDay(),i=(n-r.weekStartsOn+8)%7||7;switch(s){case"c":return String(i);case"cc":return Gs(i,s.length);case"co":return a.ordinalNumber(i,{unit:"day"});case"ccc":return a.day(n,{width:"abbreviated",context:"standalone"});case"ccccc":return a.day(n,{width:"narrow",context:"standalone"});case"cccccc":return a.day(n,{width:"short",context:"standalone"});default:return a.day(n,{width:"wide",context:"standalone"})}},i:function(t,s,a){const r=t.getDay(),n=r===0?7:r;switch(s){case"i":return String(n);case"ii":return Gs(n,s.length);case"io":return a.ordinalNumber(n,{unit:"day"});case"iii":return a.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return a.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return a.day(r,{width:"short",context:"formatting"});default:return a.day(r,{width:"wide",context:"formatting"})}},a:function(t,s,a){const n=t.getHours()/12>=1?"pm":"am";switch(s){case"a":case"aa":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return a.dayPeriod(n,{width:"narrow",context:"formatting"});default:return a.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(t,s,a){const r=t.getHours();let n;switch(r===12?n=iu.noon:r===0?n=iu.midnight:n=r/12>=1?"pm":"am",s){case"b":case"bb":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"bbb":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return a.dayPeriod(n,{width:"narrow",context:"formatting"});default:return a.dayPeriod(n,{width:"wide",context:"formatting"})}},B:function(t,s,a){const r=t.getHours();let n;switch(r>=17?n=iu.evening:r>=12?n=iu.afternoon:r>=4?n=iu.morning:n=iu.night,s){case"B":case"BB":case"BBB":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"BBBBB":return a.dayPeriod(n,{width:"narrow",context:"formatting"});default:return a.dayPeriod(n,{width:"wide",context:"formatting"})}},h:function(t,s,a){if(s==="ho"){let r=t.getHours()%12;return r===0&&(r=12),a.ordinalNumber(r,{unit:"hour"})}return Ho.h(t,s)},H:function(t,s,a){return s==="Ho"?a.ordinalNumber(t.getHours(),{unit:"hour"}):Ho.H(t,s)},K:function(t,s,a){const r=t.getHours()%12;return s==="Ko"?a.ordinalNumber(r,{unit:"hour"}):Gs(r,s.length)},k:function(t,s,a){let r=t.getHours();return r===0&&(r=24),s==="ko"?a.ordinalNumber(r,{unit:"hour"}):Gs(r,s.length)},m:function(t,s,a){return s==="mo"?a.ordinalNumber(t.getMinutes(),{unit:"minute"}):Ho.m(t,s)},s:function(t,s,a){return s==="so"?a.ordinalNumber(t.getSeconds(),{unit:"second"}):Ho.s(t,s)},S:function(t,s){return Ho.S(t,s)},X:function(t,s,a){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(s){case"X":return A5(r);case"XXXX":case"XX":return Vc(r);default:return Vc(r,":")}},x:function(t,s,a){const r=t.getTimezoneOffset();switch(s){case"x":return A5(r);case"xxxx":case"xx":return Vc(r);default:return Vc(r,":")}},O:function(t,s,a){const r=t.getTimezoneOffset();switch(s){case"O":case"OO":case"OOO":return"GMT"+P5(r,":");default:return"GMT"+Vc(r,":")}},z:function(t,s,a){const r=t.getTimezoneOffset();switch(s){case"z":case"zz":case"zzz":return"GMT"+P5(r,":");default:return"GMT"+Vc(r,":")}},t:function(t,s,a){const r=Math.trunc(t.getTime()/1e3);return Gs(r,s.length)},T:function(t,s,a){const r=t.getTime();return Gs(r,s.length)}};function P5(t,s=""){const a=t>0?"-":"+",r=Math.abs(t),n=Math.trunc(r/60),i=r%60;return i===0?a+String(n):a+String(n)+s+Gs(i,2)}function A5(t,s){return t%60===0?(t>0?"-":"+")+Gs(Math.abs(t)/60,2):Vc(t,s)}function Vc(t,s=""){const a=t>0?"-":"+",r=Math.abs(t),n=Gs(Math.trunc(r/60),2),i=Gs(r%60,2);return a+n+s+i}const D5=(t,s)=>{switch(t){case"P":return s.date({width:"short"});case"PP":return s.date({width:"medium"});case"PPP":return s.date({width:"long"});default:return s.date({width:"full"})}},Q6=(t,s)=>{switch(t){case"p":return s.time({width:"short"});case"pp":return s.time({width:"medium"});case"ppp":return s.time({width:"long"});default:return s.time({width:"full"})}},UY=(t,s)=>{const a=t.match(/(P+)(p+)?/)||[],r=a[1],n=a[2];if(!n)return D5(t,s);let i;switch(r){case"P":i=s.dateTime({width:"short"});break;case"PP":i=s.dateTime({width:"medium"});break;case"PPP":i=s.dateTime({width:"long"});break;default:i=s.dateTime({width:"full"});break}return i.replace("{{date}}",D5(r,s)).replace("{{time}}",Q6(n,s))},qY={p:Q6,P:UY},HY=/^D+$/,WY=/^Y+$/,GY=["D","DD","YY","YYYY"];function KY(t){return HY.test(t)}function YY(t){return WY.test(t)}function QY(t,s,a){const r=XY(t,s,a);if(console.warn(r),GY.includes(t))throw new RangeError(r)}function XY(t,s,a){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${s}\`) for formatting ${r} to the input \`${a}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const ZY=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,JY=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,eQ=/^'([^]*?)'?$/,tQ=/''/g,sQ=/[a-zA-Z]/;function Et(t,s,a){const r=ym(),n=a?.locale??r.locale??N1,i=a?.firstWeekContainsDate??a?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,l=a?.weekStartsOn??a?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,c=Bt(t);if(!eY(c))throw new RangeError("Invalid time value");let u=s.match(JY).map(x=>{const f=x[0];if(f==="p"||f==="P"){const g=qY[f];return g(x,n.formatLong)}return x}).join("").match(ZY).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const f=x[0];if(f==="'")return{isToken:!1,value:aQ(x)};if(E5[f])return{isToken:!0,value:x};if(f.match(sQ))throw new RangeError("Format string contains an unescaped latin alphabet character `"+f+"`");return{isToken:!1,value:x}});n.localize.preprocessor&&(u=n.localize.preprocessor(c,u));const m={firstWeekContainsDate:i,weekStartsOn:l,locale:n};return u.map(x=>{if(!x.isToken)return x.value;const f=x.value;(!a?.useAdditionalWeekYearTokens&&YY(f)||!a?.useAdditionalDayOfYearTokens&&KY(f))&&QY(f,s,String(t));const g=E5[f[0]];return g(c,f,n.localize,m)}).join("")}function aQ(t){const s=t.match(eQ);return s?s[1].replace(tQ,"'"):t}function rQ(t,s,a){const r=ym(),n=a?.locale??r.locale??N1,i=2520,l=Uf(t,s);if(isNaN(l))throw new RangeError("Invalid time value");const c=Object.assign({},a,{addSuffix:a?.addSuffix,comparison:l});let u,m;l>0?(u=Bt(s),m=Bt(t)):(u=Bt(t),m=Bt(s));const x=lY(m,u),f=(em(m)-em(u))/1e3,g=Math.round((x-f)/60);let b;if(g<2)return a?.includeSeconds?x<5?n.formatDistance("lessThanXSeconds",5,c):x<10?n.formatDistance("lessThanXSeconds",10,c):x<20?n.formatDistance("lessThanXSeconds",20,c):x<40?n.formatDistance("halfAMinute",0,c):x<60?n.formatDistance("lessThanXMinutes",1,c):n.formatDistance("xMinutes",1,c):g===0?n.formatDistance("lessThanXMinutes",1,c):n.formatDistance("xMinutes",g,c);if(g<45)return n.formatDistance("xMinutes",g,c);if(g<90)return n.formatDistance("aboutXHours",1,c);if(g<T5){const v=Math.round(g/60);return n.formatDistance("aboutXHours",v,c)}else{if(g<i)return n.formatDistance("xDays",1,c);if(g<uf){const v=Math.round(g/T5);return n.formatDistance("xDays",v,c)}else if(g<uf*2)return b=Math.round(g/uf),n.formatDistance("aboutXMonths",b,c)}if(b=iY(m,u),b<12){const v=Math.round(g/uf);return n.formatDistance("xMonths",v,c)}else{const v=b%12,y=Math.trunc(b/12);return v<3?n.formatDistance("aboutXYears",y,c):v<9?n.formatDistance("overXYears",y,c):n.formatDistance("almostXYears",y+1,c)}}function rc(t,s){return rQ(t,JK(t),s)}function nQ(t){const s=Bt(t),a=s.getFullYear(),r=s.getMonth(),n=Hn(t,0);return n.setFullYear(a,r+1,0),n.setHours(0,0,0,0),n.getDate()}function iQ(t){return Math.trunc(+Bt(t)/1e3)}function lQ(t){const s=Bt(t),a=s.getMonth();return s.setFullYear(s.getFullYear(),a+1,0),s.setHours(0,0,0,0),s}function oQ(t,s){return tY(lQ(t),an(t),s)+1}function oN(t,s){const a=Bt(t),r=Bt(s);return a.getTime()>r.getTime()}function X6(t,s){const a=Bt(t),r=Bt(s);return+a<+r}function w1(t,s){const a=Bt(t),r=Bt(s);return a.getFullYear()===r.getFullYear()&&a.getMonth()===r.getMonth()}function cQ(t,s){const a=Bt(t),r=Bt(s);return a.getFullYear()===r.getFullYear()}function dQ(t,s){const a=+Bt(t),[r,n]=[+Bt(s.start),+Bt(s.end)].sort((i,l)=>i-l);return a>=r&&a<=n}function wj(t,s){return Lr(t,-s)}function mf(t,s){const r=xQ(t);let n;if(r.date){const u=pQ(r.date,2);n=fQ(u.restDateString,u.year)}if(!n||isNaN(n.getTime()))return new Date(NaN);const i=n.getTime();let l=0,c;if(r.time&&(l=gQ(r.time),isNaN(l)))return new Date(NaN);if(r.timezone){if(c=vQ(r.timezone),isNaN(c))return new Date(NaN)}else{const u=new Date(i+l),m=new Date(0);return m.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),m.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),m}return new Date(i+l+c)}const hf={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},uQ=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,mQ=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,hQ=/^([+-])(\d{2})(?::?(\d{2}))?$/;function xQ(t){const s={},a=t.split(hf.dateTimeDelimiter);let r;if(a.length>2)return s;if(/:/.test(a[0])?r=a[0]:(s.date=a[0],r=a[1],hf.timeZoneDelimiter.test(s.date)&&(s.date=t.split(hf.timeZoneDelimiter)[0],r=t.substr(s.date.length,t.length))),r){const n=hf.timezone.exec(r);n?(s.time=r.replace(n[1],""),s.timezone=n[1]):s.time=r}return s}function pQ(t,s){const a=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+s)+"})|(\\d{2}|[+-]\\d{"+(2+s)+"})$)"),r=t.match(a);if(!r)return{year:NaN,restDateString:""};const n=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:i===null?n:i*100,restDateString:t.slice((r[1]||r[2]).length)}}function fQ(t,s){if(s===null)return new Date(NaN);const a=t.match(uQ);if(!a)return new Date(NaN);const r=!!a[4],n=lh(a[1]),i=lh(a[2])-1,l=lh(a[3]),c=lh(a[4]),u=lh(a[5])-1;if(r)return wQ(s,c,u)?yQ(s,c,u):new Date(NaN);{const m=new Date(0);return!bQ(s,i,l)||!NQ(s,n)?new Date(NaN):(m.setUTCFullYear(s,i,Math.max(n,l)),m)}}function lh(t){return t?parseInt(t):1}function gQ(t){const s=t.match(mQ);if(!s)return NaN;const a=kj(s[1]),r=kj(s[2]),n=kj(s[3]);return kQ(a,r,n)?a*U6+r*V6+n*1e3:NaN}function kj(t){return t&&parseFloat(t.replace(",","."))||0}function vQ(t){if(t==="Z")return 0;const s=t.match(hQ);if(!s)return 0;const a=s[1]==="+"?-1:1,r=parseInt(s[2]),n=s[3]&&parseInt(s[3])||0;return CQ(r,n)?a*(r*U6+n*V6):NaN}function yQ(t,s,a){const r=new Date(0);r.setUTCFullYear(t,0,4);const n=r.getUTCDay()||7,i=(s-1)*7+a+1-n;return r.setUTCDate(r.getUTCDate()+i),r}const jQ=[31,null,31,30,31,30,31,31,30,31,30,31];function Z6(t){return t%400===0||t%4===0&&t%100!==0}function bQ(t,s,a){return s>=0&&s<=11&&a>=1&&a<=(jQ[s]||(Z6(t)?29:28))}function NQ(t,s){return s>=1&&s<=(Z6(t)?366:365)}function wQ(t,s,a){return s>=1&&s<=53&&a>=0&&a<=6}function kQ(t,s,a){return t===24?s===0&&a===0:a>=0&&a<60&&s>=0&&s<60&&t>=0&&t<25}function CQ(t,s){return s>=0&&s<=59}function Cj(t,s){const a=Bt(t),r=a.getFullYear(),n=a.getDate(),i=Hn(t,0);i.setFullYear(r,s,15),i.setHours(0,0,0,0);const l=nQ(i);return a.setMonth(s,Math.min(n,l)),a}function F5(t,s){const a=Bt(t);return isNaN(+a)?Hn(t,NaN):(a.setFullYear(s),a)}const SQ={booking_created:Nn,booking_confirmed:rs,booking_completed:e0,message_received:Vs,review_received:rt,contract_created:oa};function TQ(){const{user:t}=qr(),{data:s}=Le({queryKey:["/api/notifications/unread-count"],enabled:!!t,refetchInterval:3e4}),{data:a}=Le({queryKey:["/api/notifications"],enabled:!!t}),r=Ot({mutationFn:async l=>Ft("PATCH",`/api/notifications/${l}/read`),onSuccess:()=>{_t.invalidateQueries({queryKey:["/api/notifications"]}),_t.invalidateQueries({queryKey:["/api/notifications/unread-count"]})}}),n=Ot({mutationFn:async()=>Ft("POST","/api/notifications/mark-all-read"),onSuccess:()=>{_t.invalidateQueries({queryKey:["/api/notifications"]}),_t.invalidateQueries({queryKey:["/api/notifications/unread-count"]})}});if(!t)return null;const i=s?.count||0;return e.jsxs(yn,{children:[e.jsx(jn,{asChild:!0,children:e.jsxs(S,{variant:"ghost",size:"icon",className:"relative","data-testid":"button-notifications",children:[e.jsx(mi,{className:"w-5 h-5"}),i>0&&e.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-destructive text-destructive-foreground text-xs rounded-full flex items-center justify-center","data-testid":"badge-unread-count",children:i>9?"9+":i})]})}),e.jsxs(tn,{className:"w-80 p-0",align:"end",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 border-b",children:[e.jsx("h3",{className:"font-semibold",children:"Notifications"}),i>0&&e.jsxs(S,{variant:"ghost",size:"sm",onClick:()=>n.mutate(),disabled:n.isPending,"data-testid":"button-mark-all-read",children:[e.jsx(e0,{className:"w-4 h-4 mr-1"}),"Mark all read"]})]}),e.jsx(Ha,{className:"h-80",children:!a||a.length===0?e.jsxs("div",{className:"p-6 text-center text-muted-foreground",children:[e.jsx(mi,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"No notifications yet"})]}):e.jsx("div",{children:a.map(l=>e.jsx(_Q,{notification:l,onMarkAsRead:()=>r.mutate(l.id)},l.id))})})]})]})}function _Q({notification:t,onMarkAsRead:s}){const a=SQ[t.type]||mi;return e.jsx("div",{className:`p-3 border-b last:border-0 hover-elevate cursor-pointer ${t.isRead?"":"bg-primary/5"}`,onClick:()=>{t.isRead||s()},"data-testid":`notification-${t.id}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center shrink-0 ${t.isRead?"bg-muted text-muted-foreground":"bg-primary/10 text-primary"}`,children:e.jsx(a,{className:"w-4 h-4"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:`text-sm ${t.isRead?"":"font-medium"}`,children:t.title}),e.jsx("p",{className:"text-xs text-muted-foreground mt-0.5 line-clamp-2",children:t.message}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:rc(new Date(t.createdAt),{addSuffix:!0})})]}),!t.isRead&&e.jsx("div",{className:"w-2 h-2 rounded-full bg-primary shrink-0 mt-2"})]})})}const M5=[{name:"Experiences",icon:qs,sections:[{title:"TRAVEL & GETAWAYS",items:[{name:"Travel Planning",href:"/experiences/travel",icon:Pt,description:"Plan your perfect trip"},{name:"Romantic Getaways",href:"/experiences/romance",icon:qe,description:"Special romantic escapes"},{name:"Date Night",href:"/experiences/date-night",icon:Pu,description:"Perfect evening plans"},{name:"Retreats",href:"/experiences/retreats",icon:Jc,description:"Relaxation & wellness"}]},{title:"CELEBRATIONS",items:[{name:"Birthday Party",href:"/experiences/birthday",icon:$u,description:"Unforgettable celebrations"},{name:"Holiday Party",href:"/experiences/holiday-party",icon:Rh,description:"Festive gatherings"},{name:"Housewarming",href:"/experiences/housewarming-party",icon:Td,description:"Welcome home events"},{name:"Farewell Party",href:"/experiences/farewell-party",icon:__,description:"Send-off celebrations"},{name:"Career Achievement",href:"/experiences/career-achievement-party",icon:ed,description:"Celebrate success"}]},{title:"LIFE MILESTONES",items:[{name:"Wedding",href:"/experiences/wedding",icon:Qt,description:"Dream wedding planning"},{name:"Proposal",href:"/experiences/proposal",icon:cr,description:"Perfect proposal moment"},{name:"Engagement Party",href:"/experiences/engagement-party",icon:aw,description:"Celebrate your love"},{name:"Baby Shower",href:"/experiences/baby-shower",icon:uc,description:"Welcome the new arrival"},{name:"Anniversary",href:"/experiences/wedding-anniversaries",icon:on,description:"Celebrate your journey"},{name:"Graduation",href:"/experiences/graduation-party",icon:s0,description:"Honor achievements"},{name:"Retirement",href:"/experiences/retirement-party",icon:tw,description:"New chapter celebration"}]},{title:"GROUP EVENTS",items:[{name:"Corporate Events",href:"/experiences/corporate-events",icon:va,description:"Team events & meetings"},{name:"Corporate Retreats",href:"/experiences/corporate",icon:Ta,description:"Team building retreats"},{name:"Boys Trip",href:"/experiences/boys-trip",icon:et,description:"Epic adventures"},{name:"Girls Trip",href:"/experiences/girls-trip",icon:E$,description:"Getaways with friends"},{name:"Reunions",href:"/experiences/reunions",icon:ya,description:"Reconnect & celebrate"}]}]},{name:"Partner With Us",icon:qs,sections:[{title:"BECOME A PARTNER",items:[{name:"Travel Expert",href:"/become-expert",icon:Pt,description:"Share your destination expertise"},{name:"Local Expert",href:"/become-expert",icon:Nr,description:"Guide travelers in your city"},{name:"Event Planner",href:"/become-expert",icon:Ge,description:"Plan weddings & celebrations"},{name:"Executive Assistant",href:"/become-expert",icon:Ta,description:"Manage high-end clients"},{name:"Service Provider",href:"/become-provider",icon:va,description:"Offer venues & services"},{name:"Influencer Program",href:"/become-expert?influencer=true",icon:qe,description:"Earn commissions as a creator"}]},{title:"BENEFITS",items:[{name:"Flexible Schedule",href:"/partner-with-us",icon:Je,description:"Work on your own terms"},{name:"AI-Powered Tools",href:"/partner-with-us",icon:os,description:"Cutting-edge planning tools"},{name:"Global Clientele",href:"/partner-with-us",icon:Nr,description:"Connect with travelers worldwide"}]}]},{name:"Discover",href:"/discover"},{name:"Planning Tools",icon:qs,sections:[{title:"AI & EXPERTS",items:[{name:"AI Trip Planner",href:"/ai-assistant",icon:os,description:"Instant AI-powered itineraries"},{name:"Find Local Experts",href:"/vendors",icon:et,description:"Connect with destination experts"},{name:"Executive Assistant",href:"/executive-assistant",icon:Ta,description:"Premium concierge planning"}]},{title:"EXPLORE",items:[{name:"Live Intel",href:"/spontaneous",icon:qe,description:"Real-time local insights"},{name:"Today's Deals",href:"/deals",icon:Sa,description:"Special offers & discounts"}]}]},{name:"Experts",href:"/experts"},{name:"Contact",href:"/contact"}];function EQ({item:t,isActive:s}){const[a,r]=h.useState(!1),n=h.useRef(null),i=()=>{n.current&&clearTimeout(n.current),r(!0)},l=()=>{n.current=setTimeout(()=>r(!1),150)};h.useEffect(()=>()=>{n.current&&clearTimeout(n.current)},[]);const c=u=>u.toLowerCase().replace(/\s+/g,"-");return t.sections?e.jsxs("div",{className:"relative",onMouseEnter:i,onMouseLeave:l,children:[e.jsxs("button",{className:"flex items-center text-sm font-medium text-muted-foreground hover-elevate transition-colors px-3 py-2 rounded-md",type:"button","data-testid":`button-nav-dropdown-${c(t.name)}`,children:[t.name,e.jsx(qs,{className:te("ml-1 w-4 h-4 transition-transform",a&&"rotate-180")})]}),e.jsx(xm,{children:a&&e.jsx(He.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:8},transition:{duration:.15},className:te("absolute top-full mt-1 bg-card border border-border rounded-lg shadow-xl z-50",t.sections.length>2?"left-1/2 -translate-x-1/2 w-[800px]":"left-0 w-72"),children:e.jsx("div",{className:te("py-3",t.sections.length>2?"grid grid-cols-4 gap-1 px-2":""),children:t.sections.map((u,m)=>e.jsxs("div",{className:t.sections.length>2?"px-2":"",children:[m>0&&t.sections.length<=2&&e.jsx("div",{className:"border-t border-border my-2"}),e.jsx("div",{className:te("text-xs font-semibold text-muted-foreground uppercase tracking-wide",t.sections.length>2?"px-2 py-2 border-b border-border mb-1":"px-4 py-2"),children:u.title}),u.items.map(x=>e.jsxs(Ce,{href:x.href||"#",className:te("flex items-start gap-2 text-sm hover-elevate transition-colors group rounded-md",t.sections.length>2?"px-2 py-2":"px-4 py-2.5 gap-3"),"data-testid":`link-nav-${c(x.name)}`,children:[x.icon&&e.jsx(x.icon,{className:"w-4 h-4 mt-0.5 text-muted-foreground shrink-0"}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"text-foreground font-medium truncate",children:x.name}),x.description&&t.sections.length<=2&&e.jsx("div",{className:"text-xs text-muted-foreground",children:x.description})]})]},x.name))]},u.title))})})})]}):e.jsx(Ce,{href:t.href||"#",className:te("text-sm font-medium transition-colors px-3 py-2 relative hover-elevate rounded-md",s?"text-primary after:absolute after:bottom-0 after:left-3 after:right-3 after:h-0.5 after:bg-primary after:rounded-full":"text-muted-foreground"),"data-testid":`link-nav-${c(t.name)}`,children:t.name})}function Yt({children:t}){const{user:s,logout:a}=qr(),[r]=La(),[n,i]=h.useState(!1);return e.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[e.jsxs("nav",{className:"bg-card/80 backdrop-blur-lg border-b border-border sticky top-0 z-50 shadow-sm",children:[e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between h-16",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsxs(Ce,{href:"/",className:"flex-shrink-0 flex items-center gap-3","data-testid":"link-logo",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(dr,{className:"h-6 w-6 text-primary"}),e.jsx("span",{className:"font-bold text-xl tracking-tight text-foreground uppercase",children:"Traveloure"})]}),e.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold bg-primary/10 text-primary rounded-full border border-primary/20",children:"BETA"})]}),e.jsx("div",{className:"hidden md:ml-10 md:flex md:items-center gap-1",children:M5.map(l=>e.jsx(EQ,{item:l,isActive:l.href===r},l.name))})]}),e.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[!s&&e.jsxs(e.Fragment,{children:[e.jsx(Ce,{href:"/become-expert",children:e.jsx(S,{variant:"outline",size:"sm","data-testid":"button-become-expert",children:"Become an Expert"})}),e.jsx("a",{href:"/api/login",children:e.jsx(S,{size:"sm","data-testid":"button-sign-in",children:"Sign In"})})]}),s&&e.jsxs(e.Fragment,{children:[e.jsx(TQ,{}),e.jsx(vm,{})]})]}),e.jsx("div",{className:"flex items-center md:hidden",children:e.jsx("button",{onClick:()=>i(!n),className:"inline-flex items-center justify-center p-2 rounded-md text-muted-foreground hover-elevate focus:outline-none focus:ring-2 focus:ring-inset focus:ring-primary","data-testid":"button-mobile-menu",children:n?e.jsx(Ia,{className:"block h-6 w-6"}):e.jsx(x$,{className:"block h-6 w-6"})})})]})}),e.jsx(xm,{children:n&&e.jsxs(He.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden border-t border-border bg-background",children:[e.jsx("div",{className:"pt-2 pb-3 space-y-1 px-4",children:M5.map(l=>l.sections?e.jsxs("div",{className:"py-2",children:[e.jsx("div",{className:"px-3 py-2 text-sm font-semibold text-muted-foreground uppercase tracking-wide",children:l.name}),l.sections.map(c=>e.jsxs("div",{children:[e.jsx("div",{className:"px-6 py-1.5 text-xs font-semibold text-muted-foreground uppercase",children:c.title}),c.items.map(u=>e.jsxs(Ce,{href:u.href||"#",className:"flex items-center gap-3 px-8 py-2.5 text-base font-medium text-muted-foreground hover-elevate rounded-lg transition-colors",onClick:()=>i(!1),"data-testid":`link-mobile-${u.name.toLowerCase().replace(/\s+/g,"-")}`,children:[u.icon&&e.jsx(u.icon,{className:"w-5 h-5"}),u.name]},u.name))]},c.title))]},l.name):e.jsx(Ce,{href:l.href||"#",className:"flex items-center gap-3 px-3 py-2.5 rounded-lg text-base font-medium text-muted-foreground hover-elevate transition-colors",onClick:()=>i(!1),"data-testid":`link-mobile-${l.name.toLowerCase().replace(/\s+/g,"-")}`,children:l.name},l.name))}),e.jsx("div",{className:"pt-4 pb-4 border-t border-border px-4",children:s?e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(Ls,{className:"h-10 w-10",children:[e.jsx(Br,{src:s.profileImageUrl||void 0,alt:"Profile"}),e.jsx(Os,{className:"bg-primary/10 text-primary font-bold",children:s.firstName?.[0]})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"text-base font-medium text-foreground",children:[s.firstName," ",s.lastName]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:s.email})]}),e.jsx(S,{variant:"ghost",size:"icon",onClick:()=>a(),className:"text-destructive hover-elevate","data-testid":"button-mobile-logout",children:e.jsx(_d,{className:"h-5 w-5"})})]}):e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx(Ce,{href:"/become-expert",onClick:()=>i(!1),children:e.jsx(S,{variant:"outline",className:"w-full","data-testid":"button-mobile-become-expert",children:"Become an Expert"})}),e.jsx("a",{href:"/api/login",onClick:()=>i(!1),children:e.jsx(S,{className:"w-full","data-testid":"button-mobile-sign-in",children:"Sign In"})})]})})]})})]}),e.jsx("main",{className:"flex-1",children:t}),e.jsx("footer",{className:"bg-card border-t border-border py-16",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-8 lg:gap-12",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"bg-gradient-to-br from-[#FF385C] to-[#FF8E53] p-2.5 rounded-xl shadow-lg",children:e.jsx(dr,{className:"h-5 w-5 text-white"})}),e.jsx("span",{className:"font-display font-bold text-xl text-foreground",children:"Traveloure"})]}),e.jsx("p",{className:"text-muted-foreground text-sm mb-6 max-w-sm leading-relaxed",children:"Experience personalized travel planning with insider knowledge from travel experts, powered by advanced AI technology."}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("a",{href:"https://www.facebook.com/Traveloure/",target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-xl bg-muted flex items-center justify-center hover-elevate transition-all text-muted-foreground","data-testid":"link-social-facebook",children:e.jsx(o$,{className:"w-5 h-5"})}),e.jsx("a",{href:"https://x.com/Traveloure_",target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-xl bg-muted flex items-center justify-center hover-elevate transition-all text-muted-foreground","data-testid":"link-social-twitter",children:e.jsx(_$,{className:"w-5 h-5"})}),e.jsx("a",{href:"https://www.instagram.com/traveloure_",target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-xl bg-muted flex items-center justify-center hover-elevate transition-all text-muted-foreground","data-testid":"link-social-instagram",children:e.jsx(xu,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-4 text-foreground text-sm uppercase tracking-wider",children:"Product"}),e.jsxs("ul",{className:"space-y-3 text-sm text-muted-foreground",children:[e.jsx("li",{children:e.jsx(Ce,{href:"/experiences",className:"hover:text-foreground transition-colors","data-testid":"link-footer-create-trip",children:"Plan an Experience"})}),e.jsx("li",{children:e.jsx(Ce,{href:"/discover",className:"hover:text-foreground transition-colors","data-testid":"link-footer-explore",children:"Discover Services"})}),e.jsx("li",{children:e.jsx(Ce,{href:"/chat",className:"hover:text-foreground transition-colors","data-testid":"link-footer-experts",children:"Talk to Experts"})}),e.jsx("li",{children:e.jsx(Ce,{href:"/how-it-works",className:"hover:text-foreground transition-colors","data-testid":"link-footer-how-it-works",children:"How It Works"})}),e.jsx("li",{children:e.jsx(Ce,{href:"/pricing",className:"hover:text-foreground transition-colors","data-testid":"link-footer-pricing",children:"Pricing"})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-4 text-foreground text-sm uppercase tracking-wider",children:"Company"}),e.jsxs("ul",{className:"space-y-3 text-sm text-muted-foreground",children:[e.jsx("li",{children:e.jsx(Ce,{href:"/about",className:"hover:text-foreground transition-colors","data-testid":"link-footer-about",children:"About Us"})}),e.jsx("li",{children:e.jsx(Ce,{href:"/partner-with-us",className:"hover:text-foreground transition-colors","data-testid":"link-footer-partner",children:"Partner With Us"})}),e.jsx("li",{children:e.jsx(Ce,{href:"/careers",className:"hover:text-foreground transition-colors","data-testid":"link-footer-careers",children:"Careers"})}),e.jsx("li",{children:e.jsx(Ce,{href:"/blog",className:"hover:text-foreground transition-colors","data-testid":"link-footer-blog",children:"Blog"})}),e.jsx("li",{children:e.jsx(Ce,{href:"/press",className:"hover:text-foreground transition-colors","data-testid":"link-footer-press",children:"Press"})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-4 text-foreground text-sm uppercase tracking-wider",children:"Support"}),e.jsxs("ul",{className:"space-y-3 text-sm text-muted-foreground",children:[e.jsx("li",{children:e.jsx(Ce,{href:"/help",className:"hover:text-foreground transition-colors","data-testid":"link-footer-help",children:"Help Center"})}),e.jsx("li",{children:e.jsx(Ce,{href:"/contact",className:"hover:text-foreground transition-colors","data-testid":"link-footer-contact",children:"Contact Us"})}),e.jsx("li",{children:e.jsx(Ce,{href:"/privacy",className:"hover:text-foreground transition-colors","data-testid":"link-footer-privacy",children:"Privacy Policy"})}),e.jsx("li",{children:e.jsx(Ce,{href:"/terms",className:"hover:text-foreground transition-colors","data-testid":"link-footer-terms",children:"Terms of Service"})}),e.jsx("li",{children:e.jsx(Ce,{href:"/faq",className:"hover:text-foreground transition-colors","data-testid":"link-footer-faq",children:"FAQ"})})]})]})]}),e.jsxs("div",{className:"border-t border-border mt-12 pt-8 flex flex-col md:flex-row items-center justify-between gap-4",children:[e.jsxs("p",{className:"text-sm text-muted-foreground",children:[" ",new Date().getFullYear()," Traveloure. All rights reserved."]}),e.jsxs("div",{className:"flex items-center gap-6 text-xs text-muted-foreground",children:[e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx(Nr,{className:"w-3.5 h-3.5"}),"English (US)"]}),e.jsx("span",{children:"USD ($)"})]})]})]})})]})}const P=h.forwardRef(({className:t,hover:s=!1,...a},r)=>e.jsx("div",{ref:r,className:te("shadcn-card rounded-2xl border bg-card border-border text-card-foreground shadow-card transition-all duration-300",s&&"hover:shadow-card-hover cursor-pointer",t),...a}));P.displayName="Card";const Q=h.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:te("flex flex-col space-y-1.5 p-6",t),...s}));Q.displayName="CardHeader";const X=h.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:te("text-2xl font-semibold leading-none tracking-tight",t),...s}));X.displayName="CardTitle";const Tt=h.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:te("text-sm text-muted-foreground",t),...s}));Tt.displayName="CardDescription";const F=h.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:te("p-6 pt-0",t),...s}));F.displayName="CardContent";const Mu=h.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:te("flex items-center p-6 pt-0",t),...s}));Mu.displayName="CardFooter";const Sj=[{city:"Kyoto",country:"Japan"},{city:"Edinburgh",country:"Scotland"},{city:"Goa",country:"India"},{city:"Mumbai",country:"India"},{city:"Bogot",country:"Colombia"},{city:"Porto",country:"Portugal"},{city:"Jaipur",country:"India"},{city:"Cartagena",country:"Colombia"}];function PQ(){return e.jsx("div",{className:"w-full bg-gradient-to-r from-[#FF6B6B] via-[#FF8E53] to-[#FF6B6B] text-white py-2.5 px-4","data-testid":"top-ribbon-banner",children:e.jsx("div",{className:"container mx-auto max-w-6xl",children:e.jsxs("div",{className:"flex items-center justify-between gap-3 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-shrink-0 flex-wrap",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(qe,{className:"w-3.5 h-3.5"}),e.jsx("span",{className:"font-semibold whitespace-nowrap hidden sm:inline",children:"Join Our Beta in 8 Cities World Wide"}),e.jsx("span",{className:"font-semibold whitespace-nowrap sm:hidden",children:"Beta in 8 Cities"})]}),e.jsx("div",{className:"h-4 w-px bg-white/30 hidden md:block"}),e.jsx("span",{className:"whitespace-nowrap hidden md:inline text-white/90",children:"Limited Expert Spots Available"})]}),e.jsx("div",{className:"ticker-wrapper flex-1 min-w-0 overflow-hidden mx-2",children:e.jsx("div",{className:"ticker-content-inline",children:[...Sj,...Sj,...Sj].map((t,s)=>e.jsxs("span",{className:"inline-flex items-center gap-1.5 mx-3 whitespace-nowrap","data-testid":`ticker-city-${t.city.toLowerCase()}-${s}`,children:[e.jsx("span",{className:"flex items-center justify-center w-5 h-5 rounded-full bg-white/20",children:e.jsx(Me,{className:"w-3 h-3"})}),e.jsx("span",{className:"font-medium",children:t.city})]},`${t.city}-${s}`))})}),e.jsxs(Ce,{href:"/experiences/travel",className:"flex items-center gap-1 font-semibold whitespace-nowrap bg-white/20 hover-elevate px-3 py-1 rounded-full text-xs flex-shrink-0","data-testid":"link-apply-now",children:["Apply Now",e.jsx(Kt,{className:"w-3 h-3"})]})]})})})}const AQ=[{id:"1",name:"Paris",country:"France",image:"https://images.unsplash.com/photo-1502602898657-3e91760cbb34?w=800&q=80",price:180,originalPrice:200,discount:10,travelers:9234,seasonalTitle:"Autumn Foliage in Parisian Parks",categories:[{label:"Romantic",color:"text-rose-600 dark:text-rose-400",bgColor:"bg-rose-100",darkBgColor:"dark:bg-rose-900/30"},{label:"Cultural",color:"text-purple-600 dark:text-purple-400",bgColor:"bg-purple-100",darkBgColor:"dark:bg-purple-900/30"},{label:"Foodie",color:"text-orange-600 dark:text-orange-400",bgColor:"bg-orange-100",darkBgColor:"dark:bg-orange-900/30"}],extraCategories:2,status:"Busy",tip:"Book mid-week stays for November to save up to 15% on hotels before holiday season spikes.",trendingCount:38,gemsCount:19,heatScore:94,activeBookings:18,isHot:!0},{id:"2",name:"New York",country:"USA",image:"https://images.unsplash.com/photo-1496442226666-8d4d0e62e6e9?w=800&q=80",price:250,originalPrice:278,discount:10,travelers:7821,seasonalTitle:"Fall Foliage in Central Park",categories:[{label:"Cultural",color:"text-purple-600 dark:text-purple-400",bgColor:"bg-purple-100",darkBgColor:"dark:bg-purple-900/30"},{label:"Nightlife",color:"text-indigo-600 dark:text-indigo-400",bgColor:"bg-indigo-100",darkBgColor:"dark:bg-indigo-900/30"},{label:"Foodie",color:"text-orange-600 dark:text-orange-400",bgColor:"bg-orange-100",darkBgColor:"dark:bg-orange-900/30"}],extraCategories:2,status:"Busy",tip:"Look for midweek deals in late January for lower hotel rates after holiday season.",trendingCount:42,gemsCount:9,heatScore:92,activeBookings:24,isHot:!0},{id:"3",name:"Tokyo",country:"Japan",image:"https://images.unsplash.com/photo-1540959733332-eab4deabeeaf?w=800&q=80",price:150,originalPrice:167,discount:10,travelers:12847,seasonalTitle:"Autumn Foliage Season",categories:[{label:"Cultural",color:"text-purple-600 dark:text-purple-400",bgColor:"bg-purple-100",darkBgColor:"dark:bg-purple-900/30"},{label:"Foodie",color:"text-orange-600 dark:text-orange-400",bgColor:"bg-orange-100",darkBgColor:"dark:bg-orange-900/30"},{label:"Nightlife",color:"text-indigo-600 dark:text-indigo-400",bgColor:"bg-indigo-100",darkBgColor:"dark:bg-indigo-900/30"}],extraCategories:2,status:"Busy",tip:"Book early for November to avoid peak autumn foliage price spikes.",trendingCount:47,gemsCount:23,heatScore:96,activeBookings:31,isHot:!0},{id:"4",name:"Rome",country:"Italy",image:"https://images.unsplash.com/photo-1552832230-c0197dd311b5?w=800&q=80",price:150,originalPrice:167,discount:10,travelers:8234,seasonalTitle:"Autumn Charm with Mild Weather",categories:[{label:"Cultural",color:"text-purple-600 dark:text-purple-400",bgColor:"bg-purple-100",darkBgColor:"dark:bg-purple-900/30"},{label:"Romantic",color:"text-rose-600 dark:text-rose-400",bgColor:"bg-rose-100",darkBgColor:"dark:bg-rose-900/30"},{label:"Foodie",color:"text-orange-600 dark:text-orange-400",bgColor:"bg-orange-100",darkBgColor:"dark:bg-orange-900/30"}],extraCategories:1,status:"Moderate",tip:"Book early for November to avoid peak holiday price spikes.",trendingCount:48,gemsCount:21,heatScore:89,activeBookings:14},{id:"5",name:"Marrakech",country:"Morocco",image:"https://images.unsplash.com/photo-1539020140153-e479b8c22e70?w=800&q=80",price:120,originalPrice:122,discount:2,travelers:4123,seasonalTitle:"Winter Escape with Mild Weather",categories:[{label:"Cultural",color:"text-purple-600 dark:text-purple-400",bgColor:"bg-purple-100",darkBgColor:"dark:bg-purple-900/30"},{label:"Adventure",color:"text-emerald-600 dark:text-emerald-400",bgColor:"bg-emerald-100",darkBgColor:"dark:bg-emerald-900/30"},{label:"Foodie",color:"text-orange-600 dark:text-orange-400",bgColor:"bg-orange-100",darkBgColor:"dark:bg-orange-900/30"}],extraCategories:2,status:"Quiet",tip:"Early booking discounts available for spring riads.",trendingCount:26,gemsCount:28,heatScore:85,activeBookings:8},{id:"6",name:"Bangkok",country:"Thailand",image:"https://images.unsplash.com/photo-1508009603885-50cf7c579365?w=800&q=80",price:60,originalPrice:61,discount:2,travelers:9876,seasonalTitle:"Post-Rainy Season Refresh",categories:[{label:"Cultural",color:"text-purple-600 dark:text-purple-400",bgColor:"bg-purple-100",darkBgColor:"dark:bg-purple-900/30"},{label:"Foodie",color:"text-orange-600 dark:text-orange-400",bgColor:"bg-orange-100",darkBgColor:"dark:bg-orange-900/30"},{label:"Nightlife",color:"text-indigo-600 dark:text-indigo-400",bgColor:"bg-indigo-100",darkBgColor:"dark:bg-indigo-900/30"}],extraCategories:2,status:"Busy",tip:"Early bird deals for November festival season available now.",trendingCount:44,gemsCount:42,heatScore:88,activeBookings:19},{id:"7",name:"Sydney",country:"Australia",image:"https://images.unsplash.com/photo-1506973035872-a4ec16b8e8d9?w=800&q=80",price:180,originalPrice:200,discount:10,travelers:6789,seasonalTitle:"Spring Vibes with Blooming Jacarandas",categories:[{label:"Adventure",color:"text-emerald-600 dark:text-emerald-400",bgColor:"bg-emerald-100",darkBgColor:"dark:bg-emerald-900/30"},{label:"Cultural",color:"text-purple-600 dark:text-purple-400",bgColor:"bg-purple-100",darkBgColor:"dark:bg-purple-900/30"},{label:"Nature",color:"text-green-600 dark:text-green-400",bgColor:"bg-green-100",darkBgColor:"dark:bg-green-900/30"}],extraCategories:2,status:"Moderate",tip:"Book early for summer (Dec-Feb) to avoid peak pricing spikes.",trendingCount:33,gemsCount:18,heatScore:86,activeBookings:11},{id:"8",name:"London",country:"United Kingdom",image:"https://images.unsplash.com/photo-1513635269975-59663e0ac1ad?w=800&q=80",price:220,originalPrice:244,discount:10,travelers:11234,seasonalTitle:"Autumn Charm with Fall Colors in Parks",categories:[{label:"Cultural",color:"text-purple-600 dark:text-purple-400",bgColor:"bg-purple-100",darkBgColor:"dark:bg-purple-900/30"},{label:"Nightlife",color:"text-indigo-600 dark:text-indigo-400",bgColor:"bg-indigo-100",darkBgColor:"dark:bg-indigo-900/30"},{label:"Family",color:"text-blue-600 dark:text-blue-400",bgColor:"bg-blue-100",darkBgColor:"dark:bg-blue-900/30"}],extraCategories:1,status:"Busy",tip:"Book early for November to avoid holiday price spikes.",trendingCount:51,gemsCount:15,heatScore:91,activeBookings:27,isHot:!0}],DQ=t=>{switch(t){case"Busy":return"text-orange-500 dark:text-orange-400";case"Moderate":return"text-yellow-500 dark:text-yellow-400";case"Quiet":return"text-green-500 dark:text-green-400";default:return"text-gray-500 dark:text-gray-400"}},FQ=t=>{switch(t){case"Busy":return"bg-orange-50 dark:bg-orange-900/20";case"Moderate":return"bg-yellow-50 dark:bg-yellow-900/20";case"Quiet":return"bg-green-50 dark:bg-green-900/20";default:return"bg-gray-50 dark:bg-gray-800"}};function MQ(){const[t,s]=h.useState(!0);return e.jsx("section",{className:"py-16 lg:py-20 bg-muted dark:bg-background",children:e.jsxs("div",{className:"container mx-auto px-4 max-w-7xl",children:[e.jsxs(He.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-10",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-[#FF385C] flex items-center justify-center",children:e.jsx(Xt,{className:"w-5 h-5 text-white"})}),e.jsxs("h2",{className:"text-3xl sm:text-4xl font-bold text-foreground",children:["Trending ",e.jsx("span",{className:"text-[#FF385C]",children:"Cities"})]})]}),e.jsxs("p",{className:"text-muted-foreground",children:["Real-time intelligence from ",e.jsx("span",{className:"font-semibold text-foreground",children:"102,530 travelers"})," worldwide"]})]}),e.jsxs(S,{variant:"outline",size:"sm",onClick:()=>s(!t),className:te("rounded-full border-2 gap-2",t?"border-green-500 text-green-600 dark:text-green-400 dark:border-green-500":"border-border"),"data-testid":"button-live-updates",children:[e.jsx(qa,{className:te("w-4 h-4",t&&"fill-green-500")}),"Live Updates"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:AQ.map((a,r)=>e.jsx(He.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:r*.05},className:"group",children:e.jsx(Ce,{href:`/discover?city=${a.name.toLowerCase()}`,children:e.jsxs("div",{className:"bg-card dark:bg-card rounded-2xl overflow-hidden shadow-card hover:shadow-card-hover transition-all duration-500 cursor-pointer border border-border","data-testid":`card-city-${a.id}`,children:[e.jsxs("div",{className:"relative h-48 overflow-hidden",children:[e.jsx("img",{src:a.image,alt:a.name,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent"}),e.jsx("div",{className:"absolute top-3 right-3 w-11 h-11 rounded-xl bg-white/95 dark:bg-white/90 shadow-lg flex items-center justify-center","data-testid":`badge-heat-score-${a.id}`,children:e.jsx("span",{className:te("text-lg font-bold",a.heatScore>=90?"text-[#FF385C]":a.heatScore>=85?"text-orange-500 dark:text-orange-400":"text-amber-500 dark:text-amber-400"),children:a.heatScore})}),e.jsxs("div",{className:"absolute top-3 left-3 flex items-center gap-2 flex-wrap",children:[a.isHot?e.jsxs("span",{className:"px-2.5 py-1 rounded-lg bg-[#FF385C] text-white text-xs font-bold flex items-center gap-1 shadow-lg","data-testid":`badge-hot-${a.id}`,children:[e.jsx(qa,{className:"w-3 h-3 fill-white"}),"Hot"]}):e.jsxs("span",{className:"px-2.5 py-1 rounded-lg bg-amber-500 dark:bg-amber-600 text-white text-xs font-bold flex items-center gap-1 shadow-lg","data-testid":`badge-trending-${a.id}`,children:[e.jsx(Xt,{className:"w-3 h-3"}),"Trending"]}),a.travelers>0&&e.jsxs("span",{className:"px-2 py-1 rounded-lg bg-white/90 dark:bg-white/80 text-gray-700 text-xs font-medium flex items-center gap-1 shadow-sm","data-testid":`badge-travelers-${a.id}`,children:[e.jsx(et,{className:"w-3 h-3"}),a.travelers.toLocaleString()]})]}),e.jsxs("div",{className:"absolute bottom-3 left-3 right-3",children:[e.jsx("h3",{className:"text-2xl font-bold text-white",children:a.name}),e.jsxs("div",{className:"flex items-center gap-2 text-white/80 text-sm",children:[e.jsx(Me,{className:"w-3 h-3"}),a.country]})]})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-start gap-2 mb-3",children:[e.jsx(qe,{className:"w-4 h-4 text-[#FF385C] mt-0.5 flex-shrink-0"}),e.jsx("h4",{className:"text-sm font-semibold text-[#FF385C] line-clamp-2",children:a.seasonalTitle})]}),e.jsxs("div",{className:"flex flex-wrap gap-1.5 mb-3",children:[a.categories.map(n=>e.jsx("span",{className:te("px-2.5 py-1 rounded-full text-xs font-medium",n.bgColor,n.darkBgColor,n.color),children:n.label},n.label)),a.extraCategories>0&&e.jsxs("span",{className:"px-2.5 py-1 rounded-full text-xs font-medium bg-muted dark:bg-muted text-muted-foreground",children:["+",a.extraCategories]})]}),e.jsxs("div",{className:"flex items-center justify-between mb-3 gap-2 flex-wrap",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-lg font-bold text-foreground",children:["$",a.price]}),a.originalPrice&&e.jsxs("span",{className:"text-sm text-muted-foreground line-through",children:["$",a.originalPrice]}),e.jsxs("span",{className:"text-xs text-emerald-600 dark:text-emerald-400 flex items-center",children:[e.jsx(Ei,{className:"w-3 h-3"}),a.discount,"%"]})]}),e.jsx("span",{className:te("text-xs font-medium px-2 py-0.5 rounded-full",DQ(a.status),FQ(a.status)),children:a.status})]}),e.jsx("div",{className:"bg-emerald-50 dark:bg-emerald-900/20 rounded-xl p-3 mb-3",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(zn,{className:"w-4 h-4 text-emerald-500 flex-shrink-0 mt-0.5"}),e.jsx("p",{className:"text-xs text-emerald-700 dark:text-emerald-300 line-clamp-3",children:a.tip})]})}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground pt-3 border-t border-border","data-testid":`stats-footer-${a.id}`,children:[e.jsxs("div",{className:"flex items-center gap-1","data-testid":`stat-active-${a.id}`,children:[e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-500 animate-pulse"}),a.activeBookings," active"]}),e.jsxs("div",{className:"flex items-center gap-1","data-testid":`stat-trending-${a.id}`,children:[e.jsx(Xt,{className:"w-3 h-3"}),a.trendingCount]}),e.jsxs("div",{className:"flex items-center gap-1","data-testid":`stat-gems-${a.id}`,children:[e.jsx(cr,{className:"w-3 h-3 text-purple-500 dark:text-purple-400"}),a.gemsCount]})]})]})]})})},a.id))}),e.jsx(He.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mt-10",children:e.jsx(Ce,{href:"/discover",children:e.jsxs(S,{size:"lg",className:"bg-[#FF385C] text-white font-semibold px-8","data-testid":"button-explore-all-cities",children:["Explore All Destinations",e.jsx(Ei,{className:"w-4 h-4 ml-2"})]})})})]})})}const IQ=t=>{switch(t){case"Busy":return"text-orange-500 dark:text-orange-400";case"Moderate":return"text-yellow-500 dark:text-yellow-400";case"Quiet":return"text-green-500 dark:text-green-400";default:return"text-gray-500 dark:text-gray-400"}},RQ=t=>{switch(t){case"Busy":return"bg-orange-50 dark:bg-orange-900/20";case"Moderate":return"bg-yellow-50 dark:bg-yellow-900/20";case"Quiet":return"bg-green-50 dark:bg-green-900/20";default:return"bg-gray-50 dark:bg-gray-800"}};function LQ({label:t,description:s,image:a,trending:r,expertRates:n,hiddenGems:i,slug:l,icon:c,color:u,bgColor:m,categories:x,status:f="Moderate",tip:g,activeCount:b=0,isHot:v=!1,delay:y=0}){return e.jsx(He.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:y},className:"group",children:e.jsx(Ce,{href:`/experiences/${l}`,children:e.jsxs("div",{className:"bg-card dark:bg-card rounded-2xl overflow-hidden shadow-card hover:shadow-card-hover transition-all duration-500 cursor-pointer border border-border","data-testid":`card-experience-${l}`,children:[e.jsxs("div",{className:"relative h-48 overflow-hidden",children:[e.jsx("img",{src:a,alt:t,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent"}),e.jsx("div",{className:"absolute top-3 right-3 w-11 h-11 rounded-xl bg-white/95 dark:bg-white/90 shadow-lg flex items-center justify-center","data-testid":`badge-trending-score-${l}`,children:e.jsx("span",{className:te("text-lg font-bold",r>=70?"text-[#FF385C]":r>=50?"text-orange-500 dark:text-orange-400":"text-amber-500 dark:text-amber-400"),children:r})}),e.jsx("div",{className:"absolute top-3 left-3",children:v||r>=60?e.jsxs("span",{className:"px-2.5 py-1 rounded-lg bg-[#FF385C] text-white text-xs font-bold flex items-center gap-1 shadow-lg","data-testid":`badge-hot-${l}`,children:[e.jsx(qe,{className:"w-3 h-3 fill-white"}),"Hot"]}):e.jsxs("span",{className:"px-2.5 py-1 rounded-lg bg-amber-500 dark:bg-amber-600 text-white text-xs font-bold flex items-center gap-1 shadow-lg","data-testid":`badge-trending-${l}`,children:[e.jsx(Xt,{className:"w-3 h-3"}),"Trending"]})}),e.jsxs("div",{className:"absolute bottom-3 left-3 right-3 flex items-center gap-3",children:[e.jsx("div",{className:te("w-12 h-12 rounded-xl flex items-center justify-center shadow-lg",m),children:e.jsx(c,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-white",children:t}),s&&e.jsx("p",{className:"text-white/80 text-sm",children:s})]})]})]}),e.jsxs("div",{className:"p-4",children:[x&&x.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-1.5 mb-3",children:[x.slice(0,3).map(w=>e.jsx("span",{className:te("px-2.5 py-1 rounded-full text-xs font-medium",w.bgColor,w.color),children:w.label},w.label)),x.length>3&&e.jsxs("span",{className:"px-2.5 py-1 rounded-full text-xs font-medium bg-muted dark:bg-muted text-muted-foreground",children:["+",x.length-3]})]}),e.jsxs("div",{className:"flex items-center justify-between mb-3 gap-2 flex-wrap",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg font-bold text-foreground",children:n}),e.jsx("span",{className:"text-xs text-emerald-600 dark:text-emerald-400 flex items-center",children:"Expert rates"})]}),e.jsx("span",{className:te("text-xs font-medium px-2 py-0.5 rounded-full",IQ(f),RQ(f)),children:f})]}),g&&e.jsx("div",{className:"bg-emerald-50 dark:bg-emerald-900/20 rounded-xl p-3 mb-3",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(qe,{className:"w-4 h-4 text-emerald-500 flex-shrink-0 mt-0.5"}),e.jsx("p",{className:"text-xs text-emerald-700 dark:text-emerald-300 line-clamp-3",children:g})]})}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground pt-3 border-t border-border","data-testid":`stats-footer-${l}`,children:[b>0&&e.jsxs("div",{className:"flex items-center gap-1","data-testid":`stat-active-${l}`,children:[e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-500 animate-pulse"}),b," active"]}),e.jsxs("div",{className:"flex items-center gap-1","data-testid":`stat-trending-${l}`,children:[e.jsx(Xt,{className:"w-3 h-3"}),r]}),e.jsxs("div",{className:"flex items-center gap-1","data-testid":`stat-gems-${l}`,children:[e.jsx(cr,{className:"w-3 h-3 text-purple-500 dark:text-purple-400"}),i]})]})]})]})})})}function OQ({text:t,author:s,location:a,rating:r,avatar:n,destination:i,tripType:l,expertName:c,expertHeatScore:u,valueSaved:m,expertRate:x,tripImage:f,delay:g=0}){return e.jsx(He.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:g},children:e.jsxs("div",{className:"h-full border border-border bg-background dark:bg-muted/50 shadow-card hover:shadow-card-hover transition-all duration-300 relative overflow-hidden rounded-2xl","data-testid":`card-testimonial-${s.toLowerCase().replace(/\s+/g,"-")}`,children:[e.jsxs("div",{className:"relative h-32 overflow-hidden",children:[e.jsx("img",{src:f,alt:i,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),e.jsx("div",{className:"absolute top-2 left-3",children:e.jsx("span",{className:"px-2.5 py-1 rounded-lg bg-white/90 dark:bg-white/80 text-gray-700 text-xs font-semibold shadow-sm",children:l})}),e.jsx("div",{className:"absolute bottom-2 left-3 right-3",children:e.jsxs("div",{className:"flex items-center gap-1 text-white/90 text-sm font-semibold",children:[e.jsx(Me,{className:"w-3 h-3"}),i]})})]}),e.jsxs("div",{className:"p-5 relative",children:[e.jsx("div",{className:"flex gap-1 mb-3",children:[1,2,3,4,5].map(b=>e.jsx(rt,{className:te("w-4 h-4",b<=r?"text-amber-400 fill-amber-400":"text-muted-foreground/30")},b))}),e.jsxs("p",{className:"text-sm text-foreground leading-relaxed mb-4 line-clamp-4",children:['"',t,'"']}),e.jsxs("div",{className:"bg-muted dark:bg-muted/50 rounded-xl p-3 mb-4","data-testid":"expert-info",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:"Expert consulted"}),e.jsxs("span",{className:"text-xs font-medium text-emerald-600 dark:text-emerald-400 flex items-center gap-1",children:[e.jsx(Fa,{className:"w-3 h-3"}),"Verified"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-semibold text-foreground","data-testid":"expert-name",children:c}),e.jsx("span",{className:"px-1.5 py-0.5 rounded bg-[#FF385C]/10 text-[#FF385C] text-xs font-bold","data-testid":"expert-score",children:u})]}),e.jsx("span",{className:"text-xs text-muted-foreground","data-testid":"expert-rate",children:x})]})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4 px-3 py-2 bg-emerald-50 dark:bg-emerald-900/20 rounded-lg","data-testid":"value-saved",children:[e.jsx("span",{className:"text-xs text-emerald-700 dark:text-emerald-300",children:"Value gained"}),e.jsx("span",{className:"text-sm font-bold text-emerald-600 dark:text-emerald-400",children:m})]}),e.jsxs("div",{className:"flex items-center gap-3 pt-3 border-t border-border",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-[#FF385C] to-[#FF8E53] flex items-center justify-center text-white font-semibold text-sm shadow-lg",children:n}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-foreground text-sm",children:s}),e.jsx("p",{className:"text-xs text-muted-foreground",children:a})]})]})]})]})})}function $Q({value:t,label:s,description:a,icon:r,color:n,delay:i=0}){return e.jsx(He.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:i},children:e.jsxs("div",{className:"h-full border border-border bg-card dark:bg-card shadow-card hover:shadow-card-hover transition-all duration-300 rounded-2xl overflow-hidden group","data-testid":`card-stat-${s.toLowerCase().replace(/\s+/g,"-")}`,children:[e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"relative mb-4",children:[e.jsx("div",{className:te("w-12 h-12 rounded-xl bg-muted dark:bg-muted flex items-center justify-center transition-transform duration-300 group-hover:scale-110",n),children:e.jsx(r,{className:"w-6 h-6"})}),e.jsx("div",{className:te("absolute top-0 left-0 w-12 h-12 rounded-xl opacity-20 blur-xl transition-opacity duration-300 group-hover:opacity-40",n.replace("text-","bg-"))})]}),e.jsx("p",{className:te("text-4xl font-bold mb-1 transition-colors duration-300",n),children:t}),e.jsx("p",{className:"text-sm font-semibold text-foreground mb-2",children:s}),e.jsx("p",{className:"text-xs text-muted-foreground leading-relaxed",children:a})]}),e.jsx("div",{className:"h-1 bg-gradient-to-r from-transparent via-current to-transparent opacity-50",style:{color:n.includes("[#FF385C]")?"#FF385C":void 0}})]})})}const qf="/assets/turquoise_lake_with__22a4624c-BUVPfn8N.jpg",BQ=[{icon:Pt,label:"Travel",slug:"travel",color:"text-blue-500",bgColor:"bg-blue-500/10 dark:bg-blue-500/20"},{icon:Qt,label:"Wedding",slug:"wedding",color:"text-pink-500",bgColor:"bg-pink-500/10 dark:bg-pink-500/20"},{icon:cr,label:"Proposal",slug:"proposal",color:"text-purple-500",bgColor:"bg-purple-500/10 dark:bg-purple-500/20"},{icon:qe,label:"Date Night",slug:"date-night",color:"text-red-500",bgColor:"bg-red-500/10 dark:bg-red-500/20"},{icon:$u,label:"Birthday",slug:"birthday",color:"text-orange-500",bgColor:"bg-orange-500/10 dark:bg-orange-500/20"},{icon:ya,label:"Bachelor/Bachelorette",slug:"bachelor-bachelorette",color:"text-pink-600",bgColor:"bg-pink-600/10 dark:bg-pink-600/20"},{icon:rw,label:"Anniversary Trip",slug:"anniversary-trip",color:"text-rose-600",bgColor:"bg-rose-600/10 dark:bg-rose-600/20"},{icon:va,label:"Corporate Events",slug:"corporate-events",color:"text-slate-600 dark:text-slate-400",bgColor:"bg-slate-500/10 dark:bg-slate-500/20"},{icon:et,label:"Reunions",slug:"reunions",color:"text-indigo-500",bgColor:"bg-indigo-500/10 dark:bg-indigo-500/20"},{icon:a$,label:"Wedding Anniversaries",slug:"wedding-anniversaries",color:"text-rose-500",bgColor:"bg-rose-500/10 dark:bg-rose-500/20"},{icon:ld,label:"Retreats",slug:"retreats",color:"text-emerald-500",bgColor:"bg-emerald-500/10 dark:bg-emerald-500/20"},{icon:uc,label:"Baby Shower",slug:"baby-shower",color:"text-sky-400",bgColor:"bg-sky-400/10 dark:bg-sky-400/20"},{icon:s0,label:"Graduation Party",slug:"graduation-party",color:"text-amber-500",bgColor:"bg-amber-500/10 dark:bg-amber-500/20"},{icon:k_,label:"Engagement Party",slug:"engagement-party",color:"text-fuchsia-500",bgColor:"bg-fuchsia-500/10 dark:bg-fuchsia-500/20"},{icon:Td,label:"Housewarming Party",slug:"housewarming-party",color:"text-teal-500",bgColor:"bg-teal-500/10 dark:bg-teal-500/20"},{icon:Pu,label:"Retirement Party",slug:"retirement-party",color:"text-violet-500",bgColor:"bg-violet-500/10 dark:bg-violet-500/20"},{icon:ed,label:"Career Achievement Party",slug:"career-achievement-party",color:"text-yellow-500",bgColor:"bg-yellow-500/10 dark:bg-yellow-500/20"},{icon:__,label:"Farewell Party",slug:"farewell-party",color:"text-cyan-500",bgColor:"bg-cyan-500/10 dark:bg-cyan-500/20"},{icon:Rh,label:"Holiday Party",slug:"holiday-party",color:"text-green-600",bgColor:"bg-green-600/10 dark:bg-green-600/20"}],zQ=[{icon:os,label:"AI Trip Planner",description:"Instant personalized itineraries powered by AI",href:"/ai-assistant",gradient:"from-[#FF385C] to-[#FF8E53]"},{icon:wn,label:"Expert Matching",description:"Connect with local specialists who know every hidden gem",href:"/experts",gradient:"from-emerald-500 to-teal-500"},{icon:qa,label:"Live Intel",description:"Real-time local insights and spontaneous opportunities",href:"/spontaneous",gradient:"from-violet-500 to-purple-500"},{icon:Nr,label:"Discover",description:"Browse curated experiences from around the world",href:"/discover",gradient:"from-ocean-500 to-ocean-600"}],VQ=[{icon:Pt,label:"Travel",description:"Plan your next adventure",image:"https://images.unsplash.com/photo-1469854523086-cc02fe5d8800?w=600&q=80",trending:89,expertRates:"$75-120/hr",hiddenGems:247,slug:"travel",color:"text-blue-500",bgColor:"bg-blue-500",categories:[{label:"Adventure",color:"text-emerald-600 dark:text-emerald-400",bgColor:"bg-emerald-100 dark:bg-emerald-900/30"},{label:"Cultural",color:"text-purple-600 dark:text-purple-400",bgColor:"bg-purple-100 dark:bg-purple-900/30"},{label:"Foodie",color:"text-orange-600 dark:text-orange-400",bgColor:"bg-orange-100 dark:bg-orange-900/30"}],status:"Busy",tip:"AI-powered itineraries save 15+ hours of planning and find 30% more hidden gems than manual research.",activeCount:247,isHot:!0},{icon:Qt,label:"Weddings",description:"Plan the perfect day",image:"https://images.unsplash.com/photo-1519741497674-611481863552?w=600&q=80",trending:74,expertRates:"$85-150/hr",hiddenGems:67,slug:"wedding",color:"text-pink-500",bgColor:"bg-pink-500",categories:[{label:"Romantic",color:"text-rose-600 dark:text-rose-400",bgColor:"bg-rose-100 dark:bg-rose-900/30"},{label:"Luxury",color:"text-purple-600 dark:text-purple-400",bgColor:"bg-purple-100 dark:bg-purple-900/30"},{label:"Planning",color:"text-blue-600 dark:text-blue-400",bgColor:"bg-blue-100 dark:bg-blue-900/30"}],status:"Busy",tip:"Expert wedding planners negotiate vendor rates, saving couples $3,200 on average vs. booking directly.",activeCount:156,isHot:!0},{icon:cr,label:"Proposals",description:"Make it unforgettable",image:"https://images.unsplash.com/photo-1515934751635-c81c6bc9a2d8?w=600&q=80",trending:68,expertRates:"$500-2,500",hiddenGems:89,slug:"proposal",color:"text-purple-500",bgColor:"bg-purple-500",categories:[{label:"Romantic",color:"text-rose-600 dark:text-rose-400",bgColor:"bg-rose-100 dark:bg-rose-900/30"},{label:"Surprise",color:"text-fuchsia-600 dark:text-fuchsia-400",bgColor:"bg-fuchsia-100 dark:bg-fuchsia-900/30"},{label:"Luxury",color:"text-purple-600 dark:text-purple-400",bgColor:"bg-purple-100 dark:bg-purple-900/30"}],status:"Moderate",tip:"Local experts coordinate photographers, venues, and backups ensuring every detail is perfect on your big moment.",activeCount:45,isHot:!0},{icon:ya,label:"Celebrations",description:"Mark special moments",image:"https://images.unsplash.com/photo-1533174072545-7a4b6ad7a6c3?w=600&q=80",trending:62,expertRates:"$200-1,500",hiddenGems:134,slug:"celebrations",color:"text-orange-500",bgColor:"bg-orange-500",categories:[{label:"Party",color:"text-pink-600 dark:text-pink-400",bgColor:"bg-pink-100 dark:bg-pink-900/30"},{label:"Fun",color:"text-amber-600 dark:text-amber-400",bgColor:"bg-amber-100 dark:bg-amber-900/30"},{label:"Social",color:"text-indigo-600 dark:text-indigo-400",bgColor:"bg-indigo-100 dark:bg-indigo-900/30"}],status:"Busy",tip:"Group celebration experts know the best private venues, activities, and packages for milestone events.",activeCount:189,isHot:!0},{icon:qe,label:"Date Nights",description:"Plan something special",image:"https://images.unsplash.com/photo-1514525253161-7a46d19cd819?w=600&q=80",trending:81,expertRates:"$50-300",hiddenGems:289,slug:"date-night",color:"text-red-500",bgColor:"bg-red-500",categories:[{label:"Romantic",color:"text-rose-600 dark:text-rose-400",bgColor:"bg-rose-100 dark:bg-rose-900/30"},{label:"Foodie",color:"text-orange-600 dark:text-orange-400",bgColor:"bg-orange-100 dark:bg-orange-900/30"},{label:"Fun",color:"text-amber-600 dark:text-amber-400",bgColor:"bg-amber-100 dark:bg-amber-900/30"}],status:"Moderate",tip:"Get insider access to reservation-only spots and surprise experiences that make dates unforgettable.",activeCount:312,isHot:!0},{icon:va,label:"Corporate",description:"Team building & events",image:"https://images.unsplash.com/photo-1515187029135-18ee286d815b?w=600&q=80",trending:52,expertRates:"Custom quote",hiddenGems:45,slug:"corporate-events",color:"text-slate-600 dark:text-slate-400",bgColor:"bg-slate-600",categories:[{label:"Business",color:"text-slate-600 dark:text-slate-400",bgColor:"bg-slate-100 dark:bg-slate-900/30"},{label:"Team Building",color:"text-blue-600 dark:text-blue-400",bgColor:"bg-blue-100 dark:bg-blue-900/30"},{label:"Networking",color:"text-indigo-600 dark:text-indigo-400",bgColor:"bg-indigo-100 dark:bg-indigo-900/30"}],status:"Moderate",tip:"Corporate event specialists handle venue sourcing, catering coordination, and team activities from start to finish.",activeCount:78}],UQ=[{step:1,title:"Share Your Vision",description:"Tell us about your dream experience  destination, dates, budget, and preferences.",icon:Qt,color:"from-[#FF385C] to-[#FF6B6B]"},{step:2,title:"Get Matched",description:"Our AI matches you with verified local experts who specialize in your experience type.",icon:et,color:"from-emerald-500 to-teal-500"},{step:3,title:"Plan Together",description:"Collaborate with your expert using AI tools, real-time intel, and insider knowledge.",icon:qe,color:"from-violet-500 to-purple-500"},{step:4,title:"Experience It",description:"Enjoy your perfectly planned experience with on-trip support when you need it.",icon:rt,color:"from-amber-500 to-orange-500"}],qQ=[{value:"8M+",label:"Trips Planned",description:"Join the millions who've seamlessly planned their journeysfrom weekend getaways to month-long adventures.",icon:Me,color:"text-[#FF385C]"},{value:"500K+",label:"Custom Itineraries",description:"Unique, tailored itineraries built using real-time preferencesno two plans are the same.",icon:Ge,color:"text-emerald-500"},{value:"$500+",label:"Average Savings",description:"AI-route optimization and bundled planning reduce spend dramatically on multi-destination travel.",icon:qa,color:"text-violet-500"},{value:"33K+",label:"5-Star Reviews",description:"With tens of thousands of 5-star reviews, our platform is trusted by travelers worldwide.",icon:rt,color:"text-amber-500"}],HQ=[{text:"Sofia helped us navigate Porto wine country and saved us $2,400 on venue negotiations. Her local connections got us exclusive tastings we never could have found ourselves!",author:"Sarah Johnson",location:"New York, USA",rating:5,avatar:"SJ",destination:"Porto, Portugal",tripType:"Anniversary Trip",expertName:"Sofia Costa",expertHeatScore:92,valueSaved:"$2,400",expertRate:"$65/hr",tripImage:"https://images.unsplash.com/photo-1555881400-74d7acaacd8b?w=400&q=80"},{text:"Hiroshi's insider knowledge of Kyoto transformed our cherry blossom trip. We visited secret gardens at sunrise before any tourists arrived. Truly magical!",author:"David Chen",location:"Toronto, Canada",rating:5,avatar:"DC",destination:"Kyoto, Japan",tripType:"Cultural Travel",expertName:"Hiroshi Tanaka",expertHeatScore:94,valueSaved:"$1,800",expertRate:"$120/hr",tripImage:"https://images.unsplash.com/photo-1493976040374-85c8e12f0c0e?w=400&q=80"},{text:"Priya made our Mumbai wedding seamless. She coordinated 12 vendors, saved us 3 weeks of planning, and the ceremony was absolutely perfect. Worth every penny!",author:"Maria Rodriguez",location:"Madrid, Spain",rating:5,avatar:"MR",destination:"Mumbai, India",tripType:"Wedding Planning",expertName:"Priya Sharma",expertHeatScore:96,valueSaved:"$3,200",expertRate:"$85/hr",tripImage:"https://images.unsplash.com/photo-1529253355930-ddbe423a2ac7?w=400&q=80"}];function WQ(){return e.jsxs("div",{className:"flex flex-col min-h-screen bg-background",children:[e.jsx(PQ,{}),e.jsxs("section",{className:"relative min-h-[650px] lg:min-h-[750px] flex items-center",style:{backgroundImage:`url(${qf})`,backgroundSize:"cover",backgroundPosition:"center"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/80 via-black/60 to-black/40"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 via-transparent to-transparent"}),e.jsxs("div",{className:"container mx-auto px-4 max-w-6xl relative z-10 py-12",children:[e.jsxs(He.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-12",children:[e.jsxs(He.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2},className:"inline-flex items-center gap-2 bg-white/15 backdrop-blur-md text-white px-4 py-2 rounded-full text-sm font-medium mb-6 border border-white/20",children:[e.jsx(If,{className:"w-4 h-4 text-[#FF385C]"}),e.jsx("span",{children:"BETA VERSION"}),e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-400 animate-pulse"})]}),e.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-white leading-[1.1] tracking-tight mb-6",children:["Plan Your Perfect",e.jsx("br",{}),e.jsx("span",{className:"bg-gradient-to-r from-[#FF385C] via-[#FF6B6B] to-[#FF8E53] bg-clip-text text-transparent",children:"Life Experiences"})]}),e.jsx("p",{className:"text-lg md:text-xl text-white/90 leading-relaxed max-w-2xl mx-auto",children:"From dream vacations to unforgettable celebrations  plan it yourself with AI or get personalized help from experts."})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 max-w-5xl mx-auto",children:[e.jsx(He.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{duration:.6,delay:.3},children:e.jsx(P,{className:"bg-white/10 backdrop-blur-lg border-white/20 h-full shadow-2xl",children:e.jsxs(F,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-5",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-[#FF385C] to-[#FF8E53] flex items-center justify-center shadow-lg",children:e.jsx(qe,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"Choose Your Experience"}),e.jsx("p",{className:"text-sm text-white/70",children:"Start planning with our templates"})]})]}),e.jsx("div",{className:"flex flex-wrap gap-2 max-h-[320px] overflow-y-auto pr-1 scrollbar-thin",children:BQ.map((t,s)=>e.jsx(He.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.4+s*.02},children:e.jsx(Ce,{href:`/experiences/${t.slug}`,children:e.jsxs(S,{size:"sm",variant:"outline",className:"bg-white/10 border-white/30 text-white gap-1.5 text-xs","data-testid":`button-category-${t.slug}`,children:[e.jsx(t.icon,{className:te("w-3.5 h-3.5",t.color)}),t.label]})})},t.label))})]})})}),e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsx(He.div,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:{duration:.6,delay:.4},children:e.jsxs(P,{className:"bg-white/10 backdrop-blur-lg border-white/20 shadow-2xl overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-bl from-emerald-500/20 to-transparent rounded-bl-full"}),e.jsxs(F,{className:"p-5 relative",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-11 h-11 rounded-xl bg-gradient-to-br from-emerald-500 to-teal-500 flex items-center justify-center shadow-lg",children:e.jsx(wn,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-white",children:"Plan with an Expert"}),e.jsx("p",{className:"text-xs text-white/70",children:"Get personalized guidance from locals"})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-x-4 gap-y-2 mb-4",children:[e.jsxs("span",{className:"flex items-center gap-1.5 text-xs text-white/90 bg-white/10 px-2.5 py-1 rounded-full",children:[e.jsx(qe,{className:"w-3 h-3 text-emerald-400"})," Local tips"]}),e.jsxs("span",{className:"flex items-center gap-1.5 text-xs text-white/90 bg-white/10 px-2.5 py-1 rounded-full",children:[e.jsx(rt,{className:"w-3 h-3 text-emerald-400"})," Personal support"]}),e.jsxs("span",{className:"flex items-center gap-1.5 text-xs text-white/90 bg-white/10 px-2.5 py-1 rounded-full",children:[e.jsx(sr,{className:"w-3 h-3 text-emerald-400"})," Verified experts"]})]}),e.jsx(Ce,{href:"/experts",children:e.jsxs(S,{size:"default",className:"w-full bg-gradient-to-r from-emerald-500 to-teal-500 text-white font-semibold shadow-lg","data-testid":"button-find-expert",children:["Find an Expert ",e.jsx(Kt,{className:"w-4 h-4 ml-2"})]})})]})]})}),e.jsx(He.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.5},className:"grid grid-cols-2 gap-3",children:zQ.map((t,s)=>e.jsx(He.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.6+s*.1},children:e.jsx(Ce,{href:t.href,children:e.jsxs("div",{className:"bg-white/10 backdrop-blur-md border border-white/20 rounded-xl p-4 hover-elevate cursor-pointer group h-full","data-testid":`link-feature-${t.label.toLowerCase().replace(/\s+/g,"-")}`,children:[e.jsx("div",{className:te("w-9 h-9 rounded-lg bg-gradient-to-br flex items-center justify-center mb-2 shadow-md",t.gradient),children:e.jsx(t.icon,{className:"w-4 h-4 text-white"})}),e.jsx("span",{className:"text-sm font-semibold text-white block mb-1",children:t.label}),e.jsx("p",{className:"text-xs text-white/70 line-clamp-2",children:t.description})]})})},t.label))})]})]})]})]}),e.jsx(MQ,{}),e.jsx("section",{className:"py-16 lg:py-20 bg-card dark:bg-card",children:e.jsxs("div",{className:"container mx-auto px-4 max-w-6xl",children:[e.jsxs(He.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"mb-12",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-[#FF385C] flex items-center justify-center",children:e.jsx(qe,{className:"w-5 h-5 text-white"})}),e.jsxs("h2",{className:"text-3xl md:text-4xl font-bold text-foreground",children:["Popular ",e.jsx("span",{className:"text-[#FF385C]",children:"Experiences"})]})]}),e.jsx("p",{className:"text-muted-foreground max-w-xl",children:"Browse our most popular experience categories with expert guidance and AI-powered planning"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:VQ.map((t,s)=>e.jsx(LQ,{...t,delay:s*.05},t.slug))})]})}),e.jsx("section",{className:"py-16 lg:py-20 bg-card dark:bg-card",children:e.jsxs("div",{className:"container mx-auto px-4 max-w-5xl",children:[e.jsxs(He.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-12",children:[e.jsxs("h2",{className:"text-3xl md:text-4xl font-bold text-foreground mb-3",children:["How It ",e.jsx("span",{className:"text-[#FF385C]",children:"Works"})]}),e.jsx("p",{className:"text-muted-foreground max-w-xl mx-auto",children:"From dream to reality in four simple steps"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 relative",children:[e.jsx("div",{className:"hidden lg:block absolute top-16 left-[12%] right-[12%] h-0.5 bg-gradient-to-r from-[#FF385C] via-emerald-500 via-violet-500 to-amber-500 opacity-30"}),UQ.map((t,s)=>e.jsx(He.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:s*.15},className:"relative",children:e.jsx(P,{className:"h-full border border-border bg-background dark:bg-muted/50 shadow-card hover:shadow-card-hover transition-all duration-300 text-center","data-testid":`card-step-${t.step}`,children:e.jsxs(F,{className:"p-6",children:[e.jsx("div",{className:te("w-14 h-14 rounded-2xl bg-gradient-to-br flex items-center justify-center mx-auto mb-4 shadow-lg",t.color),children:e.jsx(t.icon,{className:"w-7 h-7 text-white"})}),e.jsx("div",{className:"w-8 h-8 rounded-full bg-muted flex items-center justify-center mx-auto mb-3 text-sm font-bold text-muted-foreground",children:t.step}),e.jsx("h3",{className:"text-lg font-bold text-foreground mb-2",children:t.title}),e.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:t.description})]})})},t.step))]}),e.jsx(He.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mt-10",children:e.jsx(Ce,{href:"/ai-assistant",children:e.jsxs(S,{size:"lg",className:"bg-[#FF385C] text-white font-semibold px-8","data-testid":"button-get-started-how",children:["Get Started ",e.jsx(Kt,{className:"w-4 h-4 ml-2"})]})})})]})}),e.jsx("section",{className:"py-16 lg:py-20 bg-muted dark:bg-background",children:e.jsxs("div",{className:"container mx-auto px-4 max-w-6xl",children:[e.jsxs(He.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"mb-12",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-[#FF385C] flex items-center justify-center",children:e.jsx(Ai,{className:"w-5 h-5 text-white"})}),e.jsxs("h2",{className:"text-3xl md:text-4xl font-bold text-foreground",children:["Platform ",e.jsx("span",{className:"text-[#FF385C]",children:"Intelligence"})]}),e.jsxs("span",{className:"ml-2 flex items-center gap-1.5 px-2.5 py-1 rounded-full bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400 text-xs font-medium",children:[e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-500 animate-pulse"}),"Live"]})]}),e.jsx("p",{className:"text-muted-foreground max-w-xl",children:"Real-time collective intelligence from travelers worldwide"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:qQ.map((t,s)=>e.jsx($Q,{...t,delay:s*.1},t.label))})]})}),e.jsx("section",{className:"py-16 lg:py-20 bg-card dark:bg-card",children:e.jsxs("div",{className:"container mx-auto px-4 max-w-6xl",children:[e.jsxs(He.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"mb-12",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-emerald-500 flex items-center justify-center",children:e.jsx(jr,{className:"w-5 h-5 text-white"})}),e.jsxs("h2",{className:"text-3xl md:text-4xl font-bold text-foreground",children:["Success ",e.jsx("span",{className:"text-emerald-500",children:"Stories"})]})]}),e.jsxs("p",{className:"text-muted-foreground",children:["Real results from ",e.jsx("span",{className:"font-semibold text-foreground",children:"102,530+"})," travelers worldwide"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:HQ.map((t,s)=>e.jsx(OQ,{...t,delay:s*.1},t.author))}),e.jsxs(He.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"mt-10 grid grid-cols-2 md:grid-cols-4 gap-4 p-6 bg-muted dark:bg-muted/50 rounded-2xl","data-testid":"platform-stats-bar",children:[e.jsxs("div",{className:"text-center","data-testid":"stat-avg-rating",children:[e.jsx("p",{className:"text-2xl font-bold text-[#FF385C]",children:"4.9/5"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Average Rating"})]}),e.jsxs("div",{className:"text-center","data-testid":"stat-reviews",children:[e.jsx("p",{className:"text-2xl font-bold text-foreground",children:"50K+"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Reviews"})]}),e.jsxs("div",{className:"text-center","data-testid":"stat-recommend",children:[e.jsx("p",{className:"text-2xl font-bold text-emerald-500 dark:text-emerald-400",children:"98%"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Would Recommend"})]}),e.jsxs("div",{className:"text-center","data-testid":"stat-travelers",children:[e.jsx("p",{className:"text-2xl font-bold text-foreground",children:"2M+"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Happy Travelers"})]})]})]})}),e.jsxs("section",{className:"py-16 lg:py-24 bg-gradient-to-br from-[#FF385C] via-[#FF5A5F] to-[#FF8E53] text-white relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGQ9Ik0zNiAxOGMtOS45NDEgMC0xOCA4LjA1OS0xOCAxOHM4LjA1OSAxOCAxOCAxOCAxOC04LjA1OSAxOC0xOC04LjA1OS0xOC0xOC0xOHptMCAzMmMtNy43MzIgMC0xNC02LjI2OC0xNC0xNHM2LjI2OC0xNCAxNC0xNCAxNCA2LjI2OCAxNCAxNC02LjI2OCAxNC0xNCAxNHoiIGZpbGw9IiNmZmYiIGZpbGwtb3BhY2l0eT0iLjA1Ii8+PC9nPjwvc3ZnPg==')] opacity-30"}),e.jsx("div",{className:"container mx-auto px-4 max-w-4xl text-center relative",children:e.jsxs(He.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},children:[e.jsx("h2",{className:"text-3xl md:text-5xl font-bold mb-4",children:"Ready To Plan Your Experience?"}),e.jsx("p",{className:"text-lg md:text-xl text-white/90 mb-8 max-w-xl mx-auto",children:"Join thousands who've planned unforgettable trips with local experts and AI"}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[e.jsx("a",{href:"/api/login","data-testid":"link-cta-get-started",children:e.jsxs(S,{size:"lg",className:"bg-white text-[#FF385C] font-semibold px-8 h-12 shadow-xl","data-testid":"button-cta-get-started",children:["Get Started - Free",e.jsx($s,{className:"w-4 h-4 ml-1"})]})}),e.jsx(Ce,{href:"/experts",children:e.jsx(S,{size:"lg",variant:"outline",className:"border-2 border-white text-white font-medium px-8 h-12 backdrop-blur-sm","data-testid":"button-cta-browse",children:"Browse Experts"})}),e.jsx(Ce,{href:"/pricing",children:e.jsx(S,{size:"lg",variant:"outline",className:"border-2 border-white text-white font-medium px-8 h-12 backdrop-blur-sm","data-testid":"button-cta-pricing",children:"See Pricing"})})]})]})})]})]})}const Tj=[{icon:Pt,label:"Travel",slug:"travel",color:"text-blue-500",bgColor:"bg-blue-500/10"},{icon:Qt,label:"Wedding",slug:"wedding",color:"text-pink-500",bgColor:"bg-pink-500/10"},{icon:cr,label:"Proposal",slug:"proposal",color:"text-purple-500",bgColor:"bg-purple-500/10"},{icon:qe,label:"Date Night",slug:"date-night",color:"text-red-500",bgColor:"bg-red-500/10"},{icon:$u,label:"Birthday",slug:"birthday",color:"text-orange-500",bgColor:"bg-orange-500/10"},{icon:ya,label:"Bachelor/Bachelorette",slug:"bachelor-bachelorette",color:"text-pink-600",bgColor:"bg-pink-600/10"},{icon:rw,label:"Anniversary",slug:"anniversary-trip",color:"text-rose-600",bgColor:"bg-rose-600/10"},{icon:va,label:"Corporate",slug:"corporate-events",color:"text-slate-600",bgColor:"bg-slate-600/10"},{icon:et,label:"Reunions",slug:"reunions",color:"text-indigo-500",bgColor:"bg-indigo-500/10"},{icon:ld,label:"Retreats",slug:"retreats",color:"text-emerald-500",bgColor:"bg-emerald-500/10"},{icon:uc,label:"Baby Shower",slug:"baby-shower",color:"text-sky-400",bgColor:"bg-sky-400/10"},{icon:s0,label:"Graduation",slug:"graduation-party",color:"text-amber-500",bgColor:"bg-amber-500/10"}];function GQ(){return e.jsxs("div",{className:"flex flex-col min-h-screen bg-[#F9FAFB]",children:[e.jsxs("div",{className:"bg-gray-900 text-white py-4 px-6 text-center",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Landing Page Hero Mockups"}),e.jsx("p",{className:"text-gray-300 mt-1",children:"Scroll down to see all three options"})]}),e.jsxs("section",{className:"border-b-8 border-amber-500",children:[e.jsxs("div",{className:"bg-amber-500 text-white py-3 px-6",children:[e.jsx("h2",{className:"text-xl font-bold",children:"OPTION A: Split Hero Layout"}),e.jsx("p",{className:"text-amber-100",children:"Content on left, experience grid on right"})]}),e.jsxs("div",{className:"relative min-h-[650px] flex items-center",style:{backgroundImage:`url(${qf})`,backgroundSize:"cover",backgroundPosition:"center"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/80 via-black/60 to-black/40"}),e.jsx("div",{className:"container mx-auto px-6 max-w-7xl relative z-10",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[e.jsxs(He.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},children:[e.jsxs("div",{className:"inline-flex items-center gap-2 bg-white/20 backdrop-blur-sm text-white px-3 py-1.5 rounded-full text-sm font-medium mb-6",children:[e.jsx(If,{className:"w-4 h-4"}),"BETA VERSION"]}),e.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-white leading-[1.1] tracking-tight mb-6",children:["Plan Your Perfect",e.jsx("br",{}),e.jsx("span",{className:"text-[#FF385C]",children:"Life Experiences"})]}),e.jsx("p",{className:"text-lg text-white/90 leading-relaxed mb-8 max-w-lg",children:"From dream vacations to unforgettable celebrations  plan it yourself with AI or get personalized help from experts."}),e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsxs(S,{size:"lg",className:"bg-[#FF385C] hover:bg-[#E23350] text-white font-semibold px-8",children:[e.jsx(os,{className:"w-5 h-5 mr-2"}),"Start with AI"]}),e.jsxs(S,{size:"lg",variant:"outline",className:"border-white/40 text-white hover:bg-white/10 backdrop-blur-sm font-semibold px-8",children:[e.jsx(wn,{className:"w-5 h-5 mr-2"}),"Find an Expert"]})]})]}),e.jsxs(He.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},className:"bg-white/10 backdrop-blur-md rounded-2xl p-6 border border-white/20",children:[e.jsx("h3",{className:"text-white font-semibold mb-4 text-lg",children:"What are you planning?"}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:Tj.map(t=>e.jsxs("button",{className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-white/10 hover:bg-white/20 transition-all border border-white/10 hover:border-white/30 group",children:[e.jsx("div",{className:te("w-10 h-10 rounded-full flex items-center justify-center",t.bgColor),children:e.jsx(t.icon,{className:te("w-5 h-5",t.color)})}),e.jsx("span",{className:"text-white text-xs font-medium text-center",children:t.label})]},t.slug))})]})]})})]})]}),e.jsxs("section",{className:"border-b-8 border-emerald-500",children:[e.jsxs("div",{className:"bg-emerald-500 text-white py-3 px-6",children:[e.jsx("h2",{className:"text-xl font-bold",children:"OPTION B: Centered Flow with Prominent Experience Selector"}),e.jsx("p",{className:"text-emerald-100",children:"Everything centered, experiences as main focus"})]}),e.jsxs("div",{className:"relative min-h-[700px] flex items-center",style:{backgroundImage:`url(${qf})`,backgroundSize:"cover",backgroundPosition:"center"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/70 via-black/50 to-black/70"}),e.jsx("div",{className:"container mx-auto px-6 max-w-5xl relative z-10",children:e.jsxs(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 bg-white/20 backdrop-blur-sm text-white px-3 py-1.5 rounded-full text-sm font-medium mb-6",children:[e.jsx(If,{className:"w-4 h-4"}),"BETA VERSION"]}),e.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-white leading-[1.1] tracking-tight mb-4",children:["What's Your Next",e.jsx("br",{}),e.jsx("span",{className:"text-[#FF385C]",children:"Adventure?"})]}),e.jsx("p",{className:"text-lg text-white/90 leading-relaxed max-w-2xl mx-auto mb-10",children:"Choose your experience and let AI or local experts help you plan"}),e.jsx("div",{className:"grid grid-cols-4 md:grid-cols-6 gap-4 mb-10 max-w-4xl mx-auto",children:Tj.map(t=>e.jsxs("button",{className:"flex flex-col items-center gap-3 p-4 rounded-2xl bg-white/95 hover:bg-white transition-all shadow-lg hover:shadow-xl hover:scale-105 group",children:[e.jsx("div",{className:te("w-12 h-12 rounded-full flex items-center justify-center",t.bgColor),children:e.jsx(t.icon,{className:te("w-6 h-6",t.color)})}),e.jsx("span",{className:"text-gray-800 text-xs font-semibold text-center",children:t.label})]},t.slug))}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[e.jsxs(S,{size:"lg",className:"bg-[#FF385C] hover:bg-[#E23350] text-white font-semibold px-8",children:[e.jsx(os,{className:"w-5 h-5 mr-2"}),"Plan with AI",e.jsx(Kt,{className:"w-4 h-4 ml-2"})]}),e.jsxs(S,{size:"lg",className:"bg-emerald-500 hover:bg-emerald-600 text-white font-semibold px-8",children:[e.jsx(wn,{className:"w-5 h-5 mr-2"}),"Talk to an Expert",e.jsx(Kt,{className:"w-4 h-4 ml-2"})]})]})]})})]})]}),e.jsxs("section",{children:[e.jsxs("div",{className:"bg-purple-600 text-white py-3 px-6",children:[e.jsx("h2",{className:"text-xl font-bold",children:"OPTION C: Full-Width Experience Showcase"}),e.jsx("p",{className:"text-purple-200",children:"Horizontal carousel with larger visual tiles"})]}),e.jsxs("div",{className:"relative min-h-[700px] flex flex-col justify-center",style:{backgroundImage:`url(${qf})`,backgroundSize:"cover",backgroundPosition:"center"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/60 via-black/40 to-black/80"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("div",{className:"text-center px-6 mb-8",children:e.jsxs(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[e.jsxs("div",{className:"inline-flex items-center gap-2 bg-white/20 backdrop-blur-sm text-white px-3 py-1.5 rounded-full text-sm font-medium mb-4",children:[e.jsx(If,{className:"w-4 h-4"}),"BETA VERSION"]}),e.jsxs("h1",{className:"text-4xl md:text-5xl font-bold text-white leading-[1.1] tracking-tight mb-3",children:["Plan Unforgettable ",e.jsx("span",{className:"text-[#FF385C]",children:"Experiences"})]}),e.jsx("p",{className:"text-lg text-white/90 max-w-xl mx-auto",children:"Pick an experience to get started"})]})}),e.jsx("div",{className:"overflow-x-auto pb-4 px-6",children:e.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"flex gap-4 min-w-max mx-auto justify-center",children:Tj.map(t=>e.jsxs("button",{className:"flex flex-col items-center gap-3 p-6 rounded-2xl bg-white/95 hover:bg-white transition-all shadow-xl hover:shadow-2xl hover:scale-105 min-w-[140px] group",children:[e.jsx("div",{className:te("w-16 h-16 rounded-2xl flex items-center justify-center",t.bgColor),children:e.jsx(t.icon,{className:te("w-8 h-8",t.color)})}),e.jsx("span",{className:"text-gray-800 text-sm font-bold text-center",children:t.label}),e.jsx($s,{className:"w-4 h-4 text-gray-400 group-hover:text-[#FF385C] transition-colors"})]},t.slug))})}),e.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"mt-8 px-6",children:e.jsx("div",{className:"max-w-3xl mx-auto bg-white/10 backdrop-blur-md rounded-2xl p-4 border border-white/20",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 text-white",children:[e.jsx(os,{className:"w-6 h-6 text-[#FF385C]"}),e.jsx("span",{className:"font-medium",children:"Plan with AI"})]}),e.jsx("div",{className:"hidden md:block w-px h-8 bg-white/30"}),e.jsx("div",{className:"text-white/60",children:"or"}),e.jsx("div",{className:"hidden md:block w-px h-8 bg-white/30"}),e.jsxs("div",{className:"flex items-center gap-3 text-white",children:[e.jsx(wn,{className:"w-6 h-6 text-emerald-400"}),e.jsx("span",{className:"font-medium",children:"Get Expert Help"})]})]})})})]})]})]}),e.jsxs("div",{className:"bg-gray-900 text-white py-6 px-6 text-center sticky bottom-0",children:[e.jsx("p",{className:"text-gray-300 mb-4",children:"Which layout do you prefer?"}),e.jsxs("div",{className:"flex justify-center gap-4 flex-wrap",children:[e.jsx("span",{className:"px-4 py-2 bg-amber-500 rounded-lg font-bold",children:"A: Split"}),e.jsx("span",{className:"px-4 py-2 bg-emerald-500 rounded-lg font-bold",children:"B: Centered"}),e.jsx("span",{className:"px-4 py-2 bg-purple-600 rounded-lg font-bold",children:"C: Carousel"})]}),e.jsx(Ce,{href:"/",children:e.jsx(S,{variant:"outline",className:"mt-4 border-gray-600 text-gray-300 hover:bg-gray-800",children:"Back to Current Landing Page"})})]})]})}var Ps;(function(t){t.assertEqual=n=>{};function s(n){}t.assertIs=s;function a(n){throw new Error}t.assertNever=a,t.arrayToEnum=n=>{const i={};for(const l of n)i[l]=l;return i},t.getValidEnumValues=n=>{const i=t.objectKeys(n).filter(c=>typeof n[n[c]]!="number"),l={};for(const c of i)l[c]=n[c];return t.objectValues(l)},t.objectValues=n=>t.objectKeys(n).map(function(i){return n[i]}),t.objectKeys=typeof Object.keys=="function"?n=>Object.keys(n):n=>{const i=[];for(const l in n)Object.prototype.hasOwnProperty.call(n,l)&&i.push(l);return i},t.find=(n,i)=>{for(const l of n)if(i(l))return l},t.isInteger=typeof Number.isInteger=="function"?n=>Number.isInteger(n):n=>typeof n=="number"&&Number.isFinite(n)&&Math.floor(n)===n;function r(n,i=" | "){return n.map(l=>typeof l=="string"?`'${l}'`:l).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(n,i)=>typeof i=="bigint"?i.toString():i})(Ps||(Ps={}));var cN;(function(t){t.mergeShapes=(s,a)=>({...s,...a})})(cN||(cN={}));const yt=Ps.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),no=t=>{switch(typeof t){case"undefined":return yt.undefined;case"string":return yt.string;case"number":return Number.isNaN(t)?yt.nan:yt.number;case"boolean":return yt.boolean;case"function":return yt.function;case"bigint":return yt.bigint;case"symbol":return yt.symbol;case"object":return Array.isArray(t)?yt.array:t===null?yt.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?yt.promise:typeof Map<"u"&&t instanceof Map?yt.map:typeof Set<"u"&&t instanceof Set?yt.set:typeof Date<"u"&&t instanceof Date?yt.date:yt.object;default:return yt.unknown}},tt=Ps.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),KQ=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class ui extends Error{get errors(){return this.issues}constructor(s){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const a=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,a):this.__proto__=a,this.name="ZodError",this.issues=s}format(s){const a=s||function(i){return i.message},r={_errors:[]},n=i=>{for(const l of i.issues)if(l.code==="invalid_union")l.unionErrors.map(n);else if(l.code==="invalid_return_type")n(l.returnTypeError);else if(l.code==="invalid_arguments")n(l.argumentsError);else if(l.path.length===0)r._errors.push(a(l));else{let c=r,u=0;for(;u<l.path.length;){const m=l.path[u];u===l.path.length-1?(c[m]=c[m]||{_errors:[]},c[m]._errors.push(a(l))):c[m]=c[m]||{_errors:[]},c=c[m],u++}}};return n(this),r}static assert(s){if(!(s instanceof ui))throw new Error(`Not a ZodError: ${s}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ps.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(s=a=>a.message){const a={},r=[];for(const n of this.issues)if(n.path.length>0){const i=n.path[0];a[i]=a[i]||[],a[i].push(s(n))}else r.push(s(n));return{formErrors:r,fieldErrors:a}}get formErrors(){return this.flatten()}}ui.create=t=>new ui(t);const am=(t,s)=>{let a;switch(t.code){case tt.invalid_type:t.received===yt.undefined?a="Required":a=`Expected ${t.expected}, received ${t.received}`;break;case tt.invalid_literal:a=`Invalid literal value, expected ${JSON.stringify(t.expected,Ps.jsonStringifyReplacer)}`;break;case tt.unrecognized_keys:a=`Unrecognized key(s) in object: ${Ps.joinValues(t.keys,", ")}`;break;case tt.invalid_union:a="Invalid input";break;case tt.invalid_union_discriminator:a=`Invalid discriminator value. Expected ${Ps.joinValues(t.options)}`;break;case tt.invalid_enum_value:a=`Invalid enum value. Expected ${Ps.joinValues(t.options)}, received '${t.received}'`;break;case tt.invalid_arguments:a="Invalid function arguments";break;case tt.invalid_return_type:a="Invalid function return type";break;case tt.invalid_date:a="Invalid date";break;case tt.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(a=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(a=`${a} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?a=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?a=`Invalid input: must end with "${t.validation.endsWith}"`:Ps.assertNever(t.validation):t.validation!=="regex"?a=`Invalid ${t.validation}`:a="Invalid";break;case tt.too_small:t.type==="array"?a=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?a=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?a=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?a=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?a=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:a="Invalid input";break;case tt.too_big:t.type==="array"?a=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?a=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?a=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?a=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?a=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:a="Invalid input";break;case tt.custom:a="Invalid input";break;case tt.invalid_intersection_types:a="Intersection results could not be merged";break;case tt.not_multiple_of:a=`Number must be a multiple of ${t.multipleOf}`;break;case tt.not_finite:a="Number must be finite";break;default:a=s.defaultError,Ps.assertNever(t)}return{message:a}};let J6=am;function YQ(t){J6=t}function Cg(){return J6}const Sg=t=>{const{data:s,path:a,errorMaps:r,issueData:n}=t,i=[...a,...n.path||[]],l={...n,path:i};if(n.message!==void 0)return{...n,path:i,message:n.message};let c="";const u=r.filter(m=>!!m).slice().reverse();for(const m of u)c=m(l,{data:s,defaultError:c}).message;return{...n,path:i,message:c}},QQ=[];function mt(t,s){const a=Cg(),r=Sg({issueData:s,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,a,a===am?void 0:am].filter(n=>!!n)});t.common.issues.push(r)}class cn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(s,a){const r=[];for(const n of a){if(n.status==="aborted")return Jt;n.status==="dirty"&&s.dirty(),r.push(n.value)}return{status:s.value,value:r}}static async mergeObjectAsync(s,a){const r=[];for(const n of a){const i=await n.key,l=await n.value;r.push({key:i,value:l})}return cn.mergeObjectSync(s,r)}static mergeObjectSync(s,a){const r={};for(const n of a){const{key:i,value:l}=n;if(i.status==="aborted"||l.status==="aborted")return Jt;i.status==="dirty"&&s.dirty(),l.status==="dirty"&&s.dirty(),i.value!=="__proto__"&&(typeof l.value<"u"||n.alwaysSet)&&(r[i.value]=l.value)}return{status:s.value,value:r}}}const Jt=Object.freeze({status:"aborted"}),Cu=t=>({status:"dirty",value:t}),Sn=t=>({status:"valid",value:t}),dN=t=>t.status==="aborted",uN=t=>t.status==="dirty",ud=t=>t.status==="valid",Gh=t=>typeof Promise<"u"&&t instanceof Promise;var It;(function(t){t.errToObj=s=>typeof s=="string"?{message:s}:s||{},t.toString=s=>typeof s=="string"?s:s?.message})(It||(It={}));class Ll{constructor(s,a,r,n){this._cachedPath=[],this.parent=s,this.data=a,this._path=r,this._key=n}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const I5=(t,s)=>{if(ud(s))return{success:!0,data:s.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const a=new ui(t.common.issues);return this._error=a,this._error}}};function ds(t){if(!t)return{};const{errorMap:s,invalid_type_error:a,required_error:r,description:n}=t;if(s&&(a||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return s?{errorMap:s,description:n}:{errorMap:(l,c)=>{const{message:u}=t;return l.code==="invalid_enum_value"?{message:u??c.defaultError}:typeof c.data>"u"?{message:u??r??c.defaultError}:l.code!=="invalid_type"?{message:c.defaultError}:{message:u??a??c.defaultError}},description:n}}class fs{get description(){return this._def.description}_getType(s){return no(s.data)}_getOrReturnCtx(s,a){return a||{common:s.parent.common,data:s.data,parsedType:no(s.data),schemaErrorMap:this._def.errorMap,path:s.path,parent:s.parent}}_processInputParams(s){return{status:new cn,ctx:{common:s.parent.common,data:s.data,parsedType:no(s.data),schemaErrorMap:this._def.errorMap,path:s.path,parent:s.parent}}}_parseSync(s){const a=this._parse(s);if(Gh(a))throw new Error("Synchronous parse encountered promise.");return a}_parseAsync(s){const a=this._parse(s);return Promise.resolve(a)}parse(s,a){const r=this.safeParse(s,a);if(r.success)return r.data;throw r.error}safeParse(s,a){const r={common:{issues:[],async:a?.async??!1,contextualErrorMap:a?.errorMap},path:a?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:s,parsedType:no(s)},n=this._parseSync({data:s,path:r.path,parent:r});return I5(r,n)}"~validate"(s){const a={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:s,parsedType:no(s)};if(!this["~standard"].async)try{const r=this._parseSync({data:s,path:[],parent:a});return ud(r)?{value:r.value}:{issues:a.common.issues}}catch(r){r?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),a.common={issues:[],async:!0}}return this._parseAsync({data:s,path:[],parent:a}).then(r=>ud(r)?{value:r.value}:{issues:a.common.issues})}async parseAsync(s,a){const r=await this.safeParseAsync(s,a);if(r.success)return r.data;throw r.error}async safeParseAsync(s,a){const r={common:{issues:[],contextualErrorMap:a?.errorMap,async:!0},path:a?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:s,parsedType:no(s)},n=this._parse({data:s,path:r.path,parent:r}),i=await(Gh(n)?n:Promise.resolve(n));return I5(r,i)}refine(s,a){const r=n=>typeof a=="string"||typeof a>"u"?{message:a}:typeof a=="function"?a(n):a;return this._refinement((n,i)=>{const l=s(n),c=()=>i.addIssue({code:tt.custom,...r(n)});return typeof Promise<"u"&&l instanceof Promise?l.then(u=>u?!0:(c(),!1)):l?!0:(c(),!1)})}refinement(s,a){return this._refinement((r,n)=>s(r)?!0:(n.addIssue(typeof a=="function"?a(r,n):a),!1))}_refinement(s){return new ol({schema:this,typeName:es.ZodEffects,effect:{type:"refinement",refinement:s}})}superRefine(s){return this._refinement(s)}constructor(s){this.spa=this.safeParseAsync,this._def=s,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:a=>this["~validate"](a)}}optional(){return Dl.create(this,this._def)}nullable(){return oc.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return sl.create(this)}promise(){return nm.create(this,this._def)}or(s){return Xh.create([this,s],this._def)}and(s){return Zh.create(this,s,this._def)}transform(s){return new ol({...ds(this._def),schema:this,typeName:es.ZodEffects,effect:{type:"transform",transform:s}})}default(s){const a=typeof s=="function"?s:()=>s;return new ax({...ds(this._def),innerType:this,defaultValue:a,typeName:es.ZodDefault})}brand(){return new k1({typeName:es.ZodBranded,type:this,...ds(this._def)})}catch(s){const a=typeof s=="function"?s:()=>s;return new rx({...ds(this._def),innerType:this,catchValue:a,typeName:es.ZodCatch})}describe(s){const a=this.constructor;return new a({...this._def,description:s})}pipe(s){return Rx.create(this,s)}readonly(){return nx.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const XQ=/^c[^\s-]{8,}$/i,ZQ=/^[0-9a-z]+$/,JQ=/^[0-9A-HJKMNP-TV-Z]{26}$/i,eX=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,tX=/^[a-z0-9_-]{21}$/i,sX=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,aX=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,rX=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,nX="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let _j;const iX=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,lX=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,oX=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,cX=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,dX=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,uX=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,eD="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",mX=new RegExp(`^${eD}$`);function tD(t){let s="[0-5]\\d";t.precision?s=`${s}\\.\\d{${t.precision}}`:t.precision==null&&(s=`${s}(\\.\\d+)?`);const a=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${s})${a}`}function hX(t){return new RegExp(`^${tD(t)}$`)}function sD(t){let s=`${eD}T${tD(t)}`;const a=[];return a.push(t.local?"Z?":"Z"),t.offset&&a.push("([+-]\\d{2}:?\\d{2})"),s=`${s}(${a.join("|")})`,new RegExp(`^${s}$`)}function xX(t,s){return!!((s==="v4"||!s)&&iX.test(t)||(s==="v6"||!s)&&oX.test(t))}function pX(t,s){if(!sX.test(t))return!1;try{const[a]=t.split(".");if(!a)return!1;const r=a.replace(/-/g,"+").replace(/_/g,"/").padEnd(a.length+(4-a.length%4)%4,"="),n=JSON.parse(atob(r));return!(typeof n!="object"||n===null||"typ"in n&&n?.typ!=="JWT"||!n.alg||s&&n.alg!==s)}catch{return!1}}function fX(t,s){return!!((s==="v4"||!s)&&lX.test(t)||(s==="v6"||!s)&&cX.test(t))}class tl extends fs{_parse(s){if(this._def.coerce&&(s.data=String(s.data)),this._getType(s)!==yt.string){const i=this._getOrReturnCtx(s);return mt(i,{code:tt.invalid_type,expected:yt.string,received:i.parsedType}),Jt}const r=new cn;let n;for(const i of this._def.checks)if(i.kind==="min")s.data.length<i.value&&(n=this._getOrReturnCtx(s,n),mt(n,{code:tt.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")s.data.length>i.value&&(n=this._getOrReturnCtx(s,n),mt(n,{code:tt.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const l=s.data.length>i.value,c=s.data.length<i.value;(l||c)&&(n=this._getOrReturnCtx(s,n),l?mt(n,{code:tt.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):c&&mt(n,{code:tt.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")rX.test(s.data)||(n=this._getOrReturnCtx(s,n),mt(n,{validation:"email",code:tt.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")_j||(_j=new RegExp(nX,"u")),_j.test(s.data)||(n=this._getOrReturnCtx(s,n),mt(n,{validation:"emoji",code:tt.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")eX.test(s.data)||(n=this._getOrReturnCtx(s,n),mt(n,{validation:"uuid",code:tt.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")tX.test(s.data)||(n=this._getOrReturnCtx(s,n),mt(n,{validation:"nanoid",code:tt.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")XQ.test(s.data)||(n=this._getOrReturnCtx(s,n),mt(n,{validation:"cuid",code:tt.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")ZQ.test(s.data)||(n=this._getOrReturnCtx(s,n),mt(n,{validation:"cuid2",code:tt.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")JQ.test(s.data)||(n=this._getOrReturnCtx(s,n),mt(n,{validation:"ulid",code:tt.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(s.data)}catch{n=this._getOrReturnCtx(s,n),mt(n,{validation:"url",code:tt.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(s.data)||(n=this._getOrReturnCtx(s,n),mt(n,{validation:"regex",code:tt.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?s.data=s.data.trim():i.kind==="includes"?s.data.includes(i.value,i.position)||(n=this._getOrReturnCtx(s,n),mt(n,{code:tt.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?s.data=s.data.toLowerCase():i.kind==="toUpperCase"?s.data=s.data.toUpperCase():i.kind==="startsWith"?s.data.startsWith(i.value)||(n=this._getOrReturnCtx(s,n),mt(n,{code:tt.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?s.data.endsWith(i.value)||(n=this._getOrReturnCtx(s,n),mt(n,{code:tt.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?sD(i).test(s.data)||(n=this._getOrReturnCtx(s,n),mt(n,{code:tt.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?mX.test(s.data)||(n=this._getOrReturnCtx(s,n),mt(n,{code:tt.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?hX(i).test(s.data)||(n=this._getOrReturnCtx(s,n),mt(n,{code:tt.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?aX.test(s.data)||(n=this._getOrReturnCtx(s,n),mt(n,{validation:"duration",code:tt.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?xX(s.data,i.version)||(n=this._getOrReturnCtx(s,n),mt(n,{validation:"ip",code:tt.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?pX(s.data,i.alg)||(n=this._getOrReturnCtx(s,n),mt(n,{validation:"jwt",code:tt.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?fX(s.data,i.version)||(n=this._getOrReturnCtx(s,n),mt(n,{validation:"cidr",code:tt.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?dX.test(s.data)||(n=this._getOrReturnCtx(s,n),mt(n,{validation:"base64",code:tt.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?uX.test(s.data)||(n=this._getOrReturnCtx(s,n),mt(n,{validation:"base64url",code:tt.invalid_string,message:i.message}),r.dirty()):Ps.assertNever(i);return{status:r.value,value:s.data}}_regex(s,a,r){return this.refinement(n=>s.test(n),{validation:a,code:tt.invalid_string,...It.errToObj(r)})}_addCheck(s){return new tl({...this._def,checks:[...this._def.checks,s]})}email(s){return this._addCheck({kind:"email",...It.errToObj(s)})}url(s){return this._addCheck({kind:"url",...It.errToObj(s)})}emoji(s){return this._addCheck({kind:"emoji",...It.errToObj(s)})}uuid(s){return this._addCheck({kind:"uuid",...It.errToObj(s)})}nanoid(s){return this._addCheck({kind:"nanoid",...It.errToObj(s)})}cuid(s){return this._addCheck({kind:"cuid",...It.errToObj(s)})}cuid2(s){return this._addCheck({kind:"cuid2",...It.errToObj(s)})}ulid(s){return this._addCheck({kind:"ulid",...It.errToObj(s)})}base64(s){return this._addCheck({kind:"base64",...It.errToObj(s)})}base64url(s){return this._addCheck({kind:"base64url",...It.errToObj(s)})}jwt(s){return this._addCheck({kind:"jwt",...It.errToObj(s)})}ip(s){return this._addCheck({kind:"ip",...It.errToObj(s)})}cidr(s){return this._addCheck({kind:"cidr",...It.errToObj(s)})}datetime(s){return typeof s=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:s}):this._addCheck({kind:"datetime",precision:typeof s?.precision>"u"?null:s?.precision,offset:s?.offset??!1,local:s?.local??!1,...It.errToObj(s?.message)})}date(s){return this._addCheck({kind:"date",message:s})}time(s){return typeof s=="string"?this._addCheck({kind:"time",precision:null,message:s}):this._addCheck({kind:"time",precision:typeof s?.precision>"u"?null:s?.precision,...It.errToObj(s?.message)})}duration(s){return this._addCheck({kind:"duration",...It.errToObj(s)})}regex(s,a){return this._addCheck({kind:"regex",regex:s,...It.errToObj(a)})}includes(s,a){return this._addCheck({kind:"includes",value:s,position:a?.position,...It.errToObj(a?.message)})}startsWith(s,a){return this._addCheck({kind:"startsWith",value:s,...It.errToObj(a)})}endsWith(s,a){return this._addCheck({kind:"endsWith",value:s,...It.errToObj(a)})}min(s,a){return this._addCheck({kind:"min",value:s,...It.errToObj(a)})}max(s,a){return this._addCheck({kind:"max",value:s,...It.errToObj(a)})}length(s,a){return this._addCheck({kind:"length",value:s,...It.errToObj(a)})}nonempty(s){return this.min(1,It.errToObj(s))}trim(){return new tl({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new tl({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new tl({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(s=>s.kind==="datetime")}get isDate(){return!!this._def.checks.find(s=>s.kind==="date")}get isTime(){return!!this._def.checks.find(s=>s.kind==="time")}get isDuration(){return!!this._def.checks.find(s=>s.kind==="duration")}get isEmail(){return!!this._def.checks.find(s=>s.kind==="email")}get isURL(){return!!this._def.checks.find(s=>s.kind==="url")}get isEmoji(){return!!this._def.checks.find(s=>s.kind==="emoji")}get isUUID(){return!!this._def.checks.find(s=>s.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(s=>s.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(s=>s.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(s=>s.kind==="cuid2")}get isULID(){return!!this._def.checks.find(s=>s.kind==="ulid")}get isIP(){return!!this._def.checks.find(s=>s.kind==="ip")}get isCIDR(){return!!this._def.checks.find(s=>s.kind==="cidr")}get isBase64(){return!!this._def.checks.find(s=>s.kind==="base64")}get isBase64url(){return!!this._def.checks.find(s=>s.kind==="base64url")}get minLength(){let s=null;for(const a of this._def.checks)a.kind==="min"&&(s===null||a.value>s)&&(s=a.value);return s}get maxLength(){let s=null;for(const a of this._def.checks)a.kind==="max"&&(s===null||a.value<s)&&(s=a.value);return s}}tl.create=t=>new tl({checks:[],typeName:es.ZodString,coerce:t?.coerce??!1,...ds(t)});function gX(t,s){const a=(t.toString().split(".")[1]||"").length,r=(s.toString().split(".")[1]||"").length,n=a>r?a:r,i=Number.parseInt(t.toFixed(n).replace(".","")),l=Number.parseInt(s.toFixed(n).replace(".",""));return i%l/10**n}class nc extends fs{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(s){if(this._def.coerce&&(s.data=Number(s.data)),this._getType(s)!==yt.number){const i=this._getOrReturnCtx(s);return mt(i,{code:tt.invalid_type,expected:yt.number,received:i.parsedType}),Jt}let r;const n=new cn;for(const i of this._def.checks)i.kind==="int"?Ps.isInteger(s.data)||(r=this._getOrReturnCtx(s,r),mt(r,{code:tt.invalid_type,expected:"integer",received:"float",message:i.message}),n.dirty()):i.kind==="min"?(i.inclusive?s.data<i.value:s.data<=i.value)&&(r=this._getOrReturnCtx(s,r),mt(r,{code:tt.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),n.dirty()):i.kind==="max"?(i.inclusive?s.data>i.value:s.data>=i.value)&&(r=this._getOrReturnCtx(s,r),mt(r,{code:tt.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),n.dirty()):i.kind==="multipleOf"?gX(s.data,i.value)!==0&&(r=this._getOrReturnCtx(s,r),mt(r,{code:tt.not_multiple_of,multipleOf:i.value,message:i.message}),n.dirty()):i.kind==="finite"?Number.isFinite(s.data)||(r=this._getOrReturnCtx(s,r),mt(r,{code:tt.not_finite,message:i.message}),n.dirty()):Ps.assertNever(i);return{status:n.value,value:s.data}}gte(s,a){return this.setLimit("min",s,!0,It.toString(a))}gt(s,a){return this.setLimit("min",s,!1,It.toString(a))}lte(s,a){return this.setLimit("max",s,!0,It.toString(a))}lt(s,a){return this.setLimit("max",s,!1,It.toString(a))}setLimit(s,a,r,n){return new nc({...this._def,checks:[...this._def.checks,{kind:s,value:a,inclusive:r,message:It.toString(n)}]})}_addCheck(s){return new nc({...this._def,checks:[...this._def.checks,s]})}int(s){return this._addCheck({kind:"int",message:It.toString(s)})}positive(s){return this._addCheck({kind:"min",value:0,inclusive:!1,message:It.toString(s)})}negative(s){return this._addCheck({kind:"max",value:0,inclusive:!1,message:It.toString(s)})}nonpositive(s){return this._addCheck({kind:"max",value:0,inclusive:!0,message:It.toString(s)})}nonnegative(s){return this._addCheck({kind:"min",value:0,inclusive:!0,message:It.toString(s)})}multipleOf(s,a){return this._addCheck({kind:"multipleOf",value:s,message:It.toString(a)})}finite(s){return this._addCheck({kind:"finite",message:It.toString(s)})}safe(s){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:It.toString(s)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:It.toString(s)})}get minValue(){let s=null;for(const a of this._def.checks)a.kind==="min"&&(s===null||a.value>s)&&(s=a.value);return s}get maxValue(){let s=null;for(const a of this._def.checks)a.kind==="max"&&(s===null||a.value<s)&&(s=a.value);return s}get isInt(){return!!this._def.checks.find(s=>s.kind==="int"||s.kind==="multipleOf"&&Ps.isInteger(s.value))}get isFinite(){let s=null,a=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(a===null||r.value>a)&&(a=r.value):r.kind==="max"&&(s===null||r.value<s)&&(s=r.value)}return Number.isFinite(a)&&Number.isFinite(s)}}nc.create=t=>new nc({checks:[],typeName:es.ZodNumber,coerce:t?.coerce||!1,...ds(t)});class ic extends fs{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(s){if(this._def.coerce)try{s.data=BigInt(s.data)}catch{return this._getInvalidInput(s)}if(this._getType(s)!==yt.bigint)return this._getInvalidInput(s);let r;const n=new cn;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?s.data<i.value:s.data<=i.value)&&(r=this._getOrReturnCtx(s,r),mt(r,{code:tt.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty()):i.kind==="max"?(i.inclusive?s.data>i.value:s.data>=i.value)&&(r=this._getOrReturnCtx(s,r),mt(r,{code:tt.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty()):i.kind==="multipleOf"?s.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(s,r),mt(r,{code:tt.not_multiple_of,multipleOf:i.value,message:i.message}),n.dirty()):Ps.assertNever(i);return{status:n.value,value:s.data}}_getInvalidInput(s){const a=this._getOrReturnCtx(s);return mt(a,{code:tt.invalid_type,expected:yt.bigint,received:a.parsedType}),Jt}gte(s,a){return this.setLimit("min",s,!0,It.toString(a))}gt(s,a){return this.setLimit("min",s,!1,It.toString(a))}lte(s,a){return this.setLimit("max",s,!0,It.toString(a))}lt(s,a){return this.setLimit("max",s,!1,It.toString(a))}setLimit(s,a,r,n){return new ic({...this._def,checks:[...this._def.checks,{kind:s,value:a,inclusive:r,message:It.toString(n)}]})}_addCheck(s){return new ic({...this._def,checks:[...this._def.checks,s]})}positive(s){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:It.toString(s)})}negative(s){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:It.toString(s)})}nonpositive(s){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:It.toString(s)})}nonnegative(s){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:It.toString(s)})}multipleOf(s,a){return this._addCheck({kind:"multipleOf",value:s,message:It.toString(a)})}get minValue(){let s=null;for(const a of this._def.checks)a.kind==="min"&&(s===null||a.value>s)&&(s=a.value);return s}get maxValue(){let s=null;for(const a of this._def.checks)a.kind==="max"&&(s===null||a.value<s)&&(s=a.value);return s}}ic.create=t=>new ic({checks:[],typeName:es.ZodBigInt,coerce:t?.coerce??!1,...ds(t)});class Kh extends fs{_parse(s){if(this._def.coerce&&(s.data=!!s.data),this._getType(s)!==yt.boolean){const r=this._getOrReturnCtx(s);return mt(r,{code:tt.invalid_type,expected:yt.boolean,received:r.parsedType}),Jt}return Sn(s.data)}}Kh.create=t=>new Kh({typeName:es.ZodBoolean,coerce:t?.coerce||!1,...ds(t)});class md extends fs{_parse(s){if(this._def.coerce&&(s.data=new Date(s.data)),this._getType(s)!==yt.date){const i=this._getOrReturnCtx(s);return mt(i,{code:tt.invalid_type,expected:yt.date,received:i.parsedType}),Jt}if(Number.isNaN(s.data.getTime())){const i=this._getOrReturnCtx(s);return mt(i,{code:tt.invalid_date}),Jt}const r=new cn;let n;for(const i of this._def.checks)i.kind==="min"?s.data.getTime()<i.value&&(n=this._getOrReturnCtx(s,n),mt(n,{code:tt.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?s.data.getTime()>i.value&&(n=this._getOrReturnCtx(s,n),mt(n,{code:tt.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):Ps.assertNever(i);return{status:r.value,value:new Date(s.data.getTime())}}_addCheck(s){return new md({...this._def,checks:[...this._def.checks,s]})}min(s,a){return this._addCheck({kind:"min",value:s.getTime(),message:It.toString(a)})}max(s,a){return this._addCheck({kind:"max",value:s.getTime(),message:It.toString(a)})}get minDate(){let s=null;for(const a of this._def.checks)a.kind==="min"&&(s===null||a.value>s)&&(s=a.value);return s!=null?new Date(s):null}get maxDate(){let s=null;for(const a of this._def.checks)a.kind==="max"&&(s===null||a.value<s)&&(s=a.value);return s!=null?new Date(s):null}}md.create=t=>new md({checks:[],coerce:t?.coerce||!1,typeName:es.ZodDate,...ds(t)});class Tg extends fs{_parse(s){if(this._getType(s)!==yt.symbol){const r=this._getOrReturnCtx(s);return mt(r,{code:tt.invalid_type,expected:yt.symbol,received:r.parsedType}),Jt}return Sn(s.data)}}Tg.create=t=>new Tg({typeName:es.ZodSymbol,...ds(t)});class Yh extends fs{_parse(s){if(this._getType(s)!==yt.undefined){const r=this._getOrReturnCtx(s);return mt(r,{code:tt.invalid_type,expected:yt.undefined,received:r.parsedType}),Jt}return Sn(s.data)}}Yh.create=t=>new Yh({typeName:es.ZodUndefined,...ds(t)});class Qh extends fs{_parse(s){if(this._getType(s)!==yt.null){const r=this._getOrReturnCtx(s);return mt(r,{code:tt.invalid_type,expected:yt.null,received:r.parsedType}),Jt}return Sn(s.data)}}Qh.create=t=>new Qh({typeName:es.ZodNull,...ds(t)});class rm extends fs{constructor(){super(...arguments),this._any=!0}_parse(s){return Sn(s.data)}}rm.create=t=>new rm({typeName:es.ZodAny,...ds(t)});class sd extends fs{constructor(){super(...arguments),this._unknown=!0}_parse(s){return Sn(s.data)}}sd.create=t=>new sd({typeName:es.ZodUnknown,...ds(t)});class yo extends fs{_parse(s){const a=this._getOrReturnCtx(s);return mt(a,{code:tt.invalid_type,expected:yt.never,received:a.parsedType}),Jt}}yo.create=t=>new yo({typeName:es.ZodNever,...ds(t)});class _g extends fs{_parse(s){if(this._getType(s)!==yt.undefined){const r=this._getOrReturnCtx(s);return mt(r,{code:tt.invalid_type,expected:yt.void,received:r.parsedType}),Jt}return Sn(s.data)}}_g.create=t=>new _g({typeName:es.ZodVoid,...ds(t)});class sl extends fs{_parse(s){const{ctx:a,status:r}=this._processInputParams(s),n=this._def;if(a.parsedType!==yt.array)return mt(a,{code:tt.invalid_type,expected:yt.array,received:a.parsedType}),Jt;if(n.exactLength!==null){const l=a.data.length>n.exactLength.value,c=a.data.length<n.exactLength.value;(l||c)&&(mt(a,{code:l?tt.too_big:tt.too_small,minimum:c?n.exactLength.value:void 0,maximum:l?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),r.dirty())}if(n.minLength!==null&&a.data.length<n.minLength.value&&(mt(a,{code:tt.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),r.dirty()),n.maxLength!==null&&a.data.length>n.maxLength.value&&(mt(a,{code:tt.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),r.dirty()),a.common.async)return Promise.all([...a.data].map((l,c)=>n.type._parseAsync(new Ll(a,l,a.path,c)))).then(l=>cn.mergeArray(r,l));const i=[...a.data].map((l,c)=>n.type._parseSync(new Ll(a,l,a.path,c)));return cn.mergeArray(r,i)}get element(){return this._def.type}min(s,a){return new sl({...this._def,minLength:{value:s,message:It.toString(a)}})}max(s,a){return new sl({...this._def,maxLength:{value:s,message:It.toString(a)}})}length(s,a){return new sl({...this._def,exactLength:{value:s,message:It.toString(a)}})}nonempty(s){return this.min(1,s)}}sl.create=(t,s)=>new sl({type:t,minLength:null,maxLength:null,exactLength:null,typeName:es.ZodArray,...ds(s)});function pu(t){if(t instanceof Da){const s={};for(const a in t.shape){const r=t.shape[a];s[a]=Dl.create(pu(r))}return new Da({...t._def,shape:()=>s})}else return t instanceof sl?new sl({...t._def,type:pu(t.element)}):t instanceof Dl?Dl.create(pu(t.unwrap())):t instanceof oc?oc.create(pu(t.unwrap())):t instanceof Ol?Ol.create(t.items.map(s=>pu(s))):t}class Da extends fs{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const s=this._def.shape(),a=Ps.objectKeys(s);return this._cached={shape:s,keys:a},this._cached}_parse(s){if(this._getType(s)!==yt.object){const m=this._getOrReturnCtx(s);return mt(m,{code:tt.invalid_type,expected:yt.object,received:m.parsedType}),Jt}const{status:r,ctx:n}=this._processInputParams(s),{shape:i,keys:l}=this._getCached(),c=[];if(!(this._def.catchall instanceof yo&&this._def.unknownKeys==="strip"))for(const m in n.data)l.includes(m)||c.push(m);const u=[];for(const m of l){const x=i[m],f=n.data[m];u.push({key:{status:"valid",value:m},value:x._parse(new Ll(n,f,n.path,m)),alwaysSet:m in n.data})}if(this._def.catchall instanceof yo){const m=this._def.unknownKeys;if(m==="passthrough")for(const x of c)u.push({key:{status:"valid",value:x},value:{status:"valid",value:n.data[x]}});else if(m==="strict")c.length>0&&(mt(n,{code:tt.unrecognized_keys,keys:c}),r.dirty());else if(m!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const m=this._def.catchall;for(const x of c){const f=n.data[x];u.push({key:{status:"valid",value:x},value:m._parse(new Ll(n,f,n.path,x)),alwaysSet:x in n.data})}}return n.common.async?Promise.resolve().then(async()=>{const m=[];for(const x of u){const f=await x.key,g=await x.value;m.push({key:f,value:g,alwaysSet:x.alwaysSet})}return m}).then(m=>cn.mergeObjectSync(r,m)):cn.mergeObjectSync(r,u)}get shape(){return this._def.shape()}strict(s){return It.errToObj,new Da({...this._def,unknownKeys:"strict",...s!==void 0?{errorMap:(a,r)=>{const n=this._def.errorMap?.(a,r).message??r.defaultError;return a.code==="unrecognized_keys"?{message:It.errToObj(s).message??n}:{message:n}}}:{}})}strip(){return new Da({...this._def,unknownKeys:"strip"})}passthrough(){return new Da({...this._def,unknownKeys:"passthrough"})}extend(s){return new Da({...this._def,shape:()=>({...this._def.shape(),...s})})}merge(s){return new Da({unknownKeys:s._def.unknownKeys,catchall:s._def.catchall,shape:()=>({...this._def.shape(),...s._def.shape()}),typeName:es.ZodObject})}setKey(s,a){return this.augment({[s]:a})}catchall(s){return new Da({...this._def,catchall:s})}pick(s){const a={};for(const r of Ps.objectKeys(s))s[r]&&this.shape[r]&&(a[r]=this.shape[r]);return new Da({...this._def,shape:()=>a})}omit(s){const a={};for(const r of Ps.objectKeys(this.shape))s[r]||(a[r]=this.shape[r]);return new Da({...this._def,shape:()=>a})}deepPartial(){return pu(this)}partial(s){const a={};for(const r of Ps.objectKeys(this.shape)){const n=this.shape[r];s&&!s[r]?a[r]=n:a[r]=n.optional()}return new Da({...this._def,shape:()=>a})}required(s){const a={};for(const r of Ps.objectKeys(this.shape))if(s&&!s[r])a[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof Dl;)i=i._def.innerType;a[r]=i}return new Da({...this._def,shape:()=>a})}keyof(){return aD(Ps.objectKeys(this.shape))}}Da.create=(t,s)=>new Da({shape:()=>t,unknownKeys:"strip",catchall:yo.create(),typeName:es.ZodObject,...ds(s)});Da.strictCreate=(t,s)=>new Da({shape:()=>t,unknownKeys:"strict",catchall:yo.create(),typeName:es.ZodObject,...ds(s)});Da.lazycreate=(t,s)=>new Da({shape:t,unknownKeys:"strip",catchall:yo.create(),typeName:es.ZodObject,...ds(s)});class Xh extends fs{_parse(s){const{ctx:a}=this._processInputParams(s),r=this._def.options;function n(i){for(const c of i)if(c.result.status==="valid")return c.result;for(const c of i)if(c.result.status==="dirty")return a.common.issues.push(...c.ctx.common.issues),c.result;const l=i.map(c=>new ui(c.ctx.common.issues));return mt(a,{code:tt.invalid_union,unionErrors:l}),Jt}if(a.common.async)return Promise.all(r.map(async i=>{const l={...a,common:{...a.common,issues:[]},parent:null};return{result:await i._parseAsync({data:a.data,path:a.path,parent:l}),ctx:l}})).then(n);{let i;const l=[];for(const u of r){const m={...a,common:{...a.common,issues:[]},parent:null},x=u._parseSync({data:a.data,path:a.path,parent:m});if(x.status==="valid")return x;x.status==="dirty"&&!i&&(i={result:x,ctx:m}),m.common.issues.length&&l.push(m.common.issues)}if(i)return a.common.issues.push(...i.ctx.common.issues),i.result;const c=l.map(u=>new ui(u));return mt(a,{code:tt.invalid_union,unionErrors:c}),Jt}}get options(){return this._def.options}}Xh.create=(t,s)=>new Xh({options:t,typeName:es.ZodUnion,...ds(s)});const ro=t=>t instanceof ex?ro(t.schema):t instanceof ol?ro(t.innerType()):t instanceof tx?[t.value]:t instanceof lc?t.options:t instanceof sx?Ps.objectValues(t.enum):t instanceof ax?ro(t._def.innerType):t instanceof Yh?[void 0]:t instanceof Qh?[null]:t instanceof Dl?[void 0,...ro(t.unwrap())]:t instanceof oc?[null,...ro(t.unwrap())]:t instanceof k1||t instanceof nx?ro(t.unwrap()):t instanceof rx?ro(t._def.innerType):[];class F0 extends fs{_parse(s){const{ctx:a}=this._processInputParams(s);if(a.parsedType!==yt.object)return mt(a,{code:tt.invalid_type,expected:yt.object,received:a.parsedType}),Jt;const r=this.discriminator,n=a.data[r],i=this.optionsMap.get(n);return i?a.common.async?i._parseAsync({data:a.data,path:a.path,parent:a}):i._parseSync({data:a.data,path:a.path,parent:a}):(mt(a,{code:tt.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Jt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(s,a,r){const n=new Map;for(const i of a){const l=ro(i.shape[s]);if(!l.length)throw new Error(`A discriminator value for key \`${s}\` could not be extracted from all schema options`);for(const c of l){if(n.has(c))throw new Error(`Discriminator property ${String(s)} has duplicate value ${String(c)}`);n.set(c,i)}}return new F0({typeName:es.ZodDiscriminatedUnion,discriminator:s,options:a,optionsMap:n,...ds(r)})}}function mN(t,s){const a=no(t),r=no(s);if(t===s)return{valid:!0,data:t};if(a===yt.object&&r===yt.object){const n=Ps.objectKeys(s),i=Ps.objectKeys(t).filter(c=>n.indexOf(c)!==-1),l={...t,...s};for(const c of i){const u=mN(t[c],s[c]);if(!u.valid)return{valid:!1};l[c]=u.data}return{valid:!0,data:l}}else if(a===yt.array&&r===yt.array){if(t.length!==s.length)return{valid:!1};const n=[];for(let i=0;i<t.length;i++){const l=t[i],c=s[i],u=mN(l,c);if(!u.valid)return{valid:!1};n.push(u.data)}return{valid:!0,data:n}}else return a===yt.date&&r===yt.date&&+t==+s?{valid:!0,data:t}:{valid:!1}}class Zh extends fs{_parse(s){const{status:a,ctx:r}=this._processInputParams(s),n=(i,l)=>{if(dN(i)||dN(l))return Jt;const c=mN(i.value,l.value);return c.valid?((uN(i)||uN(l))&&a.dirty(),{status:a.value,value:c.data}):(mt(r,{code:tt.invalid_intersection_types}),Jt)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,l])=>n(i,l)):n(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Zh.create=(t,s,a)=>new Zh({left:t,right:s,typeName:es.ZodIntersection,...ds(a)});class Ol extends fs{_parse(s){const{status:a,ctx:r}=this._processInputParams(s);if(r.parsedType!==yt.array)return mt(r,{code:tt.invalid_type,expected:yt.array,received:r.parsedType}),Jt;if(r.data.length<this._def.items.length)return mt(r,{code:tt.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Jt;!this._def.rest&&r.data.length>this._def.items.length&&(mt(r,{code:tt.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),a.dirty());const i=[...r.data].map((l,c)=>{const u=this._def.items[c]||this._def.rest;return u?u._parse(new Ll(r,l,r.path,c)):null}).filter(l=>!!l);return r.common.async?Promise.all(i).then(l=>cn.mergeArray(a,l)):cn.mergeArray(a,i)}get items(){return this._def.items}rest(s){return new Ol({...this._def,rest:s})}}Ol.create=(t,s)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ol({items:t,typeName:es.ZodTuple,rest:null,...ds(s)})};class Jh extends fs{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(s){const{status:a,ctx:r}=this._processInputParams(s);if(r.parsedType!==yt.object)return mt(r,{code:tt.invalid_type,expected:yt.object,received:r.parsedType}),Jt;const n=[],i=this._def.keyType,l=this._def.valueType;for(const c in r.data)n.push({key:i._parse(new Ll(r,c,r.path,c)),value:l._parse(new Ll(r,r.data[c],r.path,c)),alwaysSet:c in r.data});return r.common.async?cn.mergeObjectAsync(a,n):cn.mergeObjectSync(a,n)}get element(){return this._def.valueType}static create(s,a,r){return a instanceof fs?new Jh({keyType:s,valueType:a,typeName:es.ZodRecord,...ds(r)}):new Jh({keyType:tl.create(),valueType:s,typeName:es.ZodRecord,...ds(a)})}}class Eg extends fs{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(s){const{status:a,ctx:r}=this._processInputParams(s);if(r.parsedType!==yt.map)return mt(r,{code:tt.invalid_type,expected:yt.map,received:r.parsedType}),Jt;const n=this._def.keyType,i=this._def.valueType,l=[...r.data.entries()].map(([c,u],m)=>({key:n._parse(new Ll(r,c,r.path,[m,"key"])),value:i._parse(new Ll(r,u,r.path,[m,"value"]))}));if(r.common.async){const c=new Map;return Promise.resolve().then(async()=>{for(const u of l){const m=await u.key,x=await u.value;if(m.status==="aborted"||x.status==="aborted")return Jt;(m.status==="dirty"||x.status==="dirty")&&a.dirty(),c.set(m.value,x.value)}return{status:a.value,value:c}})}else{const c=new Map;for(const u of l){const m=u.key,x=u.value;if(m.status==="aborted"||x.status==="aborted")return Jt;(m.status==="dirty"||x.status==="dirty")&&a.dirty(),c.set(m.value,x.value)}return{status:a.value,value:c}}}}Eg.create=(t,s,a)=>new Eg({valueType:s,keyType:t,typeName:es.ZodMap,...ds(a)});class hd extends fs{_parse(s){const{status:a,ctx:r}=this._processInputParams(s);if(r.parsedType!==yt.set)return mt(r,{code:tt.invalid_type,expected:yt.set,received:r.parsedType}),Jt;const n=this._def;n.minSize!==null&&r.data.size<n.minSize.value&&(mt(r,{code:tt.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),a.dirty()),n.maxSize!==null&&r.data.size>n.maxSize.value&&(mt(r,{code:tt.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),a.dirty());const i=this._def.valueType;function l(u){const m=new Set;for(const x of u){if(x.status==="aborted")return Jt;x.status==="dirty"&&a.dirty(),m.add(x.value)}return{status:a.value,value:m}}const c=[...r.data.values()].map((u,m)=>i._parse(new Ll(r,u,r.path,m)));return r.common.async?Promise.all(c).then(u=>l(u)):l(c)}min(s,a){return new hd({...this._def,minSize:{value:s,message:It.toString(a)}})}max(s,a){return new hd({...this._def,maxSize:{value:s,message:It.toString(a)}})}size(s,a){return this.min(s,a).max(s,a)}nonempty(s){return this.min(1,s)}}hd.create=(t,s)=>new hd({valueType:t,minSize:null,maxSize:null,typeName:es.ZodSet,...ds(s)});class Iu extends fs{constructor(){super(...arguments),this.validate=this.implement}_parse(s){const{ctx:a}=this._processInputParams(s);if(a.parsedType!==yt.function)return mt(a,{code:tt.invalid_type,expected:yt.function,received:a.parsedType}),Jt;function r(c,u){return Sg({data:c,path:a.path,errorMaps:[a.common.contextualErrorMap,a.schemaErrorMap,Cg(),am].filter(m=>!!m),issueData:{code:tt.invalid_arguments,argumentsError:u}})}function n(c,u){return Sg({data:c,path:a.path,errorMaps:[a.common.contextualErrorMap,a.schemaErrorMap,Cg(),am].filter(m=>!!m),issueData:{code:tt.invalid_return_type,returnTypeError:u}})}const i={errorMap:a.common.contextualErrorMap},l=a.data;if(this._def.returns instanceof nm){const c=this;return Sn(async function(...u){const m=new ui([]),x=await c._def.args.parseAsync(u,i).catch(b=>{throw m.addIssue(r(u,b)),m}),f=await Reflect.apply(l,this,x);return await c._def.returns._def.type.parseAsync(f,i).catch(b=>{throw m.addIssue(n(f,b)),m})})}else{const c=this;return Sn(function(...u){const m=c._def.args.safeParse(u,i);if(!m.success)throw new ui([r(u,m.error)]);const x=Reflect.apply(l,this,m.data),f=c._def.returns.safeParse(x,i);if(!f.success)throw new ui([n(x,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...s){return new Iu({...this._def,args:Ol.create(s).rest(sd.create())})}returns(s){return new Iu({...this._def,returns:s})}implement(s){return this.parse(s)}strictImplement(s){return this.parse(s)}static create(s,a,r){return new Iu({args:s||Ol.create([]).rest(sd.create()),returns:a||sd.create(),typeName:es.ZodFunction,...ds(r)})}}class ex extends fs{get schema(){return this._def.getter()}_parse(s){const{ctx:a}=this._processInputParams(s);return this._def.getter()._parse({data:a.data,path:a.path,parent:a})}}ex.create=(t,s)=>new ex({getter:t,typeName:es.ZodLazy,...ds(s)});class tx extends fs{_parse(s){if(s.data!==this._def.value){const a=this._getOrReturnCtx(s);return mt(a,{received:a.data,code:tt.invalid_literal,expected:this._def.value}),Jt}return{status:"valid",value:s.data}}get value(){return this._def.value}}tx.create=(t,s)=>new tx({value:t,typeName:es.ZodLiteral,...ds(s)});function aD(t,s){return new lc({values:t,typeName:es.ZodEnum,...ds(s)})}class lc extends fs{_parse(s){if(typeof s.data!="string"){const a=this._getOrReturnCtx(s),r=this._def.values;return mt(a,{expected:Ps.joinValues(r),received:a.parsedType,code:tt.invalid_type}),Jt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(s.data)){const a=this._getOrReturnCtx(s),r=this._def.values;return mt(a,{received:a.data,code:tt.invalid_enum_value,options:r}),Jt}return Sn(s.data)}get options(){return this._def.values}get enum(){const s={};for(const a of this._def.values)s[a]=a;return s}get Values(){const s={};for(const a of this._def.values)s[a]=a;return s}get Enum(){const s={};for(const a of this._def.values)s[a]=a;return s}extract(s,a=this._def){return lc.create(s,{...this._def,...a})}exclude(s,a=this._def){return lc.create(this.options.filter(r=>!s.includes(r)),{...this._def,...a})}}lc.create=aD;class sx extends fs{_parse(s){const a=Ps.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(s);if(r.parsedType!==yt.string&&r.parsedType!==yt.number){const n=Ps.objectValues(a);return mt(r,{expected:Ps.joinValues(n),received:r.parsedType,code:tt.invalid_type}),Jt}if(this._cache||(this._cache=new Set(Ps.getValidEnumValues(this._def.values))),!this._cache.has(s.data)){const n=Ps.objectValues(a);return mt(r,{received:r.data,code:tt.invalid_enum_value,options:n}),Jt}return Sn(s.data)}get enum(){return this._def.values}}sx.create=(t,s)=>new sx({values:t,typeName:es.ZodNativeEnum,...ds(s)});class nm extends fs{unwrap(){return this._def.type}_parse(s){const{ctx:a}=this._processInputParams(s);if(a.parsedType!==yt.promise&&a.common.async===!1)return mt(a,{code:tt.invalid_type,expected:yt.promise,received:a.parsedType}),Jt;const r=a.parsedType===yt.promise?a.data:Promise.resolve(a.data);return Sn(r.then(n=>this._def.type.parseAsync(n,{path:a.path,errorMap:a.common.contextualErrorMap})))}}nm.create=(t,s)=>new nm({type:t,typeName:es.ZodPromise,...ds(s)});class ol extends fs{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===es.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(s){const{status:a,ctx:r}=this._processInputParams(s),n=this._def.effect||null,i={addIssue:l=>{mt(r,l),l.fatal?a.abort():a.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),n.type==="preprocess"){const l=n.transform(r.data,i);if(r.common.async)return Promise.resolve(l).then(async c=>{if(a.value==="aborted")return Jt;const u=await this._def.schema._parseAsync({data:c,path:r.path,parent:r});return u.status==="aborted"?Jt:u.status==="dirty"||a.value==="dirty"?Cu(u.value):u});{if(a.value==="aborted")return Jt;const c=this._def.schema._parseSync({data:l,path:r.path,parent:r});return c.status==="aborted"?Jt:c.status==="dirty"||a.value==="dirty"?Cu(c.value):c}}if(n.type==="refinement"){const l=c=>{const u=n.refinement(c,i);if(r.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(r.common.async===!1){const c=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return c.status==="aborted"?Jt:(c.status==="dirty"&&a.dirty(),l(c.value),{status:a.value,value:c.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(c=>c.status==="aborted"?Jt:(c.status==="dirty"&&a.dirty(),l(c.value).then(()=>({status:a.value,value:c.value}))))}if(n.type==="transform")if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!ud(l))return Jt;const c=n.transform(l.value,i);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:a.value,value:c}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>ud(l)?Promise.resolve(n.transform(l.value,i)).then(c=>({status:a.value,value:c})):Jt);Ps.assertNever(n)}}ol.create=(t,s,a)=>new ol({schema:t,typeName:es.ZodEffects,effect:s,...ds(a)});ol.createWithPreprocess=(t,s,a)=>new ol({schema:s,effect:{type:"preprocess",transform:t},typeName:es.ZodEffects,...ds(a)});class Dl extends fs{_parse(s){return this._getType(s)===yt.undefined?Sn(void 0):this._def.innerType._parse(s)}unwrap(){return this._def.innerType}}Dl.create=(t,s)=>new Dl({innerType:t,typeName:es.ZodOptional,...ds(s)});class oc extends fs{_parse(s){return this._getType(s)===yt.null?Sn(null):this._def.innerType._parse(s)}unwrap(){return this._def.innerType}}oc.create=(t,s)=>new oc({innerType:t,typeName:es.ZodNullable,...ds(s)});class ax extends fs{_parse(s){const{ctx:a}=this._processInputParams(s);let r=a.data;return a.parsedType===yt.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:a.path,parent:a})}removeDefault(){return this._def.innerType}}ax.create=(t,s)=>new ax({innerType:t,typeName:es.ZodDefault,defaultValue:typeof s.default=="function"?s.default:()=>s.default,...ds(s)});class rx extends fs{_parse(s){const{ctx:a}=this._processInputParams(s),r={...a,common:{...a.common,issues:[]}},n=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Gh(n)?n.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new ui(r.common.issues)},input:r.data})})):{status:"valid",value:n.status==="valid"?n.value:this._def.catchValue({get error(){return new ui(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}rx.create=(t,s)=>new rx({innerType:t,typeName:es.ZodCatch,catchValue:typeof s.catch=="function"?s.catch:()=>s.catch,...ds(s)});class Pg extends fs{_parse(s){if(this._getType(s)!==yt.nan){const r=this._getOrReturnCtx(s);return mt(r,{code:tt.invalid_type,expected:yt.nan,received:r.parsedType}),Jt}return{status:"valid",value:s.data}}}Pg.create=t=>new Pg({typeName:es.ZodNaN,...ds(t)});const vX=Symbol("zod_brand");class k1 extends fs{_parse(s){const{ctx:a}=this._processInputParams(s),r=a.data;return this._def.type._parse({data:r,path:a.path,parent:a})}unwrap(){return this._def.type}}class Rx extends fs{_parse(s){const{status:a,ctx:r}=this._processInputParams(s);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Jt:i.status==="dirty"?(a.dirty(),Cu(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const n=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return n.status==="aborted"?Jt:n.status==="dirty"?(a.dirty(),{status:"dirty",value:n.value}):this._def.out._parseSync({data:n.value,path:r.path,parent:r})}}static create(s,a){return new Rx({in:s,out:a,typeName:es.ZodPipeline})}}class nx extends fs{_parse(s){const a=this._def.innerType._parse(s),r=n=>(ud(n)&&(n.value=Object.freeze(n.value)),n);return Gh(a)?a.then(n=>r(n)):r(a)}unwrap(){return this._def.innerType}}nx.create=(t,s)=>new nx({innerType:t,typeName:es.ZodReadonly,...ds(s)});function R5(t,s){const a=typeof t=="function"?t(s):typeof t=="string"?{message:t}:t;return typeof a=="string"?{message:a}:a}function ti(t,s={},a){return t?rm.create().superRefine((r,n)=>{const i=t(r);if(i instanceof Promise)return i.then(l=>{if(!l){const c=R5(s,r),u=c.fatal??a??!0;n.addIssue({code:"custom",...c,fatal:u})}});if(!i){const l=R5(s,r),c=l.fatal??a??!0;n.addIssue({code:"custom",...l,fatal:c})}}):rm.create()}const yX={object:Da.lazycreate};var es;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(es||(es={}));const jX=(t,s={message:`Input not instance of ${t.name}`})=>ti(a=>a instanceof t,s),jt=tl.create,ix=nc.create,bX=Pg.create,NX=ic.create,Lx=Kh.create,wX=md.create,kX=Tg.create,CX=Yh.create,rD=Qh.create,Ag=rm.create,nD=sd.create,SX=yo.create,iD=_g.create,Su=sl.create,bn=Da.create,TX=Da.strictCreate,C1=Xh.create,_X=F0.create,EX=Zh.create,PX=Ol.create,S1=Jh.create,AX=Eg.create,DX=hd.create,FX=Iu.create,MX=ex.create,lx=tx.create,T1=lc.create,IX=sx.create,RX=nm.create,L5=ol.create,LX=Dl.create,OX=oc.create,$X=ol.createWithPreprocess,BX=Rx.create,zX=()=>jt().optional(),VX=()=>ix().optional(),UX=()=>Lx().optional(),lD={string:(t=>tl.create({...t,coerce:!0})),number:(t=>nc.create({...t,coerce:!0})),boolean:(t=>Kh.create({...t,coerce:!0})),bigint:(t=>ic.create({...t,coerce:!0})),date:(t=>md.create({...t,coerce:!0}))},qX=Jt,HX=Object.freeze(Object.defineProperty({__proto__:null,BRAND:vX,DIRTY:Cu,EMPTY_PATH:QQ,INVALID:Jt,NEVER:qX,OK:Sn,ParseStatus:cn,Schema:fs,ZodAny:rm,ZodArray:sl,ZodBigInt:ic,ZodBoolean:Kh,ZodBranded:k1,ZodCatch:rx,ZodDate:md,ZodDefault:ax,ZodDiscriminatedUnion:F0,ZodEffects:ol,ZodEnum:lc,ZodError:ui,get ZodFirstPartyTypeKind(){return es},ZodFunction:Iu,ZodIntersection:Zh,ZodIssueCode:tt,ZodLazy:ex,ZodLiteral:tx,ZodMap:Eg,ZodNaN:Pg,ZodNativeEnum:sx,ZodNever:yo,ZodNull:Qh,ZodNullable:oc,ZodNumber:nc,ZodObject:Da,ZodOptional:Dl,ZodParsedType:yt,ZodPipeline:Rx,ZodPromise:nm,ZodReadonly:nx,ZodRecord:Jh,ZodSchema:fs,ZodSet:hd,ZodString:tl,ZodSymbol:Tg,ZodTransformer:ol,ZodTuple:Ol,ZodType:fs,ZodUndefined:Yh,ZodUnion:Xh,ZodUnknown:sd,ZodVoid:_g,addIssueToContext:mt,any:Ag,array:Su,bigint:NX,boolean:Lx,coerce:lD,custom:ti,date:wX,datetimeRegex:sD,defaultErrorMap:am,discriminatedUnion:_X,effect:L5,enum:T1,function:FX,getErrorMap:Cg,getParsedType:no,instanceof:jX,intersection:EX,isAborted:dN,isAsync:Gh,isDirty:uN,isValid:ud,late:yX,lazy:MX,literal:lx,makeIssue:Sg,map:AX,nan:bX,nativeEnum:IX,never:SX,null:rD,nullable:OX,number:ix,object:bn,get objectUtil(){return cN},oboolean:UX,onumber:VX,optional:LX,ostring:zX,pipeline:BX,preprocess:$X,promise:RX,quotelessJson:KQ,record:S1,set:DX,setErrorMap:YQ,strictObject:TX,string:jt,symbol:kX,transformer:L5,tuple:PX,undefined:CX,union:C1,unknown:nD,get util(){return Ps},void:iD},Symbol.toStringTag,{value:"Module"})),Be=Symbol.for("drizzle:entityKind");function or(t,s){if(!t||typeof t!="object")return!1;if(t instanceof s)return!0;if(!Object.prototype.hasOwnProperty.call(s,Be))throw new Error(`Class "${s.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let a=Object.getPrototypeOf(t).constructor;if(a)for(;a;){if(Be in a&&a[Be]===s[Be])return!0;a=Object.getPrototypeOf(a)}return!1}class ox{constructor(s,a){this.table=s,this.config=a,this.name=a.name,this.keyAsName=a.keyAsName,this.notNull=a.notNull,this.default=a.default,this.defaultFn=a.defaultFn,this.onUpdateFn=a.onUpdateFn,this.hasDefault=a.hasDefault,this.primary=a.primaryKey,this.isUnique=a.isUnique,this.uniqueName=a.uniqueName,this.uniqueType=a.uniqueType,this.dataType=a.dataType,this.columnType=a.columnType,this.generated=a.generated,this.generatedIdentity=a.generatedIdentity}static[Be]="Column";name;keyAsName;primary;notNull;default;defaultFn;onUpdateFn;hasDefault;isUnique;uniqueName;uniqueType;dataType;columnType;enumValues=void 0;generated=void 0;generatedIdentity=void 0;config;mapFromDriverValue(s){return s}mapToDriverValue(s){return s}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}class WX{static[Be]="ColumnBuilder";config;constructor(s,a,r){this.config={name:s,keyAsName:s==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:a,columnType:r,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(s){return this.config.default=s,this.config.hasDefault=!0,this}$defaultFn(s){return this.config.defaultFn=s,this.config.hasDefault=!0,this}$default=this.$defaultFn;$onUpdateFn(s){return this.config.onUpdateFn=s,this.config.hasDefault=!0,this}$onUpdate=this.$onUpdateFn;primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(s){this.config.name===""&&(this.config.name=s)}}const Ru=Symbol.for("drizzle:Name");class GX{static[Be]="PgForeignKeyBuilder";reference;_onUpdate="no action";_onDelete="no action";constructor(s,a){this.reference=()=>{const{name:r,columns:n,foreignColumns:i}=s();return{name:r,columns:n,foreignTable:i[0].table,foreignColumns:i}},a&&(this._onUpdate=a.onUpdate,this._onDelete=a.onDelete)}onUpdate(s){return this._onUpdate=s===void 0?"no action":s,this}onDelete(s){return this._onDelete=s===void 0?"no action":s,this}build(s){return new KX(s,this)}}class KX{constructor(s,a){this.table=s,this.reference=a.reference,this.onUpdate=a._onUpdate,this.onDelete=a._onDelete}static[Be]="PgForeignKey";reference;onUpdate;onDelete;getName(){const{name:s,columns:a,foreignColumns:r}=this.reference(),n=a.map(c=>c.name),i=r.map(c=>c.name),l=[this.table[Ru],...n,r[0].table[Ru],...i];return s??`${l.join("_")}_fk`}}function YX(t,...s){return t(...s)}function QX(t){return new ZX(t)}function oD(t,s){return`${t[Ru]}_${s.join("_")}_unique`}class XX{constructor(s,a){this.name=a,this.columns=s}static[Be]="PgUniqueConstraintBuilder";columns;nullsNotDistinctConfig=!1;nullsNotDistinct(){return this.nullsNotDistinctConfig=!0,this}build(s){return new JX(s,this.columns,this.nullsNotDistinctConfig,this.name)}}class ZX{static[Be]="PgUniqueOnConstraintBuilder";name;constructor(s){this.name=s}on(...s){return new XX(s,this.name)}}class JX{constructor(s,a,r,n){this.table=s,this.columns=a,this.name=n??oD(this.table,this.columns.map(i=>i.name)),this.nullsNotDistinct=r}static[Be]="PgUniqueConstraint";columns;name;nullsNotDistinct=!1;getName(){return this.name}}function O5(t,s,a){for(let r=s;r<t.length;r++){const n=t[r];if(n==="\\"){r++;continue}if(n==='"')return[t.slice(s,r).replace(/\\/g,""),r+1];if(!a&&(n===","||n==="}"))return[t.slice(s,r).replace(/\\/g,""),r]}return[t.slice(s).replace(/\\/g,""),t.length]}function cD(t,s=0){const a=[];let r=s,n=!1;for(;r<t.length;){const i=t[r];if(i===","){(n||r===s)&&a.push(""),n=!0,r++;continue}if(n=!1,i==="\\"){r+=2;continue}if(i==='"'){const[u,m]=O5(t,r+1,!0);a.push(u),r=m;continue}if(i==="}")return[a,r+1];if(i==="{"){const[u,m]=cD(t,r+1);a.push(u),r=m;continue}const[l,c]=O5(t,r,!1);a.push(l),r=c}return[a,r]}function eZ(t){const[s]=cD(t,1);return s}function dD(t){return`{${t.map(s=>Array.isArray(s)?dD(s):typeof s=="string"?`"${s.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${s}`).join(",")}}`}class As extends WX{foreignKeyConfigs=[];static[Be]="PgColumnBuilder";array(s){return new sZ(this.config.name,this,s)}references(s,a={}){return this.foreignKeyConfigs.push({ref:s,actions:a}),this}unique(s,a){return this.config.isUnique=!0,this.config.uniqueName=s,this.config.uniqueType=a?.nulls,this}generatedAlwaysAs(s){return this.config.generated={as:s,type:"always",mode:"stored"},this}buildForeignKeys(s,a){return this.foreignKeyConfigs.map(({ref:r,actions:n})=>YX((i,l)=>{const c=new GX(()=>{const u=i();return{columns:[s],foreignColumns:[u]}});return l.onUpdate&&c.onUpdate(l.onUpdate),l.onDelete&&c.onDelete(l.onDelete),c.build(a)},r,n))}buildExtraConfigColumn(s){return new tZ(s,this.config)}}class us extends ox{constructor(s,a){a.uniqueName||(a.uniqueName=oD(s,[a.name])),super(s,a),this.table=s}static[Be]="PgColumn"}class tZ extends us{static[Be]="ExtraConfigColumn";getSQLType(){return this.getSQLType()}indexConfig={order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass};defaultConfig={order:"asc",nulls:"last",opClass:void 0};asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(s){return this.indexConfig.opClass=s,this}}class Ej{static[Be]="IndexedColumn";constructor(s,a,r,n){this.name=s,this.keyAsName=a,this.type=r,this.indexConfig=n}name;keyAsName;type;indexConfig}class sZ extends As{static[Be]="PgArrayBuilder";constructor(s,a,r){super(s,"array","PgArray"),this.config.baseBuilder=a,this.config.size=r}build(s){const a=this.config.baseBuilder.build(s);return new _1(s,this.config,a)}}class _1 extends us{constructor(s,a,r,n){super(s,a),this.baseColumn=r,this.range=n,this.size=a.size}size;static[Be]="PgArray";getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(s){return typeof s=="string"&&(s=eZ(s)),s.map(a=>this.baseColumn.mapFromDriverValue(a))}mapToDriverValue(s,a=!1){const r=s.map(n=>n===null?null:or(this.baseColumn,_1)?this.baseColumn.mapToDriverValue(n,!0):this.baseColumn.mapToDriverValue(n));return a?r:dD(r)}}const hN=Symbol.for("drizzle:isPgEnum");function aZ(t){return!!t&&typeof t=="function"&&hN in t&&t[hN]===!0}class rZ extends As{static[Be]="PgEnumColumnBuilder";constructor(s,a){super(s,"string","PgEnumColumn"),this.config.enum=a}build(s){return new nZ(s,this.config)}}class nZ extends us{static[Be]="PgEnumColumn";enum=this.config.enum;enumValues=this.config.enum.enumValues;constructor(s,a){super(s,a),this.enum=a.enum}getSQLType(){return this.enum.enumName}}function uD(t,s){return iZ(t,s,void 0)}function iZ(t,s,a){const r=Object.assign(n=>new rZ(n??"",r),{enumName:t,enumValues:s,schema:a,[hN]:!0});return r}class mD{static[Be]="Subquery";constructor(s,a,r,n=!1){this._={brand:"Subquery",sql:s,selectedFields:a,alias:r,isWith:n}}}const lZ={startActiveSpan(t,s){return s()}},Lu=Symbol.for("drizzle:ViewBaseConfig"),Pj=Symbol.for("drizzle:Schema"),$5=Symbol.for("drizzle:Columns"),B5=Symbol.for("drizzle:ExtraConfigColumns"),Aj=Symbol.for("drizzle:OriginalName"),Dj=Symbol.for("drizzle:BaseName"),Dg=Symbol.for("drizzle:IsAlias"),z5=Symbol.for("drizzle:ExtraConfigBuilder"),hD=Symbol.for("drizzle:IsDrizzleTable");let ni=class{static[Be]="Table";static Symbol={Name:Ru,Schema:Pj,OriginalName:Aj,Columns:$5,ExtraConfigColumns:B5,BaseName:Dj,IsAlias:Dg,ExtraConfigBuilder:z5};[Ru];[Aj];[Pj];[$5];[B5];[Dj];[Dg]=!1;[hD]=!0;[z5]=void 0;constructor(s,a,r){this[Ru]=this[Aj]=s,this[Pj]=a,this[Dj]=r}};function xD(t){return typeof t=="object"&&t!==null&&hD in t}function oZ(t){return t!=null&&typeof t.getSQL=="function"}function cZ(t){const s={sql:"",params:[]};for(const a of t)s.sql+=a.sql,s.params.push(...a.params),a.typings?.length&&(s.typings||(s.typings=[]),s.typings.push(...a.typings));return s}class Yi{static[Be]="StringChunk";value;constructor(s){this.value=Array.isArray(s)?s:[s]}getSQL(){return new ja([this])}}class ja{constructor(s){this.queryChunks=s}static[Be]="SQL";decoder=pD;shouldInlineParams=!1;append(s){return this.queryChunks.push(...s.queryChunks),this}toQuery(s){return lZ.startActiveSpan("drizzle.buildSQL",a=>{const r=this.buildQueryFromSourceParams(this.queryChunks,s);return a?.setAttributes({"drizzle.query.text":r.sql,"drizzle.query.params":JSON.stringify(r.params)}),r})}buildQueryFromSourceParams(s,a){const r=Object.assign({},a,{inlineParams:a.inlineParams||this.shouldInlineParams,paramStartIndex:a.paramStartIndex||{value:0}}),{casing:n,escapeName:i,escapeParam:l,prepareTyping:c,inlineParams:u,paramStartIndex:m}=r;return cZ(s.map(x=>{if(or(x,Yi))return{sql:x.value.join(""),params:[]};if(or(x,xN))return{sql:i(x.value),params:[]};if(x===void 0)return{sql:"",params:[]};if(Array.isArray(x)){const f=[new Yi("(")];for(const[g,b]of x.entries())f.push(b),g<x.length-1&&f.push(new Yi(", "));return f.push(new Yi(")")),this.buildQueryFromSourceParams(f,r)}if(or(x,ja))return this.buildQueryFromSourceParams(x.queryChunks,{...r,inlineParams:u||x.shouldInlineParams});if(or(x,ni)){const f=x[ni.Symbol.Schema],g=x[ni.Symbol.Name];return{sql:f===void 0||x[Dg]?i(g):i(f)+"."+i(g),params:[]}}if(or(x,ox)){const f=n.getColumnCasing(x);if(a.invokeSource==="indexes")return{sql:i(f),params:[]};const g=x.table[ni.Symbol.Schema];return{sql:x.table[Dg]||g===void 0?i(x.table[ni.Symbol.Name])+"."+i(f):i(g)+"."+i(x.table[ni.Symbol.Name])+"."+i(f),params:[]}}if(or(x,dZ)){const f=x[Lu].schema,g=x[Lu].name;return{sql:f===void 0||x[Lu].isAlias?i(g):i(f)+"."+i(g),params:[]}}if(or(x,gD)){if(or(x.value,pN))return{sql:l(m.value++,x),params:[x],typings:["none"]};const f=x.value===null?null:x.encoder.mapToDriverValue(x.value);if(or(f,ja))return this.buildQueryFromSourceParams([f],r);if(u)return{sql:this.mapInlineParam(f,r),params:[]};let g=["none"];return c&&(g=[c(x.encoder)]),{sql:l(m.value++,f),params:[f],typings:g}}return or(x,pN)?{sql:l(m.value++,x),params:[x],typings:["none"]}:or(x,ja.Aliased)&&x.fieldAlias!==void 0?{sql:i(x.fieldAlias),params:[]}:or(x,mD)?x._.isWith?{sql:i(x._.alias),params:[]}:this.buildQueryFromSourceParams([new Yi("("),x._.sql,new Yi(") "),new xN(x._.alias)],r):aZ(x)?x.schema?{sql:i(x.schema)+"."+i(x.enumName),params:[]}:{sql:i(x.enumName),params:[]}:oZ(x)?x.shouldOmitSQLParens?.()?this.buildQueryFromSourceParams([x.getSQL()],r):this.buildQueryFromSourceParams([new Yi("("),x.getSQL(),new Yi(")")],r):u?{sql:this.mapInlineParam(x,r),params:[]}:{sql:l(m.value++,x),params:[x],typings:["none"]}}))}mapInlineParam(s,{escapeString:a}){if(s===null)return"null";if(typeof s=="number"||typeof s=="boolean")return s.toString();if(typeof s=="string")return a(s);if(typeof s=="object"){const r=s.toString();return a(r==="[object Object]"?JSON.stringify(s):r)}throw new Error("Unexpected param value: "+s)}getSQL(){return this}as(s){return s===void 0?this:new ja.Aliased(this,s)}mapWith(s){return this.decoder=typeof s=="function"?{mapFromDriverValue:s}:s,this}inlineParams(){return this.shouldInlineParams=!0,this}if(s){return s?this:void 0}}class xN{constructor(s){this.value=s}static[Be]="Name";brand;getSQL(){return new ja([this])}}const pD={mapFromDriverValue:t=>t},fD={mapToDriverValue:t=>t};({...pD,...fD});class gD{constructor(s,a=fD){this.value=s,this.encoder=a}static[Be]="Param";brand;getSQL(){return new ja([this])}}function xd(t,...s){const a=[];(s.length>0||t.length>0&&t[0]!=="")&&a.push(new Yi(t[0]));for(const[r,n]of s.entries())a.push(n,new Yi(t[r+1]));return new ja(a)}(t=>{function s(){return new ja([])}t.empty=s;function a(u){return new ja(u)}t.fromList=a;function r(u){return new ja([new Yi(u)])}t.raw=r;function n(u,m){const x=[];for(const[f,g]of u.entries())f>0&&m!==void 0&&x.push(m),x.push(g);return new ja(x)}t.join=n;function i(u){return new xN(u)}t.identifier=i;function l(u){return new pN(u)}t.placeholder=l;function c(u,m){return new gD(u,m)}t.param=c})(xd||(xd={}));(t=>{class s{constructor(r,n){this.sql=r,this.fieldAlias=n}static[Be]="SQL.Aliased";isSelectionField=!1;getSQL(){return this.sql}clone(){return new s(this.sql,this.fieldAlias)}}t.Aliased=s})(ja||(ja={}));class pN{constructor(s){this.name=s}static[Be]="Placeholder";getSQL(){return new ja([this])}}const vD=Symbol.for("drizzle:IsDrizzleView");class dZ{static[Be]="View";[Lu];[vD]=!0;constructor({name:s,schema:a,selectedFields:r,query:n}){this[Lu]={name:s,originalName:s,schema:a,selectedFields:r,query:n,isExisting:!n,isAlias:!1}}getSQL(){return new ja([this])}}function uZ(t){return typeof t=="object"&&t!==null&&vD in t}ox.prototype.getSQL=function(){return new ja([this])};ni.prototype.getSQL=function(){return new ja([this])};mD.prototype.getSQL=function(){return new ja([this])};function mZ(t){return t[ni.Symbol.Columns]}function hZ(t){return t[Lu].selectedFields}function Ar(t,s){return{name:typeof t=="string"&&t.length>0?t:"",config:typeof t=="object"?t:s}}class M0 extends As{static[Be]="PgIntColumnBaseBuilder";generatedAlwaysAsIdentity(s){if(s){const{name:a,...r}=s;this.config.generatedIdentity={type:"always",sequenceName:a,sequenceOptions:r}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(s){if(s){const{name:a,...r}=s;this.config.generatedIdentity={type:"byDefault",sequenceName:a,sequenceOptions:r}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}class xZ extends M0{static[Be]="PgBigInt53Builder";constructor(s){super(s,"number","PgBigInt53")}build(s){return new pZ(s,this.config)}}class pZ extends us{static[Be]="PgBigInt53";getSQLType(){return"bigint"}mapFromDriverValue(s){return typeof s=="number"?s:Number(s)}}class fZ extends M0{static[Be]="PgBigInt64Builder";constructor(s){super(s,"bigint","PgBigInt64")}build(s){return new gZ(s,this.config)}}class gZ extends us{static[Be]="PgBigInt64";getSQLType(){return"bigint"}mapFromDriverValue(s){return BigInt(s)}}function vZ(t,s){const{name:a,config:r}=Ar(t,s);return r.mode==="number"?new xZ(a):new fZ(a)}class yZ extends As{static[Be]="PgBigSerial53Builder";constructor(s){super(s,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(s){return new jZ(s,this.config)}}class jZ extends us{static[Be]="PgBigSerial53";getSQLType(){return"bigserial"}mapFromDriverValue(s){return typeof s=="number"?s:Number(s)}}class bZ extends As{static[Be]="PgBigSerial64Builder";constructor(s){super(s,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(s){return new NZ(s,this.config)}}class NZ extends us{static[Be]="PgBigSerial64";getSQLType(){return"bigserial"}mapFromDriverValue(s){return BigInt(s)}}function wZ(t,s){const{name:a,config:r}=Ar(t,s);return r.mode==="number"?new yZ(a):new bZ(a)}class kZ extends As{static[Be]="PgBooleanBuilder";constructor(s){super(s,"boolean","PgBoolean")}build(s){return new CZ(s,this.config)}}class CZ extends us{static[Be]="PgBoolean";getSQLType(){return"boolean"}}function pt(t){return new kZ(t??"")}class SZ extends As{static[Be]="PgCharBuilder";constructor(s,a){super(s,"string","PgChar"),this.config.length=a.length,this.config.enumValues=a.enum}build(s){return new TZ(s,this.config)}}class TZ extends us{static[Be]="PgChar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}function _Z(t,s={}){const{name:a,config:r}=Ar(t,s);return new SZ(a,r)}class EZ extends As{static[Be]="PgCidrBuilder";constructor(s){super(s,"string","PgCidr")}build(s){return new PZ(s,this.config)}}class PZ extends us{static[Be]="PgCidr";getSQLType(){return"cidr"}}function AZ(t){return new EZ(t??"")}class DZ extends As{static[Be]="PgCustomColumnBuilder";constructor(s,a,r){super(s,"custom","PgCustomColumn"),this.config.fieldConfig=a,this.config.customTypeParams=r}build(s){return new FZ(s,this.config)}}class FZ extends us{static[Be]="PgCustomColumn";sqlName;mapTo;mapFrom;constructor(s,a){super(s,a),this.sqlName=a.customTypeParams.dataType(a.fieldConfig),this.mapTo=a.customTypeParams.toDriver,this.mapFrom=a.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(s){return typeof this.mapFrom=="function"?this.mapFrom(s):s}mapToDriverValue(s){return typeof this.mapTo=="function"?this.mapTo(s):s}}function MZ(t){return(s,a)=>{const{name:r,config:n}=Ar(s,a);return new DZ(r,n,t)}}class Ox extends As{static[Be]="PgDateColumnBaseBuilder";defaultNow(){return this.default(xd`now()`)}}class IZ extends Ox{static[Be]="PgDateBuilder";constructor(s){super(s,"date","PgDate")}build(s){return new RZ(s,this.config)}}class RZ extends us{static[Be]="PgDate";getSQLType(){return"date"}mapFromDriverValue(s){return new Date(s)}mapToDriverValue(s){return s.toISOString()}}class LZ extends Ox{static[Be]="PgDateStringBuilder";constructor(s){super(s,"string","PgDateString")}build(s){return new OZ(s,this.config)}}class OZ extends us{static[Be]="PgDateString";getSQLType(){return"date"}}function ta(t,s){const{name:a,config:r}=Ar(t,s);return r?.mode==="date"?new IZ(a):new LZ(a)}class $Z extends As{static[Be]="PgDoublePrecisionBuilder";constructor(s){super(s,"number","PgDoublePrecision")}build(s){return new BZ(s,this.config)}}class BZ extends us{static[Be]="PgDoublePrecision";getSQLType(){return"double precision"}mapFromDriverValue(s){return typeof s=="string"?Number.parseFloat(s):s}}function zZ(t){return new $Z(t??"")}class VZ extends As{static[Be]="PgInetBuilder";constructor(s){super(s,"string","PgInet")}build(s){return new UZ(s,this.config)}}class UZ extends us{static[Be]="PgInet";getSQLType(){return"inet"}}function qZ(t){return new VZ(t??"")}class HZ extends M0{static[Be]="PgIntegerBuilder";constructor(s){super(s,"number","PgInteger")}build(s){return new WZ(s,this.config)}}class WZ extends us{static[Be]="PgInteger";getSQLType(){return"integer"}mapFromDriverValue(s){return typeof s=="string"?Number.parseInt(s):s}}function de(t){return new HZ(t??"")}class GZ extends As{static[Be]="PgIntervalBuilder";constructor(s,a){super(s,"string","PgInterval"),this.config.intervalConfig=a}build(s){return new KZ(s,this.config)}}class KZ extends us{static[Be]="PgInterval";fields=this.config.intervalConfig.fields;precision=this.config.intervalConfig.precision;getSQLType(){const s=this.fields?` ${this.fields}`:"",a=this.precision?`(${this.precision})`:"";return`interval${s}${a}`}}function YZ(t,s={}){const{name:a,config:r}=Ar(t,s);return new GZ(a,r)}class QZ extends As{static[Be]="PgJsonBuilder";constructor(s){super(s,"json","PgJson")}build(s){return new XZ(s,this.config)}}class XZ extends us{static[Be]="PgJson";constructor(s,a){super(s,a)}getSQLType(){return"json"}mapToDriverValue(s){return JSON.stringify(s)}mapFromDriverValue(s){if(typeof s=="string")try{return JSON.parse(s)}catch{return s}return s}}function ZZ(t){return new QZ(t??"")}class JZ extends As{static[Be]="PgJsonbBuilder";constructor(s){super(s,"json","PgJsonb")}build(s){return new eJ(s,this.config)}}class eJ extends us{static[Be]="PgJsonb";constructor(s,a){super(s,a)}getSQLType(){return"jsonb"}mapToDriverValue(s){return JSON.stringify(s)}mapFromDriverValue(s){if(typeof s=="string")try{return JSON.parse(s)}catch{return s}return s}}function he(t){return new JZ(t??"")}class tJ extends As{static[Be]="PgLineBuilder";constructor(s){super(s,"array","PgLine")}build(s){return new sJ(s,this.config)}}class sJ extends us{static[Be]="PgLine";getSQLType(){return"line"}mapFromDriverValue(s){const[a,r,n]=s.slice(1,-1).split(",");return[Number.parseFloat(a),Number.parseFloat(r),Number.parseFloat(n)]}mapToDriverValue(s){return`{${s[0]},${s[1]},${s[2]}}`}}class aJ extends As{static[Be]="PgLineABCBuilder";constructor(s){super(s,"json","PgLineABC")}build(s){return new rJ(s,this.config)}}class rJ extends us{static[Be]="PgLineABC";getSQLType(){return"line"}mapFromDriverValue(s){const[a,r,n]=s.slice(1,-1).split(",");return{a:Number.parseFloat(a),b:Number.parseFloat(r),c:Number.parseFloat(n)}}mapToDriverValue(s){return`{${s.a},${s.b},${s.c}}`}}function nJ(t,s){const{name:a,config:r}=Ar(t,s);return!r?.mode||r.mode==="tuple"?new tJ(a):new aJ(a)}class iJ extends As{static[Be]="PgMacaddrBuilder";constructor(s){super(s,"string","PgMacaddr")}build(s){return new lJ(s,this.config)}}class lJ extends us{static[Be]="PgMacaddr";getSQLType(){return"macaddr"}}function oJ(t){return new iJ(t??"")}class cJ extends As{static[Be]="PgMacaddr8Builder";constructor(s){super(s,"string","PgMacaddr8")}build(s){return new dJ(s,this.config)}}class dJ extends us{static[Be]="PgMacaddr8";getSQLType(){return"macaddr8"}}function uJ(t){return new cJ(t??"")}class mJ extends As{static[Be]="PgNumericBuilder";constructor(s,a,r){super(s,"string","PgNumeric"),this.config.precision=a,this.config.scale=r}build(s){return new hJ(s,this.config)}}class hJ extends us{static[Be]="PgNumeric";precision;scale;constructor(s,a){super(s,a),this.precision=a.precision,this.scale=a.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}function yD(t,s){const{name:a,config:r}=Ar(t,s);return new mJ(a,r?.precision,r?.scale)}const be=yD;class xJ extends As{static[Be]="PgPointTupleBuilder";constructor(s){super(s,"array","PgPointTuple")}build(s){return new pJ(s,this.config)}}class pJ extends us{static[Be]="PgPointTuple";getSQLType(){return"point"}mapFromDriverValue(s){if(typeof s=="string"){const[a,r]=s.slice(1,-1).split(",");return[Number.parseFloat(a),Number.parseFloat(r)]}return[s.x,s.y]}mapToDriverValue(s){return`(${s[0]},${s[1]})`}}class fJ extends As{static[Be]="PgPointObjectBuilder";constructor(s){super(s,"json","PgPointObject")}build(s){return new gJ(s,this.config)}}class gJ extends us{static[Be]="PgPointObject";getSQLType(){return"point"}mapFromDriverValue(s){if(typeof s=="string"){const[a,r]=s.slice(1,-1).split(",");return{x:Number.parseFloat(a),y:Number.parseFloat(r)}}return s}mapToDriverValue(s){return`(${s.x},${s.y})`}}function vJ(t,s){const{name:a,config:r}=Ar(t,s);return!r?.mode||r.mode==="tuple"?new xJ(a):new fJ(a)}function yJ(t){const s=[];for(let a=0;a<t.length;a+=2)s.push(Number.parseInt(t.slice(a,a+2),16));return new Uint8Array(s)}function V5(t,s){const a=new ArrayBuffer(8),r=new DataView(a);for(let n=0;n<8;n++)r.setUint8(n,t[s+n]);return r.getFloat64(0,!0)}function jD(t){const s=yJ(t);let a=0;const r=s[a];a+=1;const n=new DataView(s.buffer),i=n.getUint32(a,r===1);if(a+=4,i&536870912&&(n.getUint32(a,r===1),a+=4),(i&65535)===1){const l=V5(s,a);a+=8;const c=V5(s,a);return a+=8,[l,c]}throw new Error("Unsupported geometry type")}class jJ extends As{static[Be]="PgGeometryBuilder";constructor(s){super(s,"array","PgGeometry")}build(s){return new bJ(s,this.config)}}class bJ extends us{static[Be]="PgGeometry";getSQLType(){return"geometry(point)"}mapFromDriverValue(s){return jD(s)}mapToDriverValue(s){return`point(${s[0]} ${s[1]})`}}class NJ extends As{static[Be]="PgGeometryObjectBuilder";constructor(s){super(s,"json","PgGeometryObject")}build(s){return new wJ(s,this.config)}}class wJ extends us{static[Be]="PgGeometryObject";getSQLType(){return"geometry(point)"}mapFromDriverValue(s){const a=jD(s);return{x:a[0],y:a[1]}}mapToDriverValue(s){return`point(${s.x} ${s.y})`}}function kJ(t,s){const{name:a,config:r}=Ar(t,s);return!r?.mode||r.mode==="tuple"?new jJ(a):new NJ(a)}class CJ extends As{static[Be]="PgRealBuilder";constructor(s,a){super(s,"number","PgReal"),this.config.length=a}build(s){return new SJ(s,this.config)}}class SJ extends us{static[Be]="PgReal";constructor(s,a){super(s,a)}getSQLType(){return"real"}mapFromDriverValue=s=>typeof s=="string"?Number.parseFloat(s):s}function TJ(t){return new CJ(t??"")}class _J extends As{static[Be]="PgSerialBuilder";constructor(s){super(s,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(s){return new EJ(s,this.config)}}class EJ extends us{static[Be]="PgSerial";getSQLType(){return"serial"}}function E1(t){return new _J(t??"")}class PJ extends M0{static[Be]="PgSmallIntBuilder";constructor(s){super(s,"number","PgSmallInt")}build(s){return new AJ(s,this.config)}}class AJ extends us{static[Be]="PgSmallInt";getSQLType(){return"smallint"}mapFromDriverValue=s=>typeof s=="string"?Number(s):s}function DJ(t){return new PJ(t??"")}class FJ extends As{static[Be]="PgSmallSerialBuilder";constructor(s){super(s,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(s){return new MJ(s,this.config)}}class MJ extends us{static[Be]="PgSmallSerial";getSQLType(){return"smallserial"}}function IJ(t){return new FJ(t??"")}class RJ extends As{static[Be]="PgTextBuilder";constructor(s,a){super(s,"string","PgText"),this.config.enumValues=a.enum}build(s){return new LJ(s,this.config)}}class LJ extends us{static[Be]="PgText";enumValues=this.config.enumValues;getSQLType(){return"text"}}function ne(t,s={}){const{name:a,config:r}=Ar(t,s);return new RJ(a,r)}class OJ extends Ox{constructor(s,a,r){super(s,"string","PgTime"),this.withTimezone=a,this.precision=r,this.config.withTimezone=a,this.config.precision=r}static[Be]="PgTimeBuilder";build(s){return new $J(s,this.config)}}class $J extends us{static[Be]="PgTime";withTimezone;precision;constructor(s,a){super(s,a),this.withTimezone=a.withTimezone,this.precision=a.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}function BJ(t,s={}){const{name:a,config:r}=Ar(t,s);return new OJ(a,r.withTimezone??!1,r.precision)}class zJ extends Ox{static[Be]="PgTimestampBuilder";constructor(s,a,r){super(s,"date","PgTimestamp"),this.config.withTimezone=a,this.config.precision=r}build(s){return new VJ(s,this.config)}}class VJ extends us{static[Be]="PgTimestamp";withTimezone;precision;constructor(s,a){super(s,a),this.withTimezone=a.withTimezone,this.precision=a.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}mapFromDriverValue=s=>new Date(this.withTimezone?s:s+"+0000");mapToDriverValue=s=>s.toISOString()}class UJ extends Ox{static[Be]="PgTimestampStringBuilder";constructor(s,a,r){super(s,"string","PgTimestampString"),this.config.withTimezone=a,this.config.precision=r}build(s){return new qJ(s,this.config)}}class qJ extends us{static[Be]="PgTimestampString";withTimezone;precision;constructor(s,a){super(s,a),this.withTimezone=a.withTimezone,this.precision=a.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}function Y(t,s={}){const{name:a,config:r}=Ar(t,s);return r?.mode==="string"?new UJ(a,r.withTimezone??!1,r.precision):new zJ(a,r?.withTimezone??!1,r?.precision)}class HJ extends As{static[Be]="PgUUIDBuilder";constructor(s){super(s,"string","PgUUID")}defaultRandom(){return this.default(xd`gen_random_uuid()`)}build(s){return new WJ(s,this.config)}}class WJ extends us{static[Be]="PgUUID";getSQLType(){return"uuid"}}function GJ(t){return new HJ(t??"")}class KJ extends As{static[Be]="PgVarcharBuilder";constructor(s,a){super(s,"string","PgVarchar"),this.config.length=a.length,this.config.enumValues=a.enum}build(s){return new YJ(s,this.config)}}class YJ extends us{static[Be]="PgVarchar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}function N(t,s={}){const{name:a,config:r}=Ar(t,s);return new KJ(a,r)}class QJ extends As{static[Be]="PgBinaryVectorBuilder";constructor(s,a){super(s,"string","PgBinaryVector"),this.config.dimensions=a.dimensions}build(s){return new XJ(s,this.config)}}class XJ extends us{static[Be]="PgBinaryVector";dimensions=this.config.dimensions;getSQLType(){return`bit(${this.dimensions})`}}function ZJ(t,s){const{name:a,config:r}=Ar(t,s);return new QJ(a,r)}class JJ extends As{static[Be]="PgHalfVectorBuilder";constructor(s,a){super(s,"array","PgHalfVector"),this.config.dimensions=a.dimensions}build(s){return new eee(s,this.config)}}class eee extends us{static[Be]="PgHalfVector";dimensions=this.config.dimensions;getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(s){return JSON.stringify(s)}mapFromDriverValue(s){return s.slice(1,-1).split(",").map(a=>Number.parseFloat(a))}}function tee(t,s){const{name:a,config:r}=Ar(t,s);return new JJ(a,r)}class see extends As{static[Be]="PgSparseVectorBuilder";constructor(s,a){super(s,"string","PgSparseVector"),this.config.dimensions=a.dimensions}build(s){return new aee(s,this.config)}}class aee extends us{static[Be]="PgSparseVector";dimensions=this.config.dimensions;getSQLType(){return`sparsevec(${this.dimensions})`}}function ree(t,s){const{name:a,config:r}=Ar(t,s);return new see(a,r)}class nee extends As{static[Be]="PgVectorBuilder";constructor(s,a){super(s,"array","PgVector"),this.config.dimensions=a.dimensions}build(s){return new iee(s,this.config)}}class iee extends us{static[Be]="PgVector";dimensions=this.config.dimensions;getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(s){return JSON.stringify(s)}mapFromDriverValue(s){return s.slice(1,-1).split(",").map(a=>Number.parseFloat(a))}}function lee(t,s){const{name:a,config:r}=Ar(t,s);return new nee(a,r)}function oee(){return{bigint:vZ,bigserial:wZ,boolean:pt,char:_Z,cidr:AZ,customType:MZ,date:ta,doublePrecision:zZ,inet:qZ,integer:de,interval:YZ,json:ZZ,jsonb:he,line:nJ,macaddr:oJ,macaddr8:uJ,numeric:yD,point:vJ,geometry:kJ,real:TJ,serial:E1,smallint:DJ,smallserial:IJ,text:ne,time:BJ,timestamp:Y,uuid:GJ,varchar:N,bit:ZJ,halfvec:tee,sparsevec:ree,vector:lee}}const fN=Symbol.for("drizzle:PgInlineForeignKeys"),U5=Symbol.for("drizzle:EnableRLS");class Fj extends ni{static[Be]="PgTable";static Symbol=Object.assign({},ni.Symbol,{InlineForeignKeys:fN,EnableRLS:U5});[fN]=[];[U5]=!1;[ni.Symbol.ExtraConfigBuilder]=void 0}function cee(t,s,a,r,n=t){const i=new Fj(t,r,n),l=typeof s=="function"?s(oee()):s,c=Object.fromEntries(Object.entries(l).map(([x,f])=>{const g=f;g.setName(x);const b=g.build(i);return i[fN].push(...g.buildForeignKeys(b,i)),[x,b]})),u=Object.fromEntries(Object.entries(l).map(([x,f])=>{const g=f;g.setName(x);const b=g.buildExtraConfigColumn(i);return[x,b]})),m=Object.assign(i,c);return m[ni.Symbol.Columns]=c,m[ni.Symbol.ExtraConfigColumns]=u,a&&(m[Fj.Symbol.ExtraConfigBuilder]=a),Object.assign(m,{enableRLS:()=>(m[Fj.Symbol.EnableRLS]=!0,m)})}const Fe=(t,s,a)=>cee(t,s,a,void 0);class dee{constructor(s,a){this.unique=s,this.name=a}static[Be]="PgIndexBuilderOn";on(...s){return new Mj(s.map(a=>{if(or(a,ja))return a;a=a;const r=new Ej(a.name,!!a.keyAsName,a.columnType,a.indexConfig);return a.indexConfig=JSON.parse(JSON.stringify(a.defaultConfig)),r}),this.unique,!1,this.name)}onOnly(...s){return new Mj(s.map(a=>{if(or(a,ja))return a;a=a;const r=new Ej(a.name,!!a.keyAsName,a.columnType,a.indexConfig);return a.indexConfig=a.defaultConfig,r}),this.unique,!0,this.name)}using(s,...a){return new Mj(a.map(r=>{if(or(r,ja))return r;r=r;const n=new Ej(r.name,!!r.keyAsName,r.columnType,r.indexConfig);return r.indexConfig=JSON.parse(JSON.stringify(r.defaultConfig)),n}),this.unique,!0,this.name,s)}}class Mj{static[Be]="PgIndexBuilder";config;constructor(s,a,r,n,i="btree"){this.config={name:n,columns:s,unique:a,only:r,method:i}}concurrently(){return this.config.concurrently=!0,this}with(s){return this.config.with=s,this}where(s){return this.config.where=s,this}build(s){return new uee(this.config,s)}}class uee{static[Be]="PgIndex";config;constructor(s,a){this.config={...s,table:a}}}function mee(t){return new dee(!1,t)}const Aa={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function Za(t,s){return s.includes(t.columnType)}function hee(t){return"enumValues"in t&&Array.isArray(t.enumValues)&&t.enumValues.length>0}const xee=C1([jt(),ix(),Lx(),rD()]),pee=C1([xee,S1(Ag()),Su(Ag())]),fee=ti(t=>t instanceof Buffer);function bD(t,s){const a=s?.zodInstance??HX,r=s?.coerce??{};let n;return hee(t)&&(n=t.enumValues.length?a.enum(t.enumValues):a.string()),n||(Za(t,["PgGeometry","PgPointTuple"])?n=a.tuple([a.number(),a.number()]):Za(t,["PgGeometryObject","PgPointObject"])?n=a.object({x:a.number(),y:a.number()}):Za(t,["PgHalfVector","PgVector"])?(n=a.array(a.number()),n=t.dimensions?n.length(t.dimensions):n):Za(t,["PgLine"])?n=a.tuple([a.number(),a.number(),a.number()]):Za(t,["PgLineABC"])?n=a.object({a:a.number(),b:a.number(),c:a.number()}):Za(t,["PgArray"])?(n=a.array(bD(t.baseColumn,a)),n=t.size?n.length(t.size):n):t.dataType==="array"?n=a.array(a.any()):t.dataType==="number"?n=gee(t,a,r):t.dataType==="bigint"?n=vee(t,a,r):t.dataType==="boolean"?n=r===!0||r.boolean?a.coerce.boolean():a.boolean():t.dataType==="date"?n=r===!0||r.date?a.coerce.date():a.date():t.dataType==="string"?n=yee(t,a,r):t.dataType==="json"?n=pee:t.dataType==="custom"?n=a.any():t.dataType==="buffer"&&(n=fee)),n||(n=a.any()),n}function gee(t,s,a){let r=t.getSQLType().includes("unsigned"),n,i,l=!1;Za(t,["MySqlTinyInt","SingleStoreTinyInt"])?(n=r?0:Aa.INT8_MIN,i=r?Aa.INT8_UNSIGNED_MAX:Aa.INT8_MAX,l=!0):Za(t,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(n=r?0:Aa.INT16_MIN,i=r?Aa.INT16_UNSIGNED_MAX:Aa.INT16_MAX,l=!0):Za(t,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(n=r?0:Aa.INT24_MIN,i=r?Aa.INT24_UNSIGNED_MAX:Aa.INT24_MAX,l=Za(t,["MySqlMediumInt","SingleStoreMediumInt"])):Za(t,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(n=r?0:Aa.INT32_MIN,i=r?Aa.INT32_UNSIGNED_MAX:Aa.INT32_MAX,l=!0):Za(t,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(n=r?0:Aa.INT48_MIN,i=r?Aa.INT48_UNSIGNED_MAX:Aa.INT48_MAX):Za(t,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(r=r||Za(t,["MySqlSerial","SingleStoreSerial"]),n=r?0:Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER,l=!0):Za(t,["MySqlYear","SingleStoreYear"])?(n=1901,i=2155,l=!0):(n=Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER);let c=a===!0||a?.number?s.coerce.number():s.number();return c=c.min(n).max(i),l?c.int():c}function vee(t,s,a){const r=t.getSQLType().includes("unsigned"),n=r?0n:Aa.INT64_MIN,i=r?Aa.INT64_UNSIGNED_MAX:Aa.INT64_MAX;return(a===!0||a?.bigint?s.coerce.bigint():s.bigint()).min(n).max(i)}function yee(t,s,a){if(Za(t,["PgUUID"]))return s.string().uuid();let r,n,i=!1;Za(t,["PgVarchar","SQLiteText"])?r=t.length:Za(t,["MySqlVarChar","SingleStoreVarChar"])?r=t.length??Aa.INT16_UNSIGNED_MAX:Za(t,["MySqlText","SingleStoreText"])&&(t.textType==="longtext"?r=Aa.INT32_UNSIGNED_MAX:t.textType==="mediumtext"?r=Aa.INT24_UNSIGNED_MAX:t.textType==="text"?r=Aa.INT16_UNSIGNED_MAX:r=Aa.INT8_UNSIGNED_MAX),Za(t,["PgChar","MySqlChar","SingleStoreChar"])&&(r=t.length,i=!0),Za(t,["PgBinaryVector"])&&(n=/^[01]+$/,r=t.dimensions);let l=a===!0||a?.string?s.coerce.string():s.string();return l=n?l.regex(n):l,r&&i?l.length(r):r?l.max(r):l}function ND(t){return xD(t)?mZ(t):hZ(t)}function wD(t,s,a,r){const n={};for(const[i,l]of Object.entries(t)){if(!or(l,ox)&&!or(l,ja)&&!or(l,ja.Aliased)&&typeof l=="object"){const f=xD(l)||uZ(l)?ND(l):l;n[i]=wD(f,s[i]??{},a,r);continue}const c=s[i];if(c!==void 0&&typeof c!="function"){n[i]=c;continue}const u=or(l,ox)?l:void 0,m=u?bD(u,r):Ag(),x=typeof c=="function"?c(m):m;a.never(u)||(n[i]=x,u&&(a.nullable(u)&&(n[i]=n[i].nullable()),a.optional(u)&&(n[i]=n[i].optional())))}return bn(n)}const jee={never:t=>t?.generated?.type==="always"||t?.generatedIdentity?.type==="always",optional:t=>!t.notNull||t.notNull&&t.hasDefault,nullable:t=>!t.notNull},Ie=(t,s)=>{const a=ND(t);return wD(a,{},jee)};Fe("sessions",{sid:N("sid").primaryKey(),sess:he("sess").notNull(),expire:Y("expire").notNull()},t=>[mee("IDX_session_expire").on(t.expire)]);const ct=Fe("users",{id:N("id").primaryKey().default(xd`gen_random_uuid()`),email:N("email").unique(),firstName:N("first_name"),lastName:N("last_name"),profileImageUrl:N("profile_image_url"),role:N("role",{length:30}).default("user"),bio:N("bio",{length:500}),specialties:he("specialties").default([]),termsAcceptedAt:Y("terms_accepted_at"),privacyAcceptedAt:Y("privacy_accepted_at"),termsVersion:N("terms_version",{length:20}),privacyVersion:N("privacy_version",{length:20}),instagramUserId:N("instagram_user_id"),instagramAccessToken:N("instagram_access_token",{length:512}),createdAt:Y("created_at").defaultNow(),updatedAt:Y("updated_at").defaultNow()}),kD=Fe("conversations",{id:E1("id").primaryKey(),title:ne("title").notNull(),createdAt:Y("created_at").default(xd`CURRENT_TIMESTAMP`).notNull()}),bee=Fe("messages",{id:E1("id").primaryKey(),conversationId:de("conversation_id").notNull().references(()=>kD.id,{onDelete:"cascade"}),role:ne("role").notNull(),content:ne("content").notNull(),createdAt:Y("created_at").default(xd`CURRENT_TIMESTAMP`).notNull()});Ie(kD).omit({id:!0,createdAt:!0});Ie(bee).omit({id:!0,createdAt:!0});const CD=Fe("tourist_places_searches",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),search:ne("search").notNull()}),SD=Fe("tourist_place_results",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),searchId:N("search_id").notNull().references(()=>CD.id,{onDelete:"cascade"}),country:N("country",{length:100}).notNull(),city:N("city",{length:100}).notNull(),place:N("place",{length:200}).notNull(),description:ne("description").notNull(),activities:he("activities").notNull(),festivals:he("festivals").notNull(),latitude:N("latitude",{length:200}),longitude:N("longitude",{length:200}),category:N("category",{length:200}).notNull(),bestMonths:N("best_months",{length:100}).notNull(),imageUrl:he("image_url").default([])});Fe("tourist_place_category",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),name:N("name",{length:100}).unique().notNull(),createdAt:Y("created_at").defaultNow(),updatedAt:Y("updated_at").defaultNow()});const da=Fe("trips",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:N("user_id").references(()=>ct.id,{onDelete:"set null"}),trackingNumber:N("tracking_number",{length:20}).unique(),title:N("title",{length:255}).default("My Trip"),eventType:N("event_type",{length:30}).default("vacation"),startDate:ta("start_date").notNull(),endDate:ta("end_date").notNull(),destination:N("destination",{length:255}).notNull(),status:N("status",{length:20}).default("draft").notNull(),numberOfTravelers:de("number_of_travelers").default(1),budget:be("budget",{precision:10,scale:2}),preferences:he("preferences").default({}),eventDetails:he("event_details").default({}),createdAt:Y("created_at").defaultNow(),updatedAt:Y("updated_at").defaultNow()}),Nee=Fe("generated_itineraries",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),tripId:N("trip_id").notNull().references(()=>da.id,{onDelete:"cascade"}),trackingNumber:N("tracking_number",{length:20}).unique(),itineraryData:he("itinerary_data").default({}),status:N("status",{length:20}).default("pending"),errorMessage:ne("error_message"),createdAt:Y("created_at").defaultNow(),updatedAt:Y("updated_at").defaultNow()});Fe("trip_expert_advisors",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),tripId:N("trip_id").notNull().references(()=>da.id,{onDelete:"cascade"}),localExpertId:N("local_expert_id").notNull().references(()=>ct.id,{onDelete:"cascade"}),status:N("status",{length:20}).default("pending"),message:ne("message"),assignedAt:Y("assigned_at").defaultNow()});const wee=Fe("review_ratings",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),localExpertId:N("local_expert_id").notNull().references(()=>ct.id,{onDelete:"cascade"}),reviewerId:N("reviewer_id").notNull().references(()=>ct.id,{onDelete:"cascade"}),review:ne("review").notNull(),rating:de("rating").notNull(),createdAt:Y("created_at").defaultNow(),updatedAt:Y("updated_at").defaultNow()});Fe("expert_updated_itineraries",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),tripId:N("trip_id").notNull().references(()=>da.id,{onDelete:"cascade"}),itineraryData:he("itinerary_data").default({}),message:ne("message"),status:N("status",{length:20}).default("pending"),createdById:N("created_by_id").notNull().references(()=>ct.id,{onDelete:"cascade"}),createdAt:Y("created_at").defaultNow()});Fe("tourist_preferences",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:N("user_id").notNull().references(()=>ct.id,{onDelete:"cascade"}),preferenceId:N("preference_id").notNull().references(()=>SD.id,{onDelete:"cascade"})});Fe("tourist_help_me_guide_activities",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:N("user_id").references(()=>ct.id,{onDelete:"set null"}),location:ne("location").notNull(),activity:ne("activity").notNull()});Fe("tourist_help_me_guide_events",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:N("user_id").references(()=>ct.id,{onDelete:"set null"}),location:ne("location").notNull(),event:he("event").notNull()});const kee=Fe("help_guide_trips",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:N("user_id").notNull().references(()=>ct.id,{onDelete:"cascade"}),country:N("country",{length:100}).notNull(),state:N("state",{length:100}).notNull(),city:N("city",{length:100}).notNull(),title:N("title",{length:255}).notNull(),description:ne("description").notNull(),highlights:ne("highlights").notNull(),days:de("days").notNull(),nights:de("nights").notNull(),price:be("price",{precision:10,scale:2}).notNull(),oldPrice:be("old_price",{precision:10,scale:2}),startDate:ta("start_date").notNull(),endDate:ta("end_date").notNull(),inclusive:ne("inclusive").notNull(),exclusive:ne("exclusive").notNull(),metadata:he("metadata").default({}),createdAt:Y("created_at").defaultNow()});Fe("live_events",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),searchId:N("search_id").notNull().references(()=>CD.id,{onDelete:"cascade"}),title:N("title",{length:255}).notNull(),startDate:N("start_date",{length:100}),address:ne("address"),link:ne("link"),imageUrl:ne("image_url")});Fe("trip_selected_places",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),tripId:N("trip_id").notNull().references(()=>da.id,{onDelete:"cascade"}),placeId:N("place_id",{length:255}).notNull(),name:N("name",{length:255}).notNull(),description:ne("description"),address:N("address",{length:255}),rating:be("rating"),imageUrl:N("image_url",{length:1e3}),websiteUrl:N("website_url",{length:1e3}),metadata:he("metadata").default({})});Fe("trip_selected_hotels",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),tripId:N("trip_id").notNull().references(()=>da.id,{onDelete:"cascade"}),hotelId:N("hotel_id",{length:255}).notNull(),name:N("name",{length:255}).notNull(),description:ne("description"),address:N("address",{length:255}),rating:be("rating"),priceRange:N("price_range",{length:50}),imageUrl:N("image_url",{length:1e3}),websiteUrl:N("website_url",{length:1e3}),metadata:he("metadata").default({})});Fe("trip_selected_services",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),tripId:N("trip_id").notNull().references(()=>da.id,{onDelete:"cascade"}),serviceId:N("service_id",{length:255}).notNull(),name:N("name",{length:255}).notNull(),description:ne("description"),serviceType:N("service_type",{length:50}).notNull(),priceRange:N("price_range",{length:50}),imageUrl:N("image_url",{length:1e3}),websiteUrl:N("website_url",{length:1e3}),metadata:he("metadata").default({})});Fe("trip_other_services",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),tripId:N("trip_id").notNull().references(()=>da.id,{onDelete:"cascade"}),otherService:he("other_service").default({})});Fe("trip_selected_flights",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),tripId:N("trip_id").notNull().references(()=>da.id,{onDelete:"cascade"}),flightId:N("flight_id",{length:255}).notNull(),name:N("name",{length:255}).notNull(),description:ne("description"),origin:N("origin",{length:255}),destination:N("destination",{length:255}),departureDate:ta("departure_date"),returnDate:ta("return_date"),priceRange:N("price_range",{length:50}),imageUrl:N("image_url",{length:1e3}),websiteUrl:N("website_url",{length:1e3}),metadata:he("metadata").default({})});Fe("affiliate_trips",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),tripId:N("trip_id").notNull().references(()=>da.id,{onDelete:"cascade"}),placeData:he("place_data").default([]),hotelData:he("hotel_data").default([]),serviceData:he("service_data").default([]),createdAt:Y("created_at").defaultNow()});Fe("affiliate_platforms",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),title:N("title",{length:100}).notNull(),imageUrl:ne("image_url").notNull(),platform:N("platform",{length:10}).notNull(),baseUrl:ne("base_url").notNull(),createdAt:Y("created_at").defaultNow()});const Cee=Fe("local_expert_forms",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:N("user_id").notNull().references(()=>ct.id,{onDelete:"cascade"}),firstName:N("first_name",{length:100}),lastName:N("last_name",{length:100}),email:N("email",{length:255}),phone:N("phone",{length:50}),country:N("country",{length:100}),city:N("city",{length:100}),destinations:he("destinations").default([]),specialties:he("specialties").default([]),languages:he("languages").default([]),experienceTypes:he("experience_types").default([]),specializations:he("specializations").default([]),selectedServices:he("selected_services").default([]),yearsOfExperience:N("years_of_experience",{length:50}),bio:ne("bio"),portfolio:ne("portfolio"),certifications:ne("certifications"),availability:N("availability",{length:50}),responseTime:N("response_time",{length:50}),hourlyRate:N("hourly_rate",{length:50}),yearsInCity:de("years_in_city").default(0),offerService:pt("offer_service").default(!1),govId:ne("gov_id"),travelLicence:ne("travel_licence"),instagramLink:ne("instagram_link"),facebookLink:ne("facebook_link"),linkedinLink:ne("linkedin_link"),services:he("services").default([]),serviceAvailability:de("service_availability").default(15),priceExpectation:de("price_expectation").default(0),shortBio:ne("short_bio"),confirmAge:pt("confirm_age").default(!1),termsAndConditions:pt("terms_and_conditions").default(!1),partnership:pt("partnership").default(!1),isInfluencer:pt("is_influencer").default(!1),socialFollowers:he("social_followers").default({}),verifiedInfluencer:pt("verified_influencer").default(!1),influencerTier:N("influencer_tier",{length:20}),referralCode:N("referral_code",{length:50}).unique(),tiktokLink:ne("tiktok_link"),youtubeLink:ne("youtube_link"),status:N("status",{length:20}).default("pending"),rejectionMessage:ne("rejection_message"),createdAt:Y("created_at").defaultNow()}),See=Fe("service_provider_forms",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:N("user_id").notNull().references(()=>ct.id,{onDelete:"cascade"}),businessName:ne("business_name").notNull(),name:N("name",{length:255}).notNull(),email:N("email",{length:255}).notNull(),website:ne("website"),mobile:N("mobile",{length:50}).notNull(),whatsapp:N("whatsapp",{length:50}),country:N("country",{length:100}).notNull(),address:ne("address").notNull(),bookingLink:ne("booking_link"),gst:N("gst",{length:100}),instagramLink:ne("instagram_link"),facebookLink:ne("facebook_link"),linkedinLink:ne("linkedin_link"),photo1:ne("photo1"),photo2:ne("photo2"),photo3:ne("photo3"),photo4:ne("photo4"),photo5:ne("photo5"),businessType:N("business_type",{length:100}).notNull(),serviceOffers:he("service_offers").default([]),description:ne("description"),instantBooking:pt("instant_booking").default(!1),businessLogo:ne("business_logo"),businessLicense:ne("business_license"),businessGstTax:ne("business_gst_tax"),termsAndConditions:pt("terms_and_conditions").default(!1),infoConfirmation:pt("info_confirmation").default(!1),contactRequest:pt("contact_request").default(!1),status:N("status",{length:20}).default("pending"),rejectionMessage:ne("rejection_message"),createdAt:Y("created_at").defaultNow()}),I0=Fe("service_categories",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),name:N("name",{length:100}).notNull().unique(),slug:N("slug",{length:100}).unique(),description:ne("description"),icon:N("icon",{length:10}),imageUrl:ne("image_url"),categoryType:N("category_type",{length:20}).default("service_provider"),verificationRequired:pt("verification_required").default(!0),requiredDocuments:he("required_documents").default([]),customProfileFields:he("custom_profile_fields").default([]),priceRange:he("price_range").default({}),isActive:pt("is_active").default(!0),sortOrder:de("sort_order").default(0),createdAt:Y("created_at").defaultNow(),updatedAt:Y("updated_at").defaultNow()}),Tee=Fe("service_subcategories",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),categoryId:N("category_id").notNull().references(()=>I0.id,{onDelete:"cascade"}),name:N("name",{length:100}).notNull(),description:ne("description"),icon:N("icon",{length:10}),priceRange:he("price_range").default({}),isActive:pt("is_active").default(!0),sortOrder:de("sort_order").default(0),createdAt:Y("created_at").defaultNow()}),fc=Fe("provider_services",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:N("user_id").notNull().references(()=>ct.id,{onDelete:"cascade"}),trackingNumber:N("tracking_number",{length:20}).unique(),serviceName:N("service_name",{length:255}).notNull(),shortDescription:N("short_description",{length:150}),description:ne("description"),serviceType:N("service_type",{length:50}).default("planning"),categoryId:N("category_id").references(()=>I0.id,{onDelete:"set null"}),price:be("price",{precision:10,scale:2}),priceType:N("price_type",{length:20}).default("fixed"),priceBasedOn:N("price_based_on",{length:100}),deliveryMethod:N("delivery_method",{length:50}).default("pdf"),deliveryTimeframe:N("delivery_timeframe",{length:100}),revisionsIncluded:de("revisions_included").default(0),maxConcurrentBookings:de("max_concurrent_bookings"),leadTimeHours:de("lead_time_hours").default(24),location:N("location",{length:255}).default("Unknown"),availability:he("availability").default([]),whatIncluded:he("what_included").default([]),requirements:he("requirements").default([]),faqs:he("faqs").default([]),serviceImage:ne("service_image"),serviceFile:ne("service_file"),status:N("status",{length:20}).default("active"),formStatus:N("form_status",{length:50}).default("pending"),isFeatured:pt("is_featured").default(!1),bookingsCount:de("bookings_count").default(0),totalRevenue:be("total_revenue",{precision:10,scale:2}).default("0"),averageRating:be("average_rating",{precision:3,scale:2}),reviewCount:de("review_count").default(0),createdAt:Y("created_at").defaultNow(),updatedAt:Y("updated_at").defaultNow()}),_ee=Fe("service_templates",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),categoryId:N("category_id").references(()=>I0.id,{onDelete:"cascade"}),title:N("title",{length:255}).notNull(),shortDescription:N("short_description",{length:150}),description:ne("description"),serviceType:N("service_type",{length:50}).default("planning"),suggestedPrice:be("suggested_price",{precision:10,scale:2}),priceRange:he("price_range").default([]),deliveryMethod:N("delivery_method",{length:50}),deliveryTimeframe:N("delivery_timeframe",{length:100}),whatIncluded:he("what_included").default([]),requirements:he("requirements").default([]),usageCount:de("usage_count").default(0),averageRating:be("average_rating",{precision:3,scale:2}),isActive:pt("is_active").default(!0),sortOrder:de("sort_order").default(0),createdAt:Y("created_at").defaultNow()}),TD=Fe("custom_venues",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:N("user_id").references(()=>ct.id,{onDelete:"set null"}),tripId:N("trip_id").references(()=>da.id,{onDelete:"cascade"}),experienceType:N("experience_type",{length:50}),name:N("name",{length:255}).notNull(),address:ne("address"),latitude:be("latitude",{precision:10,scale:7}),longitude:be("longitude",{precision:10,scale:7}),venueType:N("venue_type",{length:50}).default("custom"),notes:ne("notes"),estimatedCost:be("estimated_cost",{precision:10,scale:2}),imageUrl:ne("image_url"),source:N("source",{length:20}).default("custom"),createdAt:Y("created_at").defaultNow()}),P1=Fe("service_bookings",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),trackingNumber:N("tracking_number",{length:20}).unique(),serviceId:N("service_id").notNull().references(()=>fc.id,{onDelete:"cascade"}),travelerId:N("traveler_id").notNull().references(()=>ct.id,{onDelete:"cascade"}),providerId:N("provider_id").notNull().references(()=>ct.id,{onDelete:"cascade"}),contractId:N("contract_id").references(()=>R0.id,{onDelete:"set null"}),bookingDetails:he("booking_details").default({}),tripId:N("trip_id").references(()=>da.id,{onDelete:"set null"}),status:N("status",{length:30}).default("pending"),totalAmount:be("total_amount",{precision:10,scale:2}).notNull(),platformFee:be("platform_fee",{precision:10,scale:2}).default("0"),providerEarnings:be("provider_earnings",{precision:10,scale:2}),stripePaymentIntentId:N("stripe_payment_intent_id",{length:255}),confirmedAt:Y("confirmed_at"),completedAt:Y("completed_at"),cancelledAt:Y("cancelled_at"),cancellationReason:ne("cancellation_reason"),createdAt:Y("created_at").defaultNow(),updatedAt:Y("updated_at").defaultNow()}),Eee=Fe("service_reviews",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),trackingNumber:N("tracking_number",{length:20}).unique(),bookingId:N("booking_id").notNull().references(()=>P1.id,{onDelete:"cascade"}),serviceId:N("service_id").notNull().references(()=>fc.id,{onDelete:"cascade"}),providerId:N("provider_id").notNull().references(()=>ct.id,{onDelete:"cascade"}),travelerId:N("traveler_id").notNull().references(()=>ct.id,{onDelete:"cascade"}),rating:de("rating").notNull(),reviewText:ne("review_text"),responseText:ne("response_text"),responseAt:Y("response_at"),isVerified:pt("is_verified").default(!1),createdAt:Y("created_at").defaultNow()}),Pee=Fe("faqs",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),question:ne("question").notNull(),answer:ne("answer").notNull(),attachment:ne("attachment"),category:N("category",{length:100}),sortOrder:de("sort_order").default(0),createdAt:Y("created_at").defaultNow()}),_D=Fe("wallets",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:N("user_id").notNull().references(()=>ct.id,{onDelete:"cascade"}).unique(),credits:de("credits").default(0),createdAt:Y("created_at").defaultNow(),updatedAt:Y("updated_at").defaultNow()}),Aee=Fe("credit_transactions",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),walletId:N("wallet_id").notNull().references(()=>_D.id,{onDelete:"cascade"}),amount:de("amount").notNull(),transactionType:N("transaction_type",{length:20}).notNull(),description:ne("description"),referenceId:N("reference_id",{length:255}),createdAt:Y("created_at").defaultNow()}),A1=Fe("vendors",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),name:N("name",{length:255}).notNull(),category:N("category",{length:100}).notNull(),description:ne("description"),email:N("email",{length:255}),phone:N("phone",{length:50}),website:N("website",{length:500}),address:ne("address"),city:N("city",{length:100}),country:N("country",{length:100}),rating:be("rating",{precision:3,scale:2}),priceRange:N("price_range",{length:50}),imageUrl:N("image_url",{length:1e3}),status:N("status",{length:30}).default("active"),metadata:he("metadata").default({}),createdAt:Y("created_at").defaultNow(),updatedAt:Y("updated_at").defaultNow()}),Dee=Fe("vendor_assignments",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),tripId:N("trip_id").notNull().references(()=>da.id,{onDelete:"cascade"}),vendorId:N("vendor_id").notNull().references(()=>A1.id,{onDelete:"cascade"}),serviceType:N("service_type",{length:100}).notNull(),status:N("status",{length:30}).default("pending"),notes:ne("notes"),confirmedAt:Y("confirmed_at"),createdAt:Y("created_at").defaultNow(),updatedAt:Y("updated_at").defaultNow()}),Fee=Fe("notifications",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:N("user_id").notNull().references(()=>ct.id,{onDelete:"cascade"}),type:N("type",{length:50}).notNull(),title:N("title",{length:255}).notNull(),message:ne("message").notNull(),relatedId:N("related_id",{length:255}),relatedType:N("related_type",{length:50}),isRead:pt("is_read").default(!1),createdAt:Y("created_at").defaultNow()}),Mee=Fe("cart_items",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:N("user_id").notNull().references(()=>ct.id,{onDelete:"cascade"}),serviceId:N("service_id").references(()=>fc.id,{onDelete:"cascade"}),customVenueId:N("custom_venue_id").references(()=>TD.id,{onDelete:"cascade"}),experienceSlug:N("experience_slug",{length:50}),quantity:de("quantity").default(1),tripId:N("trip_id").references(()=>da.id,{onDelete:"set null"}),scheduledDate:Y("scheduled_date"),notes:ne("notes"),createdAt:Y("created_at").defaultNow()}),Iee=Fe("ai_blueprints",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),tripId:N("trip_id").references(()=>da.id,{onDelete:"cascade"}),userId:N("user_id").references(()=>ct.id,{onDelete:"set null"}),eventType:N("event_type",{length:30}).notNull(),destination:N("destination",{length:255}),blueprintData:he("blueprint_data").default({}),status:N("status",{length:30}).default("generated"),createdAt:Y("created_at").defaultNow()}),R0=Fe("user_and_expert_contracts",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),title:N("title",{length:255}).notNull(),tripTo:N("trip_to",{length:255}).notNull(),description:ne("description").notNull(),amount:be("amount",{precision:10,scale:2}).notNull(),status:N("status",{length:20}).default("pending"),isPaid:pt("is_paid").default(!1),paymentUrl:ne("payment_url"),attachment:ne("attachment"),createdAt:Y("created_at").defaultNow()}),Ree=Fe("submit_itinerary_feedbacks",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),expertId:N("expert_id").notNull().references(()=>ct.id,{onDelete:"cascade"}),contractId:N("contract_id").references(()=>R0.id,{onDelete:"cascade"}),attachment:ne("attachment"),title:N("title",{length:255}).notNull(),description:ne("description").notNull(),location:N("location",{length:200}).notNull(),status:N("status",{length:10}).default("pending"),createdAt:Y("created_at").defaultNow()}),Lee=Fe("user_and_expert_chats",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),trackingNumber:N("tracking_number",{length:20}).unique(),senderId:N("sender_id").notNull().references(()=>ct.id,{onDelete:"cascade"}),receiverId:N("receiver_id").references(()=>ct.id,{onDelete:"cascade"}),contractId:N("contract_id").references(()=>R0.id,{onDelete:"cascade"}),message:ne("message"),attachment:ne("attachment"),itinerarySubmitId:N("itinerary_submit_id").references(()=>Ree.id,{onDelete:"cascade"}),createdAt:Y("created_at").defaultNow()}),ED=Fe("itinerary_comparisons",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:N("user_id").notNull().references(()=>ct.id,{onDelete:"cascade"}),userExperienceId:N("user_experience_id").references(()=>M1.id,{onDelete:"cascade"}),tripId:N("trip_id").references(()=>da.id,{onDelete:"cascade"}),title:N("title",{length:255}),destination:N("destination",{length:255}),startDate:ta("start_date"),endDate:ta("end_date"),budget:be("budget",{precision:10,scale:2}),travelers:de("travelers").default(1),status:N("status",{length:30}).default("pending"),selectedVariantId:N("selected_variant_id"),createdAt:Y("created_at").defaultNow(),updatedAt:Y("updated_at").defaultNow()}),D1=Fe("itinerary_variants",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),comparisonId:N("comparison_id").notNull().references(()=>ED.id,{onDelete:"cascade"}),name:N("name",{length:100}).notNull(),description:ne("description"),source:N("source",{length:30}).default("user"),status:N("status",{length:30}).default("pending"),totalCost:be("total_cost",{precision:10,scale:2}),totalTravelTime:de("total_travel_time"),averageRating:be("average_rating",{precision:3,scale:2}),freeTimeMinutes:de("free_time_minutes"),optimizationScore:de("optimization_score"),aiReasoning:ne("ai_reasoning"),sortOrder:de("sort_order").default(0),createdAt:Y("created_at").defaultNow()}),Oee=Fe("itinerary_variant_items",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),variantId:N("variant_id").notNull().references(()=>D1.id,{onDelete:"cascade"}),providerServiceId:N("provider_service_id").references(()=>fc.id,{onDelete:"set null"}),dayNumber:de("day_number").notNull(),timeSlot:N("time_slot",{length:50}),startTime:N("start_time",{length:20}),endTime:N("end_time",{length:20}),name:N("name",{length:255}).notNull(),description:ne("description"),serviceType:N("service_type",{length:50}),price:be("price",{precision:10,scale:2}),rating:be("rating",{precision:3,scale:2}),location:N("location",{length:255}),latitude:be("latitude",{precision:10,scale:7}),longitude:be("longitude",{precision:10,scale:7}),duration:de("duration"),travelTimeFromPrevious:de("travel_time_from_previous"),isReplacement:pt("is_replacement").default(!1),replacementReason:ne("replacement_reason"),metadata:he("metadata").default({}),sortOrder:de("sort_order").default(0),createdAt:Y("created_at").defaultNow()}),$ee=Fe("itinerary_variant_metrics",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),variantId:N("variant_id").notNull().references(()=>D1.id,{onDelete:"cascade"}),metricKey:N("metric_key",{length:50}).notNull(),metricLabel:N("metric_label",{length:100}).notNull(),value:be("value",{precision:10,scale:2}).notNull(),unit:N("unit",{length:30}),betterIsLower:pt("better_is_lower").default(!0),comparison:N("comparison",{length:50}),improvementPercentage:be("improvement_percentage",{precision:5,scale:2}),description:ne("description"),createdAt:Y("created_at").defaultNow()}),jm=Fe("experience_types",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),name:N("name",{length:100}).notNull().unique(),slug:N("slug",{length:50}).notNull().unique(),description:ne("description"),icon:N("icon",{length:50}),color:N("color",{length:20}),imageUrl:ne("image_url"),isActive:pt("is_active").default(!0),sortOrder:de("sort_order").default(0),paymentFlowType:N("payment_flow_type",{length:50}),paymentComplexity:N("payment_complexity",{length:20}),timingComplexity:N("timing_complexity",{length:20}),contingencyLevel:N("contingency_level",{length:20}),typicalGroupSizeMin:de("typical_group_size_min"),typicalGroupSizeMax:de("typical_group_size_max"),typicalDurationMinDays:de("typical_duration_min_days"),typicalDurationMaxDays:de("typical_duration_max_days"),createdAt:Y("created_at").defaultNow()}),PD=Fe("experience_template_steps",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),experienceTypeId:N("experience_type_id").notNull().references(()=>jm.id,{onDelete:"cascade"}),stepNumber:de("step_number").notNull(),name:N("name",{length:100}).notNull(),description:ne("description"),icon:N("icon",{length:50}),serviceCategories:he("service_categories").default([]),isRequired:pt("is_required").default(!1),fields:he("fields").default([]),createdAt:Y("created_at").defaultNow()}),Bee=Fe("expert_experience_types",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),expertId:N("expert_id").notNull().references(()=>ct.id,{onDelete:"cascade"}),experienceTypeId:N("experience_type_id").notNull().references(()=>jm.id,{onDelete:"cascade"}),proficiencyLevel:N("proficiency_level",{length:20}).default("intermediate"),yearsExperience:de("years_experience").default(0),portfolioUrl:ne("portfolio_url"),createdAt:Y("created_at").defaultNow()}),F1=Fe("expert_service_categories",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),name:N("name",{length:100}).notNull().unique(),isDefault:pt("is_default").default(!0),sortOrder:de("sort_order").default(0),createdAt:Y("created_at").defaultNow()}),AD=Fe("expert_service_offerings",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),categoryId:N("category_id").notNull().references(()=>F1.id,{onDelete:"cascade"}),name:N("name",{length:255}).notNull(),description:ne("description"),price:be("price",{precision:10,scale:2}).notNull(),isDefault:pt("is_default").default(!0),sortOrder:de("sort_order").default(0),createdAt:Y("created_at").defaultNow()}),zee=Fe("expert_selected_services",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),expertId:N("expert_id").notNull().references(()=>ct.id,{onDelete:"cascade"}),serviceOfferingId:N("service_offering_id").notNull().references(()=>AD.id,{onDelete:"cascade"}),customPrice:be("custom_price",{precision:10,scale:2}),isActive:pt("is_active").default(!0),createdAt:Y("created_at").defaultNow()}),Vee=Fe("expert_specializations",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),expertId:N("expert_id").notNull().references(()=>ct.id,{onDelete:"cascade"}),specialization:N("specialization",{length:50}).notNull(),createdAt:Y("created_at").defaultNow()}),Uee=Fe("expert_custom_services",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),expertId:N("expert_id").notNull().references(()=>ct.id,{onDelete:"cascade"}),title:N("title",{length:255}).notNull(),description:ne("description"),categoryName:N("category_name",{length:100}),existingCategoryId:N("existing_category_id").references(()=>F1.id,{onDelete:"set null"}),price:be("price",{precision:10,scale:2}).notNull(),duration:N("duration",{length:50}),deliverables:he("deliverables").default([]),cancellationPolicy:ne("cancellation_policy"),leadTime:N("lead_time",{length:50}),imageUrl:ne("image_url"),galleryImages:he("gallery_images").default([]),experienceTypes:he("experience_types").default([]),status:N("status",{length:20}).default("draft"),submittedAt:Y("submitted_at"),reviewedAt:Y("reviewed_at"),reviewedBy:N("reviewed_by").references(()=>ct.id,{onDelete:"set null"}),rejectionReason:ne("rejection_reason"),isActive:pt("is_active").default(!0),bookingsCount:de("bookings_count").default(0),averageRating:be("average_rating",{precision:3,scale:2}).default("0"),createdAt:Y("created_at").defaultNow(),updatedAt:Y("updated_at").defaultNow()}),qee=Fe("influencer_referrals",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),influencerId:N("influencer_id").notNull().references(()=>ct.id,{onDelete:"cascade"}),referralCode:N("referral_code",{length:50}).notNull(),referredUserId:N("referred_user_id").references(()=>ct.id,{onDelete:"set null"}),bookingId:N("booking_id"),status:N("status",{length:20}).default("pending"),commissionRate:be("commission_rate",{precision:5,scale:2}).default("10.00"),commissionAmount:be("commission_amount",{precision:10,scale:2}),bookingAmount:be("booking_amount",{precision:10,scale:2}),paidAt:Y("paid_at"),expiresAt:Y("expires_at"),metadata:he("metadata").default({}),createdAt:Y("created_at").defaultNow()}),Hee=Fe("influencer_curated_content",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),influencerId:N("influencer_id").notNull().references(()=>ct.id,{onDelete:"cascade"}),title:N("title",{length:255}).notNull(),description:ne("description"),category:N("category",{length:100}),contentType:N("content_type",{length:50}).default("guide"),platform:N("platform",{length:50}),externalUrl:ne("external_url"),imageUrl:ne("image_url"),destinations:he("destinations").default([]),experiences:he("experiences").default([]),tags:he("tags").default([]),viewCount:de("view_count").default(0),saveCount:de("save_count").default(0),isFeatured:pt("is_featured").default(!1),isActive:pt("is_active").default(!0),publishedAt:Y("published_at"),createdAt:Y("created_at").defaultNow(),updatedAt:Y("updated_at").defaultNow()}),M1=Fe("user_experiences",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),trackingNumber:N("tracking_number",{length:20}).unique(),userId:N("user_id").notNull().references(()=>ct.id,{onDelete:"cascade"}),experienceTypeId:N("experience_type_id").notNull().references(()=>jm.id,{onDelete:"cascade"}),title:N("title",{length:255}),status:N("status",{length:20}).default("draft"),eventDate:ta("event_date"),location:N("location",{length:255}),budget:be("budget",{precision:10,scale:2}),guestCount:de("guest_count"),preferences:he("preferences").default({}),stepData:he("step_data").default({}),currentStep:de("current_step").default(1),mapData:he("map_data").default({}),createdAt:Y("created_at").defaultNow(),updatedAt:Y("updated_at").defaultNow()}),Wee=Fe("user_experience_items",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userExperienceId:N("user_experience_id").notNull().references(()=>M1.id,{onDelete:"cascade"}),stepId:N("step_id").references(()=>PD.id,{onDelete:"set null"}),providerServiceId:N("provider_service_id").references(()=>fc.id,{onDelete:"set null"}),externalServiceData:he("external_service_data").default({}),isExternal:pt("is_external").default(!1),name:N("name",{length:255}).notNull(),description:ne("description"),price:be("price",{precision:10,scale:2}),scheduledDate:Y("scheduled_date"),scheduledTime:N("scheduled_time",{length:20}),location:N("location",{length:255}),latitude:be("latitude",{precision:10,scale:7}),longitude:be("longitude",{precision:10,scale:7}),status:N("status",{length:20}).default("pending"),notes:ne("notes"),metadata:he("metadata").default({}),sortOrder:de("sort_order").default(0),createdAt:Y("created_at").defaultNow()}),Gee=Ie(da).omit({id:!0,userId:!0,createdAt:!0,updatedAt:!0});Ie(Nee).omit({id:!0,createdAt:!0,updatedAt:!0});Ie(wee).omit({id:!0,createdAt:!0,updatedAt:!0});Ie(Lee).omit({id:!0,createdAt:!0});Ie(SD).omit({id:!0});Ie(kee).omit({id:!0,userId:!0,createdAt:!0});Ie(A1).omit({id:!0,createdAt:!0,updatedAt:!0});Ie(Dee).omit({id:!0,createdAt:!0,updatedAt:!0});Ie(Iee).omit({id:!0,createdAt:!0});Ie(Cee).omit({id:!0,userId:!0,status:!0,rejectionMessage:!0,createdAt:!0,verifiedInfluencer:!0,influencerTier:!0,referralCode:!0});Ie(See).omit({id:!0,userId:!0,status:!0,rejectionMessage:!0,createdAt:!0});Ie(I0).omit({id:!0,createdAt:!0});Ie(Tee).omit({id:!0,createdAt:!0});Ie(fc).omit({id:!0,userId:!0,formStatus:!0,bookingsCount:!0,totalRevenue:!0,averageRating:!0,reviewCount:!0,createdAt:!0,updatedAt:!0});Ie(Pee).omit({id:!0,createdAt:!0});Ie(_D).omit({id:!0,userId:!0,createdAt:!0,updatedAt:!0});Ie(Aee).omit({id:!0,createdAt:!0});Ie(_ee).omit({id:!0,usageCount:!0,averageRating:!0,createdAt:!0});Ie(P1).omit({id:!0,confirmedAt:!0,completedAt:!0,cancelledAt:!0,createdAt:!0,updatedAt:!0});Ie(Eee).omit({id:!0,responseText:!0,responseAt:!0,createdAt:!0});Ie(Mee).omit({id:!0,userId:!0,createdAt:!0});Ie(R0).omit({id:!0,status:!0,isPaid:!0,paymentUrl:!0,createdAt:!0});Ie(Fee).omit({id:!0,isRead:!0,createdAt:!0});Ie(jm).omit({id:!0,createdAt:!0});Ie(PD).omit({id:!0,createdAt:!0});Ie(Bee).omit({id:!0,createdAt:!0});Ie(M1).omit({id:!0,userId:!0,createdAt:!0,updatedAt:!0});Ie(Wee).omit({id:!0,createdAt:!0});Ie(F1).omit({id:!0,createdAt:!0});Ie(AD).omit({id:!0,createdAt:!0});Ie(zee).omit({id:!0,createdAt:!0});Ie(Vee).omit({id:!0,createdAt:!0});Ie(Uee).omit({id:!0,expertId:!0,status:!0,submittedAt:!0,reviewedAt:!0,reviewedBy:!0,rejectionReason:!0,bookingsCount:!0,averageRating:!0,createdAt:!0,updatedAt:!0});Ie(qee).omit({id:!0,createdAt:!0});Ie(Hee).omit({id:!0,viewCount:!0,saveCount:!0,createdAt:!0,updatedAt:!0});Ie(ED).omit({id:!0,createdAt:!0,updatedAt:!0});Ie(D1).omit({id:!0,createdAt:!0});Ie(Oee).omit({id:!0,createdAt:!0});Ie($ee).omit({id:!0,createdAt:!0});Ie(TD).omit({id:!0,createdAt:!0});const Kee=Fe("destination_events",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),country:N("country",{length:100}).notNull(),city:N("city",{length:100}),region:N("region",{length:100}),title:N("title",{length:255}).notNull(),description:ne("description"),eventType:N("event_type",{length:30}).default("other"),startMonth:de("start_month"),endMonth:de("end_month"),specificDate:ta("specific_date"),isRecurring:pt("is_recurring").default(!0),year:de("year"),seasonRating:N("season_rating",{length:20}),highlights:he("highlights").default([]),tips:ne("tips"),sourceType:N("source_type",{length:20}).default("manual"),sourceId:N("source_id",{length:255}),contributorId:N("contributor_id").references(()=>ct.id,{onDelete:"set null"}),status:N("status",{length:20}).default("pending"),reviewedBy:N("reviewed_by").references(()=>ct.id,{onDelete:"set null"}),reviewedAt:Y("reviewed_at"),rejectionReason:ne("rejection_reason"),metadata:he("metadata").default({}),createdAt:Y("created_at").defaultNow(),updatedAt:Y("updated_at").defaultNow()}),Yee=Fe("destination_seasons",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),country:N("country",{length:100}).notNull(),city:N("city",{length:100}),month:de("month").notNull(),rating:N("rating",{length:20}).notNull(),weatherDescription:ne("weather_description"),averageTemp:N("average_temp",{length:20}),rainfall:N("rainfall",{length:50}),crowdLevel:N("crowd_level",{length:20}),priceLevel:N("price_level",{length:20}),highlights:he("highlights").default([]),sourceType:N("source_type",{length:20}).default("system"),createdAt:Y("created_at").defaultNow(),updatedAt:Y("updated_at").defaultNow()});Ie(Kee).omit({id:!0,createdAt:!0,updatedAt:!0,reviewedAt:!0});Ie(Yee).omit({id:!0,createdAt:!0,updatedAt:!0});const DD=Fe("vendor_availability_slots",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),serviceId:N("service_id").notNull().references(()=>fc.id,{onDelete:"cascade"}),providerId:N("provider_id").notNull().references(()=>ct.id,{onDelete:"cascade"}),date:ta("date").notNull(),startTime:N("start_time",{length:10}),endTime:N("end_time",{length:10}),capacity:de("capacity").default(1),bookedCount:de("booked_count").default(0),status:N("status",{length:20}).default("available"),pricing:he("pricing").default({}),discounts:he("discounts").default([]),minimumNotice:N("minimum_notice",{length:50}).default("24 hours"),cancellationPolicy:N("cancellation_policy",{length:100}),specialRequirements:he("special_requirements").default([]),confirmationMethod:N("confirmation_method",{length:20}).default("instant"),createdAt:Y("created_at").defaultNow(),updatedAt:Y("updated_at").defaultNow()}),FD=Fe("coordination_states",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:N("user_id").notNull().references(()=>ct.id,{onDelete:"cascade"}),tripId:N("trip_id").references(()=>da.id,{onDelete:"cascade"}),experienceType:N("experience_type",{length:50}).notNull(),status:N("status",{length:30}).default("intake"),path:N("path",{length:20}).default("browse"),userRequest:he("user_request").default({}),destination:N("destination",{length:255}),dates:he("dates").default({}),travelers:he("travelers").default({}),budget:he("budget").default({}),preferences:he("preferences").default({}),assignedExpertId:N("assigned_expert_id").references(()=>ct.id,{onDelete:"set null"}),expertRecommendations:he("expert_recommendations").default({}),selectedVendors:he("selected_vendors").default([]),customVenueIds:he("custom_venue_ids").default([]),generatedItinerary:he("generated_itinerary").default({}),optimizationScore:be("optimization_score",{precision:5,scale:2}),aiInsights:he("ai_insights").default({}),bookingStatuses:he("booking_statuses").default([]),confirmations:he("confirmations").default([]),timeline:he("timeline").default([]),stateHistory:he("state_history").default([]),totalEstimatedCost:be("total_estimated_cost",{precision:10,scale:2}),totalConfirmedCost:be("total_confirmed_cost",{precision:10,scale:2}),createdAt:Y("created_at").defaultNow(),updatedAt:Y("updated_at").defaultNow(),completedAt:Y("completed_at")}),Qee=Fe("coordination_bookings",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),coordinationId:N("coordination_id").notNull().references(()=>FD.id,{onDelete:"cascade"}),itemType:N("item_type",{length:30}).notNull(),itemId:N("item_id",{length:255}).notNull(),itemName:N("item_name",{length:255}).notNull(),vendorId:N("vendor_id").references(()=>ct.id,{onDelete:"set null"}),serviceId:N("service_id").references(()=>fc.id,{onDelete:"set null"}),availabilitySlotId:N("availability_slot_id").references(()=>DD.id,{onDelete:"set null"}),scheduledDate:ta("scheduled_date"),scheduledTime:N("scheduled_time",{length:10}),duration:N("duration",{length:50}),price:be("price",{precision:10,scale:2}),currency:N("currency",{length:10}).default("USD"),status:N("status",{length:30}).default("pending"),bookingReference:N("booking_reference",{length:100}),confirmationDetails:he("confirmation_details").default({}),source:N("source",{length:30}).default("platform"),createdAt:Y("created_at").defaultNow(),updatedAt:Y("updated_at").defaultNow(),confirmedAt:Y("confirmed_at")}),MD=Fe("hotel_cache",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),hotelId:N("hotel_id",{length:100}).notNull(),cityCode:N("city_code",{length:10}).notNull(),name:N("name",{length:255}).notNull(),latitude:be("latitude",{precision:10,scale:7}),longitude:be("longitude",{precision:10,scale:7}),address:ne("address"),city:N("city",{length:255}),state:N("state",{length:100}),county:N("county",{length:100}),countryCode:N("country_code",{length:10}),countryName:N("country_name",{length:100}),postalCode:N("postal_code",{length:20}),provider:N("provider",{length:100}).default("amadeus"),rating:N("rating",{length:10}),starRating:de("star_rating"),reviewCount:de("review_count").default(0),popularityScore:de("popularity_score").default(0),preferenceTags:he("preference_tags").default([]),amenities:he("amenities").default([]),media:he("media").default([]),rawData:he("raw_data").default({}),lastUpdated:Y("last_updated").defaultNow(),expiresAt:Y("expires_at").notNull()}),Xee=Fe("hotel_offer_cache",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),hotelCacheId:N("hotel_cache_id").notNull().references(()=>MD.id,{onDelete:"cascade"}),offerId:N("offer_id",{length:100}).notNull(),checkInDate:ta("check_in_date").notNull(),checkOutDate:ta("check_out_date").notNull(),roomType:N("room_type",{length:100}),roomDescription:ne("room_description"),price:be("price",{precision:10,scale:2}),currency:N("currency",{length:10}).default("USD"),rawData:he("raw_data").default({}),lastUpdated:Y("last_updated").defaultNow(),expiresAt:Y("expires_at").notNull()}),Zee=Fe("activity_cache",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),productCode:N("product_code",{length:100}).notNull().unique(),destination:N("destination",{length:255}).notNull(),title:N("title",{length:500}).notNull(),description:ne("description"),latitude:be("latitude",{precision:10,scale:7}),longitude:be("longitude",{precision:10,scale:7}),meetingPoint:ne("meeting_point"),address:ne("address"),city:N("city",{length:255}),state:N("state",{length:100}),county:N("county",{length:100}),countryCode:N("country_code",{length:10}),countryName:N("country_name",{length:100}),postalCode:N("postal_code",{length:20}),provider:N("provider",{length:100}).default("viator"),category:N("category",{length:100}),subcategory:N("subcategory",{length:100}),preferenceTags:he("preference_tags").default([]),popularityScore:de("popularity_score").default(0),durationMinutes:de("duration_minutes"),price:be("price",{precision:10,scale:2}),currency:N("currency",{length:10}).default("USD"),rating:be("rating",{precision:3,scale:2}),reviewCount:de("review_count").default(0),imageUrl:ne("image_url"),flags:he("flags").default([]),tags:he("tags").default([]),rawData:he("raw_data").default({}),lastUpdated:Y("last_updated").defaultNow(),expiresAt:Y("expires_at").notNull()}),Jee=Fe("flight_cache",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),originCode:N("origin_code",{length:10}).notNull(),destinationCode:N("destination_code",{length:10}).notNull(),departureDate:ta("departure_date").notNull(),returnDate:ta("return_date"),adults:de("adults").notNull(),offerId:N("offer_id",{length:100}).notNull(),carrierCode:N("carrier_code",{length:10}),carrierName:N("carrier_name",{length:100}),flightNumber:N("flight_number",{length:20}),departureTime:N("departure_time",{length:30}),arrivalTime:N("arrival_time",{length:30}),duration:N("duration",{length:30}),stops:de("stops").default(0),originLatitude:be("origin_latitude",{precision:10,scale:7}),originLongitude:be("origin_longitude",{precision:10,scale:7}),originCity:N("origin_city",{length:255}),originCountryCode:N("origin_country_code",{length:10}),originAirportName:N("origin_airport_name",{length:255}),destinationLatitude:be("destination_latitude",{precision:10,scale:7}),destinationLongitude:be("destination_longitude",{precision:10,scale:7}),destinationCity:N("destination_city",{length:255}),destinationCountryCode:N("destination_country_code",{length:10}),destinationAirportName:N("destination_airport_name",{length:255}),provider:N("provider",{length:100}).default("amadeus"),price:be("price",{precision:10,scale:2}),currency:N("currency",{length:10}).default("USD"),cabin:N("cabin",{length:50}),popularityScore:de("popularity_score").default(0),rawData:he("raw_data").default({}),lastUpdated:Y("last_updated").defaultNow(),expiresAt:Y("expires_at").notNull()}),ete=Fe("location_cache",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),iataCode:N("iata_code",{length:10}).notNull(),locationType:N("location_type",{length:20}).notNull(),name:N("name",{length:255}).notNull(),detailedName:ne("detailed_name"),cityName:N("city_name",{length:255}),cityCode:N("city_code",{length:10}),countryName:N("country_name",{length:100}),countryCode:N("country_code",{length:10}),regionCode:N("region_code",{length:20}),stateCode:N("state_code",{length:20}),latitude:ne("latitude"),longitude:ne("longitude"),timeZoneOffset:N("timezone_offset",{length:10}),travelerScore:de("traveler_score"),rawData:he("raw_data").default({}),lastUpdated:Y("last_updated").defaultNow(),expiresAt:Y("expires_at").notNull()}),tte=Fe("fever_event_cache",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),eventId:N("event_id",{length:100}).notNull(),title:N("title",{length:500}).notNull(),slug:N("slug",{length:500}),description:ne("description"),shortDescription:ne("short_description"),imageUrl:ne("image_url"),thumbnailUrl:ne("thumbnail_url"),category:N("category",{length:100}).notNull(),subcategory:N("subcategory",{length:100}),city:N("city",{length:255}).notNull(),cityCode:N("city_code",{length:10}).notNull(),country:N("country",{length:100}).notNull(),countryCode:N("country_code",{length:10}),venueName:N("venue_name",{length:255}),venueAddress:ne("venue_address"),latitude:be("latitude",{precision:10,scale:7}),longitude:be("longitude",{precision:10,scale:7}),startDate:Y("start_date"),endDate:Y("end_date"),sessions:he("sessions").default([]),currency:N("currency",{length:10}).default("USD"),minPrice:be("min_price",{precision:10,scale:2}),maxPrice:be("max_price",{precision:10,scale:2}),priceRange:N("price_range",{length:100}),isFree:pt("is_free").default(!1),isSoldOut:pt("is_sold_out").default(!1),rating:be("rating",{precision:3,scale:2}),reviewCount:de("review_count").default(0),bookingUrl:ne("booking_url").notNull(),affiliateUrl:ne("affiliate_url"),tags:he("tags").default([]),highlights:he("highlights").default([]),provider:N("provider",{length:100}).default("fever"),rawData:he("raw_data").default({}),lastUpdated:Y("last_updated").defaultNow(),expiresAt:Y("expires_at").notNull()}),ste=Fe("user_filter_preferences",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:N("user_id").notNull().references(()=>ct.id,{onDelete:"cascade"}),itemType:N("item_type",{length:30}).notNull(),priceMin:be("price_min",{precision:10,scale:2}).default("0"),priceMax:be("price_max",{precision:10,scale:2}).default("10000"),minRating:be("min_rating",{precision:3,scale:2}).default("0"),sortBy:N("sort_by",{length:30}).default("popularity"),selectedTags:he("selected_tags").default([]),searchQuery:ne("search_query"),county:N("county",{length:100}),state:N("state",{length:100}),countryCode:N("country_code",{length:10}),createdAt:Y("created_at").defaultNow(),updatedAt:Y("updated_at").defaultNow()}),ate=Fe("poi_cache",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),amadeusId:N("amadeus_id",{length:100}).notNull().unique(),name:N("name",{length:500}).notNull(),category:N("category",{length:100}).notNull(),rank:de("rank").default(0),latitude:be("latitude",{precision:10,scale:7}).notNull(),longitude:be("longitude",{precision:10,scale:7}).notNull(),city:N("city",{length:255}),country:N("country",{length:100}),countryCode:N("country_code",{length:10}),tags:he("tags").default([]),rawData:he("raw_data").default({}),lastUpdated:Y("last_updated").defaultNow(),expiresAt:Y("expires_at").notNull()}),rte=Fe("transfer_cache",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),offerId:N("offer_id",{length:100}).notNull(),transferType:N("transfer_type",{length:50}).notNull(),startLocationCode:N("start_location_code",{length:10}).notNull(),endAddress:ne("end_address"),endCityName:N("end_city_name",{length:255}),endLatitude:be("end_latitude",{precision:10,scale:7}),endLongitude:be("end_longitude",{precision:10,scale:7}),vehicleCode:N("vehicle_code",{length:50}),vehicleCategory:N("vehicle_category",{length:100}),vehicleDescription:ne("vehicle_description"),maxSeats:de("max_seats"),price:be("price",{precision:10,scale:2}),currency:N("currency",{length:10}).default("USD"),provider:N("provider",{length:100}).default("amadeus"),rawData:he("raw_data").default({}),lastUpdated:Y("last_updated").defaultNow(),expiresAt:Y("expires_at").notNull()}),nte=Fe("safety_cache",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),amadeusId:N("amadeus_id",{length:100}).notNull().unique(),name:N("name",{length:500}).notNull(),subType:N("sub_type",{length:50}),latitude:be("latitude",{precision:10,scale:7}).notNull(),longitude:be("longitude",{precision:10,scale:7}).notNull(),city:N("city",{length:255}),country:N("country",{length:100}),countryCode:N("country_code",{length:10}),overallScore:de("overall_score"),lgbtqScore:de("lgbtq_score"),medicalScore:de("medical_score"),physicalHarmScore:de("physical_harm_score"),politicalFreedomScore:de("political_freedom_score"),theftScore:de("theft_score"),womenSafetyScore:de("women_safety_score"),rawData:he("raw_data").default({}),lastUpdated:Y("last_updated").defaultNow(),expiresAt:Y("expires_at").notNull()});Ie(MD).omit({id:!0,lastUpdated:!0});Ie(Xee).omit({id:!0,lastUpdated:!0});Ie(Zee).omit({id:!0,lastUpdated:!0});Ie(Jee).omit({id:!0,lastUpdated:!0});Ie(ete).omit({id:!0,lastUpdated:!0});Ie(tte).omit({id:!0,lastUpdated:!0});Ie(ate).omit({id:!0,lastUpdated:!0});Ie(rte).omit({id:!0,lastUpdated:!0});Ie(nte).omit({id:!0,lastUpdated:!0});Ie(ste).omit({id:!0,createdAt:!0,updatedAt:!0});Ie(DD).omit({id:!0,createdAt:!0,updatedAt:!0});Ie(FD).omit({id:!0,createdAt:!0,updatedAt:!0,completedAt:!0});Ie(Qee).omit({id:!0,createdAt:!0,updatedAt:!0,confirmedAt:!0});const ite=Fe("ai_interactions",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),taskType:N("task_type",{length:50}).notNull(),provider:N("provider",{length:20}).notNull(),promptTokens:de("prompt_tokens").default(0),completionTokens:de("completion_tokens").default(0),totalTokens:de("total_tokens").default(0),estimatedCost:be("estimated_cost",{precision:10,scale:6}).default("0"),durationMs:de("duration_ms").default(0),success:pt("success").default(!0),errorMessage:ne("error_message"),userId:N("user_id").references(()=>ct.id,{onDelete:"set null"}),tripId:N("trip_id").references(()=>da.id,{onDelete:"set null"}),metadata:he("metadata").default({}),createdAt:Y("created_at").defaultNow()}),lte=Fe("expert_match_scores",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),tripId:N("trip_id").references(()=>da.id,{onDelete:"cascade"}),expertId:N("expert_id").notNull().references(()=>ct.id,{onDelete:"cascade"}),travelerId:N("traveler_id").references(()=>ct.id,{onDelete:"set null"}),overallScore:de("overall_score").notNull(),destinationMatch:de("destination_match").default(0),specialtyMatch:de("specialty_match").default(0),experienceTypeMatch:de("experience_type_match").default(0),budgetAlignment:de("budget_alignment").default(0),availabilityScore:de("availability_score").default(0),strengths:he("strengths").default([]),reasoning:ne("reasoning"),requestContext:he("request_context").default({}),createdAt:Y("created_at").defaultNow(),expiresAt:Y("expires_at")}),ote=Fe("destination_intelligence",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),destination:N("destination",{length:255}).notNull(),startDate:N("start_date",{length:10}),endDate:N("end_date",{length:10}),intelligenceData:he("intelligence_data").default({}),events:he("events").default([]),weatherForecast:he("weather_forecast").default({}),safetyAlerts:he("safety_alerts").default([]),trendingExperiences:he("trending_experiences").default([]),deals:he("deals").default([]),lastUpdated:Y("last_updated").defaultNow(),expiresAt:Y("expires_at").notNull()}),cte=Fe("trending_experiences",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),destination:N("destination",{length:255}),experienceName:N("experience_name",{length:255}).notNull(),experienceType:N("experience_type",{length:50}),reason:ne("reason"),popularityScore:de("popularity_score").default(0),source:N("source",{length:50}).default("grok"),metadata:he("metadata").default({}),createdAt:Y("created_at").defaultNow(),expiresAt:Y("expires_at")}),dte=Fe("ai_generated_itineraries",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:N("user_id").references(()=>ct.id,{onDelete:"set null"}),tripId:N("trip_id").references(()=>da.id,{onDelete:"cascade"}),destination:N("destination",{length:255}).notNull(),startDate:ta("start_date").notNull(),endDate:ta("end_date").notNull(),title:N("title",{length:255}),summary:ne("summary"),totalEstimatedCost:be("total_estimated_cost",{precision:10,scale:2}),itineraryData:he("itinerary_data").default({}),accommodationSuggestions:he("accommodation_suggestions").default([]),packingList:he("packing_list").default([]),travelTips:he("travel_tips").default([]),provider:N("provider",{length:20}).default("grok"),status:N("status",{length:20}).default("generated"),feedback:he("feedback").default({}),createdAt:Y("created_at").defaultNow(),updatedAt:Y("updated_at").defaultNow()}),ute=Fe("expert_ai_tasks",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),expertId:N("expert_id").notNull().references(()=>ct.id,{onDelete:"cascade"}),taskType:N("task_type",{length:50}).notNull(),status:N("status",{length:20}).default("pending").notNull(),clientName:N("client_name",{length:255}),taskDescription:ne("task_description").notNull(),context:he("context").default({}),aiResult:he("ai_result").default({}),confidence:de("confidence"),qualityScore:be("quality_score",{precision:3,scale:1}),editedContent:ne("edited_content"),wasEdited:pt("was_edited").default(!1),tokensUsed:de("tokens_used").default(0),costEstimate:be("cost_estimate",{precision:10,scale:6}).default("0"),completedAt:Y("completed_at"),createdAt:Y("created_at").defaultNow(),updatedAt:Y("updated_at").defaultNow()});Ie(ite).omit({id:!0,createdAt:!0});Ie(ute).omit({id:!0,createdAt:!0,updatedAt:!0,completedAt:!0});Ie(lte).omit({id:!0,createdAt:!0});Ie(ote).omit({id:!0,lastUpdated:!0});Ie(cte).omit({id:!0,createdAt:!0});Ie(dte).omit({id:!0,createdAt:!0,updatedAt:!0});const mte=Fe("travel_pulse_trending",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),city:N("city",{length:100}).notNull(),country:N("country",{length:100}),destinationName:N("destination_name",{length:255}).notNull(),destinationType:N("destination_type",{length:50}),trendScore:de("trend_score").default(0),growthPercent:de("growth_percent").default(0),mentionCount:de("mention_count").default(0),trendStatus:N("trend_status",{length:20}).default("emerging"),triggerEvent:ne("trigger_event"),liveScore:be("live_score",{precision:3,scale:2}),liveScoreChange:be("live_score_change",{precision:3,scale:2}),sentimentScore:be("sentiment_score",{precision:3,scale:2}),sentimentTrend:N("sentiment_trend",{length:10}),worthItPercent:de("worth_it_percent"),mehPercent:de("meh_percent"),avoidPercent:de("avoid_percent"),overallVerdict:N("overall_verdict",{length:20}),realityScore:de("reality_score"),topHighlights:he("top_highlights").default([]),topWarnings:he("top_warnings").default([]),crowdsourcedTips:he("crowdsourced_tips").default([]),bestTimeToVisit:N("best_time_to_visit",{length:100}),worstTimeToVisit:N("worst_time_to_visit",{length:100}),crowdForecast:he("crowd_forecast").default([]),imageUrl:ne("image_url"),latitude:be("latitude",{precision:10,scale:7}),longitude:be("longitude",{precision:10,scale:7}),detectedAt:Y("detected_at").defaultNow(),lastUpdated:Y("last_updated").defaultNow(),expiresAt:Y("expires_at")}),hte=Fe("travel_pulse_live_scores",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),entityName:N("entity_name",{length:255}).notNull(),entityType:N("entity_type",{length:50}),city:N("city",{length:100}).notNull(),windowPeriod:N("window_period",{length:20}).default("24h"),mentionCount:de("mention_count").default(0),uniqueUsersCount:de("unique_users_count").default(0),avgSentiment:be("avg_sentiment",{precision:3,scale:2}),positiveCount:de("positive_count").default(0),neutralCount:de("neutral_count").default(0),negativeCount:de("negative_count").default(0),sentimentTrend:N("sentiment_trend",{length:10}),liveScore:be("live_score",{precision:3,scale:2}),scoreChange24h:be("score_change_24h",{precision:3,scale:2}),scoreChange7d:be("score_change_7d",{precision:3,scale:2}),isTrending:pt("is_trending").default(!1),trendVelocity:de("trend_velocity").default(0),topPositiveKeywords:he("top_positive_keywords").default([]),topNegativeKeywords:he("top_negative_keywords").default([]),calculatedAt:Y("calculated_at").defaultNow(),validUntil:Y("valid_until")}),xte=Fe("travel_pulse_truth_checks",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),queryText:ne("query_text").notNull(),queryHash:N("query_hash",{length:64}).unique().notNull(),subjectName:N("subject_name",{length:255}),subjectType:N("subject_type",{length:50}),city:N("city",{length:100}),postsAnalyzed:de("posts_analyzed").default(0),analysisStartDate:ta("analysis_start_date"),analysisEndDate:ta("analysis_end_date"),worthItPercent:de("worth_it_percent"),mehPercent:de("meh_percent"),avoidPercent:de("avoid_percent"),overallVerdict:N("overall_verdict",{length:20}),positiveMentions:he("positive_mentions").default([]),negativeMentions:he("negative_mentions").default([]),crowdsourcedTips:he("crowdsourced_tips").default([]),realityScore:de("reality_score"),expectationGap:de("expectation_gap"),hitCount:de("hit_count").default(0),createdAt:Y("created_at").defaultNow(),expiresAt:Y("expires_at"),lastAccessedAt:Y("last_accessed_at").defaultNow()}),pte=Fe("travel_pulse_crowd_forecasts",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),placeName:N("place_name",{length:255}).notNull(),city:N("city",{length:100}).notNull(),forecastDate:ta("forecast_date").notNull(),hourOfDay:de("hour_of_day").notNull(),crowdLevelPercent:de("crowd_level_percent"),crowdLevelLabel:N("crowd_level_label",{length:20}),confidenceScore:be("confidence_score",{precision:3,scale:2}),weatherForecast:N("weather_forecast",{length:50}),specialEvents:he("special_events").default([]),isOptimalWindow:pt("is_optimal_window").default(!1),isAvoidWindow:pt("is_avoid_window").default(!1),generatedAt:Y("generated_at").defaultNow()}),fte=Fe("travel_pulse_calendar_events",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),eventName:N("event_name",{length:255}).notNull(),eventType:N("event_type",{length:50}),city:N("city",{length:100}),country:N("country",{length:100}),region:N("region",{length:100}),startDate:ta("start_date").notNull(),endDate:ta("end_date"),crowdImpact:N("crowd_impact",{length:20}),priceImpact:N("price_impact",{length:20}),crowdImpactPercent:de("crowd_impact_percent"),description:ne("description"),affectedAreas:he("affected_areas").default([]),tips:he("tips").default([]),source:N("source",{length:50}),imageUrl:ne("image_url"),createdAt:Y("created_at").defaultNow(),updatedAt:Y("updated_at").defaultNow()});Ie(mte).omit({id:!0,detectedAt:!0,lastUpdated:!0});Ie(hte).omit({id:!0,calculatedAt:!0});Ie(xte).omit({id:!0,createdAt:!0,lastAccessedAt:!0});Ie(pte).omit({id:!0,generatedAt:!0});Ie(fte).omit({id:!0,createdAt:!0,updatedAt:!0});const ID=Fe("travel_pulse_cities",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),cityName:N("city_name",{length:100}).notNull(),country:N("country",{length:100}).notNull(),countryCode:N("country_code",{length:3}),region:N("region",{length:100}),timezone:N("timezone",{length:50}),latitude:be("latitude",{precision:10,scale:7}),longitude:be("longitude",{precision:10,scale:7}),pulseScore:de("pulse_score").default(0),activeTravelers:de("active_travelers").default(0),trendingScore:de("trending_score").default(0),crowdLevel:N("crowd_level",{length:20}).default("moderate"),vibeTags:he("vibe_tags").default([]),currentHighlight:ne("current_highlight"),highlightEmoji:N("highlight_emoji",{length:10}),currentWeather:he("current_weather").default({}),weatherScore:de("weather_score").default(50),avgHotelPrice:be("avg_hotel_price",{precision:10,scale:2}),priceChange:be("price_change",{precision:5,scale:2}),priceTrend:N("price_trend",{length:20}),dealAlert:ne("deal_alert"),totalTrendingSpots:de("total_trending_spots").default(0),totalHiddenGems:de("total_hidden_gems").default(0),totalAlerts:de("total_alerts").default(0),imageUrl:ne("image_url"),thumbnailUrl:ne("thumbnail_url"),aiGeneratedAt:Y("ai_generated_at"),aiSourceModel:N("ai_source_model",{length:50}),aiBestTimeToVisit:ne("ai_best_time_to_visit"),aiSeasonalHighlights:he("ai_seasonal_highlights").default([]),aiUpcomingEvents:he("ai_upcoming_events").default([]),aiTravelTips:he("ai_travel_tips").default([]),aiLocalInsights:ne("ai_local_insights"),aiSafetyNotes:ne("ai_safety_notes"),aiOptimalDuration:N("ai_optimal_duration",{length:50}),aiBudgetEstimate:he("ai_budget_estimate").default({}),aiMustSeeAttractions:he("ai_must_see_attractions").default([]),aiAvoidDates:he("ai_avoid_dates").default([]),lastUpdated:Y("last_updated").defaultNow(),createdAt:Y("created_at").defaultNow()}),gte=Fe("travel_pulse_hidden_gems",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),city:N("city",{length:100}).notNull(),country:N("country",{length:100}),placeName:N("place_name",{length:200}).notNull(),placeType:N("place_type",{length:50}),address:ne("address"),latitude:be("latitude",{precision:10,scale:7}),longitude:be("longitude",{precision:10,scale:7}),localRating:be("local_rating",{precision:3,scale:2}),touristMentions:de("tourist_mentions").default(0),localMentions:de("local_mentions").default(0),gemScore:de("gem_score").default(0),discoveryStatus:N("discovery_status",{length:20}).default("hidden"),daysUntilMainstream:de("days_until_mainstream"),description:ne("description"),whyLocalsLoveIt:ne("why_locals_love_it"),bestFor:he("best_for").default([]),priceRange:N("price_range",{length:10}),imageUrl:ne("image_url"),aiGenerated:pt("ai_generated").default(!1),aiGeneratedAt:Y("ai_generated_at"),detectedAt:Y("detected_at").defaultNow(),lastUpdated:Y("last_updated").defaultNow()}),vte=Fe("travel_pulse_live_activity",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),city:N("city",{length:100}).notNull(),placeName:N("place_name",{length:200}),activityType:N("activity_type",{length:50}).notNull(),activityText:ne("activity_text").notNull(),activityEmoji:N("activity_emoji",{length:10}),userName:N("user_name",{length:50}),userAvatar:ne("user_avatar"),likesCount:de("likes_count").default(0),occurredAt:Y("occurred_at").defaultNow(),expiresAt:Y("expires_at")}),yte=Fe("travel_pulse_discovery_scores",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:N("user_id",{length:255}).notNull(),totalDiscoveryScore:de("total_discovery_score").default(0),hiddenGemsFound:de("hidden_gems_found").default(0),emergingSpotsVisited:de("emerging_spots_visited").default(0),tipsContributed:de("tips_contributed").default(0),badges:he("badges").default([]),rank:N("rank",{length:50}).default("Explorer"),lastActivityAt:Y("last_activity_at").defaultNow(),createdAt:Y("created_at").defaultNow()}),jte=Fe("travel_pulse_city_alerts",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),city:N("city",{length:100}).notNull(),alertType:N("alert_type",{length:50}).notNull(),severity:N("severity",{length:20}).default("info"),title:N("title",{length:200}).notNull(),message:ne("message").notNull(),emoji:N("emoji",{length:10}),actionUrl:ne("action_url"),actionText:N("action_text",{length:50}),isActive:pt("is_active").default(!0),startsAt:Y("starts_at"),endsAt:Y("ends_at"),createdAt:Y("created_at").defaultNow()}),bte=Fe("travel_pulse_happening_now",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),city:N("city",{length:100}).notNull(),eventType:N("event_type",{length:50}).notNull(),title:N("title",{length:200}).notNull(),description:ne("description"),venue:N("venue",{length:200}),address:ne("address"),latitude:be("latitude",{precision:10,scale:7}),longitude:be("longitude",{precision:10,scale:7}),startsAt:Y("starts_at").notNull(),endsAt:Y("ends_at"),crowdLevel:N("crowd_level",{length:20}),entryFee:N("entry_fee",{length:50}),imageUrl:ne("image_url"),sourceUrl:ne("source_url"),isLive:pt("is_live").default(!1),detectedAt:Y("detected_at").defaultNow()}),Nte=Fe("city_media_cache",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),cityId:N("city_id").references(()=>ID.id,{onDelete:"cascade"}),cityName:N("city_name",{length:100}).notNull(),country:N("country",{length:100}).notNull(),source:N("source",{length:20}).notNull(),mediaType:N("media_type",{length:20}).notNull(),url:ne("url").notNull(),thumbnailUrl:ne("thumbnail_url"),previewUrl:ne("preview_url"),width:de("width"),height:de("height"),duration:de("duration"),context:N("context",{length:50}),contextQuery:ne("context_query"),attractionName:N("attraction_name",{length:200}),photographerName:N("photographer_name",{length:200}),photographerUrl:ne("photographer_url"),sourceName:N("source_name",{length:100}),sourceUrl:ne("source_url"),license:N("license",{length:50}),downloadLocationUrl:ne("download_location_url"),googlePlaceId:N("google_place_id",{length:200}),htmlAttributions:ne("html_attributions").array(),qualityScore:de("quality_score").default(50),isPrimary:pt("is_primary").default(!1),fetchedAt:Y("fetched_at").defaultNow(),expiresAt:Y("expires_at"),isActive:pt("is_active").default(!0)});Ie(ID).omit({id:!0,lastUpdated:!0,createdAt:!0});Ie(gte).omit({id:!0,detectedAt:!0,lastUpdated:!0});Ie(vte).omit({id:!0,occurredAt:!0});Ie(yte).omit({id:!0,lastActivityAt:!0,createdAt:!0});Ie(jte).omit({id:!0,createdAt:!0});Ie(bte).omit({id:!0,detectedAt:!0});Ie(Nte).omit({id:!0,fetchedAt:!0});const RD=Fe("experience_template_tabs",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),experienceTypeId:N("experience_type_id").notNull().references(()=>jm.id,{onDelete:"cascade"}),name:N("name",{length:100}).notNull(),slug:N("slug",{length:50}).notNull(),description:ne("description"),icon:N("icon",{length:50}),sortOrder:de("sort_order").default(0),isActive:pt("is_active").default(!0),createdAt:Y("created_at").defaultNow()}),LD=Fe("experience_template_filters",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),tabId:N("tab_id").notNull().references(()=>RD.id,{onDelete:"cascade"}),name:N("name",{length:100}).notNull(),slug:N("slug",{length:50}).notNull(),description:ne("description"),filterType:N("filter_type",{length:30}).default("multi_select"),icon:N("icon",{length:50}),sortOrder:de("sort_order").default(0),isRequired:pt("is_required").default(!1),isActive:pt("is_active").default(!0),createdAt:Y("created_at").defaultNow()}),wte=Fe("experience_template_filter_options",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),filterId:N("filter_id").notNull().references(()=>LD.id,{onDelete:"cascade"}),label:N("label",{length:100}).notNull(),value:N("value",{length:100}).notNull(),description:ne("description"),icon:N("icon",{length:50}),minValue:be("min_value",{precision:10,scale:2}),maxValue:be("max_value",{precision:10,scale:2}),sortOrder:de("sort_order").default(0),isDefault:pt("is_default").default(!1),isActive:pt("is_active").default(!0),createdAt:Y("created_at").defaultNow()}),OD=Fe("experience_universal_filters",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),experienceTypeId:N("experience_type_id").notNull().references(()=>jm.id,{onDelete:"cascade"}),name:N("name",{length:100}).notNull(),slug:N("slug",{length:50}).notNull(),description:ne("description"),filterType:N("filter_type",{length:30}).default("multi_select"),icon:N("icon",{length:50}),sortOrder:de("sort_order").default(0),isActive:pt("is_active").default(!0),createdAt:Y("created_at").defaultNow()}),kte=Fe("experience_universal_filter_options",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),filterId:N("filter_id").notNull().references(()=>OD.id,{onDelete:"cascade"}),label:N("label",{length:100}).notNull(),value:N("value",{length:100}).notNull(),description:ne("description"),icon:N("icon",{length:50}),minValue:be("min_value",{precision:10,scale:2}),maxValue:be("max_value",{precision:10,scale:2}),sortOrder:de("sort_order").default(0),isDefault:pt("is_default").default(!1),isActive:pt("is_active").default(!0),createdAt:Y("created_at").defaultNow()});Ie(RD).omit({id:!0,createdAt:!0});Ie(LD).omit({id:!0,createdAt:!0});Ie(wte).omit({id:!0,createdAt:!0});Ie(OD).omit({id:!0,createdAt:!0});Ie(kte).omit({id:!0,createdAt:!0});const Fg=Fe("trip_participants",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),tripId:N("trip_id").notNull().references(()=>da.id,{onDelete:"cascade"}),userId:N("user_id").references(()=>ct.id,{onDelete:"set null"}),name:N("name",{length:200}).notNull(),email:N("email",{length:255}),phone:N("phone",{length:50}),role:N("role",{length:50}).default("guest"),status:N("status",{length:20}).default("invited"),invitedAt:Y("invited_at").defaultNow(),respondedAt:Y("responded_at"),rsvpNotes:ne("rsvp_notes"),dietaryRestrictions:he("dietary_restrictions").default([]),accessibilityNeeds:he("accessibility_needs").default([]),specialRequests:ne("special_requests"),paymentStatus:N("payment_status",{length:20}).default("unpaid"),amountOwed:be("amount_owed",{precision:10,scale:2}).default("0"),amountPaid:be("amount_paid",{precision:10,scale:2}).default("0"),paymentMethod:N("payment_method",{length:50}),paymentNotes:ne("payment_notes"),emergencyContactName:N("emergency_contact_name",{length:200}),emergencyContactPhone:N("emergency_contact_phone",{length:50}),emergencyContactRelation:N("emergency_contact_relation",{length:50}),metadata:he("metadata").default({}),createdAt:Y("created_at").defaultNow(),updatedAt:Y("updated_at").defaultNow()}),I1=Fe("vendor_contracts",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),tripId:N("trip_id").notNull().references(()=>da.id,{onDelete:"cascade"}),vendorId:N("vendor_id").references(()=>A1.id,{onDelete:"set null"}),vendorName:N("vendor_name",{length:255}).notNull(),vendorCategory:N("vendor_category",{length:100}),vendorEmail:N("vendor_email",{length:255}),vendorPhone:N("vendor_phone",{length:50}),vendorAddress:ne("vendor_address"),contractStatus:N("contract_status",{length:20}).default("draft"),contractNumber:N("contract_number",{length:100}),serviceDescription:ne("service_description"),startDate:ta("start_date"),endDate:ta("end_date"),totalAmount:be("total_amount",{precision:10,scale:2}).notNull(),currency:N("currency",{length:3}).default("USD"),paidAmount:be("paid_amount",{precision:10,scale:2}).default("0"),remainingBalance:be("remaining_balance",{precision:10,scale:2}),paymentSchedule:he("payment_schedule").default([]),contractDocumentUrl:ne("contract_document_url"),signedDocumentUrl:ne("signed_document_url"),attachments:he("attachments").default([]),cancellationPolicy:ne("cancellation_policy"),specialTerms:ne("special_terms"),notes:ne("notes"),communicationLog:he("communication_log").default([]),lastContactDate:Y("last_contact_date"),nextFollowUpDate:Y("next_follow_up_date"),assignedToParticipantId:N("assigned_to_participant_id").references(()=>Fg.id,{onDelete:"set null"}),createdAt:Y("created_at").defaultNow(),updatedAt:Y("updated_at").defaultNow()}),Cte=Fe("trip_transactions",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),tripId:N("trip_id").notNull().references(()=>da.id,{onDelete:"cascade"}),transactionType:N("transaction_type",{length:30}).notNull(),status:N("status",{length:20}).default("unpaid"),paidByParticipantId:N("paid_by_participant_id").references(()=>Fg.id,{onDelete:"set null"}),paidToVendorContractId:N("paid_to_vendor_contract_id").references(()=>I1.id,{onDelete:"set null"}),assignedToParticipantId:N("assigned_to_participant_id").references(()=>Fg.id,{onDelete:"set null"}),amount:be("amount",{precision:10,scale:2}).notNull(),currency:N("currency",{length:3}).default("USD"),originalAmount:be("original_amount",{precision:10,scale:2}),originalCurrency:N("original_currency",{length:3}),exchangeRate:be("exchange_rate",{precision:10,scale:6}),category:N("category",{length:50}),subcategory:N("subcategory",{length:50}),description:ne("description"),paymentMethod:N("payment_method",{length:50}),paymentReference:N("payment_reference",{length:255}),receiptUrl:ne("receipt_url"),transactionDate:Y("transaction_date").defaultNow(),dueDate:Y("due_date"),paidDate:Y("paid_date"),tipAmount:be("tip_amount",{precision:10,scale:2}),tipPercentage:be("tip_percentage",{precision:5,scale:2}),splitMethod:N("split_method",{length:20}),splitDetails:he("split_details").default([]),notes:ne("notes"),createdAt:Y("created_at").defaultNow(),updatedAt:Y("updated_at").defaultNow()}),Ste=Fe("itinerary_items",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),tripId:N("trip_id").notNull().references(()=>da.id,{onDelete:"cascade"}),title:N("title",{length:255}).notNull(),description:ne("description"),itemType:N("item_type",{length:30}).default("activity"),status:N("status",{length:20}).default("planned"),dayNumber:de("day_number").notNull(),startTime:N("start_time",{length:10}),endTime:N("end_time",{length:10}),durationMinutes:de("duration_minutes"),isFlexible:pt("is_flexible").default(!1),locationName:N("location_name",{length:255}),locationAddress:ne("location_address"),latitude:be("latitude",{precision:10,scale:7}),longitude:be("longitude",{precision:10,scale:7}),googlePlaceId:N("google_place_id",{length:255}),travelFromPrevious:he("travel_from_previous").default({}),vendorContractId:N("vendor_contract_id").references(()=>I1.id,{onDelete:"set null"}),bookingReference:N("booking_reference",{length:255}),bookingStatus:N("booking_status",{length:20}),confirmationNumber:N("confirmation_number",{length:255}),estimatedCost:be("estimated_cost",{precision:10,scale:2}),actualCost:be("actual_cost",{precision:10,scale:2}),currency:N("currency",{length:3}).default("USD"),costPerPerson:pt("cost_per_person").default(!1),energyLevel:N("energy_level",{length:20}),isOutdoor:pt("is_outdoor").default(!1),weatherDependent:pt("weather_dependent").default(!1),backupPlanId:N("backup_plan_id",{length:255}),isBackupPlan:pt("is_backup_plan").default(!1),weatherConditions:he("weather_conditions").default({}),participantIds:he("participant_ids").default([]),minParticipants:de("min_participants"),maxParticipants:de("max_participants"),notes:ne("notes"),privateNotes:ne("private_notes"),attachments:he("attachments").default([]),sortOrder:de("sort_order").default(0),createdAt:Y("created_at").defaultNow(),updatedAt:Y("updated_at").defaultNow()}),Tte=Fe("trip_emergency_contacts",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),tripId:N("trip_id").notNull().references(()=>da.id,{onDelete:"cascade"}),contactType:N("contact_type",{length:50}).notNull(),name:N("name",{length:255}).notNull(),organization:N("organization",{length:255}),phone:N("phone",{length:100}),alternatePhone:N("alternate_phone",{length:100}),email:N("email",{length:255}),address:ne("address"),website:ne("website"),city:N("city",{length:100}),country:N("country",{length:100}),latitude:be("latitude",{precision:10,scale:7}),longitude:be("longitude",{precision:10,scale:7}),available24Hours:pt("available_24_hours").default(!1),operatingHours:he("operating_hours").default({}),languages:he("languages").default(["English"]),priority:de("priority").default(0),notes:ne("notes"),specialInstructions:ne("special_instructions"),isVerified:pt("is_verified").default(!1),lastVerifiedAt:Y("last_verified_at"),createdAt:Y("created_at").defaultNow(),updatedAt:Y("updated_at").defaultNow()}),_te=Fe("trip_alerts",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),tripId:N("trip_id").notNull().references(()=>da.id,{onDelete:"cascade"}),alertType:N("alert_type",{length:50}).notNull(),severity:N("severity",{length:20}).default("info"),title:N("title",{length:255}).notNull(),message:ne("message").notNull(),source:N("source",{length:100}),sourceUrl:ne("source_url"),effectiveFrom:Y("effective_from"),effectiveUntil:Y("effective_until"),isActive:pt("is_active").default(!0),isRead:pt("is_read").default(!1),acknowledgedAt:Y("acknowledged_at"),acknowledgedByUserId:N("acknowledged_by_user_id").references(()=>ct.id,{onDelete:"set null"}),suggestedActions:he("suggested_actions").default([]),actionTaken:ne("action_taken"),affectedItineraryItemIds:he("affected_itinerary_item_ids").default([]),affectedVendorContractIds:he("affected_vendor_contract_ids").default([]),createdAt:Y("created_at").defaultNow(),updatedAt:Y("updated_at").defaultNow()}),$D=Fe("spontaneous_opportunities",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),city:N("city",{length:100}).notNull(),latitude:be("latitude",{precision:10,scale:7}),longitude:be("longitude",{precision:10,scale:7}),type:N("type",{length:50}).notNull(),source:N("source",{length:50}).notNull(),externalId:N("external_id",{length:255}),title:N("title",{length:200}).notNull(),description:ne("description"),imageUrl:ne("image_url"),affiliateUrl:ne("affiliate_url"),originalPrice:be("original_price",{precision:10,scale:2}),currentPrice:be("current_price",{precision:10,scale:2}),currency:N("currency",{length:3}).default("USD"),discountPercent:de("discount_percent"),startTime:Y("start_time"),endTime:Y("end_time"),expirationTime:Y("expiration_time"),capacity:de("capacity"),remainingSpots:de("remaining_spots"),urgencyScore:de("urgency_score").default(0),actionabilityScore:de("actionability_score").default(0),trendingScore:be("trending_score",{precision:5,scale:2}).default("0.0"),category:N("category",{length:100}),tags:he("tags").default([]),metadata:he("metadata").default({}),createdAt:Y("created_at").defaultNow(),updatedAt:Y("updated_at").defaultNow()}),Ete=Fe("realtime_signals",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),source:N("source",{length:50}).notNull(),keyword:N("keyword",{length:100}).notNull(),location:N("location",{length:100}),signalStrength:de("signal_strength").notNull(),volume:de("volume"),sentiment:be("sentiment",{precision:3,scale:2}),opportunityId:N("opportunity_id").references(()=>$D.id,{onDelete:"cascade"}),detectedAt:Y("detected_at").defaultNow(),expiresAt:Y("expires_at"),metadata:he("metadata").default({})}),Pte=Fe("user_spontaneity_preferences",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:N("user_id").notNull().references(()=>ct.id,{onDelete:"cascade"}),spontaneityLevel:de("spontaneity_level").default(50),notificationRadius:de("notification_radius").default(10),preferredCities:he("preferred_cities").default([]),preferredCategories:he("preferred_categories").default([]),blacklistedTypes:he("blacklisted_types").default([]),priceSensitivity:de("price_sensitivity").default(50),maxBudgetPerActivity:be("max_budget_per_activity",{precision:10,scale:2}),timeWindows:he("time_windows").default([{day:"weekend",hours:["18:00","22:00"]},{day:"weekday",hours:["19:00","23:00"]}]),enableNotifications:pt("enable_notifications").default(!0),lastNotifiedAt:Y("last_notified_at"),createdAt:Y("created_at").defaultNow(),updatedAt:Y("updated_at").defaultNow()});Ie(Fg).omit({id:!0,createdAt:!0,updatedAt:!0});Ie(I1).omit({id:!0,createdAt:!0,updatedAt:!0});Ie(Cte).omit({id:!0,createdAt:!0,updatedAt:!0});Ie(Ste).omit({id:!0,createdAt:!0,updatedAt:!0});Ie(Tte).omit({id:!0,createdAt:!0,updatedAt:!0});Ie(_te).omit({id:!0,createdAt:!0,updatedAt:!0});Ie($D).omit({id:!0,createdAt:!0,updatedAt:!0});Ie(Ete).omit({id:!0});Ie(Pte).omit({id:!0,createdAt:!0,updatedAt:!0});const Ate=Fe("serp_cache",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),cacheKey:N("cache_key",{length:500}).unique().notNull(),query:ne("query").notNull(),location:N("location",{length:200}).notNull(),category:N("category",{length:100}),template:N("template",{length:100}),results:he("results").notNull(),resultCount:de("result_count").default(0),cachedAt:Y("cached_at").defaultNow().notNull()}),Dte=Fe("serp_provider_tracking",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),serpProviderId:N("serp_provider_id",{length:200}).unique().notNull(),providerName:N("provider_name",{length:300}).notNull(),destination:N("destination",{length:200}),category:N("category",{length:100}),template:N("template",{length:100}),clickCount:de("click_count").default(0),inquiryCount:de("inquiry_count").default(0),priorityScore:N("priority_score",{length:20}).default("LOW"),lastClickedAt:Y("last_clicked_at"),metadata:he("metadata"),createdAt:Y("created_at").defaultNow(),updatedAt:Y("updated_at").defaultNow()}),Fte=Fe("serp_inquiries",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:N("user_id").notNull(),serpProviderId:N("serp_provider_id",{length:200}).notNull(),providerName:N("provider_name",{length:300}).notNull(),providerEmail:N("provider_email",{length:200}),providerPhone:N("provider_phone",{length:50}),providerWebsite:ne("provider_website"),message:ne("message").notNull(),destination:N("destination",{length:200}),category:N("category",{length:100}),template:N("template",{length:100}),status:N("status",{length:50}).default("pending"),sentAt:Y("sent_at"),respondedAt:Y("responded_at"),createdAt:Y("created_at").defaultNow(),updatedAt:Y("updated_at").defaultNow()});Ie(Ate).omit({id:!0,cachedAt:!0});Ie(Dte).omit({id:!0,createdAt:!0,updatedAt:!0});Ie(Fte).omit({id:!0,createdAt:!0,updatedAt:!0});bn({serviceType:jt().min(1,"serviceType is required"),destination:jt().min(1,"destination is required"),template:jt().optional().default("travel"),priceRange:jt().optional(),style:jt().optional(),groupSize:jt().optional().transform(t=>t?parseInt(t,10):void 0)});bn({providerId:jt().min(1,"providerId is required"),metadata:S1(nD()).optional().default({})});bn({serpProviderId:jt().min(1,"serpProviderId is required"),providerName:jt().min(1,"providerName is required"),providerEmail:jt().optional(),providerPhone:jt().optional(),providerWebsite:jt().optional(),message:jt().min(1,"Message is required").min(10,"Message must be at least 10 characters"),destination:jt().optional().default(""),category:jt().optional().default(""),template:jt().optional().default("")});const Ij=t=>{if(!t)return;const s=parseFloat(t);return isNaN(s)?void 0:s},Rj=t=>{if(!t)return;const s=parseInt(t,10);return isNaN(s)?void 0:s};bn({destination:jt().optional(),query:jt().optional(),priceMin:jt().optional().transform(Ij),priceMax:jt().optional().transform(Ij),rating:jt().optional().transform(Ij),sortBy:T1(["popular","price_low","price_high","rating"]).optional(),limit:jt().optional().transform(Rj),offset:jt().optional().transform(Rj),providers:jt().optional().transform(t=>t?t.split(","):void 0),experienceTypeSlug:jt().optional(),tabSlug:jt().optional(),enableSerpFallback:jt().optional().transform(t=>t==="true"),templateSlug:jt().optional(),minNativeResults:jt().optional().transform(Rj)});bn({id:jt(),name:jt(),rating:ix().nullable(),reviewCount:ix().nullable(),priceLevel:jt().nullable(),address:jt().nullable(),phone:jt().nullable(),website:jt().nullable(),imageUrl:jt().nullable(),source:lx("serp"),isPartner:lx(!1)});const BD=Fe("ai_discovered_gems",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),destination:N("destination",{length:200}).notNull(),country:N("country",{length:100}),category:N("category",{length:100}).notNull(),name:N("name",{length:300}).notNull(),description:ne("description").notNull(),whySpecial:ne("why_special"),bestTimeToVisit:N("best_time_to_visit",{length:200}),insiderTip:ne("insider_tip"),approximateLocation:N("approximate_location",{length:300}),coordinates:he("coordinates").$type(),priceRange:N("price_range",{length:50}),difficultyLevel:N("difficulty_level",{length:50}),tags:he("tags").$type().default([]),imageSearchTerms:he("image_search_terms").$type().default([]),relatedExperiences:he("related_experiences").$type().default([]),sourceModel:N("source_model",{length:50}).default("grok"),confidenceScore:be("confidence_score",{precision:3,scale:2}),verifiedByUser:pt("verified_by_user").default(!1),verifiedByExpert:pt("verified_by_expert").default(!1),viewCount:de("view_count").default(0),saveCount:de("save_count").default(0),createdAt:Y("created_at").defaultNow(),updatedAt:Y("updated_at").defaultNow(),lastRefreshedAt:Y("last_refreshed_at")}),Mte=Fe("discovery_jobs",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),destination:N("destination",{length:200}).notNull(),categories:he("categories").$type().notNull(),status:N("status",{length:50}).default("pending"),gemsDiscovered:de("gems_discovered").default(0),startedAt:Y("started_at"),completedAt:Y("completed_at"),errorMessage:ne("error_message"),metadata:he("metadata"),createdAt:Y("created_at").defaultNow()}),Ite=Fe("user_saved_gems",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:N("user_id").notNull(),gemId:N("gem_id").notNull().references(()=>BD.id,{onDelete:"cascade"}),notes:ne("notes"),createdAt:Y("created_at").defaultNow()});Ie(BD).omit({id:!0,createdAt:!0,updatedAt:!0,viewCount:!0,saveCount:!0});Ie(Mte).omit({id:!0,createdAt:!0,status:!0,gemsDiscovered:!0});Ie(Ite).omit({id:!0,createdAt:!0});const $x=Fe("affiliate_partners",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),name:N("name",{length:200}).notNull(),websiteUrl:N("website_url",{length:500}).notNull(),category:N("category",{length:100}).notNull(),affiliateTrackingId:N("affiliate_tracking_id",{length:200}),affiliateLinkTemplate:N("affiliate_link_template",{length:1e3}),description:ne("description"),logoUrl:N("logo_url",{length:500}),commissionRate:be("commission_rate",{precision:5,scale:2}),scrapeConfig:he("scrape_config").$type(),isActive:pt("is_active").default(!0),lastScrapedAt:Y("last_scraped_at"),createdAt:Y("created_at").defaultNow(),updatedAt:Y("updated_at").defaultNow()}),zD=Fe("affiliate_products",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),partnerId:N("partner_id").notNull().references(()=>$x.id,{onDelete:"cascade"}),externalId:N("external_id",{length:200}),name:N("name",{length:500}).notNull(),description:ne("description"),shortDescription:N("short_description",{length:500}),category:N("category",{length:100}),subCategory:N("sub_category",{length:100}),price:be("price",{precision:10,scale:2}),currency:N("currency",{length:10}).default("USD"),originalPrice:be("original_price",{precision:10,scale:2}),discountPercent:de("discount_percent"),imageUrl:N("image_url",{length:1e3}),imageUrls:he("image_urls").$type().default([]),productUrl:N("product_url",{length:1e3}).notNull(),affiliateUrl:N("affiliate_url",{length:1500}),location:N("location",{length:300}),city:N("city",{length:100}),country:N("country",{length:100}),coordinates:he("coordinates").$type(),rating:be("rating",{precision:3,scale:2}),reviewCount:de("review_count"),duration:N("duration",{length:100}),highlights:he("highlights").$type().default([]),includes:he("includes").$type().default([]),tags:he("tags").$type().default([]),availability:N("availability",{length:200}),bookingInfo:ne("booking_info"),metadata:he("metadata"),isActive:pt("is_active").default(!0),lastScrapedAt:Y("last_scraped_at"),createdAt:Y("created_at").defaultNow(),updatedAt:Y("updated_at").defaultNow()}),Rte=Fe("affiliate_scrape_jobs",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),partnerId:N("partner_id").notNull().references(()=>$x.id,{onDelete:"cascade"}),status:N("status",{length:50}).default("pending"),productsFound:de("products_found").default(0),productsUpdated:de("products_updated").default(0),productsNew:de("products_new").default(0),pagesScraped:de("pages_scraped").default(0),startedAt:Y("started_at"),completedAt:Y("completed_at"),errorMessage:ne("error_message"),metadata:he("metadata"),createdAt:Y("created_at").defaultNow()}),VD=Fe("affiliate_clicks",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),productId:N("product_id").references(()=>zD.id,{onDelete:"set null"}),partnerId:N("partner_id").references(()=>$x.id,{onDelete:"set null"}),userId:N("user_id"),tripId:N("trip_id"),itineraryItemId:N("itinerary_item_id"),referrer:N("referrer",{length:500}),userAgent:N("user_agent",{length:500}),ipAddress:N("ip_address",{length:50}),clickedAt:Y("clicked_at").defaultNow()});Ie($x).omit({id:!0,createdAt:!0,updatedAt:!0,lastScrapedAt:!0});Ie(zD).omit({id:!0,createdAt:!0,updatedAt:!0,lastScrapedAt:!0});Ie(Rte).omit({id:!0,createdAt:!0,status:!0,productsFound:!0,productsUpdated:!0,productsNew:!0,pagesScraped:!0});Ie(VD).omit({id:!0,clickedAt:!0});const R1=Fe("expert_templates",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),trackingNumber:N("tracking_number",{length:20}).unique(),expertId:N("expert_id").notNull().references(()=>ct.id,{onDelete:"cascade"}),title:N("title",{length:255}).notNull(),description:ne("description").notNull(),shortDescription:N("short_description",{length:500}),destination:N("destination",{length:255}).notNull(),duration:de("duration").notNull(),price:be("price",{precision:10,scale:2}).notNull(),currency:N("currency",{length:10}).default("USD"),category:N("category",{length:100}),coverImage:N("cover_image",{length:1e3}),images:he("images").$type().default([]),itineraryData:he("itinerary_data").$type(),tags:he("tags").$type().default([]),highlights:he("highlights").$type().default([]),isPublished:pt("is_published").default(!1),isFeatured:pt("is_featured").default(!1),salesCount:de("sales_count").default(0),viewCount:de("view_count").default(0),averageRating:be("average_rating",{precision:3,scale:2}),reviewCount:de("review_count").default(0),createdAt:Y("created_at").defaultNow(),updatedAt:Y("updated_at").defaultNow()}),UD=Fe("template_purchases",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),templateId:N("template_id").notNull().references(()=>R1.id,{onDelete:"cascade"}),buyerId:N("buyer_id").notNull().references(()=>ct.id,{onDelete:"cascade"}),expertId:N("expert_id").notNull().references(()=>ct.id,{onDelete:"cascade"}),price:be("price",{precision:10,scale:2}).notNull(),currency:N("currency",{length:10}).default("USD"),platformFee:be("platform_fee",{precision:10,scale:2}).notNull(),expertEarnings:be("expert_earnings",{precision:10,scale:2}).notNull(),status:N("status",{length:50}).default("completed"),purchasedAt:Y("purchased_at").defaultNow(),refundedAt:Y("refunded_at")}),Lte=Fe("template_reviews",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),templateId:N("template_id").notNull().references(()=>R1.id,{onDelete:"cascade"}),purchaseId:N("purchase_id").notNull().references(()=>UD.id,{onDelete:"cascade"}),reviewerId:N("reviewer_id").notNull().references(()=>ct.id,{onDelete:"cascade"}),rating:de("rating").notNull(),review:ne("review"),helpfulCount:de("helpful_count").default(0),createdAt:Y("created_at").defaultNow(),updatedAt:Y("updated_at").defaultNow()}),Ote=Fe("expert_earnings",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),expertId:N("expert_id").notNull().references(()=>ct.id,{onDelete:"cascade"}),type:N("type",{length:50}).notNull(),amount:be("amount",{precision:10,scale:2}).notNull(),currency:N("currency",{length:10}).default("USD"),referenceId:N("reference_id"),referenceType:N("reference_type",{length:50}),description:ne("description"),status:N("status",{length:50}).default("pending"),availableAt:Y("available_at"),paidOutAt:Y("paid_out_at"),payoutId:N("payout_id"),createdAt:Y("created_at").defaultNow()}),$te=Fe("expert_payouts",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),expertId:N("expert_id").notNull().references(()=>ct.id,{onDelete:"cascade"}),amount:be("amount",{precision:10,scale:2}).notNull(),currency:N("currency",{length:10}).default("USD"),payoutMethod:N("payout_method",{length:50}),status:N("status",{length:50}).default("pending"),processedAt:Y("processed_at"),failureReason:ne("failure_reason"),transactionId:N("transaction_id",{length:255}),metadata:he("metadata"),requestedAt:Y("requested_at").defaultNow()});Ie(R1).omit({id:!0,createdAt:!0,updatedAt:!0,salesCount:!0,viewCount:!0,reviewCount:!0});Ie(UD).omit({id:!0,purchasedAt:!0,refundedAt:!0});Ie(Lte).omit({id:!0,createdAt:!0,updatedAt:!0,helpfulCount:!0});Ie(Ote).omit({id:!0,createdAt:!0});Ie($te).omit({id:!0,requestedAt:!0,processedAt:!0});const Bte=Fe("revenue_splits",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),type:N("type",{length:50}).notNull(),platformPercentage:be("platform_percentage",{precision:5,scale:2}).notNull().default("15.00"),expertPercentage:be("expert_percentage",{precision:5,scale:2}).notNull().default("85.00"),providerPercentage:be("provider_percentage",{precision:5,scale:2}).default("0.00"),description:ne("description"),isActive:pt("is_active").default(!0),effectiveFrom:Y("effective_from").defaultNow(),effectiveUntil:Y("effective_until"),createdAt:Y("created_at").defaultNow(),updatedAt:Y("updated_at").defaultNow()}),zte=Fe("expert_tips",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),trackingNumber:N("tracking_number",{length:20}).unique(),expertId:N("expert_id").notNull().references(()=>ct.id,{onDelete:"cascade"}),travelerId:N("traveler_id").notNull().references(()=>ct.id,{onDelete:"cascade"}),bookingId:N("booking_id").references(()=>P1.id,{onDelete:"set null"}),amount:be("amount",{precision:10,scale:2}).notNull(),currency:N("currency",{length:10}).default("USD"),message:ne("message"),isAnonymous:pt("is_anonymous").default(!1),platformFee:be("platform_fee",{precision:10,scale:2}).default("0.00"),expertAmount:be("expert_amount",{precision:10,scale:2}),status:N("status",{length:20}).default("pending"),stripePaymentIntentId:N("stripe_payment_intent_id",{length:255}),createdAt:Y("created_at").defaultNow()}),Vte=Fe("expert_referrals",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),referrerId:N("referrer_id").notNull().references(()=>ct.id,{onDelete:"cascade"}),referredId:N("referred_id").notNull().references(()=>ct.id,{onDelete:"cascade"}),referralCode:N("referral_code",{length:50}),status:N("status",{length:20}).default("pending"),bonusAmount:be("bonus_amount",{precision:10,scale:2}).default("50.00"),qualifiedAt:Y("qualified_at"),paidAt:Y("paid_at"),createdAt:Y("created_at").defaultNow()}),Ute=Fe("affiliate_earnings",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),clickId:N("click_id").references(()=>VD.id,{onDelete:"set null"}),partnerId:N("partner_id").references(()=>$x.id,{onDelete:"set null"}),expertId:N("expert_id").references(()=>ct.id,{onDelete:"cascade"}),bookingAmount:be("booking_amount",{precision:10,scale:2}).notNull(),commissionRate:be("commission_rate",{precision:5,scale:2}).notNull(),totalCommission:be("total_commission",{precision:10,scale:2}).notNull(),platformShare:be("platform_share",{precision:10,scale:2}).notNull(),expertShare:be("expert_share",{precision:10,scale:2}).notNull(),providerShare:be("provider_share",{precision:10,scale:2}).default("0.00"),currency:N("currency",{length:10}).default("USD"),status:N("status",{length:20}).default("pending"),confirmedAt:Y("confirmed_at"),paidAt:Y("paid_at"),createdAt:Y("created_at").defaultNow()});Ie(Bte).omit({id:!0,createdAt:!0,updatedAt:!0});Ie(zte).omit({id:!0,platformFee:!0,expertAmount:!0,status:!0,createdAt:!0});Ie(Vte).omit({id:!0,status:!0,qualifiedAt:!0,paidAt:!0,createdAt:!0});Ie(Ute).omit({id:!0,status:!0,confirmedAt:!0,paidAt:!0,createdAt:!0});const qte=Fe("provider_earnings",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),providerId:N("provider_id").notNull().references(()=>ct.id,{onDelete:"cascade"}),type:N("type",{length:50}).notNull(),amount:be("amount",{precision:10,scale:2}).notNull(),currency:N("currency",{length:3}).default("USD"),sourceType:N("source_type",{length:50}),sourceId:N("source_id"),trackingNumber:N("tracking_number",{length:20}),description:ne("description"),status:N("status",{length:20}).default("pending"),availableAt:Y("available_at"),paidAt:Y("paid_at"),payoutId:N("payout_id"),createdAt:Y("created_at").defaultNow(),updatedAt:Y("updated_at").defaultNow()}),Hte=Fe("provider_payouts",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),providerId:N("provider_id").notNull().references(()=>ct.id,{onDelete:"cascade"}),amount:be("amount",{precision:10,scale:2}).notNull(),currency:N("currency",{length:3}).default("USD"),payoutMethod:N("payout_method",{length:50}),status:N("status",{length:20}).default("pending"),payoutReference:N("payout_reference",{length:100}),notes:ne("notes"),requestedAt:Y("requested_at").defaultNow(),processedAt:Y("processed_at"),completedAt:Y("completed_at")});Ie(qte).omit({id:!0,createdAt:!0,updatedAt:!0});Ie(Hte).omit({id:!0,requestedAt:!0});const Wte=Fe("platform_revenue",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),sourceType:N("source_type",{length:50}).notNull(),sourceId:N("source_id"),trackingNumber:N("tracking_number",{length:20}),grossAmount:be("gross_amount",{precision:10,scale:2}).notNull(),platformFee:be("platform_fee",{precision:10,scale:2}).notNull(),netAmount:be("net_amount",{precision:10,scale:2}).notNull(),processingFees:be("processing_fees",{precision:10,scale:2}).default("0"),currency:N("currency",{length:3}).default("USD"),expertId:N("expert_id").references(()=>ct.id,{onDelete:"set null"}),expertEarnings:be("expert_earnings",{precision:10,scale:2}).default("0"),providerId:N("provider_id").references(()=>ct.id,{onDelete:"set null"}),providerEarnings:be("provider_earnings",{precision:10,scale:2}).default("0"),description:ne("description"),metadata:he("metadata").default({}),status:N("status",{length:20}).default("recorded"),transactionDate:Y("transaction_date").defaultNow(),reconciliationDate:Y("reconciliation_date"),createdAt:Y("created_at").defaultNow()}),Gte=Fe("daily_revenue_summary",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),date:ta("date").notNull().unique(),totalGross:be("total_gross",{precision:12,scale:2}).default("0"),totalPlatformFee:be("total_platform_fee",{precision:12,scale:2}).default("0"),totalProcessingFees:be("total_processing_fees",{precision:12,scale:2}).default("0"),totalNet:be("total_net",{precision:12,scale:2}).default("0"),bookingRevenue:be("booking_revenue",{precision:12,scale:2}).default("0"),templateRevenue:be("template_revenue",{precision:12,scale:2}).default("0"),affiliateRevenue:be("affiliate_revenue",{precision:12,scale:2}).default("0"),tipRevenue:be("tip_revenue",{precision:12,scale:2}).default("0"),otherRevenue:be("other_revenue",{precision:12,scale:2}).default("0"),totalExpertEarnings:be("total_expert_earnings",{precision:12,scale:2}).default("0"),totalProviderEarnings:be("total_provider_earnings",{precision:12,scale:2}).default("0"),transactionCount:de("transaction_count").default(0),bookingCount:de("booking_count").default(0),templateSalesCount:de("template_sales_count").default(0),createdAt:Y("created_at").defaultNow(),updatedAt:Y("updated_at").defaultNow()});Ie(Wte).omit({id:!0,createdAt:!0});Ie(Gte).omit({id:!0,createdAt:!0,updatedAt:!0});const Kte=Fe("access_audit_logs",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),actorId:N("actor_id").notNull().references(()=>ct.id,{onDelete:"cascade"}),actorRole:N("actor_role",{length:30}).notNull(),action:N("action",{length:50}).notNull(),resourceType:N("resource_type",{length:50}).notNull(),resourceId:N("resource_id"),targetUserId:N("target_user_id").references(()=>ct.id,{onDelete:"set null"}),metadata:he("metadata").default({}),ipAddress:N("ip_address",{length:45}),userAgent:ne("user_agent"),createdAt:Y("created_at").defaultNow()});Ie(Kte).omit({id:!0,createdAt:!0});const Yte=uD("content_type",["trip","itinerary","service","review","chat_message","expert_profile","provider_profile","template","booking","vendor","experience","custom_venue","contract","media","tip","other"]),Qte=uD("content_status",["draft","pending_review","published","flagged","under_review","suspended","archived","deleted"]),Bx=Fe("content_registry",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),trackingNumber:N("tracking_number",{length:20}).notNull().unique(),contentType:Yte("content_type").notNull(),contentId:N("content_id").notNull(),ownerId:N("owner_id").references(()=>ct.id,{onDelete:"set null"}),status:Qte("status").default("published"),title:ne("title"),description:ne("description"),metadata:he("metadata").default({}),viewCount:de("view_count").default(0),engagementScore:de("engagement_score").default(0),lastViewedAt:Y("last_viewed_at"),publishedAt:Y("published_at"),flaggedAt:Y("flagged_at"),flagReason:ne("flag_reason"),flaggedBy:N("flagged_by").references(()=>ct.id,{onDelete:"set null"}),moderatorId:N("moderator_id").references(()=>ct.id,{onDelete:"set null"}),moderatorNotes:ne("moderator_notes"),moderatedAt:Y("moderated_at"),createdAt:Y("created_at").defaultNow(),updatedAt:Y("updated_at").defaultNow()}),Xte=Fe("content_invoices",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),invoiceNumber:N("invoice_number",{length:20}).notNull().unique(),trackingNumber:N("tracking_number").notNull().references(()=>Bx.trackingNumber,{onDelete:"cascade"}),customerId:N("customer_id").references(()=>ct.id,{onDelete:"set null"}),providerId:N("provider_id").references(()=>ct.id,{onDelete:"set null"}),invoiceType:N("invoice_type",{length:30}).notNull(),amount:de("amount").notNull(),currency:N("currency",{length:3}).default("USD"),status:N("status",{length:20}).default("pending"),taxAmount:de("tax_amount").default(0),discountAmount:de("discount_amount").default(0),totalAmount:de("total_amount").notNull(),paymentMethod:N("payment_method",{length:30}),paymentReference:N("payment_reference"),notes:ne("notes"),dueDate:Y("due_date"),paidAt:Y("paid_at"),createdAt:Y("created_at").defaultNow(),updatedAt:Y("updated_at").defaultNow()}),Zte=Fe("content_versions",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),trackingNumber:N("tracking_number").notNull().references(()=>Bx.trackingNumber,{onDelete:"cascade"}),version:de("version").notNull().default(1),changeType:N("change_type",{length:20}).notNull(),changedBy:N("changed_by").references(()=>ct.id,{onDelete:"set null"}),previousData:he("previous_data"),newData:he("new_data"),changeReason:ne("change_reason"),createdAt:Y("created_at").defaultNow()}),Jte=Fe("content_flags",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),trackingNumber:N("tracking_number").notNull().references(()=>Bx.trackingNumber,{onDelete:"cascade"}),reporterId:N("reporter_id").references(()=>ct.id,{onDelete:"set null"}),flagType:N("flag_type",{length:30}).notNull(),severity:N("severity",{length:10}).default("medium"),description:ne("description"),evidence:he("evidence").default([]),status:N("status",{length:20}).default("pending"),resolution:ne("resolution"),resolvedBy:N("resolved_by").references(()=>ct.id,{onDelete:"set null"}),resolvedAt:Y("resolved_at"),createdAt:Y("created_at").defaultNow()}),ese=Fe("content_analytics",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),trackingNumber:N("tracking_number").notNull().references(()=>Bx.trackingNumber,{onDelete:"cascade"}),date:Y("date").notNull(),views:de("views").default(0),uniqueViews:de("unique_views").default(0),clicks:de("clicks").default(0),shares:de("shares").default(0),bookmarks:de("bookmarks").default(0),conversions:de("conversions").default(0),revenue:de("revenue").default(0),avgTimeSpent:de("avg_time_spent").default(0),bounceRate:de("bounce_rate").default(0),createdAt:Y("created_at").defaultNow()}),tse=Fe("ai_usage_logs",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),provider:N("provider",{length:20}).notNull(),model:N("model",{length:50}).notNull(),operation:N("operation",{length:50}).notNull(),userId:N("user_id").references(()=>ct.id,{onDelete:"set null"}),promptTokens:de("prompt_tokens").notNull().default(0),completionTokens:de("completion_tokens").notNull().default(0),totalTokens:de("total_tokens").notNull().default(0),estimatedCostCents:de("estimated_cost_cents").notNull().default(0),inputCostPerMillion:de("input_cost_per_million").default(0),outputCostPerMillion:de("output_cost_per_million").default(0),responseTimeMs:de("response_time_ms").default(0),success:pt("success").default(!0),errorMessage:ne("error_message"),metadata:he("metadata").default({}),createdAt:Y("created_at").defaultNow()});Fe("api_usage_logs",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),provider:N("provider",{length:30}).notNull(),endpoint:N("endpoint",{length:100}).notNull(),operation:N("operation",{length:50}).notNull(),userId:N("user_id").references(()=>ct.id,{onDelete:"set null"}),requestCount:de("request_count").notNull().default(1),estimatedCostCents:de("estimated_cost_cents").notNull().default(0),costPerCallCents:de("cost_per_call_cents").default(0),responseTimeMs:de("response_time_ms").default(0),success:pt("success").default(!0),errorMessage:ne("error_message"),resultCount:de("result_count").default(0),metadata:he("metadata").default({}),createdAt:Y("created_at").defaultNow()});Fe("tracking_sequences",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),prefix:N("prefix",{length:10}).notNull(),yearMonth:N("year_month",{length:6}).notNull(),lastNumber:de("last_number").default(0),updatedAt:Y("updated_at").defaultNow()},t=>({prefixYearMonthUnique:QX().on(t.prefix,t.yearMonth)}));Ie(Bx).omit({id:!0,createdAt:!0,updatedAt:!0});Ie(Xte).omit({id:!0,createdAt:!0,updatedAt:!0});Ie(Zte).omit({id:!0,createdAt:!0});Ie(Jte).omit({id:!0,createdAt:!0});Ie(ese).omit({id:!0,createdAt:!0});Ie(tse).omit({id:!0,createdAt:!0});const qD=Fe("service_demand_signals",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),city:N("city",{length:100}).notNull(),country:N("country",{length:100}),serviceType:N("service_type",{length:100}).notNull(),categorySlug:N("category_slug",{length:100}),demandLevel:N("demand_level",{length:20}).notNull().$type(),demandScore:de("demand_score").notNull().default(0),trendDirection:N("trend_direction",{length:10}).$type().default("stable"),trendVelocity:de("trend_velocity").default(0),searchVolume:de("search_volume").default(0),supplyGap:de("supply_gap").default(0),averagePrice:be("average_price",{precision:10,scale:2}),priceTrend:N("price_trend",{length:10}).$type(),seasonalPeak:he("seasonal_peak").default([]),triggerEvents:he("trigger_events").default([]),relatedTrends:he("related_trends").default([]),dataSource:N("data_source",{length:50}).default("travelpulse"),confidenceScore:de("confidence_score").default(80),expiresAt:Y("expires_at"),createdAt:Y("created_at").defaultNow(),updatedAt:Y("updated_at").defaultNow()}),HD=Fe("service_recommendations",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),targetType:N("target_type",{length:20}).notNull().$type(),targetId:N("target_id"),demandSignalId:N("demand_signal_id").references(()=>qD.id,{onDelete:"cascade"}),title:N("title",{length:255}).notNull(),description:ne("description"),serviceType:N("service_type",{length:100}).notNull(),city:N("city",{length:100}),country:N("country",{length:100}),opportunityScore:de("opportunity_score").notNull().default(0),potentialRevenue:be("potential_revenue",{precision:10,scale:2}),competitionLevel:N("competition_level",{length:20}).$type(),actionItems:he("action_items").default([]),supportingData:he("supporting_data").default({}),status:N("status",{length:20}).notNull().default("active").$type(),dismissedAt:Y("dismissed_at"),convertedAt:Y("converted_at"),expiresAt:Y("expires_at"),createdAt:Y("created_at").defaultNow(),updatedAt:Y("updated_at").defaultNow()}),sse=Fe("recommendation_conversions",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),recommendationId:N("recommendation_id").notNull().references(()=>HD.id,{onDelete:"cascade"}),userId:N("user_id").references(()=>ct.id,{onDelete:"set null"}),conversionType:N("conversion_type",{length:50}).notNull(),resultId:N("result_id"),revenueGenerated:be("revenue_generated",{precision:10,scale:2}),metadata:he("metadata").default({}),createdAt:Y("created_at").defaultNow()}),ase=Fe("service_gap_analysis",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),city:N("city",{length:100}).notNull(),country:N("country",{length:100}),serviceType:N("service_type",{length:100}).notNull(),currentSupplyCount:de("current_supply_count").default(0),estimatedDemand:de("estimated_demand").default(0),gapScore:de("gap_score").notNull().default(0),priceRangeGap:he("price_range_gap").default({}),qualityGap:de("quality_gap").default(0),availabilityGap:de("availability_gap").default(0),languageGaps:he("language_gaps").default([]),specializationGaps:he("specialization_gaps").default([]),competitorAnalysis:he("competitor_analysis").default({}),opportunityDescription:ne("opportunity_description"),recommendedActions:he("recommended_actions").default([]),lastAnalyzedAt:Y("last_analyzed_at").defaultNow(),expiresAt:Y("expires_at"),createdAt:Y("created_at").defaultNow()}),rse=Fe("seasonal_opportunities",{id:N("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),city:N("city",{length:100}).notNull(),country:N("country",{length:100}),month:de("month").notNull(),serviceType:N("service_type",{length:100}).notNull(),opportunityType:N("opportunity_type",{length:50}).notNull(),eventName:N("event_name",{length:255}),demandMultiplier:be("demand_multiplier",{precision:4,scale:2}).default("1.0"),pricingOpportunity:N("pricing_opportunity",{length:20}).$type(),leadTimeWeeks:de("lead_time_weeks").default(4),preparationTips:he("preparation_tips").default([]),historicalPerformance:he("historical_performance").default({}),createdAt:Y("created_at").defaultNow(),updatedAt:Y("updated_at").defaultNow()});Ie(qD).omit({id:!0,createdAt:!0,updatedAt:!0});Ie(HD).omit({id:!0,createdAt:!0,updatedAt:!0});Ie(sse).omit({id:!0,createdAt:!0});Ie(ase).omit({id:!0,createdAt:!0,lastAnalyzedAt:!0});Ie(rse).omit({id:!0,createdAt:!0,updatedAt:!0});bn({message:jt(),field:jt().optional()}),bn({message:jt()}),bn({message:jt()}),bn({message:jt()});const Or={trips:{list:{path:"/api/trips",responses:{200:Su(ti())}},get:{path:"/api/trips/:id",responses:{200:ti()}},create:{responses:{201:ti()}},update:{input:Gee.partial(),responses:{200:ti()}},delete:{responses:{204:iD()}},generateItinerary:{method:"POST",path:"/api/trips/:id/generate-itinerary",responses:{201:ti()}}},touristPlaces:{search:{input:bn({query:jt()}),responses:{200:Su(ti())}}},chats:{list:{path:"/api/chats",responses:{200:Su(ti())}},create:{method:"POST",path:"/api/chats",responses:{201:ti()}}},helpGuideTrips:{list:{responses:{200:Su(ti())}},get:{responses:{200:ti()}}}};function WD(t,s){let a=t;return s&&Object.entries(s).forEach(([r,n])=>{a.includes(`:${r}`)&&(a=a.replace(`:${r}`,String(n)))}),a}function GD(){return Le({queryKey:[Or.trips.list.path],queryFn:async()=>{const t=await fetch(Or.trips.list.path,{credentials:"include"});if(t.status===401)return null;if(!t.ok)throw new Error("Failed to fetch trips");return Or.trips.list.responses[200].parse(await t.json())}})}function KD(t){return Le({queryKey:[Or.trips.get.path,t],queryFn:async()=>{const s=WD(Or.trips.get.path,{id:t}),a=await fetch(s,{credentials:"include"});if(a.status===404)return null;if(!a.ok)throw new Error("Failed to fetch trip");return Or.trips.get.responses[200].parse(await a.json())},enabled:!!t})}function nse(){const t=bo(),{toast:s}=Bs();return Ot({mutationFn:async a=>{const r=WD(Or.trips.generateItinerary.path,{id:a}),n=await fetch(r,{method:Or.trips.generateItinerary.method,credentials:"include"});if(!n.ok)throw new Error("Failed to generate itinerary");return Or.trips.generateItinerary.responses[201].parse(await n.json())},onSuccess:(a,r)=>{t.invalidateQueries({queryKey:[Or.trips.get.path,r]}),s({title:"Itinerary Generating",description:"Your custom plan is being created..."})}})}function ise(t){return Le({queryKey:["/api/generated-itineraries",t],queryFn:async()=>{const s=await fetch(`/api/generated-itineraries/${t}`,{credentials:"include"});if(s.status===404)return null;if(!s.ok)throw new Error("Failed to fetch generated itinerary");return s.json()},enabled:!0})}function lse(t,s=[]){let a=[];function r(i,l){const c=h.createContext(l);c.displayName=i+"Context";const u=a.length;a=[...a,l];const m=f=>{const{scope:g,children:b,...v}=f,y=g?.[t]?.[u]||c,w=h.useMemo(()=>v,Object.values(v));return e.jsx(y.Provider,{value:w,children:b})};m.displayName=i+"Provider";function x(f,g){const b=g?.[t]?.[u]||c,v=h.useContext(b);if(v)return v;if(l!==void 0)return l;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[m,x]}const n=()=>{const i=a.map(l=>h.createContext(l));return function(c){const u=c?.[t]||i;return h.useMemo(()=>({[`__scope${t}`]:{...c,[t]:u}}),[c,u])}};return n.scopeName=t,[r,ose(n,...s)]}function ose(...t){const s=t[0];if(t.length===1)return s;const a=()=>{const r=t.map(n=>({useScope:n(),scopeName:n.scopeName}));return function(i){const l=r.reduce((c,{useScope:u,scopeName:m})=>{const f=u(i)[`__scope${m}`];return{...c,...f}},{});return h.useMemo(()=>({[`__scope${s.scopeName}`]:l}),[l])}};return a.scopeName=s.scopeName,a}var cse=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],YD=cse.reduce((t,s)=>{const a=Cx(`Primitive.${s}`),r=h.forwardRef((n,i)=>{const{asChild:l,...c}=n,u=l?a:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(u,{...c,ref:i})});return r.displayName=`Primitive.${s}`,{...t,[s]:r}},{}),L1="Progress",O1=100,[dse]=lse(L1),[use,mse]=dse(L1),QD=h.forwardRef((t,s)=>{const{__scopeProgress:a,value:r=null,max:n,getValueLabel:i=hse,...l}=t;(n||n===0)&&!q5(n)&&console.error(xse(`${n}`,"Progress"));const c=q5(n)?n:O1;r!==null&&!H5(r,c)&&console.error(pse(`${r}`,"Progress"));const u=H5(r,c)?r:null,m=Mg(u)?i(u,c):void 0;return e.jsx(use,{scope:a,value:u,max:c,children:e.jsx(YD.div,{"aria-valuemax":c,"aria-valuemin":0,"aria-valuenow":Mg(u)?u:void 0,"aria-valuetext":m,role:"progressbar","data-state":JD(u,c),"data-value":u??void 0,"data-max":c,...l,ref:s})})});QD.displayName=L1;var XD="ProgressIndicator",ZD=h.forwardRef((t,s)=>{const{__scopeProgress:a,...r}=t,n=mse(XD,a);return e.jsx(YD.div,{"data-state":JD(n.value,n.max),"data-value":n.value??void 0,"data-max":n.max,...r,ref:s})});ZD.displayName=XD;function hse(t,s){return`${Math.round(t/s*100)}%`}function JD(t,s){return t==null?"indeterminate":t===s?"complete":"loading"}function Mg(t){return typeof t=="number"}function q5(t){return Mg(t)&&!isNaN(t)&&t>0}function H5(t,s){return Mg(t)&&!isNaN(t)&&t<=s&&t>=0}function xse(t,s){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${s}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${O1}\`.`}function pse(t,s){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${s}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${O1} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var eF=QD,fse=ZD;const Pr=h.forwardRef(({className:t,value:s,...a},r)=>e.jsx(eF,{ref:r,className:te("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...a,children:e.jsx(fse,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(s||0)}%)`}})}));Pr.displayName=eF.displayName;const gse=cm("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border [border-color:var(--badge-outline)] shadow-xs"}},defaultVariants:{variant:"default"}});function O({className:t,variant:s,...a}){return e.jsx("div",{className:te(gse({variant:s}),t),...a})}const Lj=768;function vse(){const[t,s]=h.useState(void 0);return h.useEffect(()=>{const a=window.matchMedia(`(max-width: ${Lj-1}px)`),r=()=>{s(window.innerWidth<Lj)};return a.addEventListener("change",r),s(window.innerWidth<Lj),()=>a.removeEventListener("change",r)},[]),!!t}const Ne=h.forwardRef(({className:t,type:s,...a},r)=>e.jsx("input",{type:s,className:te("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...a}));Ne.displayName="Input";var yse=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],jse=yse.reduce((t,s)=>{const a=Cx(`Primitive.${s}`),r=h.forwardRef((n,i)=>{const{asChild:l,...c}=n,u=l?a:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(u,{...c,ref:i})});return r.displayName=`Primitive.${s}`,{...t,[s]:r}},{}),bse="Separator",W5="horizontal",Nse=["horizontal","vertical"],tF=h.forwardRef((t,s)=>{const{decorative:a,orientation:r=W5,...n}=t,i=wse(r)?r:W5,c=a?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return e.jsx(jse.div,{"data-orientation":i,...c,...n,ref:s})});tF.displayName=bse;function wse(t){return Nse.includes(t)}var sF=tF;const Ja=h.forwardRef(({className:t,orientation:s="horizontal",decorative:a=!0,...r},n)=>e.jsx(sF,{ref:n,decorative:a,orientation:s,className:te("shrink-0 bg-border",s==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));Ja.displayName=sF.displayName;function kse(t){const s=Cse(t),a=h.forwardRef((r,n)=>{const{children:i,...l}=r,c=h.Children.toArray(i),u=c.find(Tse);if(u){const m=u.props.children,x=c.map(f=>f===u?h.Children.count(m)>1?h.Children.only(null):h.isValidElement(m)?m.props.children:null:f);return e.jsx(s,{...l,ref:n,children:h.isValidElement(m)?h.cloneElement(m,void 0,x):null})}return e.jsx(s,{...l,ref:n,children:i})});return a.displayName=`${t}.Slot`,a}function Cse(t){const s=h.forwardRef((a,r)=>{const{children:n,...i}=a;if(h.isValidElement(n)){const l=Ese(n),c=_se(i,n.props);return n.type!==h.Fragment&&(c.ref=r?kn(r,l):l),h.cloneElement(n,c)}return h.Children.count(n)>1?h.Children.only(null):null});return s.displayName=`${t}.SlotClone`,s}var Sse=Symbol("radix.slottable");function Tse(t){return h.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Sse}function _se(t,s){const a={...s};for(const r in s){const n=t[r],i=s[r];/^on[A-Z]/.test(r)?n&&i?a[r]=(...c)=>{const u=i(...c);return n(...c),u}:n&&(a[r]=n):r==="style"?a[r]={...n,...i}:r==="className"&&(a[r]=[n,i].filter(Boolean).join(" "))}return{...t,...a}}function Ese(t){let s=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,a=s&&"isReactWarning"in s&&s.isReactWarning;return a?t.ref:(s=Object.getOwnPropertyDescriptor(t,"ref")?.get,a=s&&"isReactWarning"in s&&s.isReactWarning,a?t.props.ref:t.props.ref||t.ref)}var L0="Dialog",[aF]=kr(L0),[Pse,ml]=aF(L0),rF=t=>{const{__scopeDialog:s,children:a,open:r,defaultOpen:n,onOpenChange:i,modal:l=!0}=t,c=h.useRef(null),u=h.useRef(null),[m,x]=ln({prop:r,defaultProp:n??!1,onChange:i,caller:L0});return e.jsx(Pse,{scope:s,triggerRef:c,contentRef:u,contentId:ur(),titleId:ur(),descriptionId:ur(),open:m,onOpenChange:x,onOpenToggle:h.useCallback(()=>x(f=>!f),[x]),modal:l,children:a})};rF.displayName=L0;var nF="DialogTrigger",iF=h.forwardRef((t,s)=>{const{__scopeDialog:a,...r}=t,n=ml(nF,a),i=zt(s,n.triggerRef);return e.jsx(lt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":z1(n.open),...r,ref:i,onClick:Ye(t.onClick,n.onOpenToggle)})});iF.displayName=nF;var $1="DialogPortal",[Ase,lF]=aF($1,{forceMount:void 0}),oF=t=>{const{__scopeDialog:s,forceMount:a,children:r,container:n}=t,i=ml($1,s);return e.jsx(Ase,{scope:s,forceMount:a,children:h.Children.map(r,l=>e.jsx(xr,{present:a||i.open,children:e.jsx(om,{asChild:!0,container:n,children:l})}))})};oF.displayName=$1;var Ig="DialogOverlay",cF=h.forwardRef((t,s)=>{const a=lF(Ig,t.__scopeDialog),{forceMount:r=a.forceMount,...n}=t,i=ml(Ig,t.__scopeDialog);return i.modal?e.jsx(xr,{present:r||i.open,children:e.jsx(Fse,{...n,ref:s})}):null});cF.displayName=Ig;var Dse=kse("DialogOverlay.RemoveScroll"),Fse=h.forwardRef((t,s)=>{const{__scopeDialog:a,...r}=t,n=ml(Ig,a);return e.jsx(Dx,{as:Dse,allowPinchZoom:!0,shards:[n.contentRef],children:e.jsx(lt.div,{"data-state":z1(n.open),...r,ref:s,style:{pointerEvents:"auto",...r.style}})})}),pd="DialogContent",dF=h.forwardRef((t,s)=>{const a=lF(pd,t.__scopeDialog),{forceMount:r=a.forceMount,...n}=t,i=ml(pd,t.__scopeDialog);return e.jsx(xr,{present:r||i.open,children:i.modal?e.jsx(Mse,{...n,ref:s}):e.jsx(Ise,{...n,ref:s})})});dF.displayName=pd;var Mse=h.forwardRef((t,s)=>{const a=ml(pd,t.__scopeDialog),r=h.useRef(null),n=zt(s,a.contentRef,r);return h.useEffect(()=>{const i=r.current;if(i)return C0(i)},[]),e.jsx(uF,{...t,ref:n,trapFocus:a.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ye(t.onCloseAutoFocus,i=>{i.preventDefault(),a.triggerRef.current?.focus()}),onPointerDownOutside:Ye(t.onPointerDownOutside,i=>{const l=i.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0;(l.button===2||c)&&i.preventDefault()}),onFocusOutside:Ye(t.onFocusOutside,i=>i.preventDefault())})}),Ise=h.forwardRef((t,s)=>{const a=ml(pd,t.__scopeDialog),r=h.useRef(!1),n=h.useRef(!1);return e.jsx(uF,{...t,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{t.onCloseAutoFocus?.(i),i.defaultPrevented||(r.current||a.triggerRef.current?.focus(),i.preventDefault()),r.current=!1,n.current=!1},onInteractOutside:i=>{t.onInteractOutside?.(i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(n.current=!0));const l=i.target;a.triggerRef.current?.contains(l)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&n.current&&i.preventDefault()}})}),uF=h.forwardRef((t,s)=>{const{__scopeDialog:a,trapFocus:r,onOpenAutoFocus:n,onCloseAutoFocus:i,...l}=t,c=ml(pd,a),u=h.useRef(null),m=zt(s,u);return k0(),e.jsxs(e.Fragment,{children:[e.jsx(Px,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:n,onUnmountAutoFocus:i,children:e.jsx(kd,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":z1(c.open),...l,ref:m,onDismiss:()=>c.onOpenChange(!1)})}),e.jsxs(e.Fragment,{children:[e.jsx(Rse,{titleId:c.titleId}),e.jsx(Ose,{contentRef:u,descriptionId:c.descriptionId})]})]})}),B1="DialogTitle",mF=h.forwardRef((t,s)=>{const{__scopeDialog:a,...r}=t,n=ml(B1,a);return e.jsx(lt.h2,{id:n.titleId,...r,ref:s})});mF.displayName=B1;var hF="DialogDescription",xF=h.forwardRef((t,s)=>{const{__scopeDialog:a,...r}=t,n=ml(hF,a);return e.jsx(lt.p,{id:n.descriptionId,...r,ref:s})});xF.displayName=hF;var pF="DialogClose",fF=h.forwardRef((t,s)=>{const{__scopeDialog:a,...r}=t,n=ml(pF,a);return e.jsx(lt.button,{type:"button",...r,ref:s,onClick:Ye(t.onClick,()=>n.onOpenChange(!1))})});fF.displayName=pF;function z1(t){return t?"open":"closed"}var gF="DialogTitleWarning",[Spe,vF]=Z7(gF,{contentName:pd,titleName:B1,docsSlug:"dialog"}),Rse=({titleId:t})=>{const s=vF(gF),a=`\`${s.contentName}\` requires a \`${s.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${s.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${s.docsSlug}`;return h.useEffect(()=>{t&&(document.getElementById(t)||console.error(a))},[a,t]),null},Lse="DialogDescriptionWarning",Ose=({contentRef:t,descriptionId:s})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${vF(Lse).contentName}}.`;return h.useEffect(()=>{const n=t.current?.getAttribute("aria-describedby");s&&n&&(document.getElementById(s)||console.warn(r))},[r,t,s]),null},V1=rF,yF=iF,U1=oF,zx=cF,Vx=dF,O0=mF,$0=xF,jF=fF;const Rg=V1,$se=yF,Bse=U1,bF=h.forwardRef(({className:t,...s},a)=>e.jsx(zx,{className:te("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...s,ref:a}));bF.displayName=zx.displayName;const zse=cm("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),cx=h.forwardRef(({side:t="right",className:s,children:a,...r},n)=>e.jsxs(Bse,{children:[e.jsx(bF,{}),e.jsxs(Vx,{ref:n,className:te(zse({side:t}),s),...r,children:[a,e.jsxs(jF,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[e.jsx(Ia,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));cx.displayName=Vx.displayName;const dx=({className:t,...s})=>e.jsx("div",{className:te("flex flex-col space-y-2 text-center sm:text-left",t),...s});dx.displayName="SheetHeader";const ux=h.forwardRef(({className:t,...s},a)=>e.jsx(O0,{ref:a,className:te("text-lg font-semibold text-foreground",t),...s}));ux.displayName=O0.displayName;const q1=h.forwardRef(({className:t,...s},a)=>e.jsx($0,{ref:a,className:te("text-sm text-muted-foreground",t),...s}));q1.displayName=$0.displayName;function _e({className:t,...s}){return e.jsx("div",{className:te("animate-pulse rounded-md bg-muted",t),...s})}const Vse="sidebar_state",Use=3600*24*7,qse="16rem",Hse="18rem",Wse="3rem",Gse="b",NF=h.createContext(null);function H1(){const t=h.useContext(NF);if(!t)throw new Error("useSidebar must be used within a SidebarProvider.");return t}function wF({defaultOpen:t=!0,open:s,onOpenChange:a,className:r,style:n,children:i,...l}){const c=vse(),[u,m]=h.useState(!1),[x,f]=h.useState(t),g=s??x,b=h.useCallback(k=>{const C=typeof k=="function"?k(g):k;a?a(C):f(C),document.cookie=`${Vse}=${C}; path=/; max-age=${Use}`},[a,g]),v=h.useCallback(()=>c?m(k=>!k):b(k=>!k),[c,b,m]);h.useEffect(()=>{const k=C=>{C.key===Gse&&(C.metaKey||C.ctrlKey)&&(C.preventDefault(),v())};return window.addEventListener("keydown",k),()=>window.removeEventListener("keydown",k)},[v]);const y=g?"expanded":"collapsed",w=h.useMemo(()=>({state:y,open:g,setOpen:b,isMobile:c,openMobile:u,setOpenMobile:m,toggleSidebar:v}),[y,g,b,c,u,m,v]);return e.jsx(NF.Provider,{value:w,children:e.jsx(wE,{delayDuration:0,children:e.jsx("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":qse,"--sidebar-width-icon":Wse,...n},className:te("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",r),...l,children:i})})})}function kF({side:t="left",variant:s="sidebar",collapsible:a="offcanvas",className:r,children:n,...i}){const{isMobile:l,state:c,openMobile:u,setOpenMobile:m}=H1();return a==="none"?e.jsx("div",{"data-slot":"sidebar",className:te("bg-sidebar text-sidebar-foreground flex h-full w-[var(--sidebar-width)] flex-col",r),...i,children:n}):l?e.jsx(Rg,{open:u,onOpenChange:m,...i,children:e.jsxs(cx,{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",className:"bg-sidebar text-sidebar-foreground w-[var(--sidebar-width)] p-0 [&>button]:hidden",style:{"--sidebar-width":Hse},side:t,children:[e.jsxs(dx,{className:"sr-only",children:[e.jsx(ux,{children:"Sidebar"}),e.jsx(q1,{children:"Displays the mobile sidebar."})]}),e.jsx("div",{className:"flex h-full w-full flex-col",children:n})]})}):e.jsxs("div",{className:"group peer text-sidebar-foreground hidden md:block","data-state":c,"data-collapsible":c==="collapsed"?a:"","data-variant":s,"data-side":t,"data-slot":"sidebar",children:[e.jsx("div",{"data-slot":"sidebar-gap",className:te("relative w-[var(--sidebar-width)] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",s==="floating"||s==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4))]":"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)]")}),e.jsx("div",{"data-slot":"sidebar-container",className:te("fixed inset-y-0 z-10 hidden h-svh w-[var(--sidebar-width)] transition-[left,right,width] duration-200 ease-linear md:flex",t==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",s==="floating"||s==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4)+2px)]":"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)] group-data-[side=left]:border-r group-data-[side=right]:border-l",r),...i,children:e.jsx("div",{"data-sidebar":"sidebar","data-slot":"sidebar-inner",className:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm",children:n})})]})}function CF({className:t,onClick:s,...a}){const{toggleSidebar:r}=H1();return e.jsxs(S,{"data-sidebar":"trigger","data-slot":"sidebar-trigger",variant:"ghost",size:"icon",className:te("h-7 w-7",t),onClick:n=>{s?.(n),r()},...a,children:[e.jsx(p$,{}),e.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})}function SF({className:t,...s}){return e.jsx("div",{"data-slot":"sidebar-header","data-sidebar":"header",className:te("flex flex-col gap-2 p-2",t),...s})}function TF({className:t,...s}){return e.jsx("div",{"data-slot":"sidebar-footer","data-sidebar":"footer",className:te("flex flex-col gap-2 p-2",t),...s})}function _F({className:t,...s}){return e.jsx("div",{"data-slot":"sidebar-content","data-sidebar":"content",className:te("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",t),...s})}function EF({className:t,...s}){return e.jsx("div",{"data-slot":"sidebar-group","data-sidebar":"group",className:te("relative flex w-full min-w-0 flex-col p-2",t),...s})}function Kse({className:t,asChild:s=!1,...a}){const r=s?g0:"div";return e.jsx(r,{"data-slot":"sidebar-group-label","data-sidebar":"group-label",className:te("text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:h-4 [&>svg]:w-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",t),...a})}function PF({className:t,...s}){return e.jsx("div",{"data-slot":"sidebar-group-content","data-sidebar":"group-content",className:te("w-full text-sm",t),...s})}function AF({className:t,...s}){return e.jsx("ul",{"data-slot":"sidebar-menu","data-sidebar":"menu",className:te("flex w-full min-w-0 flex-col gap-1",t),...s})}function DF({className:t,...s}){return e.jsx("li",{"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",className:te("group/menu-item relative",t),...s})}const Yse=cm("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:w-8! group-data-[collapsible=icon]:h-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}});function FF({asChild:t=!1,isActive:s=!1,variant:a="default",size:r="default",tooltip:n,className:i,...l}){const c=t?g0:"button",{isMobile:u,state:m}=H1(),x=e.jsx(c,{"data-slot":"sidebar-menu-button","data-sidebar":"menu-button","data-size":r,"data-active":s,className:te(Yse({variant:a,size:r}),i),...l});return n?(typeof n=="string"&&(n={children:n}),e.jsxs($b,{children:[e.jsx(Bb,{asChild:!0,children:x}),e.jsx(mg,{side:"right",align:"center",hidden:m!=="collapsed"||u,...n})]})):x}const Qse=[{title:"Home",href:"/dashboard",icon:Td},{title:"Plan Experience",href:"/experiences",icon:qe},{title:"All Events",href:"/my-trips",icon:Ge},{title:"My Bookings",href:"/bookings",icon:br},{title:"Cart",href:"/cart",icon:Nn},{title:"AI Planner",href:"/ai-assistant",icon:os},{title:"Messages",href:"/chat",icon:Vs},{title:"Discover",href:"/discover",icon:et},{title:"Credits",href:"/credits",icon:Sa},{title:"Profile",href:"/profile",icon:Wn},{title:"Notifications",href:"/notifications",icon:mi}];function Xse(){const[t]=La(),{user:s,logout:a}=qr();return e.jsxs(kF,{className:"border-r border-[#E5E7EB]",children:[e.jsx(SF,{className:"p-4 border-b border-[#E5E7EB]",children:e.jsxs(Ce,{href:"/",className:"flex items-center gap-2","data-testid":"link-sidebar-logo",children:[e.jsx("div",{className:"bg-[#FF385C] p-1.5 rounded-lg",children:e.jsx(dr,{className:"h-5 w-5 text-white"})}),e.jsx("span",{className:"font-bold text-lg text-[#111827] dark:text-white",children:"Traveloure"})]})}),e.jsx(_F,{children:e.jsxs(EF,{children:[e.jsx(Kse,{className:"text-xs font-semibold text-[#9CA3AF] uppercase tracking-wide px-4",children:"User Menu"}),e.jsx(PF,{children:e.jsx(AF,{children:Qse.map(r=>{const n=t===r.href||r.href==="/dashboard"&&t==="/dashboard"||r.href!=="/dashboard"&&t.startsWith(r.href);return e.jsx(DF,{children:e.jsx(FF,{asChild:!0,isActive:n,className:n?"bg-[#FFE3E8] text-[#FF385C]":"text-[#6B7280] hover:text-[#111827] hover:bg-[#F3F4F6]",children:e.jsxs(Ce,{href:r.href,"data-testid":`link-sidebar-${r.title.toLowerCase().replace(/\s+/g,"-")}`,children:[e.jsx(r.icon,{className:"w-5 h-5"}),e.jsx("span",{children:r.title})]})})},r.title)})})})]})}),e.jsxs(TF,{className:"p-4 border-t border-[#E5E7EB]",children:[s&&e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsxs(Ls,{className:"h-10 w-10 border-2 border-[#E5E7EB]",children:[e.jsx(Br,{src:s.profileImageUrl||void 0,alt:s.firstName||"User"}),e.jsx(Os,{className:"bg-[#FFE3E8] text-[#FF385C] font-semibold",children:s.firstName?.[0]||"U"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("p",{className:"text-sm font-medium text-[#111827] dark:text-white truncate",children:[s.firstName," ",s.lastName]}),e.jsx("p",{className:"text-xs text-[#6B7280] truncate",children:s.email})]})]}),e.jsxs(S,{variant:"ghost",className:"w-full justify-start text-[#6B7280] hover:text-[#FF385C] hover:bg-[#FFE3E8]",onClick:()=>a(),"data-testid":"button-sidebar-logout",children:[e.jsx(_d,{className:"w-5 h-5 mr-2"}),"Logout"]})]})]})}function al({children:t}){const s={"--sidebar-width":"16rem","--sidebar-width-icon":"3rem"};return e.jsx(wF,{style:s,children:e.jsxs("div",{className:"flex min-h-screen w-full bg-[#F9FAFB] dark:bg-gray-900",children:[e.jsx(Xse,{}),e.jsxs("div",{className:"flex flex-col flex-1",children:[e.jsxs("header",{className:"flex items-center justify-between gap-4 px-4 py-3 border-b border-[#E5E7EB] bg-white dark:bg-gray-900 sticky top-0 z-40",children:[e.jsx(CF,{"data-testid":"button-dashboard-sidebar-toggle"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ce,{href:"/notifications",children:e.jsxs(S,{variant:"ghost",size:"icon",className:"relative","data-testid":"button-notifications",children:[e.jsx(mi,{className:"w-5 h-5 text-[#6B7280]"}),e.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-[#FF385C] rounded-full"})]})}),e.jsx(vm,{})]})]}),e.jsx("main",{className:"flex-1 overflow-auto",children:t})]})]})})}function Zse({city:t,experienceType:s,className:a=""}){const r=new URLSearchParams;t&&r.append("city",t),s&&r.append("experienceType",s),r.toString();const{data:n,isLoading:i,error:l}=Le({queryKey:["/api/recommendations/user",{city:t,experienceType:s}]});return i?e.jsxs(P,{className:`hover-elevate ${a}`,children:[e.jsx(Q,{children:e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(qe,{className:"w-5 h-5 text-primary"}),"Recommended For You"]})}),e.jsx(F,{className:"space-y-4",children:[1,2,3].map(c=>e.jsxs("div",{className:"space-y-2",children:[e.jsx(_e,{className:"h-4 w-3/4"}),e.jsx(_e,{className:"h-3 w-full"})]},c))})]}):l||!n||n.recommendations.length===0?null:e.jsxs(P,{className:`hover-elevate ${a}`,children:[e.jsxs(Q,{children:[e.jsxs("div",{className:"flex items-center justify-between gap-2 flex-wrap",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(qe,{className:"w-5 h-5 text-primary"}),e.jsx(X,{children:"Recommended For You"})]}),e.jsxs(O,{variant:"outline",className:"text-primary",children:[e.jsx(Xt,{className:"w-3 h-3 mr-1"}),n.message||"Trending"]})]}),e.jsx(Tt,{children:t?`Popular experiences in ${t}`:"Popular experiences based on current travel trends"})]}),e.jsxs(F,{className:"space-y-4",children:[n.recommendations.slice(0,4).map(c=>e.jsxs("div",{className:"p-4 rounded-lg border bg-card hover-elevate transition-colors cursor-pointer","data-testid":`recommendation-${c.id}`,children:[e.jsxs("div",{className:"flex items-start justify-between gap-4 flex-wrap",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap mb-1",children:[e.jsx("h4",{className:"font-medium",children:c.title}),c.matchScore>=80&&e.jsxs(O,{variant:"default",className:"bg-primary text-xs",children:[e.jsx(rt,{className:"w-3 h-3 mr-1"}),"Top Match"]})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:c.description}),e.jsxs("div",{className:"flex items-center gap-3 flex-wrap text-xs",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Me,{className:"w-3 h-3"}),c.city]}),e.jsx(O,{variant:"outline",className:"text-xs",children:c.serviceType.replace(/_/g," ")})]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("div",{className:"text-sm font-medium text-primary",children:[c.matchScore,"% match"]})})]}),c.reasons&&c.reasons.length>0&&e.jsx("div",{className:"mt-3 flex flex-wrap gap-1",children:c.reasons.slice(0,2).map((u,m)=>e.jsx(O,{variant:"secondary",className:"text-xs",children:u},m))}),c.relatedServices&&c.relatedServices.length>0&&e.jsxs("div",{className:"mt-2 text-xs text-muted-foreground",children:[c.relatedServices.length," related service",c.relatedServices.length>1?"s":""," available"]})]},c.id)),n.recommendations.length>4&&e.jsxs(S,{variant:"outline",className:"w-full","data-testid":"button-explore-recommendations",children:["Explore all recommendations",e.jsx(Kt,{className:"w-4 h-4 ml-2"})]})]})]})}const Jse={vacation:Pt,wedding:Qt,honeymoon:Qt,proposal:Qt,anniversary:Qt,birthday:ya,corporate:Ta,adventure:Pt},eae=[{id:1,message:"AI completed your Tokyo itinerary",time:"2 hours ago"},{id:2,message:"You saved a restaurant in Paris",time:"5 hours ago"},{id:3,message:"Expert Yuki M. sent you a message",time:"Yesterday"},{id:4,message:"New deal available for Bali trips",time:"2 days ago"}];function tae(){const{data:t,isLoading:s,isError:a}=GD(),{user:r}=qr();if(s)return e.jsx(al,{children:e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx(ot,{className:"w-10 h-10 animate-spin text-[#FF385C]"})})});if(a)return e.jsx(al,{children:e.jsxs("div",{className:"container mx-auto px-4 py-12 text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-destructive",children:"Something went wrong"}),e.jsx("p",{className:"text-[#6B7280] mt-2",children:"Could not load your trips. Please try again later."})]})});const n=new Date,i=t?.filter(f=>{const g=new Date(f.startDate),b=new Date(f.endDate);return g<=n&&b>=n})||[],l=t?.filter(f=>new Date(f.startDate)>n)||[],c=t||[],u=[{label:"Active Plans",value:i.length+l.filter(f=>f.status==="planning").length,icon:Ge,color:"bg-[#FFE3E8] text-[#FF385C]"},{label:"Upcoming Events",value:l.length,icon:Je,color:"bg-blue-100 text-blue-600 dark:bg-blue-900/30 dark:text-blue-400"},{label:"Credits Balance",value:150,icon:Sa,color:"bg-green-100 text-green-600 dark:bg-green-900/30 dark:text-green-400"},{label:"Saved Items",value:12,icon:b_,color:"bg-purple-100 text-purple-600 dark:bg-purple-900/30 dark:text-purple-400"}],m=f=>{const g=new Date(f.startDate),b=new Date(f.endDate),v=Zo(b,g);if(v<=0)return 100;const y=Zo(n,g);return y<0?Math.min(Math.random()*60+20,95):y>v?100:Math.round(y/v*100)},x=f=>{const g=new Date(f.startDate);if(g>n){const b=Zo(g,n);return b<=30?{label:`${b} days away`,variant:"default"}:{label:"Upcoming",variant:"secondary"}}return{label:"Planning",variant:"outline"}};return e.jsx(al,{children:e.jsxs("div",{className:"p-6 space-y-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-[#111827] dark:text-white","data-testid":"text-welcome",children:["Welcome back, ",r?.firstName||"Traveler","!"]}),e.jsx("p",{className:"text-[#6B7280] mt-1",children:"Ready for your next adventure?"})]}),e.jsx(Ce,{href:"/experiences",children:e.jsxs(S,{className:"bg-[#FF385C] hover:bg-[#E23350] text-white font-semibold","data-testid":"button-new-plan",children:[e.jsx(ps,{className:"w-4 h-4 mr-2"}),"Create New Plan"]})})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:u.map((f,g)=>e.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:g*.1},children:e.jsx(P,{className:"border border-[#E5E7EB]","data-testid":`card-stat-${f.label.toLowerCase().replace(/\s+/g,"-")}`,children:e.jsxs(F,{className:"p-4 flex items-center gap-4",children:[e.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center ${f.color}`,children:e.jsx(f.icon,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-[#111827] dark:text-white","data-testid":`text-stat-value-${g}`,children:f.value}),e.jsx("p",{className:"text-sm text-[#6B7280]",children:f.label})]})]})})},f.label))}),e.jsxs("section",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-[#111827] dark:text-white",children:"Your Active Plans"}),e.jsx(Ce,{href:"/my-trips",children:e.jsxs(S,{variant:"ghost",className:"text-[#FF385C] hover:text-[#E23350]","data-testid":"link-view-all-plans",children:["View All ",e.jsx($s,{className:"w-4 h-4 ml-1"})]})})]}),c.length>0?e.jsx("div",{className:"space-y-4",children:c.slice(0,3).map((f,g)=>{const b=Jse[f.eventType||"vacation"]||Pt,v=m(f),y=x(f);return e.jsx(He.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:g*.1},children:e.jsx(P,{className:"border border-[#E5E7EB] hover:shadow-md transition-shadow","data-testid":`card-plan-${f.id}`,children:e.jsx(F,{className:"p-5",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg bg-[#FFE3E8] flex items-center justify-center flex-shrink-0",children:e.jsx(b,{className:"w-6 h-6 text-[#FF385C]"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-[#111827] dark:text-white truncate","data-testid":`text-plan-title-${f.id}`,children:f.title}),e.jsxs("p",{className:"text-sm text-[#6B7280]",children:[Et(new Date(f.startDate),"MMM d")," - ",Et(new Date(f.endDate),"MMM d, yyyy"),"  ",f.destination]})]}),e.jsx(O,{variant:y.variant,className:"flex-shrink-0","data-testid":`badge-status-${f.id}`,children:y.label})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm mb-1",children:[e.jsx("span",{className:"text-[#6B7280]",children:"Progress"}),e.jsxs("span",{className:"font-medium text-[#111827] dark:text-white",children:[v,"%"]})]}),e.jsx(Pr,{value:v,className:"h-2"})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx(Ce,{href:`/trip/${f.id}`,children:e.jsx(S,{size:"sm",variant:"outline","data-testid":`button-view-plan-${f.id}`,children:"Open Plan"})}),e.jsx(Ce,{href:`/itinerary/${f.id}`,children:e.jsxs(S,{size:"sm",variant:"default",className:"bg-[#FF385C] hover:bg-[#E23350]","data-testid":`button-view-itinerary-${f.id}`,children:[e.jsx(Ge,{className:"w-4 h-4 mr-1"}),"View Itinerary"]})}),e.jsx(Ce,{href:"/chat",children:e.jsxs(S,{size:"sm",variant:"ghost",className:"text-[#6B7280]","data-testid":`button-chat-${f.id}`,children:[e.jsx(Vs,{className:"w-4 h-4 mr-1"}),"Chat with Expert"]})})]})]})]})})})},f.id)})}):e.jsx(P,{className:"border-2 border-dashed border-[#E5E7EB]",children:e.jsxs(F,{className:"p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-[#FFE3E8] rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Ge,{className:"w-8 h-8 text-[#FF385C]"})}),e.jsx("h3",{className:"text-lg font-semibold text-[#111827] dark:text-white mb-2",children:"No plans yet"}),e.jsx("p",{className:"text-[#6B7280] mb-4",children:"Start planning your next adventure!"}),e.jsx(Ce,{href:"/experiences",children:e.jsxs(S,{className:"bg-[#FF385C] hover:bg-[#E23350] text-white","data-testid":"button-first-plan",children:[e.jsx(ps,{className:"w-4 h-4 mr-2"}),"Create Your First Plan"]})})]})})]}),e.jsx(P,{className:"bg-gradient-to-r from-[#FF385C] to-[#E23350] text-white border-0",children:e.jsx(F,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold mb-2",children:"What's your next experience?"}),e.jsx("p",{className:"text-white/80",children:"Create a new plan and let our AI and experts help you."})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx(Ce,{href:"/experiences/travel/new",children:e.jsx(S,{variant:"secondary",size:"sm",className:"bg-white/20 hover:bg-white/30 text-white border-0","data-testid":"button-quick-travel",children:"Travel"})}),e.jsx(Ce,{href:"/experiences/wedding/new",children:e.jsx(S,{variant:"secondary",size:"sm",className:"bg-white/20 hover:bg-white/30 text-white border-0","data-testid":"button-quick-wedding",children:"Wedding"})}),e.jsx(Ce,{href:"/experiences/proposal/new",children:e.jsx(S,{variant:"secondary",size:"sm",className:"bg-white/20 hover:bg-white/30 text-white border-0","data-testid":"button-quick-proposal",children:"Proposal"})}),e.jsx(Ce,{href:"/experiences/birthday/new",children:e.jsx(S,{variant:"secondary",size:"sm",className:"bg-white/20 hover:bg-white/30 text-white border-0","data-testid":"button-quick-birthday",children:"Birthday"})}),e.jsx(Ce,{href:"/experiences/corporate-events/new",children:e.jsx(S,{variant:"secondary",size:"sm",className:"bg-white/20 hover:bg-white/30 text-white border-0","data-testid":"button-quick-corporate",children:"Corporate"})})]})]})})}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs(P,{className:"border border-[#E5E7EB]",children:[e.jsx(Q,{children:e.jsx(X,{className:"text-lg text-[#111827] dark:text-white",children:"Quick Actions"})}),e.jsxs(F,{className:"space-y-3",children:[e.jsx(Ce,{href:"/chat",className:"block",children:e.jsxs(S,{variant:"outline",className:"w-full justify-start text-[#6B7280] hover:text-[#111827]","data-testid":"button-quick-message",children:[e.jsx(Vs,{className:"w-5 h-5 mr-3 text-blue-500"}),"Message Expert"]})}),e.jsx(Ce,{href:"/credits",className:"block",children:e.jsxs(S,{variant:"outline",className:"w-full justify-start text-[#6B7280] hover:text-[#111827]","data-testid":"button-quick-credits",children:[e.jsx(Sa,{className:"w-5 h-5 mr-3 text-green-500"}),"Buy Credits"]})}),e.jsx(Ce,{href:"/ai-assistant",className:"block",children:e.jsxs(S,{variant:"outline",className:"w-full justify-start text-[#6B7280] hover:text-[#111827]","data-testid":"button-quick-ai",children:[e.jsx(os,{className:"w-5 h-5 mr-3 text-[#FF385C]"}),"AI Assistant"]})})]})]}),e.jsxs(P,{className:"border border-[#E5E7EB]",children:[e.jsxs(Q,{className:"flex flex-row items-center justify-between gap-2",children:[e.jsx(X,{className:"text-lg text-[#111827] dark:text-white",children:"Recent Activity"}),e.jsx(S,{variant:"ghost",size:"sm",className:"text-[#FF385C]","data-testid":"button-view-all-activity",children:"View All"})]}),e.jsx(F,{children:e.jsx("div",{className:"space-y-4",children:eae.map(f=>e.jsxs("div",{className:"flex items-start gap-3","data-testid":`activity-${f.id}`,children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-[#FF385C] mt-2 flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm text-[#111827] dark:text-white",children:f.message}),e.jsx("p",{className:"text-xs text-[#9CA3AF]",children:f.time})]})]},f.id))})})]})]}),e.jsx(Zse,{})]})})}var B0="Tabs",[sae]=kr(B0,[gm]),MF=gm(),[aae,W1]=sae(B0),IF=h.forwardRef((t,s)=>{const{__scopeTabs:a,value:r,onValueChange:n,defaultValue:i,orientation:l="horizontal",dir:c,activationMode:u="automatic",...m}=t,x=xc(c),[f,g]=ln({prop:r,onChange:n,defaultProp:i??"",caller:B0});return e.jsx(aae,{scope:a,baseId:ur(),value:f,onValueChange:g,orientation:l,dir:x,activationMode:u,children:e.jsx(lt.div,{dir:x,"data-orientation":l,...m,ref:s})})});IF.displayName=B0;var RF="TabsList",LF=h.forwardRef((t,s)=>{const{__scopeTabs:a,loop:r=!0,...n}=t,i=W1(RF,a),l=MF(a);return e.jsx(n1,{asChild:!0,...l,orientation:i.orientation,dir:i.dir,loop:r,children:e.jsx(lt.div,{role:"tablist","aria-orientation":i.orientation,...n,ref:s})})});LF.displayName=RF;var OF="TabsTrigger",$F=h.forwardRef((t,s)=>{const{__scopeTabs:a,value:r,disabled:n=!1,...i}=t,l=W1(OF,a),c=MF(a),u=VF(l.baseId,r),m=UF(l.baseId,r),x=r===l.value;return e.jsx(i1,{asChild:!0,...c,focusable:!n,active:x,children:e.jsx(lt.button,{type:"button",role:"tab","aria-selected":x,"aria-controls":m,"data-state":x?"active":"inactive","data-disabled":n?"":void 0,disabled:n,id:u,...i,ref:s,onMouseDown:Ye(t.onMouseDown,f=>{!n&&f.button===0&&f.ctrlKey===!1?l.onValueChange(r):f.preventDefault()}),onKeyDown:Ye(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&l.onValueChange(r)}),onFocus:Ye(t.onFocus,()=>{const f=l.activationMode!=="manual";!x&&!n&&f&&l.onValueChange(r)})})})});$F.displayName=OF;var BF="TabsContent",zF=h.forwardRef((t,s)=>{const{__scopeTabs:a,value:r,forceMount:n,children:i,...l}=t,c=W1(BF,a),u=VF(c.baseId,r),m=UF(c.baseId,r),x=r===c.value,f=h.useRef(x);return h.useEffect(()=>{const g=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(g)},[]),e.jsx(xr,{present:n||x,children:({present:g})=>e.jsx(lt.div,{"data-state":x?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":u,hidden:!g,id:m,tabIndex:0,...l,ref:s,style:{...t.style,animationDuration:f.current?"0s":void 0},children:g&&i})})});zF.displayName=BF;function VF(t,s){return`${t}-trigger-${s}`}function UF(t,s){return`${t}-content-${s}`}var rae=IF,qF=LF,HF=$F,WF=zF;const Na=rae,ca=h.forwardRef(({className:t,...s},a)=>e.jsx(qF,{ref:a,className:te("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...s}));ca.displayName=qF.displayName;const it=h.forwardRef(({className:t,...s},a)=>e.jsx(HF,{ref:a,className:te("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...s}));it.displayName=HF.displayName;const xt=h.forwardRef(({className:t,...s},a)=>e.jsx(WF,{ref:a,className:te("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...s}));xt.displayName=WF.displayName;const nae=[{day:1,title:"Arrival & Exploration",activities:[{time:"10:00 AM",activity:"Arrive and check into hotel",icon:Pt,type:"travel"},{time:"12:00 PM",activity:"Lunch at local restaurant",icon:Ns,type:"food"},{time:"2:00 PM",activity:"Explore the city center",icon:Rs,type:"sightseeing"},{time:"7:00 PM",activity:"Dinner and rest",icon:j_,type:"rest"}]},{day:2,title:"Cultural Discovery",activities:[{time:"8:00 AM",activity:"Breakfast at hotel",icon:oo,type:"food"},{time:"10:00 AM",activity:"Visit historical sites",icon:Rs,type:"sightseeing"},{time:"1:00 PM",activity:"Traditional lunch experience",icon:Ns,type:"food"},{time:"3:00 PM",activity:"Museum tour",icon:Rs,type:"sightseeing"},{time:"7:00 PM",activity:"Evening entertainment",icon:oo,type:"entertainment"}]},{day:3,title:"Adventure Day",activities:[{time:"7:00 AM",activity:"Early breakfast",icon:oo,type:"food"},{time:"9:00 AM",activity:"Outdoor adventure activity",icon:Rs,type:"adventure"},{time:"1:00 PM",activity:"Scenic lunch spot",icon:Ns,type:"food"},{time:"4:00 PM",activity:"Shopping and souvenirs",icon:oo,type:"shopping"},{time:"8:00 PM",activity:"Farewell dinner",icon:Ns,type:"food"}]}];function iae(){const{id:t}=vx(),{data:s,isLoading:a}=KD(t||""),r=nse(),{toast:n}=Bs(),{user:i}=qr(),{data:l,isLoading:c}=Le({queryKey:["/api/services",{destination:s?.destination}],enabled:!!s?.destination}),u=b=>{if(!i){n({variant:"destructive",title:"Sign in required",description:"Please sign in to add items to your cart"}),setTimeout(()=>{window.location.href="/api/login"},1500);return}m.mutate(b)},m=Ot({mutationFn:async b=>Ft("POST","/api/cart",{serviceId:b,quantity:1}),onSuccess:()=>{_t.invalidateQueries({queryKey:["/api/cart"]}),n({title:"Added to cart!",description:"Service has been added to your cart."})},onError:b=>{n({variant:"destructive",title:"Failed to add to cart",description:b.message})}});if(a)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx(ot,{className:"w-10 h-10 animate-spin text-primary"})});if(!s)return e.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Trip not found"}),e.jsx(Ce,{href:"/dashboard",children:e.jsx(S,{children:"Back to Dashboard"})})]});const x=new Date(s.startDate),f=new Date(s.endDate),g=Zo(f,x)+1;return e.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[e.jsxs("div",{className:"relative h-[45vh] min-h-[350px]",children:[e.jsx("img",{src:`https://source.unsplash.com/1600x900/?${encodeURIComponent(s.destination)},travel,landmark`,alt:s.destination,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-black/20"}),e.jsx("div",{className:"absolute top-4 left-4",children:e.jsx(Ce,{href:"/dashboard",children:e.jsxs(S,{variant:"outline",className:"bg-white/10 backdrop-blur-md border-white/20 text-white hover:bg-white/20","data-testid":"button-back",children:[e.jsx(la,{className:"w-4 h-4 mr-2"}),"Back"]})})}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 container mx-auto px-4 pb-8",children:e.jsxs("div",{className:"max-w-4xl",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsxs(O,{className:"bg-white/20 backdrop-blur-md text-white border-0",children:[e.jsx(Me,{className:"w-3 h-3 mr-1"}),s.destination]}),e.jsx(O,{className:"bg-accent/80 backdrop-blur-md text-white border-0",children:s.status})]}),e.jsx("h1",{className:"text-4xl md:text-5xl font-display font-bold text-white mb-4",children:s.title}),e.jsxs("div",{className:"flex flex-wrap gap-6 text-white/90",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ge,{className:"w-5 h-5"}),Et(x,"MMMM d")," - ",Et(f,"MMMM d, yyyy")]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Je,{className:"w-5 h-5"}),g," ",g===1?"day":"days"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Wn,{className:"w-5 h-5"}),s.numberOfTravelers," Traveler",s.numberOfTravelers!==1?"s":""]})]})]})})]}),e.jsx("div",{className:"container mx-auto px-4 -mt-6 relative z-10",children:e.jsx(P,{className:"shadow-xl border-0",children:e.jsx(F,{className:"p-0",children:e.jsxs(Na,{defaultValue:"itinerary",children:[e.jsx("div",{className:"border-b border-border px-6 pt-4",children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-4",children:[e.jsxs(ca,{className:"bg-muted/50",children:[e.jsx(it,{value:"itinerary","data-testid":"tab-itinerary",children:"Itinerary"}),e.jsx(it,{value:"bookings","data-testid":"tab-bookings",children:"Bookings"}),e.jsx(it,{value:"expert","data-testid":"tab-expert",children:"Ask an Expert"})]}),e.jsxs(S,{onClick:()=>r.mutate(s.id),disabled:r.isPending,className:"hidden md:flex","data-testid":"button-regenerate",children:[r.isPending?e.jsx(ot,{className:"w-4 h-4 mr-2 animate-spin"}):e.jsx(qe,{className:"w-4 h-4 mr-2"}),"Regenerate Plan"]})]})}),e.jsxs("div",{className:"p-6",children:[e.jsxs(xt,{value:"itinerary",className:"mt-0 space-y-6",children:[e.jsx("div",{className:"space-y-8",children:nae.slice(0,Math.min(g,3)).map((b,v)=>e.jsxs(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:v*.1},children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-primary text-white flex items-center justify-center font-bold",children:b.day}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-bold text-lg text-slate-900 dark:text-white",children:["Day ",b.day]}),e.jsx("p",{className:"text-muted-foreground",children:b.title})]})]}),e.jsx("div",{className:"ml-6 pl-6 border-l-2 border-border space-y-4",children:b.activities.map((y,w)=>e.jsxs("div",{className:"relative flex items-start gap-4 p-4 bg-muted/30 rounded-xl hover:bg-muted/50 transition-colors",children:[e.jsx("div",{className:"absolute -left-[33px] w-4 h-4 rounded-full bg-primary border-4 border-background"}),e.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center shrink-0",children:e.jsx(y.icon,{className:"w-5 h-5 text-primary"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:y.time}),e.jsx("p",{className:"font-medium text-slate-900 dark:text-white",children:y.activity})]}),e.jsx($s,{className:"w-5 h-5 text-muted-foreground"})]},w))})]},b.day))}),g>3&&e.jsxs("div",{className:"text-center py-6 border-t border-border",children:[e.jsxs("p",{className:"text-muted-foreground mb-4",children:["+ ",g-3," more days of activities"]}),e.jsx(S,{variant:"outline","data-testid":"button-view-full",children:"View Full Itinerary"})]})]}),e.jsx(xt,{value:"bookings",className:"mt-0",children:e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-6 rounded-full bg-muted flex items-center justify-center",children:e.jsx(Pt,{className:"w-8 h-8 text-muted-foreground"})}),e.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:"No Bookings Yet"}),e.jsx("p",{className:"text-muted-foreground max-w-md mx-auto mb-6",children:"Add flights, hotels, and activities to your trip to keep everything organized in one place."}),e.jsx(S,{variant:"outline","data-testid":"button-add-booking",children:"Add a Booking"})]})}),e.jsx(xt,{value:"expert",className:"mt-0",children:e.jsxs("div",{className:"space-y-8 py-4",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-8 items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-4",children:"Connect with a Local Expert"}),e.jsxs("p",{className:"text-muted-foreground mb-6",children:["Get personalized advice, hidden gems, and real-time support from someone who lives in ",s.destination,"."]}),e.jsx(Ce,{href:"/chat",children:e.jsxs(S,{className:"gap-2","data-testid":"button-find-expert",children:["Chat with Expert ",e.jsx(Kt,{className:"w-4 h-4"})]})})]}),e.jsx("div",{className:"relative",children:e.jsx("img",{src:"https://images.unsplash.com/photo-1522202176988-66273c2fd55f?q=80&w=600&auto=format&fit=crop",alt:"Local Expert",className:"rounded-2xl shadow-xl"})})]}),e.jsxs("div",{className:"border-t border-border pt-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Available Services for Your Trip"}),e.jsx(Ce,{href:"/discover",children:e.jsxs(S,{variant:"outline",size:"sm","data-testid":"button-browse-all",children:["Browse All ",e.jsx(Kt,{className:"w-4 h-4 ml-1"})]})})]}),c?e.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3].map(b=>e.jsx(P,{children:e.jsxs(F,{className:"p-4",children:[e.jsx(_e,{className:"h-5 w-3/4 mb-2"}),e.jsx(_e,{className:"h-4 w-full mb-3"}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx(_e,{className:"h-6 w-20"}),e.jsx(_e,{className:"h-8 w-24"})]})]})},b))}):l&&l.services.length>0?e.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-4",children:l.services.slice(0,6).map(b=>e.jsx(P,{"data-testid":`card-service-${b.id}`,children:e.jsxs(F,{className:"p-4",children:[e.jsx("h5",{className:"font-semibold text-slate-900 dark:text-white mb-1 line-clamp-1",children:b.name}),e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mb-3",children:b.description}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[b.rating&&e.jsxs(O,{variant:"secondary",className:"gap-1",children:[e.jsx(rt,{className:"w-3 h-3 fill-current"}),parseFloat(b.rating).toFixed(1)]}),b.location&&e.jsxs("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[e.jsx(Me,{className:"w-3 h-3"}),b.location]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"font-bold text-lg",children:["$",parseFloat(b.basePrice).toFixed(0)]}),e.jsx(S,{size:"sm",onClick:()=>u(b.id),disabled:m.isPending,"data-testid":`button-add-cart-${b.id}`,children:m.isPending?e.jsx(ot,{className:"w-4 h-4 animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx(Nn,{className:"w-4 h-4 mr-1"}),"Add"]})})]})]})},b.id))}):e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(qe,{className:"w-10 h-10 mx-auto mb-3 opacity-50"}),e.jsxs("p",{children:["No services found for ",s.destination,"."]}),e.jsx("p",{className:"text-sm mt-1",children:"Check out our full marketplace for other options."}),e.jsx(Ce,{href:"/discover",children:e.jsx(S,{variant:"outline",className:"mt-4","data-testid":"button-discover",children:"Browse Marketplace"})})]})]})]})})]})]})})})})]})}function lae(t){const s=oae(t),a=h.forwardRef((r,n)=>{const{children:i,...l}=r,c=h.Children.toArray(i),u=c.find(dae);if(u){const m=u.props.children,x=c.map(f=>f===u?h.Children.count(m)>1?h.Children.only(null):h.isValidElement(m)?m.props.children:null:f);return e.jsx(s,{...l,ref:n,children:h.isValidElement(m)?h.cloneElement(m,void 0,x):null})}return e.jsx(s,{...l,ref:n,children:i})});return a.displayName=`${t}.Slot`,a}function oae(t){const s=h.forwardRef((a,r)=>{const{children:n,...i}=a;if(h.isValidElement(n)){const l=mae(n),c=uae(i,n.props);return n.type!==h.Fragment&&(c.ref=r?kn(r,l):l),h.cloneElement(n,c)}return h.Children.count(n)>1?h.Children.only(null):null});return s.displayName=`${t}.SlotClone`,s}var cae=Symbol("radix.slottable");function dae(t){return h.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===cae}function uae(t,s){const a={...s};for(const r in s){const n=t[r],i=s[r];/^on[A-Z]/.test(r)?n&&i?a[r]=(...c)=>{const u=i(...c);return n(...c),u}:n&&(a[r]=n):r==="style"?a[r]={...n,...i}:r==="className"&&(a[r]=[n,i].filter(Boolean).join(" "))}return{...t,...a}}function mae(t){let s=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,a=s&&"isReactWarning"in s&&s.isReactWarning;return a?t.ref:(s=Object.getOwnPropertyDescriptor(t,"ref")?.get,a=s&&"isReactWarning"in s&&s.isReactWarning,a?t.props.ref:t.props.ref||t.ref)}function Ux(t){const s=h.useRef({value:t,previous:t});return h.useMemo(()=>(s.current.value!==t&&(s.current.previous=s.current.value,s.current.value=t),s.current.previous),[t])}var hae=[" ","Enter","ArrowUp","ArrowDown"],xae=[" ","Enter"],fd="Select",[z0,V0,pae]=lm(fd),[bm]=kr(fd,[pae,mc]),U0=mc(),[fae,gc]=bm(fd),[gae,vae]=bm(fd),GF=t=>{const{__scopeSelect:s,children:a,open:r,defaultOpen:n,onOpenChange:i,value:l,defaultValue:c,onValueChange:u,dir:m,name:x,autoComplete:f,disabled:g,required:b,form:v}=t,y=U0(s),[w,k]=h.useState(null),[C,_]=h.useState(null),[M,E]=h.useState(!1),R=xc(m),[z,A]=ln({prop:r,defaultProp:n??!1,onChange:i,caller:fd}),[V,H]=ln({prop:l,defaultProp:c,onChange:u,caller:fd}),I=h.useRef(null),q=w?v||!!w.closest("form"):!0,[fe,oe]=h.useState(new Set),Ee=Array.from(fe).map(me=>me.props.value).join(";");return e.jsx(u0,{...y,children:e.jsxs(fae,{required:b,scope:s,trigger:w,onTriggerChange:k,valueNode:C,onValueNodeChange:_,valueNodeHasChildren:M,onValueNodeHasChildrenChange:E,contentId:ur(),value:V,onValueChange:H,open:z,onOpenChange:A,dir:R,triggerPointerDownPosRef:I,disabled:g,children:[e.jsx(z0.Provider,{scope:s,children:e.jsx(gae,{scope:t.__scopeSelect,onNativeOptionAdd:h.useCallback(me=>{oe(ie=>new Set(ie).add(me))},[]),onNativeOptionRemove:h.useCallback(me=>{oe(ie=>{const B=new Set(ie);return B.delete(me),B})},[]),children:a})}),q?e.jsxs(g8,{"aria-hidden":!0,required:b,tabIndex:-1,name:x,autoComplete:f,value:V,onChange:me=>H(me.target.value),disabled:g,form:v,children:[V===void 0?e.jsx("option",{value:""}):null,Array.from(fe)]},Ee):null]})})};GF.displayName=fd;var KF="SelectTrigger",YF=h.forwardRef((t,s)=>{const{__scopeSelect:a,disabled:r=!1,...n}=t,i=U0(a),l=gc(KF,a),c=l.disabled||r,u=zt(s,l.onTriggerChange),m=V0(a),x=h.useRef("touch"),[f,g,b]=y8(y=>{const w=m().filter(_=>!_.disabled),k=w.find(_=>_.value===l.value),C=j8(w,y,k);C!==void 0&&l.onValueChange(C.value)}),v=y=>{c||(l.onOpenChange(!0),b()),y&&(l.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return e.jsx(kx,{asChild:!0,...i,children:e.jsx(lt.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":v8(l.value)?"":void 0,...n,ref:u,onClick:Ye(n.onClick,y=>{y.currentTarget.focus(),x.current!=="mouse"&&v(y)}),onPointerDown:Ye(n.onPointerDown,y=>{x.current=y.pointerType;const w=y.target;w.hasPointerCapture(y.pointerId)&&w.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(v(y),y.preventDefault())}),onKeyDown:Ye(n.onKeyDown,y=>{const w=f.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&g(y.key),!(w&&y.key===" ")&&hae.includes(y.key)&&(v(),y.preventDefault())})})})});YF.displayName=KF;var QF="SelectValue",XF=h.forwardRef((t,s)=>{const{__scopeSelect:a,className:r,style:n,children:i,placeholder:l="",...c}=t,u=gc(QF,a),{onValueNodeHasChildrenChange:m}=u,x=i!==void 0,f=zt(s,u.onValueNodeChange);return Wa(()=>{m(x)},[m,x]),e.jsx(lt.span,{...c,ref:f,style:{pointerEvents:"none"},children:v8(u.value)?e.jsx(e.Fragment,{children:l}):i})});XF.displayName=QF;var yae="SelectIcon",ZF=h.forwardRef((t,s)=>{const{__scopeSelect:a,children:r,...n}=t;return e.jsx(lt.span,{"aria-hidden":!0,...n,ref:s,children:r||""})});ZF.displayName=yae;var jae="SelectPortal",JF=t=>e.jsx(om,{asChild:!0,...t});JF.displayName=jae;var gd="SelectContent",e8=h.forwardRef((t,s)=>{const a=gc(gd,t.__scopeSelect),[r,n]=h.useState();if(Wa(()=>{n(new DocumentFragment)},[]),!a.open){const i=r;return i?xo.createPortal(e.jsx(t8,{scope:t.__scopeSelect,children:e.jsx(z0.Slot,{scope:t.__scopeSelect,children:e.jsx("div",{children:t.children})})}),i):null}return e.jsx(s8,{...t,ref:s})});e8.displayName=gd;var Gi=10,[t8,vc]=bm(gd),bae="SelectContentImpl",Nae=lae("SelectContent.RemoveScroll"),s8=h.forwardRef((t,s)=>{const{__scopeSelect:a,position:r="item-aligned",onCloseAutoFocus:n,onEscapeKeyDown:i,onPointerDownOutside:l,side:c,sideOffset:u,align:m,alignOffset:x,arrowPadding:f,collisionBoundary:g,collisionPadding:b,sticky:v,hideWhenDetached:y,avoidCollisions:w,...k}=t,C=gc(gd,a),[_,M]=h.useState(null),[E,R]=h.useState(null),z=zt(s,K=>M(K)),[A,V]=h.useState(null),[H,I]=h.useState(null),q=V0(a),[fe,oe]=h.useState(!1),Ee=h.useRef(!1);h.useEffect(()=>{if(_)return C0(_)},[_]),k0();const me=h.useCallback(K=>{const[J,...je]=q().map(Nt=>Nt.ref.current),[ze]=je.slice(-1),ft=document.activeElement;for(const Nt of K)if(Nt===ft||(Nt?.scrollIntoView({block:"nearest"}),Nt===J&&E&&(E.scrollTop=0),Nt===ze&&E&&(E.scrollTop=E.scrollHeight),Nt?.focus(),document.activeElement!==ft))return},[q,E]),ie=h.useCallback(()=>me([A,_]),[me,A,_]);h.useEffect(()=>{fe&&ie()},[fe,ie]);const{onOpenChange:B,triggerPointerDownPosRef:ae}=C;h.useEffect(()=>{if(_){let K={x:0,y:0};const J=ze=>{K={x:Math.abs(Math.round(ze.pageX)-(ae.current?.x??0)),y:Math.abs(Math.round(ze.pageY)-(ae.current?.y??0))}},je=ze=>{K.x<=10&&K.y<=10?ze.preventDefault():_.contains(ze.target)||B(!1),document.removeEventListener("pointermove",J),ae.current=null};return ae.current!==null&&(document.addEventListener("pointermove",J),document.addEventListener("pointerup",je,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",J),document.removeEventListener("pointerup",je,{capture:!0})}}},[_,B,ae]),h.useEffect(()=>{const K=()=>B(!1);return window.addEventListener("blur",K),window.addEventListener("resize",K),()=>{window.removeEventListener("blur",K),window.removeEventListener("resize",K)}},[B]);const[ke,$]=y8(K=>{const J=q().filter(ft=>!ft.disabled),je=J.find(ft=>ft.ref.current===document.activeElement),ze=j8(J,K,je);ze&&setTimeout(()=>ze.ref.current.focus())}),L=h.useCallback((K,J,je)=>{const ze=!Ee.current&&!je;(C.value!==void 0&&C.value===J||ze)&&(V(K),ze&&(Ee.current=!0))},[C.value]),W=h.useCallback(()=>_?.focus(),[_]),re=h.useCallback((K,J,je)=>{const ze=!Ee.current&&!je;(C.value!==void 0&&C.value===J||ze)&&I(K)},[C.value]),se=r==="popper"?gN:a8,ge=se===gN?{side:c,sideOffset:u,align:m,alignOffset:x,arrowPadding:f,collisionBoundary:g,collisionPadding:b,sticky:v,hideWhenDetached:y,avoidCollisions:w}:{};return e.jsx(t8,{scope:a,content:_,viewport:E,onViewportChange:R,itemRefCallback:L,selectedItem:A,onItemLeave:W,itemTextRefCallback:re,focusSelectedItem:ie,selectedItemText:H,position:r,isPositioned:fe,searchRef:ke,children:e.jsx(Dx,{as:Nae,allowPinchZoom:!0,children:e.jsx(Px,{asChild:!0,trapped:C.open,onMountAutoFocus:K=>{K.preventDefault()},onUnmountAutoFocus:Ye(n,K=>{C.trigger?.focus({preventScroll:!0}),K.preventDefault()}),children:e.jsx(kd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:K=>K.preventDefault(),onDismiss:()=>C.onOpenChange(!1),children:e.jsx(se,{role:"listbox",id:C.contentId,"data-state":C.open?"open":"closed",dir:C.dir,onContextMenu:K=>K.preventDefault(),...k,...ge,onPlaced:()=>oe(!0),ref:z,style:{display:"flex",flexDirection:"column",outline:"none",...k.style},onKeyDown:Ye(k.onKeyDown,K=>{const J=K.ctrlKey||K.altKey||K.metaKey;if(K.key==="Tab"&&K.preventDefault(),!J&&K.key.length===1&&$(K.key),["ArrowUp","ArrowDown","Home","End"].includes(K.key)){let ze=q().filter(ft=>!ft.disabled).map(ft=>ft.ref.current);if(["ArrowUp","End"].includes(K.key)&&(ze=ze.slice().reverse()),["ArrowUp","ArrowDown"].includes(K.key)){const ft=K.target,Nt=ze.indexOf(ft);ze=ze.slice(Nt+1)}setTimeout(()=>me(ze)),K.preventDefault()}})})})})})})});s8.displayName=bae;var wae="SelectItemAlignedPosition",a8=h.forwardRef((t,s)=>{const{__scopeSelect:a,onPlaced:r,...n}=t,i=gc(gd,a),l=vc(gd,a),[c,u]=h.useState(null),[m,x]=h.useState(null),f=zt(s,z=>x(z)),g=V0(a),b=h.useRef(!1),v=h.useRef(!0),{viewport:y,selectedItem:w,selectedItemText:k,focusSelectedItem:C}=l,_=h.useCallback(()=>{if(i.trigger&&i.valueNode&&c&&m&&y&&w&&k){const z=i.trigger.getBoundingClientRect(),A=m.getBoundingClientRect(),V=i.valueNode.getBoundingClientRect(),H=k.getBoundingClientRect();if(i.dir!=="rtl"){const ft=H.left-A.left,Nt=V.left-ft,ht=z.left-Nt,Lt=z.width+ht,gs=Math.max(Lt,A.width),ks=window.innerWidth-Gi,Ys=Wh(Nt,[Gi,Math.max(Gi,ks-gs)]);c.style.minWidth=Lt+"px",c.style.left=Ys+"px"}else{const ft=A.right-H.right,Nt=window.innerWidth-V.right-ft,ht=window.innerWidth-z.right-Nt,Lt=z.width+ht,gs=Math.max(Lt,A.width),ks=window.innerWidth-Gi,Ys=Wh(Nt,[Gi,Math.max(Gi,ks-gs)]);c.style.minWidth=Lt+"px",c.style.right=Ys+"px"}const I=g(),q=window.innerHeight-Gi*2,fe=y.scrollHeight,oe=window.getComputedStyle(m),Ee=parseInt(oe.borderTopWidth,10),me=parseInt(oe.paddingTop,10),ie=parseInt(oe.borderBottomWidth,10),B=parseInt(oe.paddingBottom,10),ae=Ee+me+fe+B+ie,ke=Math.min(w.offsetHeight*5,ae),$=window.getComputedStyle(y),L=parseInt($.paddingTop,10),W=parseInt($.paddingBottom,10),re=z.top+z.height/2-Gi,se=q-re,ge=w.offsetHeight/2,K=w.offsetTop+ge,J=Ee+me+K,je=ae-J;if(J<=re){const ft=I.length>0&&w===I[I.length-1].ref.current;c.style.bottom="0px";const Nt=m.clientHeight-y.offsetTop-y.offsetHeight,ht=Math.max(se,ge+(ft?W:0)+Nt+ie),Lt=J+ht;c.style.height=Lt+"px"}else{const ft=I.length>0&&w===I[0].ref.current;c.style.top="0px";const ht=Math.max(re,Ee+y.offsetTop+(ft?L:0)+ge)+je;c.style.height=ht+"px",y.scrollTop=J-re+y.offsetTop}c.style.margin=`${Gi}px 0`,c.style.minHeight=ke+"px",c.style.maxHeight=q+"px",r?.(),requestAnimationFrame(()=>b.current=!0)}},[g,i.trigger,i.valueNode,c,m,y,w,k,i.dir,r]);Wa(()=>_(),[_]);const[M,E]=h.useState();Wa(()=>{m&&E(window.getComputedStyle(m).zIndex)},[m]);const R=h.useCallback(z=>{z&&v.current===!0&&(_(),C?.(),v.current=!1)},[_,C]);return e.jsx(Cae,{scope:a,contentWrapper:c,shouldExpandOnScrollRef:b,onScrollButtonChange:R,children:e.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:M},children:e.jsx(lt.div,{...n,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...n.style}})})})});a8.displayName=wae;var kae="SelectPopperPosition",gN=h.forwardRef((t,s)=>{const{__scopeSelect:a,align:r="start",collisionPadding:n=Gi,...i}=t,l=U0(a);return e.jsx(m0,{...l,...i,ref:s,align:r,collisionPadding:n,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});gN.displayName=kae;var[Cae,G1]=bm(gd,{}),vN="SelectViewport",r8=h.forwardRef((t,s)=>{const{__scopeSelect:a,nonce:r,...n}=t,i=vc(vN,a),l=G1(vN,a),c=zt(s,i.onViewportChange),u=h.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),e.jsx(z0.Slot,{scope:a,children:e.jsx(lt.div,{"data-radix-select-viewport":"",role:"presentation",...n,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...n.style},onScroll:Ye(n.onScroll,m=>{const x=m.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:g}=l;if(g?.current&&f){const b=Math.abs(u.current-x.scrollTop);if(b>0){const v=window.innerHeight-Gi*2,y=parseFloat(f.style.minHeight),w=parseFloat(f.style.height),k=Math.max(y,w);if(k<v){const C=k+b,_=Math.min(v,C),M=C-_;f.style.height=_+"px",f.style.bottom==="0px"&&(x.scrollTop=M>0?M:0,f.style.justifyContent="flex-end")}}}u.current=x.scrollTop})})})]})});r8.displayName=vN;var n8="SelectGroup",[Sae,Tae]=bm(n8),_ae=h.forwardRef((t,s)=>{const{__scopeSelect:a,...r}=t,n=ur();return e.jsx(Sae,{scope:a,id:n,children:e.jsx(lt.div,{role:"group","aria-labelledby":n,...r,ref:s})})});_ae.displayName=n8;var i8="SelectLabel",l8=h.forwardRef((t,s)=>{const{__scopeSelect:a,...r}=t,n=Tae(i8,a);return e.jsx(lt.div,{id:n.id,...r,ref:s})});l8.displayName=i8;var Lg="SelectItem",[Eae,o8]=bm(Lg),c8=h.forwardRef((t,s)=>{const{__scopeSelect:a,value:r,disabled:n=!1,textValue:i,...l}=t,c=gc(Lg,a),u=vc(Lg,a),m=c.value===r,[x,f]=h.useState(i??""),[g,b]=h.useState(!1),v=zt(s,C=>u.itemRefCallback?.(C,r,n)),y=ur(),w=h.useRef("touch"),k=()=>{n||(c.onValueChange(r),c.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(Eae,{scope:a,value:r,disabled:n,textId:y,isSelected:m,onItemTextChange:h.useCallback(C=>{f(_=>_||(C?.textContent??"").trim())},[]),children:e.jsx(z0.ItemSlot,{scope:a,value:r,disabled:n,textValue:x,children:e.jsx(lt.div,{role:"option","aria-labelledby":y,"data-highlighted":g?"":void 0,"aria-selected":m&&g,"data-state":m?"checked":"unchecked","aria-disabled":n||void 0,"data-disabled":n?"":void 0,tabIndex:n?void 0:-1,...l,ref:v,onFocus:Ye(l.onFocus,()=>b(!0)),onBlur:Ye(l.onBlur,()=>b(!1)),onClick:Ye(l.onClick,()=>{w.current!=="mouse"&&k()}),onPointerUp:Ye(l.onPointerUp,()=>{w.current==="mouse"&&k()}),onPointerDown:Ye(l.onPointerDown,C=>{w.current=C.pointerType}),onPointerMove:Ye(l.onPointerMove,C=>{w.current=C.pointerType,n?u.onItemLeave?.():w.current==="mouse"&&C.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ye(l.onPointerLeave,C=>{C.currentTarget===document.activeElement&&u.onItemLeave?.()}),onKeyDown:Ye(l.onKeyDown,C=>{u.searchRef?.current!==""&&C.key===" "||(xae.includes(C.key)&&k(),C.key===" "&&C.preventDefault())})})})})});c8.displayName=Lg;var Ch="SelectItemText",d8=h.forwardRef((t,s)=>{const{__scopeSelect:a,className:r,style:n,...i}=t,l=gc(Ch,a),c=vc(Ch,a),u=o8(Ch,a),m=vae(Ch,a),[x,f]=h.useState(null),g=zt(s,k=>f(k),u.onItemTextChange,k=>c.itemTextRefCallback?.(k,u.value,u.disabled)),b=x?.textContent,v=h.useMemo(()=>e.jsx("option",{value:u.value,disabled:u.disabled,children:b},u.value),[u.disabled,u.value,b]),{onNativeOptionAdd:y,onNativeOptionRemove:w}=m;return Wa(()=>(y(v),()=>w(v)),[y,w,v]),e.jsxs(e.Fragment,{children:[e.jsx(lt.span,{id:u.textId,...i,ref:g}),u.isSelected&&l.valueNode&&!l.valueNodeHasChildren?xo.createPortal(i.children,l.valueNode):null]})});d8.displayName=Ch;var u8="SelectItemIndicator",m8=h.forwardRef((t,s)=>{const{__scopeSelect:a,...r}=t;return o8(u8,a).isSelected?e.jsx(lt.span,{"aria-hidden":!0,...r,ref:s}):null});m8.displayName=u8;var yN="SelectScrollUpButton",h8=h.forwardRef((t,s)=>{const a=vc(yN,t.__scopeSelect),r=G1(yN,t.__scopeSelect),[n,i]=h.useState(!1),l=zt(s,r.onScrollButtonChange);return Wa(()=>{if(a.viewport&&a.isPositioned){let c=function(){const m=u.scrollTop>0;i(m)};const u=a.viewport;return c(),u.addEventListener("scroll",c),()=>u.removeEventListener("scroll",c)}},[a.viewport,a.isPositioned]),n?e.jsx(p8,{...t,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:u}=a;c&&u&&(c.scrollTop=c.scrollTop-u.offsetHeight)}}):null});h8.displayName=yN;var jN="SelectScrollDownButton",x8=h.forwardRef((t,s)=>{const a=vc(jN,t.__scopeSelect),r=G1(jN,t.__scopeSelect),[n,i]=h.useState(!1),l=zt(s,r.onScrollButtonChange);return Wa(()=>{if(a.viewport&&a.isPositioned){let c=function(){const m=u.scrollHeight-u.clientHeight,x=Math.ceil(u.scrollTop)<m;i(x)};const u=a.viewport;return c(),u.addEventListener("scroll",c),()=>u.removeEventListener("scroll",c)}},[a.viewport,a.isPositioned]),n?e.jsx(p8,{...t,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:u}=a;c&&u&&(c.scrollTop=c.scrollTop+u.offsetHeight)}}):null});x8.displayName=jN;var p8=h.forwardRef((t,s)=>{const{__scopeSelect:a,onAutoScroll:r,...n}=t,i=vc("SelectScrollButton",a),l=h.useRef(null),c=V0(a),u=h.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return h.useEffect(()=>()=>u(),[u]),Wa(()=>{c().find(x=>x.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[c]),e.jsx(lt.div,{"aria-hidden":!0,...n,ref:s,style:{flexShrink:0,...n.style},onPointerDown:Ye(n.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(r,50))}),onPointerMove:Ye(n.onPointerMove,()=>{i.onItemLeave?.(),l.current===null&&(l.current=window.setInterval(r,50))}),onPointerLeave:Ye(n.onPointerLeave,()=>{u()})})}),Pae="SelectSeparator",f8=h.forwardRef((t,s)=>{const{__scopeSelect:a,...r}=t;return e.jsx(lt.div,{"aria-hidden":!0,...r,ref:s})});f8.displayName=Pae;var bN="SelectArrow",Aae=h.forwardRef((t,s)=>{const{__scopeSelect:a,...r}=t,n=U0(a),i=gc(bN,a),l=vc(bN,a);return i.open&&l.position==="popper"?e.jsx(h0,{...n,...r,ref:s}):null});Aae.displayName=bN;var Dae="SelectBubbleInput",g8=h.forwardRef(({__scopeSelect:t,value:s,...a},r)=>{const n=h.useRef(null),i=zt(r,n),l=Ux(s);return h.useEffect(()=>{const c=n.current;if(!c)return;const u=window.HTMLSelectElement.prototype,x=Object.getOwnPropertyDescriptor(u,"value").set;if(l!==s&&x){const f=new Event("change",{bubbles:!0});x.call(c,s),c.dispatchEvent(f)}},[l,s]),e.jsx(lt.select,{...a,style:{...XT,...a.style},ref:i,defaultValue:s})});g8.displayName=Dae;function v8(t){return t===""||t===void 0}function y8(t){const s=Ua(t),a=h.useRef(""),r=h.useRef(0),n=h.useCallback(l=>{const c=a.current+l;s(c),(function u(m){a.current=m,window.clearTimeout(r.current),m!==""&&(r.current=window.setTimeout(()=>u(""),1e3))})(c)},[s]),i=h.useCallback(()=>{a.current="",window.clearTimeout(r.current)},[]);return h.useEffect(()=>()=>window.clearTimeout(r.current),[]),[a,n,i]}function j8(t,s,a){const n=s.length>1&&Array.from(s).every(m=>m===s[0])?s[0]:s,i=a?t.indexOf(a):-1;let l=Fae(t,Math.max(i,0));n.length===1&&(l=l.filter(m=>m!==a));const u=l.find(m=>m.textValue.toLowerCase().startsWith(n.toLowerCase()));return u!==a?u:void 0}function Fae(t,s){return t.map((a,r)=>t[(s+r)%t.length])}var Mae=GF,b8=YF,Iae=XF,Rae=ZF,Lae=JF,N8=e8,Oae=r8,w8=l8,k8=c8,$ae=d8,Bae=m8,C8=h8,S8=x8,T8=f8;const Wt=Mae,Gt=Iae,Vt=h.forwardRef(({className:t,children:s,...a},r)=>e.jsxs(b8,{ref:r,className:te("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...a,children:[s,e.jsx(Rae,{asChild:!0,children:e.jsx(qs,{className:"h-4 w-4 opacity-50"})})]}));Vt.displayName=b8.displayName;const _8=h.forwardRef(({className:t,...s},a)=>e.jsx(C8,{ref:a,className:te("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(nl,{className:"h-4 w-4"})}));_8.displayName=C8.displayName;const E8=h.forwardRef(({className:t,...s},a)=>e.jsx(S8,{ref:a,className:te("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(qs,{className:"h-4 w-4"})}));E8.displayName=S8.displayName;const Ut=h.forwardRef(({className:t,children:s,position:a="popper",...r},n)=>e.jsx(Lae,{children:e.jsxs(N8,{ref:n,className:te("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",a==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:a,...r,children:[e.jsx(_8,{}),e.jsx(Oae,{className:te("p-1",a==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),e.jsx(E8,{})]})}));Ut.displayName=N8.displayName;const zae=h.forwardRef(({className:t,...s},a)=>e.jsx(w8,{ref:a,className:te("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...s}));zae.displayName=w8.displayName;const Pe=h.forwardRef(({className:t,children:s,...a},r)=>e.jsxs(k8,{ref:r,className:te("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...a,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Bae,{children:e.jsx(rs,{className:"h-4 w-4"})})}),e.jsx($ae,{children:s})]}));Pe.displayName=k8.displayName;const Vae=h.forwardRef(({className:t,...s},a)=>e.jsx(T8,{ref:a,className:te("-mx-1 my-1 h-px bg-muted",t),...s}));Vae.displayName=T8.displayName;const Uae={vacation:Pt,wedding:Qt,honeymoon:Qt,proposal:Qt,anniversary:Qt,birthday:ya,corporate:Ta,adventure:Pt},qae=[{value:"all",label:"All"},{value:"vacation",label:"Travel"},{value:"wedding",label:"Weddings"},{value:"birthday",label:"Birthdays"},{value:"corporate",label:"Corporate"}],Hae=[{value:"all",label:"All Status"},{value:"active",label:"Active"},{value:"upcoming",label:"Upcoming"},{value:"completed",label:"Completed"}];function Wae(){const{data:t,isLoading:s,isError:a}=GD(),[r,n]=h.useState("list"),[i,l]=h.useState("all"),[c,u]=h.useState("all"),[m,x]=h.useState("");if(s)return e.jsx(al,{children:e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx(ot,{className:"w-10 h-10 animate-spin text-[#FF385C]"})})});if(a)return e.jsx(al,{children:e.jsxs("div",{className:"container mx-auto px-4 py-12 text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-destructive",children:"Something went wrong"}),e.jsx("p",{className:"text-[#6B7280] mt-2",children:"Could not load your trips. Please try again later."})]})});const f=new Date,g=(t||[]).filter(C=>{if(i!=="all"&&C.eventType!==i)return!1;if(c!=="all"){const _=new Date(C.startDate),M=new Date(C.endDate);if(c==="active"&&!(_<=f&&M>=f)||c==="upcoming"&&!(_>f)||c==="completed"&&!(M<f))return!1}return!(m&&!(C.title||"").toLowerCase().includes(m.toLowerCase())&&!C.destination.toLowerCase().includes(m.toLowerCase()))}),b=g.filter(C=>{const _=new Date(C.startDate),M=new Date(C.endDate);return _<=f&&M>=f||_>f&&C.status==="planning"}),v=g.filter(C=>new Date(C.startDate)>f),y=g.filter(C=>new Date(C.endDate)<f),w=C=>{const _=new Date(C.startDate),M=new Date(C.endDate),E=Zo(M,_);if(E<=0)return 100;const R=Zo(f,_);return R<0?Math.min(Math.random()*60+20,95):R>E?100:Math.round(R/E*100)},k=({trip:C})=>{const _=Uae[C.eventType||"vacation"]||Pt,M=w(C),E=new Date(C.startDate),R=new Date(C.endDate),z=E>f,A=R<f,V=Zo(E,f);return e.jsx(P,{className:"border border-[#E5E7EB] hover:shadow-md transition-shadow","data-testid":`card-trip-${C.id}`,children:e.jsx(F,{className:r==="list"?"p-5":"p-4",children:e.jsxs("div",{className:r==="list"?"flex items-start gap-4":"space-y-4",children:[e.jsx("div",{className:`${r==="list"?"w-16 h-16":"w-full h-32"} rounded-lg bg-gradient-to-br from-[#FFE3E8] to-[#FFF1F3] flex items-center justify-center flex-shrink-0`,children:e.jsx(_,{className:`${r==="list"?"w-8 h-8":"w-12 h-12"} text-[#FF385C]`})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-[#111827] dark:text-white truncate","data-testid":`text-trip-title-${C.id}`,children:C.title}),e.jsxs("p",{className:"text-sm text-[#6B7280]",children:[Et(E,"MMM d")," - ",Et(R,"MMM d, yyyy"),"  ",C.destination]})]}),A?e.jsxs(O,{variant:"secondary",className:"flex-shrink-0",children:[e.jsx(rt,{className:"w-3 h-3 mr-1"})," Completed"]}):z&&V<=30?e.jsxs(O,{className:"flex-shrink-0 bg-blue-100 text-blue-600 hover:bg-blue-100",children:[V," days away"]}):e.jsx(O,{variant:"outline",className:"flex-shrink-0",children:"Planning"})]}),!A&&e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm mb-1",children:[e.jsx("span",{className:"text-[#6B7280]",children:"Progress"}),e.jsxs("span",{className:"font-medium text-[#111827] dark:text-white",children:[M,"%"]})]}),e.jsx(Pr,{value:M,className:"h-2"})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx(Ce,{href:`/trip/${C.id}`,children:e.jsx(S,{size:"sm",variant:"outline","data-testid":`button-view-${C.id}`,children:"View"})}),e.jsx(Ce,{href:"/chat",children:e.jsx(S,{size:"sm",variant:"ghost",className:"text-[#6B7280]","data-testid":`button-chat-${C.id}`,children:"Chat"})}),!A&&e.jsx(Ce,{href:`/trip/${C.id}/edit`,children:e.jsx(S,{size:"sm",variant:"ghost",className:"text-[#6B7280]","data-testid":`button-edit-${C.id}`,children:"Edit"})})]})]})]})})})};return e.jsx(al,{children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[e.jsx("h1",{className:"text-2xl font-bold text-[#111827] dark:text-white","data-testid":"text-page-title",children:"My Plans & Events"}),e.jsx(Ce,{href:"/experiences",children:e.jsxs(S,{className:"bg-[#FF385C] hover:bg-[#E23350] text-white","data-testid":"button-create-new",children:[e.jsx(ps,{className:"w-4 h-4 mr-2"}),"Create New"]})})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-start md:items-center",children:[e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx(ws,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-[#9CA3AF]"}),e.jsx(Ne,{placeholder:"Search plans...",className:"pl-10 border-[#E5E7EB]",value:m,onChange:C=>x(C.target.value),"data-testid":"input-search"})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsxs(Wt,{value:i,onValueChange:l,children:[e.jsxs(Vt,{className:"w-[140px] border-[#E5E7EB]","data-testid":"select-type-filter",children:[e.jsx(Di,{className:"w-4 h-4 mr-2 text-[#6B7280]"}),e.jsx(Gt,{})]}),e.jsx(Ut,{children:qae.map(C=>e.jsx(Pe,{value:C.value,children:C.label},C.value))})]}),e.jsxs(Wt,{value:c,onValueChange:u,children:[e.jsx(Vt,{className:"w-[140px] border-[#E5E7EB]","data-testid":"select-status-filter",children:e.jsx(Gt,{})}),e.jsx(Ut,{children:Hae.map(C=>e.jsx(Pe,{value:C.value,children:C.label},C.value))})]}),e.jsxs("div",{className:"flex border border-[#E5E7EB] rounded-md",children:[e.jsx(S,{variant:"ghost",size:"icon",className:r==="grid"?"bg-[#F3F4F6]":"",onClick:()=>n("grid"),"data-testid":"button-grid-view",children:e.jsx(T_,{className:"w-4 h-4"})}),e.jsx(S,{variant:"ghost",size:"icon",className:r==="list"?"bg-[#F3F4F6]":"",onClick:()=>n("list"),"data-testid":"button-list-view",children:e.jsx(lw,{className:"w-4 h-4"})})]})]})]}),b.length>0&&e.jsxs("section",{children:[e.jsxs("h2",{className:"text-lg font-semibold text-[#111827] dark:text-white mb-4 flex items-center gap-2",children:["Active Plans (",b.length,")"]}),e.jsx("div",{className:r==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4":"space-y-4",children:b.map((C,_)=>e.jsx(He.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:_*.05},children:e.jsx(k,{trip:C})},C.id))})]}),v.length>0&&e.jsxs("section",{children:[e.jsxs("h2",{className:"text-lg font-semibold text-[#111827] dark:text-white mb-4 flex items-center gap-2",children:["Upcoming Events (",v.length,")"]}),e.jsx("div",{className:r==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4":"space-y-4",children:v.map((C,_)=>e.jsx(He.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:_*.05},children:e.jsx(k,{trip:C})},C.id))})]}),y.length>0&&e.jsxs("section",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h2",{className:"text-lg font-semibold text-[#111827] dark:text-white flex items-center gap-2",children:["Completed (",y.length,")"]}),e.jsxs(S,{variant:"ghost",className:"text-[#FF385C]","data-testid":"button-show-all-completed",children:["Show All ",e.jsx($s,{className:"w-4 h-4 ml-1"})]})]}),e.jsx("div",{className:r==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4":"space-y-4",children:y.slice(0,3).map((C,_)=>e.jsx(He.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:_*.05},children:e.jsx(k,{trip:C})},C.id))})]}),g.length===0&&e.jsx(P,{className:"border-2 border-dashed border-[#E5E7EB]",children:e.jsxs(F,{className:"p-12 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-[#FFE3E8] rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Pt,{className:"w-8 h-8 text-[#FF385C]"})}),e.jsx("h3",{className:"text-lg font-semibold text-[#111827] dark:text-white mb-2",children:m||i!=="all"||c!=="all"?"No matching plans found":"No plans yet"}),e.jsx("p",{className:"text-[#6B7280] mb-4",children:m||i!=="all"||c!=="all"?"Try adjusting your filters":"Start planning your next adventure!"}),!m&&i==="all"&&c==="all"&&e.jsx(Ce,{href:"/experiences",children:e.jsxs(S,{className:"bg-[#FF385C] hover:bg-[#E23350] text-white","data-testid":"button-create-first",children:[e.jsx(ps,{className:"w-4 h-4 mr-2"}),"Create Your First Plan"]})})]})})]})})}var Gae=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Kae=Gae.reduce((t,s)=>{const a=Cx(`Primitive.${s}`),r=h.forwardRef((n,i)=>{const{asChild:l,...c}=n,u=l?a:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(u,{...c,ref:i})});return r.displayName=`Primitive.${s}`,{...t,[s]:r}},{}),Yae="Label",P8=h.forwardRef((t,s)=>e.jsx(Kae.label,{...t,ref:s,onMouseDown:a=>{a.target.closest("button, input, select, textarea")||(t.onMouseDown?.(a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));P8.displayName=Yae;var A8=P8;const Qae=cm("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ye=h.forwardRef(({className:t,...s},a)=>e.jsx(A8,{ref:a,className:te(Qae(),t),...s}));ye.displayName=A8.displayName;const Ks=h.forwardRef(({className:t,...s},a)=>e.jsx("textarea",{className:te("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:a,...s}));Ks.displayName="Textarea";function Xae(){const{user:t}=qr(),{toast:s}=Bs(),[a,r]=h.useState(!1),n=async()=>{r(!0),await new Promise(i=>setTimeout(i,1e3)),r(!1),s({title:"Profile updated",description:"Your profile has been saved successfully."})};return e.jsx(al,{children:e.jsxs("div",{className:"p-6 max-w-4xl mx-auto space-y-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-[#111827] dark:text-white","data-testid":"text-page-title",children:"Profile Settings"}),e.jsxs(P,{className:"border border-[#E5E7EB]",children:[e.jsxs(Q,{children:[e.jsx(X,{className:"text-lg text-[#111827] dark:text-white",children:"Profile Photo"}),e.jsx(Tt,{className:"text-[#6B7280]",children:"This will be displayed on your profile and in messages"})]}),e.jsxs(F,{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"relative",children:[e.jsxs(Ls,{className:"h-24 w-24 border-4 border-[#E5E7EB]",children:[e.jsx(Br,{src:t?.profileImageUrl||void 0,alt:t?.firstName||"User"}),e.jsx(Os,{className:"bg-[#FFE3E8] text-[#FF385C] text-2xl font-bold",children:t?.firstName?.[0]||"U"})]}),e.jsx(S,{size:"icon",variant:"outline",className:"absolute -bottom-2 -right-2 rounded-full bg-white border-[#E5E7EB]","data-testid":"button-change-photo",children:e.jsx(Rs,{className:"w-4 h-4 text-[#6B7280]"})})]}),e.jsxs("div",{children:[e.jsx(S,{variant:"outline",className:"mr-2","data-testid":"button-upload-photo",children:"Upload Photo"}),e.jsx(S,{variant:"ghost",className:"text-[#6B7280]","data-testid":"button-remove-photo",children:"Remove"})]})]})]}),e.jsxs(P,{className:"border border-[#E5E7EB]",children:[e.jsxs(Q,{children:[e.jsx(X,{className:"text-lg text-[#111827] dark:text-white",children:"Personal Information"}),e.jsx(Tt,{className:"text-[#6B7280]",children:"Update your personal details"})]}),e.jsxs(F,{className:"space-y-4",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ye,{htmlFor:"firstName",className:"text-[#111827] dark:text-white",children:"First Name"}),e.jsx(Ne,{id:"firstName",defaultValue:t?.firstName||"",className:"border-[#E5E7EB]","data-testid":"input-first-name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ye,{htmlFor:"lastName",className:"text-[#111827] dark:text-white",children:"Last Name"}),e.jsx(Ne,{id:"lastName",defaultValue:t?.lastName||"",className:"border-[#E5E7EB]","data-testid":"input-last-name"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(ye,{htmlFor:"email",className:"text-[#111827] dark:text-white flex items-center gap-2",children:[e.jsx(qn,{className:"w-4 h-4 text-[#6B7280]"}),"Email Address"]}),e.jsx(Ne,{id:"email",type:"email",defaultValue:t?.email||"",className:"border-[#E5E7EB]","data-testid":"input-email"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(ye,{htmlFor:"phone",className:"text-[#111827] dark:text-white flex items-center gap-2",children:[e.jsx($l,{className:"w-4 h-4 text-[#6B7280]"}),"Phone Number"]}),e.jsx(Ne,{id:"phone",type:"tel",placeholder:"+1 (555) 123-4567",className:"border-[#E5E7EB]","data-testid":"input-phone"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(ye,{htmlFor:"location",className:"text-[#111827] dark:text-white flex items-center gap-2",children:[e.jsx(Me,{className:"w-4 h-4 text-[#6B7280]"}),"Location"]}),e.jsx(Ne,{id:"location",placeholder:"City, Country",className:"border-[#E5E7EB]","data-testid":"input-location"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ye,{htmlFor:"bio",className:"text-[#111827] dark:text-white",children:"Bio"}),e.jsx(Ks,{id:"bio",placeholder:"Tell us a bit about yourself and your travel preferences...",className:"border-[#E5E7EB] min-h-[100px]","data-testid":"input-bio"})]})]})]}),e.jsxs(P,{className:"border border-[#E5E7EB]",children:[e.jsxs(Q,{children:[e.jsx(X,{className:"text-lg text-[#111827] dark:text-white",children:"Travel Preferences"}),e.jsx(Tt,{className:"text-[#6B7280]",children:"Help us personalize your experience"})]}),e.jsxs(F,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ye,{className:"text-[#111827] dark:text-white",children:"Preferred Travel Style"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:["Adventure","Relaxation","Culture","Food & Dining","Nature","Nightlife"].map(i=>e.jsx(S,{variant:"outline",size:"sm",className:"border-[#E5E7EB]","data-testid":`button-style-${i.toLowerCase()}`,children:i},i))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ye,{className:"text-[#111827] dark:text-white",children:"Budget Preference"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:["Budget-Friendly","Moderate","Luxury"].map(i=>e.jsx(S,{variant:"outline",size:"sm",className:"border-[#E5E7EB]","data-testid":`button-budget-${i.toLowerCase()}`,children:i},i))})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(S,{className:"bg-[#FF385C] hover:bg-[#E23350] text-white",onClick:n,disabled:a,"data-testid":"button-save-profile",children:[a?e.jsx(ot,{className:"w-4 h-4 mr-2 animate-spin"}):e.jsx(ow,{className:"w-4 h-4 mr-2"}),"Save Changes"]})})]})})}const Zae=[{id:1,type:"message",title:"New message from Expert Yuki M.",description:"Regarding your Tokyo trip itinerary",time:"2 hours ago",read:!1,icon:Vs,color:"bg-blue-100 text-blue-600"},{id:2,type:"ai",title:"AI Itinerary Complete",description:"Your Paris trip itinerary is ready for review",time:"5 hours ago",read:!1,icon:os,color:"bg-[#FFE3E8] text-[#FF385C]"},{id:3,type:"reminder",title:"Trip Reminder",description:"Your Tokyo trip starts in 15 days",time:"Yesterday",read:!0,icon:Ge,color:"bg-green-100 text-green-600"},{id:4,type:"credits",title:"Low Credit Balance",description:"You have 15 credits remaining. Top up to continue using premium features.",time:"2 days ago",read:!0,icon:Sa,color:"bg-yellow-100 text-yellow-600"},{id:5,type:"message",title:"Expert Marie L. replied",description:"Your question about Paris restaurants",time:"3 days ago",read:!0,icon:Vs,color:"bg-blue-100 text-blue-600"}];function Jae(){const[t,s]=h.useState(Zae),a=t.filter(l=>!l.read).length,r=()=>{s(l=>l.map(c=>({...c,read:!0})))},n=l=>{s(c=>c.map(u=>u.id===l?{...u,read:!0}:u))},i=l=>{s(c=>c.filter(u=>u.id!==l))};return e.jsx(al,{children:e.jsxs("div",{className:"p-6 max-w-3xl mx-auto space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h1",{className:"text-2xl font-bold text-[#111827] dark:text-white","data-testid":"text-page-title",children:"Notifications"}),a>0&&e.jsxs(O,{className:"bg-[#FF385C] text-white","data-testid":"badge-unread-count",children:[a," new"]})]}),a>0&&e.jsxs(S,{variant:"ghost",className:"text-[#FF385C]",onClick:r,"data-testid":"button-mark-all-read",children:[e.jsx(rs,{className:"w-4 h-4 mr-2"}),"Mark all as read"]})]}),t.length>0?e.jsx("div",{className:"space-y-3",children:t.map((l,c)=>e.jsx(He.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:c*.05},children:e.jsx(P,{className:`border ${l.read?"border-[#E5E7EB] bg-white dark:bg-gray-800":"border-[#FF385C]/20 bg-[#FFF1F3] dark:bg-[#FF385C]/10"}`,"data-testid":`notification-${l.id}`,children:e.jsx(F,{className:"p-4",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 ${l.color}`,children:e.jsx(l.icon,{className:"w-5 h-5"})}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:`font-medium ${l.read?"text-[#111827] dark:text-white":"text-[#111827] dark:text-white font-semibold"}`,children:l.title}),e.jsx("p",{className:"text-sm text-[#6B7280] mt-0.5",children:l.description}),e.jsx("p",{className:"text-xs text-[#9CA3AF] mt-1",children:l.time})]}),e.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[!l.read&&e.jsx(S,{size:"icon",variant:"ghost",className:"h-8 w-8 text-[#6B7280] hover:text-[#111827]",onClick:()=>n(l.id),"data-testid":`button-mark-read-${l.id}`,children:e.jsx(rs,{className:"w-4 h-4"})}),e.jsx(S,{size:"icon",variant:"ghost",className:"h-8 w-8 text-[#6B7280] hover:text-red-500",onClick:()=>i(l.id),"data-testid":`button-delete-${l.id}`,children:e.jsx(pi,{className:"w-4 h-4"})})]})]})})]})})})},l.id))}):e.jsx(P,{className:"border-2 border-dashed border-[#E5E7EB]",children:e.jsxs(F,{className:"p-12 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-[#F3F4F6] rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(mi,{className:"w-8 h-8 text-[#9CA3AF]"})}),e.jsx("h3",{className:"text-lg font-semibold text-[#111827] dark:text-white mb-2",children:"No notifications"}),e.jsx("p",{className:"text-[#6B7280]",children:"You're all caught up! Check back later for updates."})]})})]})})}function ere(){return Le({queryKey:[Or.chats.list.path],queryFn:async()=>{const t=await fetch(Or.chats.list.path,{credentials:"include"});if(t.status===401)return null;if(!t.ok)throw new Error("Failed to fetch messages");return Or.chats.list.responses[200].parse(await t.json())}})}function tre(){const t=bo(),{toast:s}=Bs();return Ot({mutationFn:async a=>{const r=await fetch(Or.chats.create.path,{method:Or.chats.create.method,headers:{"Content-Type":"application/json"},body:JSON.stringify(a),credentials:"include"});if(!r.ok)throw new Error("Failed to send message");return Or.chats.create.responses[201].parse(await r.json())},onSuccess:()=>{t.invalidateQueries({queryKey:[Or.chats.list.path]})},onError:()=>{s({title:"Error",description:"Failed to send message. Please try again.",variant:"destructive"})}})}function sre({userId:t,onMessage:s,onTyping:a,onConnected:r,onError:n}){const[i,l]=h.useState(!1),[c,u]=h.useState(null),m=h.useRef(null),x=h.useRef(null),f=h.useRef(0),g=5,b=h.useCallback(()=>{if(!t)return;const k=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/ws`;try{const C=new WebSocket(k);m.current=C,C.onopen=()=>{l(!0),u(null),f.current=0,C.send(JSON.stringify({type:"join",senderId:t}))},C.onmessage=_=>{try{const M=JSON.parse(_.data);switch(M.type){case"connected":r?.();break;case"chat":s?.(M);break;case"typing":M.senderId&&a?.(M.senderId);break;case"error":M.error&&n?.(M.error);break}}catch(M){console.error("Failed to parse WebSocket message:",M)}},C.onclose=()=>{if(l(!1),f.current<g){const _=Math.min(1e3*Math.pow(2,f.current),3e4);x.current=setTimeout(()=>{f.current++,b()},_)}},C.onerror=_=>{console.error("WebSocket error:",_),u("Connection error")}}catch(C){console.error("Failed to create WebSocket:",C),u("Failed to connect")}},[t,s,a,r]);h.useEffect(()=>(b(),()=>{x.current&&clearTimeout(x.current),m.current&&m.current.close()}),[b]);const v=h.useCallback((w,k)=>!m.current||m.current.readyState!==WebSocket.OPEN||!t?!1:(m.current.send(JSON.stringify({type:"chat",senderId:t,recipientId:w,content:k})),!0),[t]),y=h.useCallback(w=>{!m.current||m.current.readyState!==WebSocket.OPEN||!t||m.current.send(JSON.stringify({type:"typing",senderId:t,recipientId:w}))},[t]);return{isConnected:i,connectionError:c,sendMessage:v,sendTyping:y}}const are=[{id:1,name:"Yuki Tanaka",location:"Tokyo, Japan",avatar:"https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=200",rating:4.9,reviews:127,specialties:["Culture","Food","Nightlife"],languages:["Japanese","English"],responseTime:"< 1 hour"},{id:2,name:"Marie Dubois",location:"Paris, France",avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=200",rating:4.8,reviews:89,specialties:["Art","Wine","Fashion"],languages:["French","English"],responseTime:"< 2 hours"},{id:3,name:"Made Surya",location:"Bali, Indonesia",avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=200",rating:4.9,reviews:156,specialties:["Nature","Wellness","Adventure"],languages:["Indonesian","English"],responseTime:"< 30 min"}];function rre(){const{user:t}=qr(),{data:s,isLoading:a,refetch:r}=ere(),n=tre(),{toast:i}=Bs(),[l,c]=h.useState(""),[u,m]=h.useState(null),[x,f]=h.useState(""),[g,b]=h.useState([]),[v,y]=h.useState(!1),w=h.useRef(null),k=h.useRef(null),C=h.useCallback(I=>{I.type==="chat"&&(b(q=>[...q,{id:I.id||crypto.randomUUID(),senderId:I.senderId,recipientId:I.recipientId,content:I.content,timestamp:I.timestamp||new Date().toISOString()}]),r())},[r]),_=h.useCallback(I=>{u&&String(u.id)===I&&(y(!0),w.current&&clearTimeout(w.current),w.current=setTimeout(()=>y(!1),3e3))},[u]),M=h.useCallback(I=>{i({title:"Message failed",description:I||"Failed to send message. Please try again.",variant:"destructive"})},[i]),{isConnected:E,sendMessage:R,sendTyping:z}=sre({userId:t?.id,onMessage:C,onTyping:_,onConnected:()=>console.log("WebSocket connected"),onError:M});h.useEffect(()=>{k.current?.scrollIntoView({behavior:"smooth"})},[g,s]);const A=()=>{if(!l.trim()||!u)return;const I=l,q=String(u.id);E&&q.length>10?R(q,I)&&c(""):n.mutate({message:I,senderId:t?.id},{onSuccess:()=>{c(""),r()},onError:()=>{i({title:"Message failed",description:"Failed to send message. Please try again.",variant:"destructive"})}})},V=I=>{c(I.target.value),u&&E&&z(String(u.id))},H=are.filter(I=>I.name.toLowerCase().includes(x.toLowerCase())||I.location.toLowerCase().includes(x.toLowerCase())||I.specialties.some(q=>q.toLowerCase().includes(x.toLowerCase())));return a?e.jsx("div",{className:"flex justify-center items-center min-h-screen",children:e.jsx(ot,{className:"animate-spin w-8 h-8 text-primary"})}):e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("div",{className:"bg-white dark:bg-slate-900 border-b border-border sticky top-16 z-40",children:e.jsx("div",{className:"container mx-auto px-4 py-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(Ce,{href:"/dashboard",children:e.jsx(S,{variant:"ghost",size:"icon","data-testid":"button-back",children:e.jsx(la,{className:"w-5 h-5"})})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold font-display text-slate-900 dark:text-white",children:"Expert Chat"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Connect with local experts for your trips"})]})]})})}),e.jsx("div",{className:"container mx-auto px-4 py-6",children:e.jsxs("div",{className:"grid md:grid-cols-3 gap-6 h-[calc(100vh-200px)]",children:[e.jsxs("div",{className:"md:col-span-1 space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ne,{placeholder:"Search experts...",value:x,onChange:I=>f(I.target.value),className:"pl-10","data-testid":"input-search-experts"}),e.jsx(ws,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"})]}),e.jsx(Ha,{className:"h-[calc(100vh-280px)]",children:e.jsx("div",{className:"space-y-3 pr-4",children:H.map((I,q)=>e.jsx(He.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:q*.05},children:e.jsx(P,{className:`cursor-pointer transition-all hover:shadow-md ${u?.id===I.id?"ring-2 ring-primary":""}`,onClick:()=>m(I),"data-testid":`card-expert-${I.id}`,children:e.jsx(F,{className:"p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsxs(Ls,{className:"w-12 h-12",children:[e.jsx(Br,{src:I.avatar,alt:I.name}),e.jsx(Os,{children:I.name[0]})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white truncate",children:I.name}),e.jsxs("div",{className:"flex items-center gap-1 text-amber-500 text-sm shrink-0",children:[e.jsx(rt,{className:"w-3 h-3 fill-current"}),I.rating]})]}),e.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground mt-1",children:[e.jsx(Me,{className:"w-3 h-3"}),I.location]}),e.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:I.specialties.slice(0,2).map(fe=>e.jsx(O,{variant:"secondary",className:"text-xs",children:fe},fe))})]})]})})})},I.id))})})]}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(P,{className:"h-full flex flex-col",children:u?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"p-4 border-b border-border flex items-center gap-4",children:[e.jsxs(Ls,{className:"w-10 h-10",children:[e.jsx(Br,{src:u.avatar,alt:u.name}),e.jsx(Os,{children:u.name[0]})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white",children:u.name}),E?e.jsxs(O,{variant:"secondary",className:"text-xs bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300",children:[e.jsx(D$,{className:"w-3 h-3 mr-1"})," Live"]}):e.jsxs(O,{variant:"secondary",className:"text-xs bg-gray-100 text-gray-600 dark:bg-gray-800 dark:text-gray-400",children:[e.jsx(A$,{className:"w-3 h-3 mr-1"})," Offline"]})]}),e.jsx("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:v?e.jsx("span",{className:"flex items-center gap-1 text-primary",children:e.jsx(He.span,{animate:{opacity:[.4,1,.4]},transition:{duration:1.2,repeat:1/0},children:"typing..."})}):e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Je,{className:"w-3 h-3"}),"Responds ",u.responseTime]}),e.jsx("span",{children:"|"}),e.jsxs("span",{children:[u.reviews," reviews"]})]})})]}),e.jsx(S,{variant:"outline",size:"sm","data-testid":"button-view-profile",children:"View Profile"})]}),e.jsx(Ha,{className:"flex-1 p-4",children:s&&s.length>0?e.jsx("div",{className:"space-y-4",children:s.map(I=>e.jsx("div",{className:`flex ${I.senderId===t?.id?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:"flex items-end gap-2 max-w-[70%]",children:[I.senderId!==t?.id&&e.jsxs(Ls,{className:"w-8 h-8",children:[e.jsx(Br,{src:u.avatar}),e.jsx(Os,{children:u.name[0]})]}),e.jsxs("div",{className:`
                                  rounded-2xl p-4 shadow-sm
                                  ${I.senderId===t?.id?"bg-primary text-white rounded-br-none":"bg-muted text-foreground rounded-bl-none"}
                                `,children:[e.jsx("p",{children:I.message}),e.jsx("div",{className:`text-xs mt-2 ${I.senderId===t?.id?"text-white/70":"text-muted-foreground"}`,children:I.createdAt&&Et(new Date(I.createdAt),"h:mm a")})]})]})},I.id))}):e.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center mb-4",children:e.jsx(Vs,{className:"w-8 h-8 text-primary"})}),e.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white mb-2",children:"Start a conversation"}),e.jsxs("p",{className:"text-muted-foreground text-sm max-w-xs",children:["Say hello to ",u.name," and get personalized travel advice!"]})]})}),e.jsx("div",{className:"p-4 border-t border-border",children:e.jsxs("form",{onSubmit:I=>{I.preventDefault(),A()},className:"flex gap-3",children:[e.jsx(Ne,{value:l,onChange:V,placeholder:"Type your message...",className:"flex-1","data-testid":"input-message"}),e.jsx(S,{type:"submit",disabled:n.isPending||!l.trim(),"data-testid":"button-send",children:n.isPending?e.jsx(ot,{className:"w-5 h-5 animate-spin"}):e.jsx(ul,{className:"w-5 h-5"})})]})})]}):e.jsxs(F,{className:"flex-1 flex flex-col items-center justify-center text-center py-12",children:[e.jsx("div",{className:"w-20 h-20 rounded-full bg-muted flex items-center justify-center mb-6",children:e.jsx(Wn,{className:"w-10 h-10 text-muted-foreground"})}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 dark:text-white mb-2",children:"Select an Expert"}),e.jsx("p",{className:"text-muted-foreground max-w-sm",children:"Choose a local expert from the list to start chatting and get personalized travel advice."})]})})})]})})]})}function nre(){const[,t]=La(),[s,a]=h.useState(null),[r,n]=h.useState(""),[i,l]=h.useState(""),[c,u]=h.useState(!1),m=h.useRef(null),x=h.useRef(null),{data:f=[],isLoading:g}=Le({queryKey:["/api/conversations"]}),{data:b,isLoading:v}=Le({queryKey:["/api/conversations",s],enabled:!!s}),y=Ot({mutationFn:async z=>(await Ft("POST","/api/conversations",{title:z})).json(),onSuccess:z=>{_t.invalidateQueries({queryKey:["/api/conversations"]}),a(z.id)}}),w=Ot({mutationFn:async z=>{await Ft("DELETE",`/api/conversations/${z}`)},onSuccess:()=>{_t.invalidateQueries({queryKey:["/api/conversations"]}),s&&a(null)}}),k=()=>{m.current?.scrollIntoView({behavior:"smooth"})};h.useEffect(()=>{k()},[b?.messages,i]);const C=async()=>{if(!r.trim()||c)return;let z=s;z||(z=(await y.mutateAsync(r.slice(0,50)+(r.length>50?"...":""))).id);const A=r;n(""),u(!0),l(""),_t.setQueryData(["/api/conversations",z],V=>V&&{...V,messages:[...V.messages||[],{id:Date.now(),conversationId:z,role:"user",content:A,createdAt:new Date().toISOString()}]});try{const V=await fetch(`/api/conversations/${z}/messages`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:A}),credentials:"include"});if(!V.ok)throw new Error(`HTTP error! status: ${V.status}`);const H=V.body?.getReader(),I=new TextDecoder;if(H){let q="";for(;;){const{done:fe,value:oe}=await H.read();if(fe)break;const me=I.decode(oe).split(`
`);for(const ie of me)if(ie.startsWith("data: "))try{const B=JSON.parse(ie.slice(6));B.content&&(q+=B.content,l(q)),B.done&&_t.invalidateQueries({queryKey:["/api/conversations",z]})}catch{}}}}catch(V){console.error("Error sending message:",V)}finally{u(!1),l("")}},_=z=>{z.key==="Enter"&&!z.shiftKey&&(z.preventDefault(),C())},M=()=>{a(null),n("")},E=b?.messages||[],R=[{icon:Pt,text:"Plan a romantic getaway to Bali"},{icon:Me,text:"Best destinations for a winter wedding"},{icon:Ge,text:"Create an itinerary for Tokyo in spring"},{icon:qe,text:"Surprise anniversary trip ideas"}];return e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:e.jsxs("div",{className:"container mx-auto px-4 py-6 max-w-7xl",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs(S,{variant:"ghost",onClick:()=>t("/dashboard"),className:"mb-4 text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white","data-testid":"button-back-dashboard",children:[e.jsx(la,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-primary rounded-lg",children:e.jsx(os,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 dark:text-white",children:"AI Travel Assistant"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Your personal travel planning companion"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 h-[calc(100vh-200px)]",children:[e.jsxs(P,{className:"lg:col-span-1 bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700",children:[e.jsx(Q,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsx(X,{className:"text-lg",children:"Conversations"}),e.jsxs(S,{size:"sm",variant:"outline",onClick:M,"data-testid":"button-new-chat",children:[e.jsx(ps,{className:"w-4 h-4 mr-1"}),"New"]})]})}),e.jsx(F,{className:"p-3 pt-0",children:e.jsx(Ha,{className:"h-[calc(100vh-340px)]",children:g?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx(ot,{className:"w-6 h-6 animate-spin text-gray-600 dark:text-gray-400"})}):f.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-600 dark:text-gray-400",children:[e.jsx(Vs,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-sm",children:"No conversations yet"})]}):e.jsx("div",{className:"space-y-2",children:f.map(z=>e.jsxs("div",{className:te("p-3 rounded-lg cursor-pointer transition-all group flex items-center justify-between gap-2",s===z.id?"bg-primary/10 border border-primary/20":"hover:bg-muted"),onClick:()=>a(z.id),"data-testid":`card-conversation-${z.id}`,children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium truncate",children:z.title}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:new Date(z.createdAt).toLocaleDateString()})]}),e.jsx(S,{size:"icon",variant:"ghost",className:"opacity-0 group-hover:opacity-100 transition-opacity flex-shrink-0",onClick:A=>{A.stopPropagation(),w.mutate(z.id)},"data-testid":`button-delete-conversation-${z.id}`,children:e.jsx(pi,{className:"w-4 h-4 text-destructive"})})]},z.id))})})})]}),e.jsx(P,{className:"lg:col-span-3 bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700 flex flex-col",children:e.jsxs(F,{className:"flex-1 p-4 flex flex-col overflow-hidden",children:[e.jsx(Ha,{className:"flex-1 pr-4",children:s&&v?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx(ot,{className:"w-8 h-8 animate-spin text-gray-500"})}):E.length===0&&!i&&!s?e.jsxs("div",{className:"h-full flex flex-col items-center justify-center py-12",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx(qe,{className:"w-16 h-16 mx-auto text-primary mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"How can I help you today?"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 max-w-md",children:"I can help you plan trips, find destinations, create itineraries, and more!"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 w-full max-w-2xl",children:R.map((z,A)=>e.jsxs("button",{onClick:()=>n(z.text),className:"p-4 rounded-lg border-2 border-gray-200 dark:border-gray-700 text-left transition-all flex items-center gap-3 hover:border-gray-300 dark:hover:border-gray-600 hover:shadow-md","data-testid":`button-suggestion-${A}`,children:[e.jsx(z.icon,{className:"w-5 h-5 text-primary flex-shrink-0"}),e.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:z.text})]},A))})]}):e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsx(xm,{mode:"popLayout",children:E.map(z=>e.jsxs(He.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:te("flex gap-3",z.role==="user"?"justify-end":"justify-start"),children:[z.role==="assistant"&&e.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-primary to-accent flex items-center justify-center flex-shrink-0",children:e.jsx(os,{className:"w-4 h-4 text-white"})}),e.jsx("div",{className:te("max-w-[80%] p-4 rounded-2xl",z.role==="user"?"bg-primary text-primary-foreground":"bg-muted"),children:e.jsx("p",{className:"text-sm whitespace-pre-wrap",children:z.content})}),z.role==="user"&&e.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-200 dark:bg-gray-600 flex items-center justify-center flex-shrink-0",children:e.jsx(Wn,{className:"w-4 h-4"})})]},z.id))}),i&&e.jsxs(He.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex gap-3 justify-start",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-primary to-accent flex items-center justify-center flex-shrink-0",children:e.jsx(os,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{className:"max-w-[80%] p-4 rounded-2xl bg-muted",children:[e.jsx("p",{className:"text-sm whitespace-pre-wrap",children:i}),e.jsx("span",{className:"inline-block w-2 h-4 bg-primary animate-pulse ml-1"})]})]}),e.jsx("div",{ref:m})]})}),e.jsxs("div",{className:"pt-4 border-t border-border mt-4",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsx(Ks,{ref:x,value:r,onChange:z=>n(z.target.value),onKeyDown:_,placeholder:"Ask me about your travel plans...",className:"resize-none min-h-[60px] max-h-[120px]",disabled:c,"data-testid":"input-message"}),e.jsx(S,{size:"lg",onClick:C,disabled:!r.trim()||c,className:"px-6","data-testid":"button-send-message",children:c?e.jsx(ot,{className:"w-5 h-5 animate-spin"}):e.jsx(ul,{className:"w-5 h-5"})})]}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-2 text-center",children:"AI assistant powered by Claude. Responses are for planning purposes only."})]})]})})]})]})})}const rn=V1,qx=yF,ire=U1,D8=h.forwardRef(({className:t,...s},a)=>e.jsx(zx,{ref:a,className:te("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...s}));D8.displayName=zx.displayName;const zr=h.forwardRef(({className:t,children:s,...a},r)=>e.jsxs(ire,{children:[e.jsx(D8,{}),e.jsxs(Vx,{ref:r,className:te("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...a,children:[s,e.jsxs(jF,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(Ia,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));zr.displayName=Vx.displayName;const Vr=({className:t,...s})=>e.jsx("div",{className:te("flex flex-col space-y-1.5 text-center sm:text-left",t),...s});Vr.displayName="DialogHeader";const jo=({className:t,...s})=>e.jsx("div",{className:te("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s});jo.displayName="DialogFooter";const Ur=h.forwardRef(({className:t,...s},a)=>e.jsx(O0,{ref:a,className:te("text-lg font-semibold leading-none tracking-tight",t),...s}));Ur.displayName=O0.displayName;const nn=h.forwardRef(({className:t,...s},a)=>e.jsx($0,{ref:a,className:te("text-sm text-muted-foreground",t),...s}));nn.displayName=$0.displayName;var Hx=t=>t.type==="checkbox",Wc=t=>t instanceof Date,Bn=t=>t==null;const F8=t=>typeof t=="object";var mr=t=>!Bn(t)&&!Array.isArray(t)&&F8(t)&&!Wc(t),M8=t=>mr(t)&&t.target?Hx(t.target)?t.target.checked:t.target.value:t,lre=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,I8=(t,s)=>t.has(lre(s)),ore=t=>{const s=t.constructor&&t.constructor.prototype;return mr(s)&&s.hasOwnProperty("isPrototypeOf")},K1=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ir(t){if(t instanceof Date)return new Date(t);const s=typeof FileList<"u"&&t instanceof FileList;if(K1&&(t instanceof Blob||s))return t;const a=Array.isArray(t);if(!a&&!(mr(t)&&ore(t)))return t;const r=a?[]:Object.create(Object.getPrototypeOf(t));for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=ir(t[n]));return r}var q0=t=>/^\w*$/.test(t),Ca=t=>t===void 0,Y1=t=>Array.isArray(t)?t.filter(Boolean):[],Q1=t=>Y1(t.replace(/["|']|\]/g,"").split(/\.|\[/)),dt=(t,s,a)=>{if(!s||!mr(t))return a;const r=(q0(s)?[s]:Q1(s)).reduce((n,i)=>Bn(n)?n:n[i],t);return Ca(r)||r===t?Ca(t[s])?a:t[s]:r},ai=t=>typeof t=="boolean",vn=t=>typeof t=="function",Ws=(t,s,a)=>{let r=-1;const n=q0(s)?[s]:Q1(s),i=n.length,l=i-1;for(;++r<i;){const c=n[r];let u=a;if(r!==l){const m=t[c];u=mr(m)||Array.isArray(m)?m:isNaN(+n[r+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;t[c]=u,t=t[c]}};const Og={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Xi={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},to={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},X1=st.createContext(null);X1.displayName="HookFormControlContext";const Z1=()=>st.useContext(X1);var R8=(t,s,a,r=!0)=>{const n={defaultValues:s._defaultValues};for(const i in t)Object.defineProperty(n,i,{get:()=>{const l=i;return s._proxyFormState[l]!==Xi.all&&(s._proxyFormState[l]=!r||Xi.all),a&&(a[l]=!0),t[l]}});return n};const J1=typeof window<"u"?st.useLayoutEffect:st.useEffect;function cre(t){const s=Z1(),{control:a=s,disabled:r,name:n,exact:i}=t||{},[l,c]=st.useState(a._formState),u=st.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return J1(()=>a._subscribe({name:n,formState:u.current,exact:i,callback:m=>{!r&&c({...a._formState,...m})}}),[n,r,i]),st.useEffect(()=>{u.current.isValid&&a._setValid(!0)},[a]),st.useMemo(()=>R8(l,a,u.current,!1),[l,a])}var li=t=>typeof t=="string",NN=(t,s,a,r,n)=>li(t)?(r&&s.watch.add(t),dt(a,t,n)):Array.isArray(t)?t.map(i=>(r&&s.watch.add(i),dt(a,i))):(r&&(s.watchAll=!0),a),wN=t=>Bn(t)||!F8(t);function Zi(t,s,a=new WeakSet){if(wN(t)||wN(s))return Object.is(t,s);if(Wc(t)&&Wc(s))return Object.is(t.getTime(),s.getTime());const r=Object.keys(t),n=Object.keys(s);if(r.length!==n.length)return!1;if(a.has(t)||a.has(s))return!0;a.add(t),a.add(s);for(const i of r){const l=t[i];if(!n.includes(i))return!1;if(i!=="ref"){const c=s[i];if(Wc(l)&&Wc(c)||mr(l)&&mr(c)||Array.isArray(l)&&Array.isArray(c)?!Zi(l,c,a):!Object.is(l,c))return!1}}return!0}function dre(t){const s=Z1(),{control:a=s,name:r,defaultValue:n,disabled:i,exact:l,compute:c}=t||{},u=st.useRef(n),m=st.useRef(c),x=st.useRef(void 0),f=st.useRef(a),g=st.useRef(r);m.current=c;const[b,v]=st.useState(()=>{const M=a._getWatch(r,u.current);return m.current?m.current(M):M}),y=st.useCallback(M=>{const E=NN(r,a._names,M||a._formValues,!1,u.current);return m.current?m.current(E):E},[a._formValues,a._names,r]),w=st.useCallback(M=>{if(!i){const E=NN(r,a._names,M||a._formValues,!1,u.current);if(m.current){const R=m.current(E);Zi(R,x.current)||(v(R),x.current=R)}else v(E)}},[a._formValues,a._names,i,r]);J1(()=>((f.current!==a||!Zi(g.current,r))&&(f.current=a,g.current=r,w()),a._subscribe({name:r,formState:{values:!0},exact:l,callback:M=>{w(M.values)}})),[a,l,r,w]),st.useEffect(()=>a._removeUnmounted());const k=f.current!==a,C=g.current,_=st.useMemo(()=>{if(i)return null;const M=!k&&!Zi(C,r);return k||M?y():null},[i,k,r,C,y]);return _!==null?_:b}function ure(t){const s=Z1(),{name:a,disabled:r,control:n=s,shouldUnregister:i,defaultValue:l,exact:c=!0}=t,u=I8(n._names.array,a),m=st.useMemo(()=>dt(n._formValues,a,dt(n._defaultValues,a,l)),[n,a,l]),x=dre({control:n,name:a,defaultValue:m,exact:c}),f=cre({control:n,name:a,exact:c}),g=st.useRef(t),b=st.useRef(void 0),v=st.useRef(n.register(a,{...t.rules,value:x,...ai(t.disabled)?{disabled:t.disabled}:{}}));g.current=t;const y=st.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!dt(f.errors,a)},isDirty:{enumerable:!0,get:()=>!!dt(f.dirtyFields,a)},isTouched:{enumerable:!0,get:()=>!!dt(f.touchedFields,a)},isValidating:{enumerable:!0,get:()=>!!dt(f.validatingFields,a)},error:{enumerable:!0,get:()=>dt(f.errors,a)}}),[f,a]),w=st.useCallback(M=>v.current.onChange({target:{value:M8(M),name:a},type:Og.CHANGE}),[a]),k=st.useCallback(()=>v.current.onBlur({target:{value:dt(n._formValues,a),name:a},type:Og.BLUR}),[a,n._formValues]),C=st.useCallback(M=>{const E=dt(n._fields,a);E&&E._f&&M&&(E._f.ref={focus:()=>vn(M.focus)&&M.focus(),select:()=>vn(M.select)&&M.select(),setCustomValidity:R=>vn(M.setCustomValidity)&&M.setCustomValidity(R),reportValidity:()=>vn(M.reportValidity)&&M.reportValidity()})},[n._fields,a]),_=st.useMemo(()=>({name:a,value:x,...ai(r)||f.disabled?{disabled:f.disabled||r}:{},onChange:w,onBlur:k,ref:C}),[a,r,f.disabled,w,k,C,x]);return st.useEffect(()=>{const M=n._options.shouldUnregister||i,E=b.current;E&&E!==a&&!u&&n.unregister(E),n.register(a,{...g.current.rules,...ai(g.current.disabled)?{disabled:g.current.disabled}:{}});const R=(z,A)=>{const V=dt(n._fields,z);V&&V._f&&(V._f.mount=A)};if(R(a,!0),M){const z=ir(dt(n._options.defaultValues,a,g.current.defaultValue));Ws(n._defaultValues,a,z),Ca(dt(n._formValues,a))&&Ws(n._formValues,a,z)}return!u&&n.register(a),b.current=a,()=>{(u?M&&!n._state.action:M)?n.unregister(a):R(a,!1)}},[a,n,u,i]),st.useEffect(()=>{n._setDisabledField({disabled:r,name:a})},[r,a,n]),st.useMemo(()=>({field:_,formState:f,fieldState:y}),[_,f,y])}const mre=t=>t.render(ure(t)),e2=st.createContext(null);e2.displayName="HookFormContext";const hre=()=>st.useContext(e2),xre=t=>{const{children:s,watch:a,getValues:r,getFieldState:n,setError:i,clearErrors:l,setValue:c,trigger:u,formState:m,resetField:x,reset:f,handleSubmit:g,unregister:b,control:v,register:y,setFocus:w,subscribe:k}=t;return st.createElement(e2.Provider,{value:st.useMemo(()=>({watch:a,getValues:r,getFieldState:n,setError:i,clearErrors:l,setValue:c,trigger:u,formState:m,resetField:x,reset:f,handleSubmit:g,unregister:b,control:v,register:y,setFocus:w,subscribe:k}),[l,v,m,n,r,g,y,f,x,i,w,c,k,u,b,a])},st.createElement(X1.Provider,{value:v},s))};var L8=(t,s,a,r,n)=>s?{...a[t],types:{...a[t]&&a[t].types?a[t].types:{},[r]:n||!0}}:{},Fh=t=>Array.isArray(t)?t:[t],G5=()=>{let t=[];return{get observers(){return t},next:n=>{for(const i of t)i.next&&i.next(n)},subscribe:n=>(t.push(n),{unsubscribe:()=>{t=t.filter(i=>i!==n)}}),unsubscribe:()=>{t=[]}}};function O8(t,s){const a={};for(const r in t)if(t.hasOwnProperty(r)){const n=t[r],i=s[r];if(n&&mr(n)&&i){const l=O8(n,i);mr(l)&&(a[r]=l)}else t[r]&&(a[r]=i)}return a}var fn=t=>mr(t)&&!Object.keys(t).length,t2=t=>t.type==="file",$g=t=>{if(!K1)return!1;const s=t?t.ownerDocument:0;return t instanceof(s&&s.defaultView?s.defaultView.HTMLElement:HTMLElement)},$8=t=>t.type==="select-multiple",s2=t=>t.type==="radio",pre=t=>s2(t)||Hx(t),Oj=t=>$g(t)&&t.isConnected;function fre(t,s){const a=s.slice(0,-1).length;let r=0;for(;r<a;)t=Ca(t)?r++:t[s[r++]];return t}function gre(t){for(const s in t)if(t.hasOwnProperty(s)&&!Ca(t[s]))return!1;return!0}function lr(t,s){const a=Array.isArray(s)?s:q0(s)?[s]:Q1(s),r=a.length===1?t:fre(t,a),n=a.length-1,i=a[n];return r&&delete r[i],n!==0&&(mr(r)&&fn(r)||Array.isArray(r)&&gre(r))&&lr(t,a.slice(0,-1)),t}var vre=t=>{for(const s in t)if(vn(t[s]))return!0;return!1};function B8(t){return Array.isArray(t)||mr(t)&&!vre(t)}function kN(t,s={}){for(const a in t){const r=t[a];B8(r)?(s[a]=Array.isArray(r)?[]:{},kN(r,s[a])):Ca(r)||(s[a]=!0)}return s}function fu(t,s,a){a||(a=kN(s));for(const r in t){const n=t[r];if(B8(n))Ca(s)||wN(a[r])?a[r]=kN(n,Array.isArray(n)?[]:{}):fu(n,Bn(s)?{}:s[r],a[r]);else{const i=s[r];a[r]=!Zi(n,i)}}return a}const K5={value:!1,isValid:!1},Y5={value:!0,isValid:!0};var z8=t=>{if(Array.isArray(t)){if(t.length>1){const s=t.filter(a=>a&&a.checked&&!a.disabled).map(a=>a.value);return{value:s,isValid:!!s.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Ca(t[0].attributes.value)?Ca(t[0].value)||t[0].value===""?Y5:{value:t[0].value,isValid:!0}:Y5:K5}return K5},V8=(t,{valueAsNumber:s,valueAsDate:a,setValueAs:r})=>Ca(t)?t:s?t===""?NaN:t&&+t:a&&li(t)?new Date(t):r?r(t):t;const Q5={isValid:!1,value:null};var U8=t=>Array.isArray(t)?t.reduce((s,a)=>a&&a.checked&&!a.disabled?{isValid:!0,value:a.value}:s,Q5):Q5;function X5(t){const s=t.ref;return t2(s)?s.files:s2(s)?U8(t.refs).value:$8(s)?[...s.selectedOptions].map(({value:a})=>a):Hx(s)?z8(t.refs).value:V8(Ca(s.value)?t.ref.value:s.value,t)}var yre=(t,s,a,r)=>{const n={};for(const i of t){const l=dt(s,i);l&&Ws(n,i,l._f)}return{criteriaMode:a,names:[...t],fields:n,shouldUseNativeValidation:r}},Bg=t=>t instanceof RegExp,oh=t=>Ca(t)?t:Bg(t)?t.source:mr(t)?Bg(t.value)?t.value.source:t.value:t,Z5=t=>({isOnSubmit:!t||t===Xi.onSubmit,isOnBlur:t===Xi.onBlur,isOnChange:t===Xi.onChange,isOnAll:t===Xi.all,isOnTouch:t===Xi.onTouched});const J5="AsyncFunction";var jre=t=>!!t&&!!t.validate&&!!(vn(t.validate)&&t.validate.constructor.name===J5||mr(t.validate)&&Object.values(t.validate).find(s=>s.constructor.name===J5)),bre=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),e3=(t,s,a)=>!a&&(s.watchAll||s.watch.has(t)||[...s.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Mh=(t,s,a,r)=>{for(const n of a||Object.keys(t)){const i=dt(t,n);if(i){const{_f:l,...c}=i;if(l){if(l.refs&&l.refs[0]&&s(l.refs[0],n)&&!r)return!0;if(l.ref&&s(l.ref,l.name)&&!r)return!0;if(Mh(c,s))break}else if(mr(c)&&Mh(c,s))break}}};function t3(t,s,a){const r=dt(t,a);if(r||q0(a))return{error:r,name:a};const n=a.split(".");for(;n.length;){const i=n.join("."),l=dt(s,i),c=dt(t,i);if(l&&!Array.isArray(l)&&a!==i)return{name:a};if(c&&c.type)return{name:i,error:c};if(c&&c.root&&c.root.type)return{name:`${i}.root`,error:c.root};n.pop()}return{name:a}}var Nre=(t,s,a,r)=>{a(t);const{name:n,...i}=t;return fn(i)||Object.keys(i).length>=Object.keys(s).length||Object.keys(i).find(l=>s[l]===(!r||Xi.all))},wre=(t,s,a)=>!t||!s||t===s||Fh(t).some(r=>r&&(a?r===s:r.startsWith(s)||s.startsWith(r))),kre=(t,s,a,r,n)=>n.isOnAll?!1:!a&&n.isOnTouch?!(s||t):(a?r.isOnBlur:n.isOnBlur)?!t:(a?r.isOnChange:n.isOnChange)?t:!0,Cre=(t,s)=>!Y1(dt(t,s)).length&&lr(t,s),Sre=(t,s,a)=>{const r=Fh(dt(t,a));return Ws(r,"root",s[a]),Ws(t,a,r),t};function s3(t,s,a="validate"){if(li(t)||Array.isArray(t)&&t.every(li)||ai(t)&&!t)return{type:a,message:li(t)?t:"",ref:s}}var lu=t=>mr(t)&&!Bg(t)?t:{value:t,message:""},a3=async(t,s,a,r,n,i)=>{const{ref:l,refs:c,required:u,maxLength:m,minLength:x,min:f,max:g,pattern:b,validate:v,name:y,valueAsNumber:w,mount:k}=t._f,C=dt(a,y);if(!k||s.has(y))return{};const _=c?c[0]:l,M=q=>{n&&_.reportValidity&&(_.setCustomValidity(ai(q)?"":q||""),_.reportValidity())},E={},R=s2(l),z=Hx(l),A=R||z,V=(w||t2(l))&&Ca(l.value)&&Ca(C)||$g(l)&&l.value===""||C===""||Array.isArray(C)&&!C.length,H=L8.bind(null,y,r,E),I=(q,fe,oe,Ee=to.maxLength,me=to.minLength)=>{const ie=q?fe:oe;E[y]={type:q?Ee:me,message:ie,ref:l,...H(q?Ee:me,ie)}};if(i?!Array.isArray(C)||!C.length:u&&(!A&&(V||Bn(C))||ai(C)&&!C||z&&!z8(c).isValid||R&&!U8(c).isValid)){const{value:q,message:fe}=li(u)?{value:!!u,message:u}:lu(u);if(q&&(E[y]={type:to.required,message:fe,ref:_,...H(to.required,fe)},!r))return M(fe),E}if(!V&&(!Bn(f)||!Bn(g))){let q,fe;const oe=lu(g),Ee=lu(f);if(!Bn(C)&&!isNaN(C)){const me=l.valueAsNumber||C&&+C;Bn(oe.value)||(q=me>oe.value),Bn(Ee.value)||(fe=me<Ee.value)}else{const me=l.valueAsDate||new Date(C),ie=ke=>new Date(new Date().toDateString()+" "+ke),B=l.type=="time",ae=l.type=="week";li(oe.value)&&C&&(q=B?ie(C)>ie(oe.value):ae?C>oe.value:me>new Date(oe.value)),li(Ee.value)&&C&&(fe=B?ie(C)<ie(Ee.value):ae?C<Ee.value:me<new Date(Ee.value))}if((q||fe)&&(I(!!q,oe.message,Ee.message,to.max,to.min),!r))return M(E[y].message),E}if((m||x)&&!V&&(li(C)||i&&Array.isArray(C))){const q=lu(m),fe=lu(x),oe=!Bn(q.value)&&C.length>+q.value,Ee=!Bn(fe.value)&&C.length<+fe.value;if((oe||Ee)&&(I(oe,q.message,fe.message),!r))return M(E[y].message),E}if(b&&!V&&li(C)){const{value:q,message:fe}=lu(b);if(Bg(q)&&!C.match(q)&&(E[y]={type:to.pattern,message:fe,ref:l,...H(to.pattern,fe)},!r))return M(fe),E}if(v){if(vn(v)){const q=await v(C,a),fe=s3(q,_);if(fe&&(E[y]={...fe,...H(to.validate,fe.message)},!r))return M(fe.message),E}else if(mr(v)){let q={};for(const fe in v){if(!fn(q)&&!r)break;const oe=s3(await v[fe](C,a),_,fe);oe&&(q={...oe,...H(fe,oe.message)},M(oe.message),r&&(E[y]=q))}if(!fn(q)&&(E[y]={ref:_,...q},!r))return E}}return M(!0),E};const Tre={mode:Xi.onSubmit,reValidateMode:Xi.onChange,shouldFocusError:!0};function _re(t={}){let s={...Tre,...t},a={submitCount:0,isDirty:!1,isReady:!1,isLoading:vn(s.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:s.errors||{},disabled:s.disabled||!1},r={},n=mr(s.defaultValues)||mr(s.values)?ir(s.defaultValues||s.values)||{}:{},i=s.shouldUnregister?{}:ir(n),l={action:!1,mount:!1,watch:!1,keepIsValid:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},u,m=0;const x={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={...x};let g={...f};const b={array:G5(),state:G5()},v=s.criteriaMode===Xi.all,y=Z=>xe=>{clearTimeout(m),m=setTimeout(Z,xe)},w=async Z=>{if(!l.keepIsValid&&!s.disabled&&(f.isValid||g.isValid||Z)){let xe;s.resolver?(xe=fn((await A()).errors),k()):xe=await H(r,!0),xe!==a.isValid&&b.state.next({isValid:xe})}},k=(Z,xe)=>{!s.disabled&&(f.isValidating||f.validatingFields||g.isValidating||g.validatingFields)&&((Z||Array.from(c.mount)).forEach(Ae=>{Ae&&(xe?Ws(a.validatingFields,Ae,xe):lr(a.validatingFields,Ae))}),b.state.next({validatingFields:a.validatingFields,isValidating:!fn(a.validatingFields)}))},C=(Z,xe=[],Ae,Qe,Ue=!0,Ve=!0)=>{if(Qe&&Ae&&!s.disabled){if(l.action=!0,Ve&&Array.isArray(dt(r,Z))){const ut=Ae(dt(r,Z),Qe.argA,Qe.argB);Ue&&Ws(r,Z,ut)}if(Ve&&Array.isArray(dt(a.errors,Z))){const ut=Ae(dt(a.errors,Z),Qe.argA,Qe.argB);Ue&&Ws(a.errors,Z,ut),Cre(a.errors,Z)}if((f.touchedFields||g.touchedFields)&&Ve&&Array.isArray(dt(a.touchedFields,Z))){const ut=Ae(dt(a.touchedFields,Z),Qe.argA,Qe.argB);Ue&&Ws(a.touchedFields,Z,ut)}(f.dirtyFields||g.dirtyFields)&&(a.dirtyFields=fu(n,i)),b.state.next({name:Z,isDirty:q(Z,xe),dirtyFields:a.dirtyFields,errors:a.errors,isValid:a.isValid})}else Ws(i,Z,xe)},_=(Z,xe)=>{Ws(a.errors,Z,xe),b.state.next({errors:a.errors})},M=Z=>{a.errors=Z,b.state.next({errors:a.errors,isValid:!1})},E=(Z,xe,Ae,Qe)=>{const Ue=dt(r,Z);if(Ue){const Ve=dt(i,Z,Ca(Ae)?dt(n,Z):Ae);Ca(Ve)||Qe&&Qe.defaultChecked||xe?Ws(i,Z,xe?Ve:X5(Ue._f)):Ee(Z,Ve),l.mount&&!l.action&&w()}},R=(Z,xe,Ae,Qe,Ue)=>{let Ve=!1,ut=!1;const $t={name:Z};if(!s.disabled){if(!Ae||Qe){(f.isDirty||g.isDirty)&&(ut=a.isDirty,a.isDirty=$t.isDirty=q(),Ve=ut!==$t.isDirty);const ss=Zi(dt(n,Z),xe);ut=!!dt(a.dirtyFields,Z),ss?lr(a.dirtyFields,Z):Ws(a.dirtyFields,Z,!0),$t.dirtyFields=a.dirtyFields,Ve=Ve||(f.dirtyFields||g.dirtyFields)&&ut!==!ss}if(Ae){const ss=dt(a.touchedFields,Z);ss||(Ws(a.touchedFields,Z,Ae),$t.touchedFields=a.touchedFields,Ve=Ve||(f.touchedFields||g.touchedFields)&&ss!==Ae)}Ve&&Ue&&b.state.next($t)}return Ve?$t:{}},z=(Z,xe,Ae,Qe)=>{const Ue=dt(a.errors,Z),Ve=(f.isValid||g.isValid)&&ai(xe)&&a.isValid!==xe;if(s.delayError&&Ae?(u=y(()=>_(Z,Ae)),u(s.delayError)):(clearTimeout(m),u=null,Ae?Ws(a.errors,Z,Ae):lr(a.errors,Z)),(Ae?!Zi(Ue,Ae):Ue)||!fn(Qe)||Ve){const ut={...Qe,...Ve&&ai(xe)?{isValid:xe}:{},errors:a.errors,name:Z};a={...a,...ut},b.state.next(ut)}},A=async Z=>(k(Z,!0),await s.resolver(i,s.context,yre(Z||c.mount,r,s.criteriaMode,s.shouldUseNativeValidation))),V=async Z=>{const{errors:xe}=await A(Z);if(k(Z),Z)for(const Ae of Z){const Qe=dt(xe,Ae);Qe?Ws(a.errors,Ae,Qe):lr(a.errors,Ae)}else a.errors=xe;return xe},H=async(Z,xe,Ae={valid:!0})=>{for(const Qe in Z){const Ue=Z[Qe];if(Ue){const{_f:Ve,...ut}=Ue;if(Ve){const $t=c.array.has(Ve.name),ss=Ue._f&&jre(Ue._f);ss&&f.validatingFields&&k([Ve.name],!0);const Ds=await a3(Ue,c.disabled,i,v,s.shouldUseNativeValidation&&!xe,$t);if(ss&&f.validatingFields&&k([Ve.name]),Ds[Ve.name]&&(Ae.valid=!1,xe||t.shouldUseNativeValidation))break;!xe&&(dt(Ds,Ve.name)?$t?Sre(a.errors,Ds,Ve.name):Ws(a.errors,Ve.name,Ds[Ve.name]):lr(a.errors,Ve.name))}!fn(ut)&&await H(ut,xe,Ae)}}return Ae.valid},I=()=>{for(const Z of c.unMount){const xe=dt(r,Z);xe&&(xe._f.refs?xe._f.refs.every(Ae=>!Oj(Ae)):!Oj(xe._f.ref))&&J(Z)}c.unMount=new Set},q=(Z,xe)=>!s.disabled&&(Z&&xe&&Ws(i,Z,xe),!Zi($(),n)),fe=(Z,xe,Ae)=>NN(Z,c,{...l.mount?i:Ca(xe)?n:li(Z)?{[Z]:xe}:xe},Ae,xe),oe=Z=>Y1(dt(l.mount?i:n,Z,s.shouldUnregister?dt(n,Z,[]):[])),Ee=(Z,xe,Ae={})=>{const Qe=dt(r,Z);let Ue=xe;if(Qe){const Ve=Qe._f;Ve&&(!Ve.disabled&&Ws(i,Z,V8(xe,Ve)),Ue=$g(Ve.ref)&&Bn(xe)?"":xe,$8(Ve.ref)?[...Ve.ref.options].forEach(ut=>ut.selected=Ue.includes(ut.value)):Ve.refs?Hx(Ve.ref)?Ve.refs.forEach(ut=>{(!ut.defaultChecked||!ut.disabled)&&(Array.isArray(Ue)?ut.checked=!!Ue.find($t=>$t===ut.value):ut.checked=Ue===ut.value||!!Ue)}):Ve.refs.forEach(ut=>ut.checked=ut.value===Ue):t2(Ve.ref)?Ve.ref.value="":(Ve.ref.value=Ue,Ve.ref.type||b.state.next({name:Z,values:ir(i)})))}(Ae.shouldDirty||Ae.shouldTouch)&&R(Z,Ue,Ae.shouldTouch,Ae.shouldDirty,!0),Ae.shouldValidate&&ke(Z)},me=(Z,xe,Ae)=>{for(const Qe in xe){if(!xe.hasOwnProperty(Qe))return;const Ue=xe[Qe],Ve=Z+"."+Qe,ut=dt(r,Ve);(c.array.has(Z)||mr(Ue)||ut&&!ut._f)&&!Wc(Ue)?me(Ve,Ue,Ae):Ee(Ve,Ue,Ae)}},ie=(Z,xe,Ae={})=>{const Qe=dt(r,Z),Ue=c.array.has(Z),Ve=ir(xe);Ws(i,Z,Ve),Ue?(b.array.next({name:Z,values:ir(i)}),(f.isDirty||f.dirtyFields||g.isDirty||g.dirtyFields)&&Ae.shouldDirty&&b.state.next({name:Z,dirtyFields:fu(n,i),isDirty:q(Z,Ve)})):Qe&&!Qe._f&&!Bn(Ve)?me(Z,Ve,Ae):Ee(Z,Ve,Ae),e3(Z,c)?b.state.next({...a,name:Z,values:ir(i)}):b.state.next({name:l.mount?Z:void 0,values:ir(i)})},B=async Z=>{l.mount=!0;const xe=Z.target;let Ae=xe.name,Qe=!0;const Ue=dt(r,Ae),Ve=ss=>{Qe=Number.isNaN(ss)||Wc(ss)&&isNaN(ss.getTime())||Zi(ss,dt(i,Ae,ss))},ut=Z5(s.mode),$t=Z5(s.reValidateMode);if(Ue){let ss,Ds;const Hs=xe.type?X5(Ue._f):M8(Z),sa=Z.type===Og.BLUR||Z.type===Og.FOCUS_OUT,pr=!bre(Ue._f)&&!s.resolver&&!dt(a.errors,Ae)&&!Ue._f.deps||kre(sa,dt(a.touchedFields,Ae),a.isSubmitted,$t,ut),ar=e3(Ae,c,sa);Ws(i,Ae,Hs),sa?(!xe||!xe.readOnly)&&(Ue._f.onBlur&&Ue._f.onBlur(Z),u&&u(0)):Ue._f.onChange&&Ue._f.onChange(Z);const wa=R(Ae,Hs,sa),Re=!fn(wa)||ar;if(!sa&&b.state.next({name:Ae,type:Z.type,values:ir(i)}),pr)return(f.isValid||g.isValid)&&(s.mode==="onBlur"?sa&&w():sa||w()),Re&&b.state.next({name:Ae,...ar?{}:wa});if(!sa&&ar&&b.state.next({...a}),s.resolver){const{errors:Ct}=await A([Ae]);if(k([Ae]),Ve(Hs),Qe){const ls=t3(a.errors,r,Ae),aa=t3(Ct,r,ls.name||Ae);ss=aa.error,Ae=aa.name,Ds=fn(Ct)}}else k([Ae],!0),ss=(await a3(Ue,c.disabled,i,v,s.shouldUseNativeValidation))[Ae],k([Ae]),Ve(Hs),Qe&&(ss?Ds=!1:(f.isValid||g.isValid)&&(Ds=await H(r,!0)));Qe&&(Ue._f.deps&&(!Array.isArray(Ue._f.deps)||Ue._f.deps.length>0)&&ke(Ue._f.deps),z(Ae,Ds,ss,wa))}},ae=(Z,xe)=>{if(dt(a.errors,xe)&&Z.focus)return Z.focus(),1},ke=async(Z,xe={})=>{let Ae,Qe;const Ue=Fh(Z);if(s.resolver){const Ve=await V(Ca(Z)?Z:Ue);Ae=fn(Ve),Qe=Z?!Ue.some(ut=>dt(Ve,ut)):Ae}else Z?(Qe=(await Promise.all(Ue.map(async Ve=>{const ut=dt(r,Ve);return await H(ut&&ut._f?{[Ve]:ut}:ut)}))).every(Boolean),!(!Qe&&!a.isValid)&&w()):Qe=Ae=await H(r);return b.state.next({...!li(Z)||(f.isValid||g.isValid)&&Ae!==a.isValid?{}:{name:Z},...s.resolver||!Z?{isValid:Ae}:{},errors:a.errors}),xe.shouldFocus&&!Qe&&Mh(r,ae,Z?Ue:c.mount),Qe},$=(Z,xe)=>{let Ae={...l.mount?i:n};return xe&&(Ae=O8(xe.dirtyFields?a.dirtyFields:a.touchedFields,Ae)),Ca(Z)?Ae:li(Z)?dt(Ae,Z):Z.map(Qe=>dt(Ae,Qe))},L=(Z,xe)=>({invalid:!!dt((xe||a).errors,Z),isDirty:!!dt((xe||a).dirtyFields,Z),error:dt((xe||a).errors,Z),isValidating:!!dt(a.validatingFields,Z),isTouched:!!dt((xe||a).touchedFields,Z)}),W=Z=>{Z&&Fh(Z).forEach(xe=>lr(a.errors,xe)),b.state.next({errors:Z?a.errors:{}})},re=(Z,xe,Ae)=>{const Qe=(dt(r,Z,{_f:{}})._f||{}).ref,Ue=dt(a.errors,Z)||{},{ref:Ve,message:ut,type:$t,...ss}=Ue;Ws(a.errors,Z,{...ss,...xe,ref:Qe}),b.state.next({name:Z,errors:a.errors,isValid:!1}),Ae&&Ae.shouldFocus&&Qe&&Qe.focus&&Qe.focus()},se=(Z,xe)=>vn(Z)?b.state.subscribe({next:Ae=>"values"in Ae&&Z(fe(void 0,xe),Ae)}):fe(Z,xe,!0),ge=Z=>b.state.subscribe({next:xe=>{wre(Z.name,xe.name,Z.exact)&&Nre(xe,Z.formState||f,cs,Z.reRenderRoot)&&Z.callback({values:{...i},...a,...xe,defaultValues:n})}}).unsubscribe,K=Z=>(l.mount=!0,g={...g,...Z.formState},ge({...Z,formState:{...x,...Z.formState}})),J=(Z,xe={})=>{for(const Ae of Z?Fh(Z):c.mount)c.mount.delete(Ae),c.array.delete(Ae),xe.keepValue||(lr(r,Ae),lr(i,Ae)),!xe.keepError&&lr(a.errors,Ae),!xe.keepDirty&&lr(a.dirtyFields,Ae),!xe.keepTouched&&lr(a.touchedFields,Ae),!xe.keepIsValidating&&lr(a.validatingFields,Ae),!s.shouldUnregister&&!xe.keepDefaultValue&&lr(n,Ae);b.state.next({values:ir(i)}),b.state.next({...a,...xe.keepDirty?{isDirty:q()}:{}}),!xe.keepIsValid&&w()},je=({disabled:Z,name:xe})=>{if(ai(Z)&&l.mount||Z||c.disabled.has(xe)){const Ue=c.disabled.has(xe)!==!!Z;Z?c.disabled.add(xe):c.disabled.delete(xe),Ue&&l.mount&&!l.action&&w()}},ze=(Z,xe={})=>{let Ae=dt(r,Z);const Qe=ai(xe.disabled)||ai(s.disabled);return Ws(r,Z,{...Ae||{},_f:{...Ae&&Ae._f?Ae._f:{ref:{name:Z}},name:Z,mount:!0,...xe}}),c.mount.add(Z),Ae?je({disabled:ai(xe.disabled)?xe.disabled:s.disabled,name:Z}):E(Z,!0,xe.value),{...Qe?{disabled:xe.disabled||s.disabled}:{},...s.progressive?{required:!!xe.required,min:oh(xe.min),max:oh(xe.max),minLength:oh(xe.minLength),maxLength:oh(xe.maxLength),pattern:oh(xe.pattern)}:{},name:Z,onChange:B,onBlur:B,ref:Ue=>{if(Ue){ze(Z,xe),Ae=dt(r,Z);const Ve=Ca(Ue.value)&&Ue.querySelectorAll&&Ue.querySelectorAll("input,select,textarea")[0]||Ue,ut=pre(Ve),$t=Ae._f.refs||[];if(ut?$t.find(ss=>ss===Ve):Ve===Ae._f.ref)return;Ws(r,Z,{_f:{...Ae._f,...ut?{refs:[...$t.filter(Oj),Ve,...Array.isArray(dt(n,Z))?[{}]:[]],ref:{type:Ve.type,name:Z}}:{ref:Ve}}}),E(Z,!1,void 0,Ve)}else Ae=dt(r,Z,{}),Ae._f&&(Ae._f.mount=!1),(s.shouldUnregister||xe.shouldUnregister)&&!(I8(c.array,Z)&&l.action)&&c.unMount.add(Z)}}},ft=()=>s.shouldFocusError&&Mh(r,ae,c.mount),Nt=Z=>{ai(Z)&&(b.state.next({disabled:Z}),Mh(r,(xe,Ae)=>{const Qe=dt(r,Ae);Qe&&(xe.disabled=Qe._f.disabled||Z,Array.isArray(Qe._f.refs)&&Qe._f.refs.forEach(Ue=>{Ue.disabled=Qe._f.disabled||Z}))},0,!1))},ht=(Z,xe)=>async Ae=>{let Qe;Ae&&(Ae.preventDefault&&Ae.preventDefault(),Ae.persist&&Ae.persist());let Ue=ir(i);if(b.state.next({isSubmitting:!0}),s.resolver){const{errors:Ve,values:ut}=await A();k(),a.errors=Ve,Ue=ir(ut)}else await H(r);if(c.disabled.size)for(const Ve of c.disabled)lr(Ue,Ve);if(lr(a.errors,"root"),fn(a.errors)){b.state.next({errors:{}});try{await Z(Ue,Ae)}catch(Ve){Qe=Ve}}else xe&&await xe({...a.errors},Ae),ft(),setTimeout(ft);if(b.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:fn(a.errors)&&!Qe,submitCount:a.submitCount+1,errors:a.errors}),Qe)throw Qe},Lt=(Z,xe={})=>{dt(r,Z)&&(Ca(xe.defaultValue)?ie(Z,ir(dt(n,Z))):(ie(Z,xe.defaultValue),Ws(n,Z,ir(xe.defaultValue))),xe.keepTouched||lr(a.touchedFields,Z),xe.keepDirty||(lr(a.dirtyFields,Z),a.isDirty=xe.defaultValue?q(Z,ir(dt(n,Z))):q()),xe.keepError||(lr(a.errors,Z),f.isValid&&w()),b.state.next({...a}))},gs=(Z,xe={})=>{const Ae=Z?ir(Z):n,Qe=ir(Ae),Ue=fn(Z),Ve=Ue?n:Qe;if(xe.keepDefaultValues||(n=Ae),!xe.keepValues){if(xe.keepDirtyValues){const ut=new Set([...c.mount,...Object.keys(fu(n,i))]);for(const $t of Array.from(ut)){const ss=dt(a.dirtyFields,$t),Ds=dt(i,$t),Hs=dt(Ve,$t);ss&&!Ca(Ds)?Ws(Ve,$t,Ds):!ss&&!Ca(Hs)&&ie($t,Hs)}}else{if(K1&&Ca(Z))for(const ut of c.mount){const $t=dt(r,ut);if($t&&$t._f){const ss=Array.isArray($t._f.refs)?$t._f.refs[0]:$t._f.ref;if($g(ss)){const Ds=ss.closest("form");if(Ds){Ds.reset();break}}}}if(xe.keepFieldsRef)for(const ut of c.mount)ie(ut,dt(Ve,ut));else r={}}i=s.shouldUnregister?xe.keepDefaultValues?ir(n):{}:ir(Ve),b.array.next({values:{...Ve}}),b.state.next({values:{...Ve}})}c={mount:xe.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!f.isValid||!!xe.keepIsValid||!!xe.keepDirtyValues||!s.shouldUnregister&&!fn(Ve),l.watch=!!s.shouldUnregister,l.keepIsValid=!!xe.keepIsValid,l.action=!1,xe.keepErrors||(a.errors={}),b.state.next({submitCount:xe.keepSubmitCount?a.submitCount:0,isDirty:Ue?!1:xe.keepDirty?a.isDirty:!!(xe.keepDefaultValues&&!Zi(Z,n)),isSubmitted:xe.keepIsSubmitted?a.isSubmitted:!1,dirtyFields:Ue?{}:xe.keepDirtyValues?xe.keepDefaultValues&&i?fu(n,i):a.dirtyFields:xe.keepDefaultValues&&Z?fu(n,Z):xe.keepDirty?a.dirtyFields:{},touchedFields:xe.keepTouched?a.touchedFields:{},errors:xe.keepErrors?a.errors:{},isSubmitSuccessful:xe.keepIsSubmitSuccessful?a.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:n})},ks=(Z,xe)=>gs(vn(Z)?Z(i):Z,{...s.resetOptions,...xe}),Ys=(Z,xe={})=>{const Ae=dt(r,Z),Qe=Ae&&Ae._f;if(Qe){const Ue=Qe.refs?Qe.refs[0]:Qe.ref;Ue.focus&&setTimeout(()=>{Ue.focus(),xe.shouldSelect&&vn(Ue.select)&&Ue.select()})}},cs=Z=>{a={...a,...Z}},at={control:{register:ze,unregister:J,getFieldState:L,handleSubmit:ht,setError:re,_subscribe:ge,_runSchema:A,_updateIsValidating:k,_focusError:ft,_getWatch:fe,_getDirty:q,_setValid:w,_setFieldArray:C,_setDisabledField:je,_setErrors:M,_getFieldArray:oe,_reset:gs,_resetDefaultValues:()=>vn(s.defaultValues)&&s.defaultValues().then(Z=>{ks(Z,s.resetOptions),b.state.next({isLoading:!1})}),_removeUnmounted:I,_disableForm:Nt,_subjects:b,_proxyFormState:f,get _fields(){return r},get _formValues(){return i},get _state(){return l},set _state(Z){l=Z},get _defaultValues(){return n},get _names(){return c},set _names(Z){c=Z},get _formState(){return a},get _options(){return s},set _options(Z){s={...s,...Z}}},subscribe:K,trigger:ke,register:ze,handleSubmit:ht,watch:se,setValue:ie,getValues:$,reset:ks,resetField:Lt,clearErrors:W,unregister:J,setError:re,setFocus:Ys,getFieldState:L};return{...at,formControl:at}}function H0(t={}){const s=st.useRef(void 0),a=st.useRef(void 0),[r,n]=st.useState({isDirty:!1,isValidating:!1,isLoading:vn(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:vn(t.defaultValues)?void 0:t.defaultValues});if(!s.current)if(t.formControl)s.current={...t.formControl,formState:r},t.defaultValues&&!vn(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:l,...c}=_re(t);s.current={...c,formState:r}}const i=s.current.control;return i._options=t,J1(()=>{const l=i._subscribe({formState:i._proxyFormState,callback:()=>n({...i._formState}),reRenderRoot:!0});return n(c=>({...c,isReady:!0})),i._formState.isReady=!0,l},[i]),st.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),st.useEffect(()=>{t.mode&&(i._options.mode=t.mode),t.reValidateMode&&(i._options.reValidateMode=t.reValidateMode)},[i,t.mode,t.reValidateMode]),st.useEffect(()=>{t.errors&&(i._setErrors(t.errors),i._focusError())},[i,t.errors]),st.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,t.shouldUnregister]),st.useEffect(()=>{if(i._proxyFormState.isDirty){const l=i._getDirty();l!==r.isDirty&&i._subjects.state.next({isDirty:l})}},[i,r.isDirty]),st.useEffect(()=>{var l;t.values&&!Zi(t.values,a.current)?(i._reset(t.values,{keepFieldsRef:!0,...i._options.resetOptions}),!((l=i._options.resetOptions)===null||l===void 0)&&l.keepIsValid||i._setValid(),a.current=t.values,n(c=>({...c}))):i._resetDefaultValues()},[i,t.values]),st.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),s.current.formState=st.useMemo(()=>R8(r,i),[i,r]),s.current}const r3=(t,s,a)=>{if(t&&"reportValidity"in t){const r=dt(a,s);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},q8=(t,s)=>{for(const a in s.fields){const r=s.fields[a];r&&r.ref&&"reportValidity"in r.ref?r3(r.ref,a,t):r.refs&&r.refs.forEach(n=>r3(n,a,t))}},Ere=(t,s)=>{s.shouldUseNativeValidation&&q8(t,s);const a={};for(const r in t){const n=dt(s.fields,r),i=Object.assign(t[r]||{},{ref:n&&n.ref});if(Pre(s.names||Object.keys(t),r)){const l=Object.assign({},dt(a,r));Ws(l,"root",i),Ws(a,r,l)}else Ws(a,r,i)}return a},Pre=(t,s)=>t.some(a=>a.startsWith(s+"."));var Are=function(t,s){for(var a={};t.length;){var r=t[0],n=r.code,i=r.message,l=r.path.join(".");if(!a[l])if("unionErrors"in r){var c=r.unionErrors[0].errors[0];a[l]={message:c.message,type:c.code}}else a[l]={message:i,type:n};if("unionErrors"in r&&r.unionErrors.forEach(function(x){return x.errors.forEach(function(f){return t.push(f)})}),s){var u=a[l].types,m=u&&u[r.code];a[l]=L8(l,s,a,n,m?[].concat(m,r.message):r.message)}t.shift()}return a},a2=function(t,s,a){return a===void 0&&(a={}),function(r,n,i){try{return Promise.resolve((function(l,c){try{var u=Promise.resolve(t[a.mode==="sync"?"parse":"parseAsync"](r,s)).then(function(m){return i.shouldUseNativeValidation&&q8({},i),{errors:{},values:a.raw?r:m}})}catch(m){return c(m)}return u&&u.then?u.then(void 0,c):u})(0,function(l){if((function(c){return Array.isArray(c?.errors)})(l))return{values:{},errors:Ere(Are(l.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw l}))}catch(l){return Promise.reject(l)}}};const W0=xre,H8=h.createContext({}),_s=({...t})=>e.jsx(H8.Provider,{value:{name:t.name},children:e.jsx(mre,{...t})}),G0=()=>{const t=h.useContext(H8),s=h.useContext(W8),{getFieldState:a,formState:r}=hre(),n=a(t.name,r);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:i}=s;return{id:i,name:t.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...n}},W8=h.createContext({}),Cs=h.forwardRef(({className:t,...s},a)=>{const r=h.useId();return e.jsx(W8.Provider,{value:{id:r},children:e.jsx("div",{ref:a,className:te("space-y-2",t),...s})})});Cs.displayName="FormItem";const Ss=h.forwardRef(({className:t,...s},a)=>{const{error:r,formItemId:n}=G0();return e.jsx(ye,{ref:a,className:te(r&&"text-destructive",t),htmlFor:n,...s})});Ss.displayName="FormLabel";const Es=h.forwardRef(({...t},s)=>{const{error:a,formItemId:r,formDescriptionId:n,formMessageId:i}=G0();return e.jsx(g0,{ref:s,id:r,"aria-describedby":a?`${n} ${i}`:`${n}`,"aria-invalid":!!a,...t})});Es.displayName="FormControl";const zg=h.forwardRef(({className:t,...s},a)=>{const{formDescriptionId:r}=G0();return e.jsx("p",{ref:a,id:r,className:te("text-sm text-muted-foreground",t),...s})});zg.displayName="FormDescription";const Ms=h.forwardRef(({className:t,children:s,...a},r)=>{const{error:n,formMessageId:i}=G0(),l=n?String(n?.message??""):s;return l?e.jsx("p",{ref:r,id:i,className:te("text-sm font-medium text-destructive",t),...a,children:l}):null});Ms.displayName="FormMessage";const xf=[{id:"photography",label:"Photography",icon:Rs},{id:"catering",label:"Catering",icon:Ns},{id:"music",label:"Music & DJ",icon:ei},{id:"transportation",label:"Transportation",icon:zs},{id:"venue",label:"Venues",icon:Td},{id:"decor",label:"Decor & Flowers",icon:qe},{id:"wedding",label:"Wedding Services",icon:Qt},{id:"coordination",label:"Event Coordination",icon:et}],Dre=bn({name:jt().min(1,"Name is required"),category:jt().min(1,"Category is required"),description:jt().optional(),city:jt().optional(),country:jt().optional(),email:jt().email("Invalid email").optional().or(lx("")),phone:jt().optional(),website:jt().optional(),priceRange:jt().optional()});function Fre(){const[,t]=La(),[s,a]=h.useState(""),[r,n]=h.useState("all"),[i,l]=h.useState("grid"),[c,u]=h.useState(!1),{data:m=[],isLoading:x}=Le({queryKey:["/api/vendors"]}),f=H0({resolver:a2(Dre),defaultValues:{name:"",category:"",description:"",city:"",country:"",email:"",phone:"",website:"",priceRange:"moderate"}}),g=Ot({mutationFn:async w=>(await Ft("POST","/api/vendors",w)).json(),onSuccess:()=>{_t.invalidateQueries({queryKey:["/api/vendors"]}),u(!1),f.reset()}}),b=m.filter(w=>{const k=w.name.toLowerCase().includes(s.toLowerCase())||w.description?.toLowerCase().includes(s.toLowerCase())||w.city?.toLowerCase().includes(s.toLowerCase()),C=r==="all"||w.category===r;return k&&C}),v=w=>xf.find(C=>C.id===w)?.icon||va,y=w=>{g.mutate(w)};return e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:e.jsxs("div",{className:"container mx-auto px-4 py-6 max-w-7xl",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs(S,{variant:"ghost",onClick:()=>t("/dashboard"),className:"mb-4 text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white","data-testid":"button-back-dashboard",children:[e.jsx(la,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]}),e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-primary rounded-lg",children:e.jsx(va,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 dark:text-white",children:"Vendor Directory"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Find and manage trusted service providers"})]})]}),e.jsxs(rn,{open:c,onOpenChange:u,children:[e.jsx(qx,{asChild:!0,children:e.jsxs(S,{"data-testid":"button-add-vendor",children:[e.jsx(ps,{className:"w-4 h-4 mr-2"}),"Add Vendor"]})}),e.jsxs(zr,{className:"max-w-lg",children:[e.jsxs(Vr,{children:[e.jsx(Ur,{children:"Add New Vendor"}),e.jsx(nn,{children:"Add a trusted service provider to your directory"})]}),e.jsx(W0,{...f,children:e.jsxs("form",{onSubmit:f.handleSubmit(y),className:"space-y-4",children:[e.jsx(_s,{control:f.control,name:"name",render:({field:w})=>e.jsxs(Cs,{children:[e.jsx(Ss,{children:"Vendor Name"}),e.jsx(Es,{children:e.jsx(Ne,{placeholder:"e.g., Dream Photography",...w,"data-testid":"input-vendor-name"})}),e.jsx(Ms,{})]})}),e.jsx(_s,{control:f.control,name:"category",render:({field:w})=>e.jsxs(Cs,{children:[e.jsx(Ss,{children:"Category"}),e.jsxs(Wt,{onValueChange:w.onChange,defaultValue:w.value,children:[e.jsx(Es,{children:e.jsx(Vt,{"data-testid":"select-vendor-category",children:e.jsx(Gt,{placeholder:"Select a category"})})}),e.jsx(Ut,{children:xf.map(k=>e.jsx(Pe,{value:k.id,children:k.label},k.id))})]}),e.jsx(Ms,{})]})}),e.jsx(_s,{control:f.control,name:"description",render:({field:w})=>e.jsxs(Cs,{children:[e.jsx(Ss,{children:"Description"}),e.jsx(Es,{children:e.jsx(Ks,{placeholder:"Brief description of services...",...w,"data-testid":"input-vendor-description"})}),e.jsx(Ms,{})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(_s,{control:f.control,name:"city",render:({field:w})=>e.jsxs(Cs,{children:[e.jsx(Ss,{children:"City"}),e.jsx(Es,{children:e.jsx(Ne,{placeholder:"Paris",...w,"data-testid":"input-vendor-city"})}),e.jsx(Ms,{})]})}),e.jsx(_s,{control:f.control,name:"country",render:({field:w})=>e.jsxs(Cs,{children:[e.jsx(Ss,{children:"Country"}),e.jsx(Es,{children:e.jsx(Ne,{placeholder:"France",...w,"data-testid":"input-vendor-country"})}),e.jsx(Ms,{})]})})]}),e.jsx(_s,{control:f.control,name:"priceRange",render:({field:w})=>e.jsxs(Cs,{children:[e.jsx(Ss,{children:"Price Range"}),e.jsxs(Wt,{onValueChange:w.onChange,defaultValue:w.value,children:[e.jsx(Es,{children:e.jsx(Vt,{"data-testid":"select-vendor-price",children:e.jsx(Gt,{placeholder:"Select range"})})}),e.jsxs(Ut,{children:[e.jsx(Pe,{value:"budget",children:"Budget"}),e.jsx(Pe,{value:"moderate",children:"Moderate"}),e.jsx(Pe,{value:"premium",children:"Premium"}),e.jsx(Pe,{value:"luxury",children:"Luxury"})]})]}),e.jsx(Ms,{})]})}),e.jsx(_s,{control:f.control,name:"email",render:({field:w})=>e.jsxs(Cs,{children:[e.jsx(Ss,{children:"Email"}),e.jsx(Es,{children:e.jsx(Ne,{type:"email",placeholder:"vendor@example.com",...w,"data-testid":"input-vendor-email"})}),e.jsx(Ms,{})]})}),e.jsx(_s,{control:f.control,name:"phone",render:({field:w})=>e.jsxs(Cs,{children:[e.jsx(Ss,{children:"Phone"}),e.jsx(Es,{children:e.jsx(Ne,{placeholder:"+1 (555) 000-0000",...w,"data-testid":"input-vendor-phone"})}),e.jsx(Ms,{})]})}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx(S,{type:"button",variant:"outline",onClick:()=>u(!1),children:"Cancel"}),e.jsx(S,{type:"submit",disabled:g.isPending,"data-testid":"button-submit-vendor",children:g.isPending?e.jsxs(e.Fragment,{children:[e.jsx(ot,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):"Add Vendor"})]})]})})]})]})]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(ws,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-600 dark:text-gray-400"}),e.jsx(Ne,{placeholder:"Search vendors...",value:s,onChange:w=>a(w.target.value),className:"pl-10","data-testid":"input-search-vendors"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(Wt,{value:r,onValueChange:n,children:[e.jsxs(Vt,{className:"w-[180px]","data-testid":"select-filter-category",children:[e.jsx(Di,{className:"w-4 h-4 mr-2"}),e.jsx(Gt,{placeholder:"Category"})]}),e.jsxs(Ut,{children:[e.jsx(Pe,{value:"all",children:"All Categories"}),xf.map(w=>e.jsx(Pe,{value:w.id,children:w.label},w.id))]})]}),e.jsxs("div",{className:"flex border rounded-md",children:[e.jsx(S,{variant:i==="grid"?"secondary":"ghost",size:"icon",onClick:()=>l("grid"),"data-testid":"button-view-grid",children:e.jsx(T_,{className:"w-4 h-4"})}),e.jsx(S,{variant:i==="list"?"secondary":"ghost",size:"icon",onClick:()=>l("list"),"data-testid":"button-view-list",children:e.jsx(lw,{className:"w-4 h-4"})})]})]})]}),e.jsx(Ha,{className:"flex-1 px-1",children:x?e.jsx("div",{className:"flex items-center justify-center py-16",children:e.jsx(ot,{className:"w-8 h-8 animate-spin text-gray-600 dark:text-gray-400"})}):b.length===0?e.jsx(P,{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700",children:e.jsxs(F,{className:"flex flex-col items-center justify-center py-16",children:[e.jsx(va,{className:"w-16 h-16 text-gray-600 dark:text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No vendors found"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-center max-w-md mb-6",children:s||r!=="all"?"Try adjusting your search or filters":"Add your first vendor to get started"}),e.jsxs(S,{onClick:()=>u(!0),"data-testid":"button-add-vendor-empty",children:[e.jsx(ps,{className:"w-4 h-4 mr-2"}),"Add Vendor"]})]})}):i==="grid"?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:b.map(w=>{const k=v(w.category);return e.jsxs(P,{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700","data-testid":`card-vendor-${w.id}`,children:[e.jsxs(Q,{className:"pb-3",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:e.jsx(k,{className:"w-5 h-5 text-primary"})}),e.jsx(O,{variant:"secondary",className:"capitalize",children:w.priceRange||"moderate"})]}),e.jsx(X,{className:"text-lg mt-2",children:w.name}),e.jsx(Tt,{className:"line-clamp-2",children:w.description||"No description available"})]}),e.jsxs(F,{className:"space-y-2",children:[(w.city||w.country)&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[e.jsx(Me,{className:"w-4 h-4"}),[w.city,w.country].filter(Boolean).join(", ")]}),w.email&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[e.jsx(qn,{className:"w-4 h-4"}),w.email]}),w.phone&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[e.jsx($l,{className:"w-4 h-4"}),w.phone]}),w.rating&&e.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[e.jsx(rt,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),e.jsx("span",{className:"font-medium",children:w.rating})]})]})]},w.id)})}):e.jsx("div",{className:"space-y-3",children:b.map(w=>{const k=v(w.category);return e.jsx(P,{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700","data-testid":`card-vendor-${w.id}`,children:e.jsx(F,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-primary/10 rounded-lg",children:e.jsx(k,{className:"w-6 h-6 text-primary"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:w.name}),e.jsx(O,{variant:"secondary",className:"capitalize",children:w.priceRange||"moderate"})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 truncate",children:w.description||"No description available"})]}),e.jsxs("div",{className:"hidden md:flex items-center gap-6 text-sm text-gray-600 dark:text-gray-400",children:[(w.city||w.country)&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Me,{className:"w-4 h-4"}),[w.city,w.country].filter(Boolean).join(", ")]}),w.rating&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(rt,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),w.rating]})]}),e.jsx(S,{variant:"outline",size:"sm","data-testid":`button-contact-vendor-${w.id}`,children:"Contact"})]})})},w.id)})})}),e.jsx("div",{className:"mt-6 grid grid-cols-2 md:grid-cols-4 gap-3",children:xf.slice(0,4).map(w=>{const k=m.filter(C=>C.category===w.id).length;return e.jsx(P,{className:te("cursor-pointer transition-all bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700",r===w.id&&"ring-2 ring-primary"),onClick:()=>n(w.id===r?"all":w.id),"data-testid":`card-category-${w.id}`,children:e.jsxs(F,{className:"p-4 flex items-center gap-3",children:[e.jsx(w.icon,{className:"w-5 h-5 text-primary"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:w.label}),e.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:[k," vendors"]})]})]})},w.id)})})]})})}function Mre(){const[,t]=La(),{data:s=[],isLoading:a}=Le({queryKey:["/api/trips"]}),r={total:s.length,active:s.filter(u=>u.status==="planning"||u.status==="confirmed").length,completed:s.filter(u=>u.status==="completed").length,draft:s.filter(u=>u.status==="draft").length},n=s.filter(u=>u.startDate&&new Date(u.startDate)>new Date).sort((u,m)=>new Date(u.startDate).getTime()-new Date(m.startDate).getTime()).slice(0,5),i=s.sort((u,m)=>new Date(m.createdAt).getTime()-new Date(u.createdAt).getTime()).slice(0,5),l=u=>{switch(u){case"planning":case"confirmed":return"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400";case"completed":return"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400";case"draft":return"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400";case"cancelled":return"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400";default:return"bg-gray-100 text-gray-700 dark:bg-gray-900/30 dark:text-gray-400"}},c=u=>{switch(u){case"wedding":case"honeymoon":case"proposal":case"anniversary":return Qt;case"corporate":return Ta;default:return Pt}};return e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:e.jsxs("div",{className:"container mx-auto px-4 py-6 max-w-7xl",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs(S,{variant:"ghost",onClick:()=>t("/dashboard"),className:"mb-4 text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white","data-testid":"button-back-dashboard",children:[e.jsx(la,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-primary rounded-lg",children:e.jsx(hi,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 dark:text-white",children:"Executive Assistant"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage and oversee all travel operations"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[e.jsx(P,{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700","data-testid":"card-stat-total",children:e.jsx(F,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:e.jsx(Pt,{className:"w-5 h-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r.total}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Total Trips"})]})]})})}),e.jsx(P,{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700","data-testid":"card-stat-active",children:e.jsx(F,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:e.jsx(Xt,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r.active}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Active Trips"})]})]})})}),e.jsx(P,{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700","data-testid":"card-stat-completed",children:e.jsx(F,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:e.jsx(Fa,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r.completed}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Completed"})]})]})})}),e.jsx(P,{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700","data-testid":"card-stat-draft",children:e.jsx(F,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-yellow-100 dark:bg-yellow-900/30 rounded-lg",children:e.jsx(Je,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r.draft}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Drafts"})]})]})})})]}),e.jsxs(Na,{defaultValue:"upcoming",className:"space-y-4",children:[e.jsxs(ca,{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700",children:[e.jsxs(it,{value:"upcoming","data-testid":"tab-upcoming",children:[e.jsx(Ge,{className:"w-4 h-4 mr-2"}),"Upcoming"]}),e.jsxs(it,{value:"recent","data-testid":"tab-recent",children:[e.jsx(Je,{className:"w-4 h-4 mr-2"}),"Recent"]}),e.jsxs(it,{value:"all","data-testid":"tab-all",children:[e.jsx(Pt,{className:"w-4 h-4 mr-2"}),"All Trips"]})]}),e.jsx(xt,{value:"upcoming",children:e.jsxs(P,{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700",children:[e.jsxs(Q,{children:[e.jsx(X,{className:"text-lg",children:"Upcoming Trips"}),e.jsx(Tt,{children:"Trips scheduled for the future"})]}),e.jsx(F,{children:a?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(ot,{className:"w-8 h-8 animate-spin text-gray-600 dark:text-gray-400"})}):n.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ge,{className:"w-12 h-12 mx-auto text-gray-600 dark:text-gray-400 mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No upcoming trips scheduled"})]}):e.jsx("div",{className:"space-y-3",children:n.map(u=>{const m=c(u.eventType);return e.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-lg border bg-card cursor-pointer transition-all",onClick:()=>t(`/trip/${u.id}`),"data-testid":`card-trip-${u.id}`,children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:e.jsx(m,{className:"w-5 h-5 text-primary"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold truncate",children:u.title}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[e.jsx(Me,{className:"w-3 h-3"}),e.jsx("span",{children:u.destination})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm font-medium",children:u.startDate?new Date(u.startDate).toLocaleDateString():"No date"}),e.jsx(O,{className:te("mt-1",l(u.status)),children:u.status||"draft"})]})]},u.id)})})})]})}),e.jsx(xt,{value:"recent",children:e.jsxs(P,{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700",children:[e.jsxs(Q,{children:[e.jsx(X,{className:"text-lg",children:"Recently Created"}),e.jsx(Tt,{children:"Latest trips added to the system"})]}),e.jsx(F,{children:a?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(ot,{className:"w-8 h-8 animate-spin text-gray-600 dark:text-gray-400"})}):i.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Pt,{className:"w-12 h-12 mx-auto text-gray-600 dark:text-gray-400 mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No trips created yet"})]}):e.jsx("div",{className:"space-y-3",children:i.map(u=>{const m=c(u.eventType);return e.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-lg border bg-card cursor-pointer transition-all",onClick:()=>t(`/trip/${u.id}`),"data-testid":`card-trip-${u.id}`,children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:e.jsx(m,{className:"w-5 h-5 text-primary"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold truncate",children:u.title}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[e.jsx(Me,{className:"w-3 h-3"}),e.jsx("span",{children:u.destination})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:["Created ",u.createdAt?new Date(u.createdAt).toLocaleDateString():""]}),e.jsx(O,{className:te("mt-1",l(u.status)),children:u.status||"draft"})]})]},u.id)})})})]})}),e.jsx(xt,{value:"all",children:e.jsxs(P,{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700",children:[e.jsxs(Q,{children:[e.jsx(X,{className:"text-lg",children:"All Trips"}),e.jsx(Tt,{children:"Complete overview of all trips"})]}),e.jsx(F,{children:e.jsx(Ha,{className:"h-[400px]",children:a?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(ot,{className:"w-8 h-8 animate-spin text-gray-600 dark:text-gray-400"})}):s.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Pt,{className:"w-12 h-12 mx-auto text-gray-600 dark:text-gray-400 mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No trips available"})]}):e.jsx("div",{className:"space-y-3 pr-4",children:s.map(u=>{const m=c(u.eventType);return e.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-lg border bg-card cursor-pointer transition-all",onClick:()=>t(`/trip/${u.id}`),"data-testid":`card-trip-${u.id}`,children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:e.jsx(m,{className:"w-5 h-5 text-primary"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"font-semibold truncate",children:u.title}),u.eventType&&e.jsx(O,{variant:"outline",className:"text-xs capitalize",children:u.eventType})]}),e.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600 dark:text-gray-400",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Me,{className:"w-3 h-3"}),e.jsx("span",{children:u.destination})]}),u.numberOfTravelers&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(et,{className:"w-3 h-3"}),e.jsx("span",{children:u.numberOfTravelers})]})]})]}),e.jsxs("div",{className:"text-right",children:[u.startDate&&e.jsx("p",{className:"text-sm font-medium",children:new Date(u.startDate).toLocaleDateString()}),e.jsx(O,{className:te("mt-1",l(u.status)),children:u.status||"draft"})]})]},u.id)})})})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-6",children:[e.jsxs(P,{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700",children:[e.jsx(Q,{children:e.jsxs(X,{className:"text-lg flex items-center gap-2",children:[e.jsx(Vs,{className:"w-5 h-5 text-primary"}),"Quick Actions"]})}),e.jsxs(F,{className:"space-y-3",children:[e.jsxs(S,{className:"w-full justify-start",variant:"outline",onClick:()=>t("/experiences"),"data-testid":"button-quick-new-trip",children:[e.jsx(Pt,{className:"w-4 h-4 mr-2"}),"Plan Experience"]}),e.jsxs(S,{className:"w-full justify-start",variant:"outline",onClick:()=>t("/ai-assistant"),"data-testid":"button-quick-ai-assistant",children:[e.jsx(rt,{className:"w-4 h-4 mr-2"}),"Open AI Assistant"]}),e.jsxs(S,{className:"w-full justify-start",variant:"outline",onClick:()=>t("/vendors"),"data-testid":"button-quick-vendors",children:[e.jsx(Ta,{className:"w-4 h-4 mr-2"}),"Manage Vendors"]})]})]}),e.jsxs(P,{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700",children:[e.jsx(Q,{children:e.jsxs(X,{className:"text-lg flex items-center gap-2",children:[e.jsx(ns,{className:"w-5 h-5 text-primary"}),"Alerts & Notifications"]})}),e.jsx(F,{children:r.draft>0?e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-yellow-50 dark:bg-yellow-900/20",children:[e.jsx(Je,{className:"w-5 h-5 text-yellow-600"}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-medium",children:[r.draft," draft trip(s)"]}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Awaiting completion"})]})]})}):e.jsxs("div",{className:"text-center py-6 text-gray-600 dark:text-gray-400",children:[e.jsx(Fa,{className:"w-12 h-12 mx-auto mb-2 text-green-500"}),e.jsx("p",{children:"All trips are up to date"})]})})]})]})]})})}const Ire=[{number:"01",title:"Tell Us Your Plans",description:"Share your travel dreams, preferences, and requirements. Whether it's a romantic getaway, adventure trip, or corporate retreat, we'll customize everything to your needs.",icon:Sd,color:"bg-blue-500",features:["Choose your event type (Travel, Wedding, Proposal, etc.)","Set your destination and dates","Define your budget and preferences","Select your planning approach"]},{number:"02",title:"Get Matched & Plan",description:"Our AI analyzes thousands of options to create the perfect itinerary, or we connect you with a local expert who knows your destination inside out.",icon:wn,color:"bg-primary",features:["AI-generated personalized itineraries","Expert recommendations and insider tips","Real-time collaboration on your plan","Flexible adjustments anytime"]},{number:"03",title:"Enjoy Your Experience",description:"Travel with confidence knowing every detail is handled. From bookings to local recommendations, we're with you every step of the way.",icon:ya,color:"bg-green-500",features:["All bookings managed in one place","24/7 support during your trip","Real-time updates and notifications","Post-trip memories and reviews"]}],Rre=[{title:"AI-Powered Planning",description:"Let our advanced AI create personalized itineraries based on your preferences, budget, and travel style.",icon:qe,price:"Free - 5 Credits",features:["Instant itinerary generation","Budget optimization","Multi-destination support","24/7 AI assistance"]},{title:"Hybrid AI + Expert",description:"Combine AI efficiency with human expertise. Get AI suggestions refined by local travel experts.",icon:et,price:"10 - 25 Credits",features:["AI-generated base plan","Expert review and refinement","Insider local tips","Priority support"]},{title:"Expert-Led Planning",description:"Work directly with a certified local expert who crafts every detail of your trip personally.",icon:Vs,price:"25 - 50 Credits",features:["Dedicated travel expert","Fully customized experience","Real-time chat support","Concierge-level service"]}];function Lre(){return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("section",{className:"py-16 md:py-24 bg-gradient-to-br from-orange-50 via-white to-pink-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:e.jsx("div",{className:"container mx-auto px-4 text-center",children:e.jsxs(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-[#111827] dark:text-white mb-6",children:"How Traveloure Works"}),e.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto mb-8",children:"From dream to destination in three simple steps. Our AI-powered platform and expert network make travel planning effortless."}),e.jsx("a",{href:"/api/login",children:e.jsxs(S,{size:"lg","data-testid":"button-get-started",children:["Get Started ",e.jsx(Kt,{className:"w-4 h-4 ml-2"})]})})]})})}),e.jsx("section",{className:"py-16 md:py-24",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsx("div",{className:"space-y-16 md:space-y-24",children:Ire.map((t,s)=>e.jsxs(He.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:s*.1},className:`grid md:grid-cols-2 gap-8 md:gap-16 items-center ${s%2===1?"md:flex-row-reverse":""}`,"data-testid":`section-step-${t.number}`,children:[e.jsxs("div",{className:s%2===1?"md:order-2":"",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("span",{className:"text-6xl font-bold text-muted-foreground/20","data-testid":`text-step-number-${t.number}`,children:t.number}),e.jsx("div",{className:`w-14 h-14 rounded-xl ${t.color} flex items-center justify-center`,children:e.jsx(t.icon,{className:"w-7 h-7 text-white"})})]}),e.jsx("h2",{className:"text-3xl font-bold text-[#111827] dark:text-white mb-4","data-testid":`text-step-title-${t.number}`,children:t.title}),e.jsx("p",{className:"text-lg text-muted-foreground mb-6",children:t.description}),e.jsx("ul",{className:"space-y-3",children:t.features.map((a,r)=>e.jsxs("li",{className:"flex items-start gap-3","data-testid":`text-step-feature-${t.number}-${r}`,children:[e.jsx(rs,{className:"w-5 h-5 text-green-500 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-muted-foreground",children:a})]},r))})]}),e.jsx("div",{className:`${s%2===1?"md:order-1":""}`,children:e.jsx("div",{className:"aspect-video rounded-2xl bg-gradient-to-br from-muted to-muted/50 flex items-center justify-center","data-testid":`img-step-placeholder-${t.number}`,children:e.jsx(t.icon,{className:"w-24 h-24 text-muted-foreground/30"})})})]},t.number))})})}),e.jsx("section",{className:"py-16 md:py-24 bg-muted/30",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-[#111827] dark:text-white mb-4",children:"Choose Your Planning Style"}),e.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Whether you prefer AI efficiency, expert guidance, or a combination of both, we have the perfect option for you."})]}),e.jsx("div",{className:"grid md:grid-cols-3 gap-6 max-w-5xl mx-auto",children:Rre.map((t,s)=>e.jsx(He.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:s*.1},children:e.jsx(P,{className:"h-full","data-testid":`card-planning-option-${s}`,children:e.jsxs(F,{className:"p-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-primary/10 flex items-center justify-center mb-4",children:e.jsx(t.icon,{className:"w-6 h-6 text-primary"})}),e.jsx("h3",{className:"text-xl font-semibold text-[#111827] dark:text-white mb-2",children:t.title}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:t.description}),e.jsx("p",{className:"text-lg font-bold text-primary mb-4",children:t.price}),e.jsx("ul",{className:"space-y-2",children:t.features.map((a,r)=>e.jsxs("li",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(rs,{className:"w-4 h-4 text-green-500"}),a]},r))})]})})},t.title))})]})}),e.jsx("section",{className:"py-16 md:py-24 bg-primary text-white",children:e.jsx("div",{className:"container mx-auto px-4 text-center",children:e.jsxs(He.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:"Ready to Start Planning?"}),e.jsx("p",{className:"text-lg text-white/80 max-w-2xl mx-auto mb-8",children:"Join thousands of travelers who have discovered the joy of effortless trip planning."}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[e.jsx("a",{href:"/api/login",children:e.jsxs(S,{size:"lg",variant:"secondary","data-testid":"button-create-trip-cta",children:["Create Your First Trip ",e.jsx(Kt,{className:"w-4 h-4 ml-2"})]})}),e.jsx(Ce,{href:"/experts",children:e.jsx(S,{size:"lg",variant:"outline",className:"border-white text-white hover:bg-white/10","data-testid":"button-browse-experts",children:"Browse Experts"})})]})]})})})]})}const Ore=[{credits:10,price:9.99,bonus:0,popular:!1},{credits:25,price:19.99,bonus:5,popular:!1},{credits:50,price:34.99,bonus:15,popular:!0},{credits:100,price:59.99,bonus:40,popular:!1},{credits:250,price:129.99,bonus:125,popular:!1}],$re=[{name:"Free",price:"$0",period:"forever",description:"Perfect for trying out Traveloure",icon:qe,features:["5 free credits on signup","AI-powered trip planning","Basic itinerary generation","Community support","Save up to 3 trips"],limitations:["Limited expert access","Basic customization"],cta:"Get Started",variant:"outline"},{name:"Pro",price:"$14.99",period:"/month",description:"For frequent travelers who want more",icon:et,popular:!0,features:["25 credits per month","Priority AI processing","Unlimited trip saves","Expert chat access","Advanced itinerary features","Priority support","Trip collaboration tools"],cta:"Upgrade to Pro",variant:"default"},{name:"Enterprise",price:"Custom",period:"",description:"For travel agencies and large teams",icon:tw,features:["Unlimited credits","Dedicated account manager","Custom integrations","Team management","White-label options","API access","SLA guarantees","Priority everything"],cta:"Contact Sales",variant:"outline"}],Bre=[{id:"ai-planning",feature:"AI Trip Planning",free:!0,pro:!0,enterprise:!0},{id:"itinerary",feature:"Itinerary Generation",free:"Basic",pro:"Advanced",enterprise:"Advanced"},{id:"expert-chat",feature:"Expert Chat",free:"Limited",pro:"Unlimited",enterprise:"Unlimited"},{id:"trip-saves",feature:"Trip Saves",free:"3",pro:"Unlimited",enterprise:"Unlimited"},{id:"credits",feature:"Monthly Credits",free:"5 one-time",pro:"25/month",enterprise:"Unlimited"},{id:"support",feature:"Support",free:"Community",pro:"Priority",enterprise:"Dedicated"},{id:"collaboration",feature:"Collaboration",free:!1,pro:!0,enterprise:!0},{id:"api",feature:"API Access",free:!1,pro:!1,enterprise:!0},{id:"integrations",feature:"Custom Integrations",free:!1,pro:!1,enterprise:!0}];function zre(){return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("section",{className:"py-16 md:py-24 bg-gradient-to-br from-orange-50 via-white to-pink-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:e.jsx("div",{className:"container mx-auto px-4 text-center",children:e.jsxs(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-[#111827] dark:text-white mb-6",children:"Simple, Transparent Pricing"}),e.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Choose the plan that fits your travel style. Start free and upgrade as you grow."})]})})}),e.jsx("section",{className:"py-16 md:py-24",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsx("div",{className:"grid md:grid-cols-3 gap-8 max-w-5xl mx-auto",children:$re.map((t,s)=>e.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:s*.1},children:e.jsxs(P,{className:`h-full relative ${t.popular?"border-primary shadow-lg":""}`,"data-testid":`card-plan-${t.name.toLowerCase()}`,children:[t.popular&&e.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2",children:e.jsx(O,{className:"bg-primary text-white",children:"Most Popular"})}),e.jsxs(Q,{className:"text-center pb-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-primary/10 flex items-center justify-center mx-auto mb-4",children:e.jsx(t.icon,{className:"w-6 h-6 text-primary"})}),e.jsx(X,{className:"text-2xl",children:t.name}),e.jsxs("div",{className:"mt-4",children:[e.jsx("span",{className:"text-4xl font-bold text-[#111827] dark:text-white",children:t.price}),e.jsx("span",{className:"text-muted-foreground",children:t.period})]}),e.jsx(Tt,{className:"mt-2",children:t.description})]}),e.jsxs(F,{className:"space-y-4",children:[e.jsxs("ul",{className:"space-y-3",children:[t.features.map((a,r)=>e.jsxs("li",{className:"flex items-start gap-3",children:[e.jsx(rs,{className:"w-5 h-5 text-green-500 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:a})]},r)),t.limitations?.map((a,r)=>e.jsxs("li",{className:"flex items-start gap-3 opacity-50",children:[e.jsx(rs,{className:"w-5 h-5 text-muted-foreground mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:a})]},`lim-${r}`))]}),e.jsx("a",{href:"/api/login",children:e.jsx(S,{variant:t.variant,className:"w-full mt-6","data-testid":`button-plan-${t.name.toLowerCase()}`,children:t.cta})})]})]})},t.name))})})}),e.jsx("section",{className:"py-16 md:py-24 bg-muted/30",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-[#111827] dark:text-white mb-4",children:"Buy Credits"}),e.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Need more credits? Purchase additional credits anytime. Bigger packages come with bonus credits!"})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 max-w-4xl mx-auto",children:Ore.map((t,s)=>e.jsx(He.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{delay:s*.05},children:e.jsxs(P,{className:`text-center relative cursor-pointer hover-elevate ${t.popular?"border-primary":""}`,"data-testid":`card-credits-${t.credits}`,children:[t.popular&&e.jsx("div",{className:"absolute -top-2 left-1/2 -translate-x-1/2",children:e.jsx(O,{variant:"secondary",className:"text-xs",children:"Best Value"})}),e.jsxs(F,{className:"p-4 pt-6",children:[e.jsx("div",{className:"text-3xl font-bold text-primary mb-1",children:t.credits}),e.jsx("div",{className:"text-sm text-muted-foreground mb-2",children:"credits"}),t.bonus>0&&e.jsxs(O,{variant:"outline",className:"text-xs mb-2",children:["+",t.bonus," bonus"]}),e.jsxs("div",{className:"text-xl font-semibold text-[#111827] dark:text-white",children:["$",t.price]})]})]})},t.credits))})]})}),e.jsx("section",{className:"py-16 md:py-24",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-[#111827] dark:text-white mb-4",children:"Compare Plans"}),e.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"See what's included in each plan"})]}),e.jsx("div",{className:"max-w-4xl mx-auto overflow-x-auto",children:e.jsxs("table",{className:"w-full","data-testid":"table-feature-comparison",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left py-4 px-4 font-medium text-muted-foreground",children:"Feature"}),e.jsx("th",{className:"text-center py-4 px-4 font-medium",children:"Free"}),e.jsx("th",{className:"text-center py-4 px-4 font-medium text-primary",children:"Pro"}),e.jsx("th",{className:"text-center py-4 px-4 font-medium",children:"Enterprise"})]})}),e.jsx("tbody",{children:Bre.map(t=>e.jsxs("tr",{className:"border-b","data-testid":`row-feature-${t.id}`,children:[e.jsx("td",{className:"py-4 px-4 text-sm","data-testid":`text-feature-${t.id}`,children:t.feature}),e.jsx("td",{className:"py-4 px-4 text-center",children:typeof t.free=="boolean"?t.free?e.jsx(rs,{className:"w-5 h-5 text-green-500 mx-auto"}):e.jsx("span",{className:"text-muted-foreground",children:"-"}):e.jsx("span",{className:"text-sm text-muted-foreground",children:t.free})}),e.jsx("td",{className:"py-4 px-4 text-center bg-primary/5",children:typeof t.pro=="boolean"?t.pro?e.jsx(rs,{className:"w-5 h-5 text-green-500 mx-auto"}):e.jsx("span",{className:"text-muted-foreground",children:"-"}):e.jsx("span",{className:"text-sm font-medium",children:t.pro})}),e.jsx("td",{className:"py-4 px-4 text-center",children:typeof t.enterprise=="boolean"?t.enterprise?e.jsx(rs,{className:"w-5 h-5 text-green-500 mx-auto"}):e.jsx("span",{className:"text-muted-foreground",children:"-"}):e.jsx("span",{className:"text-sm text-muted-foreground",children:t.enterprise})})]},t.id))})]})})]})}),e.jsx("section",{className:"py-16 md:py-24 bg-muted/30",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsx("div",{className:"text-center mb-12",children:e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-[#111827] dark:text-white mb-4",children:"Frequently Asked Questions"})}),e.jsx("div",{className:"max-w-3xl mx-auto space-y-6",children:[{q:"What are credits and how do they work?",a:"Credits are the currency used on Traveloure. You spend credits to access features like AI trip planning, expert consultations, and premium services. Different features cost different amounts of credits."},{q:"Can I upgrade or downgrade my plan anytime?",a:"Yes! You can upgrade or downgrade your plan at any time. When upgrading, you'll get immediate access to new features. When downgrading, changes take effect at the end of your billing period."},{q:"Do unused credits roll over?",a:"For Pro subscribers, unused monthly credits roll over for up to 3 months. Purchased credit packages never expire."},{q:"Is there a refund policy?",a:"We offer a 14-day money-back guarantee for all paid plans. If you're not satisfied, contact our support team for a full refund."}].map((t,s)=>e.jsx(P,{"data-testid":`card-faq-${s}`,children:e.jsxs(F,{className:"p-6",children:[e.jsxs("h3",{className:"font-semibold text-[#111827] dark:text-white mb-2 flex items-center gap-2",children:[e.jsx(xi,{className:"w-5 h-5 text-primary"}),t.q]}),e.jsx("p",{className:"text-muted-foreground text-sm pl-7",children:t.a})]})},s))})]})}),e.jsx("section",{className:"py-16 md:py-24 bg-primary text-white",children:e.jsx("div",{className:"container mx-auto px-4 text-center",children:e.jsxs(He.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:"Start Planning for Free"}),e.jsx("p",{className:"text-lg text-white/80 max-w-2xl mx-auto mb-8",children:"Get 5 free credits when you sign up. No credit card required."}),e.jsx("a",{href:"/api/login",children:e.jsxs(S,{size:"lg",variant:"secondary","data-testid":"button-get-started-free",children:["Get Started Free ",e.jsx(Kt,{className:"w-4 h-4 ml-2"})]})})]})})})]})}const Vre=[{icon:Qt,title:"Passion for Travel",description:"We believe travel transforms lives. Every feature we build is designed to make your travel dreams a reality."},{icon:et,title:"Community First",description:"Our global network of local experts and travelers creates authentic connections and shared experiences."},{icon:qe,title:"Innovation",description:"We combine cutting-edge AI with human expertise to deliver the best of both worlds in travel planning."},{icon:Nr,title:"Global Impact",description:"We support sustainable tourism and local communities, ensuring travel benefits everyone involved."}],Ure=[{name:"Amara Patel",role:"Co-Founder & CEO",image:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=200&h=200&fit=crop",bio:"Former travel industry executive with 15+ years of experience building travel platforms."},{name:"Marcus Chen",role:"Co-Founder & CTO",image:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=200&h=200&fit=crop",bio:"AI researcher turned entrepreneur, passionate about using technology to solve real problems."},{name:"Sofia Rodriguez",role:"Head of Expert Network",image:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=200&h=200&fit=crop",bio:"Built our network of 500+ verified local experts across 8 countries."},{name:"James Okonkwo",role:"Head of Product",image:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=200&h=200&fit=crop",bio:"Product leader focused on creating delightful user experiences for travelers."}],qre=[{year:"2022",title:"Founded",description:"Traveloure was born from a simple idea: make travel planning effortless."},{year:"2023",title:"Beta Launch",description:"Launched beta in 8 cities with our first 100 local experts."},{year:"2024",title:"AI Integration",description:"Introduced AI-powered itinerary generation, revolutionizing trip planning."},{year:"2025",title:"Global Expansion",description:"Expanding to 25+ countries with 500+ verified experts."}],Hre=[{value:"8M+",label:"Trips Planned"},{value:"500+",label:"Local Experts"},{value:"25+",label:"Countries"},{value:"4.9",label:"Average Rating"}];function Wre(){return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("section",{className:"py-16 md:py-24 bg-gradient-to-br from-orange-50 via-white to-pink-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[e.jsxs(He.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.6},children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-[#111827] dark:text-white mb-6",children:"Revolutionizing How the World Plans Travel"}),e.jsx("p",{className:"text-lg text-muted-foreground mb-8",children:"We're on a mission to make personalized travel planning accessible to everyone, combining the power of AI with the wisdom of local experts."}),e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsx("a",{href:"/api/login",children:e.jsxs(S,{size:"lg","data-testid":"button-join-us",children:["Join Our Journey ",e.jsx(Kt,{className:"w-4 h-4 ml-2"})]})}),e.jsx(Ce,{href:"/experts",children:e.jsx(S,{size:"lg",variant:"outline","data-testid":"button-meet-experts",children:"Meet Our Experts"})})]})]}),e.jsx(He.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.2},className:"relative",children:e.jsx("div",{className:"aspect-square rounded-2xl bg-gradient-to-br from-primary/20 to-primary/5 flex items-center justify-center",children:e.jsx(Nr,{className:"w-48 h-48 text-primary/30"})})})]})})}),e.jsx("section",{className:"py-12 bg-gray-900 text-white",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:Hre.map((t,s)=>e.jsxs(He.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:s*.1},className:"text-center","data-testid":`stat-${s}`,children:[e.jsx("div",{className:"text-4xl md:text-5xl font-bold text-primary mb-2","data-testid":`text-stat-value-${s}`,children:t.value}),e.jsx("div",{className:"text-gray-400","data-testid":`text-stat-label-${s}`,children:t.label})]},t.label))})})}),e.jsx("section",{className:"py-16 md:py-24",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsx("div",{className:"max-w-3xl mx-auto text-center",children:e.jsxs(He.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-6",children:e.jsx(oi,{className:"w-8 h-8 text-primary"})}),e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-[#111827] dark:text-white mb-6",children:"Our Mission"}),e.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"We believe everyone deserves incredible travel experiences, regardless of how much time they have to plan. By combining advanced AI technology with a curated network of local experts, we're making personalized, authentic travel accessible to millions of people worldwide."})]})})})}),e.jsx("section",{className:"py-16 md:py-24 bg-muted/30",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-[#111827] dark:text-white mb-4",children:"Our Values"}),e.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"The principles that guide everything we do"})]}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 max-w-6xl mx-auto",children:Vre.map((t,s)=>e.jsx(He.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:s*.1},children:e.jsx(P,{className:"h-full","data-testid":`card-value-${s}`,children:e.jsxs(F,{className:"p-6 text-center",children:[e.jsx("div",{className:"w-14 h-14 rounded-xl bg-primary/10 flex items-center justify-center mx-auto mb-4",children:e.jsx(t.icon,{className:"w-7 h-7 text-primary"})}),e.jsx("h3",{className:"text-lg font-semibold text-[#111827] dark:text-white mb-2",children:t.title}),e.jsx("p",{className:"text-sm text-muted-foreground",children:t.description})]})})},t.title))})]})}),e.jsx("section",{className:"py-16 md:py-24",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-[#111827] dark:text-white mb-4",children:"Our Story"}),e.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"From a simple idea to a global platform"})]}),e.jsx("div",{className:"max-w-3xl mx-auto",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-4 md:left-1/2 top-0 bottom-0 w-0.5 bg-border md:-translate-x-1/2"}),qre.map((t,s)=>e.jsxs(He.div,{initial:{opacity:0,x:s%2===0?-20:20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{delay:s*.1},className:`relative flex items-center gap-8 mb-8 ${s%2===0?"md:flex-row":"md:flex-row-reverse"}`,"data-testid":`milestone-${t.year}`,children:[e.jsxs("div",{className:`flex-1 ${s%2===0?"md:text-right":"md:text-left"} pl-12 md:pl-0`,children:[e.jsx("div",{className:"text-primary font-bold text-lg mb-1","data-testid":`text-milestone-year-${t.year}`,children:t.year}),e.jsx("h3",{className:"text-xl font-semibold text-[#111827] dark:text-white mb-2","data-testid":`text-milestone-title-${t.year}`,children:t.title}),e.jsx("p",{className:"text-muted-foreground text-sm",children:t.description})]}),e.jsx("div",{className:"absolute left-4 md:left-1/2 w-4 h-4 rounded-full bg-primary border-4 border-background md:-translate-x-1/2"}),e.jsx("div",{className:"flex-1 hidden md:block"})]},t.year))]})})]})}),e.jsx("section",{className:"py-16 md:py-24 bg-muted/30",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-[#111827] dark:text-white mb-4",children:"Meet Our Team"}),e.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"The passionate people behind Traveloure"})]}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 max-w-6xl mx-auto",children:Ure.map((t,s)=>e.jsx(He.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:s*.1},children:e.jsx(P,{className:"h-full","data-testid":`card-team-${s}`,children:e.jsxs(F,{className:"p-6 text-center",children:[e.jsxs(Ls,{className:"w-24 h-24 mx-auto mb-4 border-4 border-white dark:border-gray-800 shadow-lg",children:[e.jsx(Br,{src:t.image,alt:t.name}),e.jsx(Os,{className:"bg-primary text-white text-xl",children:t.name.split(" ").map(a=>a[0]).join("")})]}),e.jsx("h3",{className:"text-lg font-semibold text-[#111827] dark:text-white mb-1",children:t.name}),e.jsx("p",{className:"text-sm text-primary font-medium mb-3",children:t.role}),e.jsx("p",{className:"text-sm text-muted-foreground",children:t.bio})]})})},t.name))})]})}),e.jsx("section",{className:"py-16 md:py-24",children:e.jsx("div",{className:"container mx-auto px-4 text-center",children:e.jsxs(He.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-6",children:e.jsx(Me,{className:"w-8 h-8 text-primary"})}),e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-[#111827] dark:text-white mb-4",children:"Where We Operate"}),e.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto mb-8",children:"We're currently in beta across 8 cities, with plans to expand globally"}),e.jsx("div",{className:"flex flex-wrap justify-center gap-3",children:["Mumbai, India","Bogota, Colombia","Goa, India","Kyoto, Japan","Edinburgh, UK","Barcelona, Spain","Cape Town, SA","Bali, Indonesia"].map((t,s)=>e.jsx("span",{className:"px-4 py-2 bg-muted rounded-full text-sm font-medium text-[#111827] dark:text-white","data-testid":`badge-location-${s}`,children:t},t))})]})})}),e.jsx("section",{className:"py-16 md:py-24 bg-primary text-white",children:e.jsx("div",{className:"container mx-auto px-4 text-center",children:e.jsxs(He.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},children:[e.jsx(jr,{className:"w-16 h-16 mx-auto mb-6 opacity-80"}),e.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:"Join Our Growing Community"}),e.jsx("p",{className:"text-lg text-white/80 max-w-2xl mx-auto mb-8",children:"Whether you're a traveler seeking adventure or an expert wanting to share your knowledge, there's a place for you at Traveloure."}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[e.jsx("a",{href:"/api/login",children:e.jsxs(S,{size:"lg",variant:"secondary","data-testid":"button-start-planning",children:["Start Planning ",e.jsx(Kt,{className:"w-4 h-4 ml-2"})]})}),e.jsx(Ce,{href:"/partner",children:e.jsx(S,{size:"lg",variant:"outline",className:"border-white text-white hover:bg-white/10","data-testid":"button-become-expert",children:"Become an Expert"})})]})]})})})]})}function Gre(){return e.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50 text-center px-4",children:[e.jsx("div",{className:"w-24 h-24 bg-primary/10 rounded-full flex items-center justify-center text-primary mb-6",children:e.jsx(r0,{className:"w-12 h-12"})}),e.jsx("h1",{className:"text-4xl font-display font-bold text-slate-900 mb-2",children:"404 - Lost at Sea?"}),e.jsx("p",{className:"text-slate-500 max-w-md mb-8",children:"We couldn't find the page you're looking for. It might have been moved or doesn't exist."}),e.jsx(Ce,{href:"/",children:e.jsx(S,{size:"lg",className:"rounded-full px-8",children:"Return Home"})})]})}const Kre=[{title:"Dashboard",href:"/expert/dashboard",icon:Td},{title:"Revenue Optimizer",href:"/expert/revenue-optimization",icon:Xt},{title:"AI Assistant",href:"/expert/ai-assistant",icon:os},{title:"Messages",href:"/expert/messages",icon:Vs},{title:"Clients",href:"/expert/clients",icon:et},{title:"Bookings",href:"/expert/bookings",icon:Ge},{title:"Services",href:"/expert/services",icon:Ta},{title:"Custom Services",href:"/expert/custom-services",icon:C$},{title:"Earnings",href:"/expert/earnings",icon:bt},{title:"Performance",href:"/expert/performance",icon:hi},{title:"Leaderboard",href:"/expert/leaderboard",icon:jr},{title:"Analytics",href:"/expert/analytics",icon:hi},{title:"Templates",href:"/expert/templates",icon:oa},{title:"Content Studio",href:"/expert/content-studio",icon:Rs},{title:"Profile",href:"/expert/profile",icon:Wn}];function Yre(){const[t]=La(),{user:s,logout:a}=qr(),r=s&&`${s.firstName?.[0]||""}${s.lastName?.[0]||""}`.toUpperCase()||"EX";return e.jsxs(kF,{className:"border-r border-border",children:[e.jsx(SF,{className:"p-4 border-b border-border",children:e.jsx(Ce,{href:"/","data-testid":"link-expert-logo",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-md bg-primary flex items-center justify-center",children:e.jsx(dr,{className:"w-5 h-5 text-primary-foreground"})}),e.jsxs("div",{children:[e.jsx("span",{className:"font-bold text-lg text-foreground",children:"Traveloure"}),e.jsx("span",{className:"ml-2 text-xs bg-primary text-primary-foreground px-2 py-0.5 rounded-full",children:"EXPERT"})]})]})})}),e.jsx(_F,{className:"px-3 py-4",children:e.jsx(EF,{children:e.jsx(PF,{children:e.jsx(AF,{children:Kre.map(n=>{const i=t===n.href||n.href!=="/expert/dashboard"&&t.startsWith(n.href);return e.jsx(DF,{children:e.jsx(FF,{asChild:!0,isActive:i,children:e.jsxs(Ce,{href:n.href,"data-testid":`link-expert-${n.title.toLowerCase().replace(/\s+/g,"-")}`,children:[e.jsx(n.icon,{className:"w-5 h-5"}),e.jsx("span",{children:n.title})]})})},n.title)})})})})}),e.jsxs(TF,{className:"p-4 border-t border-border",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsxs(Ls,{className:"h-10 w-10 border-2 border-primary/20",children:[e.jsx(Br,{src:s?.profileImageUrl||void 0}),e.jsx(Os,{className:"bg-primary/10 text-primary font-medium",children:r})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("p",{className:"text-sm font-medium text-foreground truncate",children:[s?.firstName," ",s?.lastName]}),e.jsx("p",{className:"text-xs text-muted-foreground truncate",children:"Travel Expert"})]})]}),e.jsxs(S,{variant:"ghost",className:"w-full justify-start gap-2 text-destructive",onClick:()=>a(),"data-testid":"button-expert-logout",children:[e.jsx(_d,{className:"w-4 h-4"}),e.jsx("span",{children:"Logout"})]})]})]})}function Dr({children:t,title:s}){const a={"--sidebar-width":"16rem","--sidebar-width-icon":"4rem"};return e.jsx(wF,{style:a,children:e.jsxs("div",{className:"flex h-screen w-full bg-gray-50",children:[e.jsx(Yre,{}),e.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[e.jsxs("header",{className:"flex items-center justify-between h-14 px-4 border-b border-gray-200 bg-white",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(CF,{"data-testid":"button-expert-sidebar-toggle"}),s&&e.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:s})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-green-50 rounded-full border border-green-200",children:[e.jsx(os,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm font-medium text-green-700",children:"AI: Active"})]}),e.jsxs(S,{variant:"ghost",size:"icon",className:"relative","data-testid":"button-expert-notifications",children:[e.jsx(mi,{className:"w-5 h-5 text-gray-600"}),e.jsx(O,{className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 text-xs bg-[#FF385C]",children:"3"})]}),e.jsx(vm,{})]})]}),e.jsx("main",{className:"flex-1 overflow-y-auto",children:t})]})]})})}function Qre(){const t=[{label:"Active Clients",value:12,icon:et,color:"bg-blue-100 text-blue-600"},{label:"Revenue This Month",value:"$4,850",icon:bt,color:"bg-green-100 text-green-600"},{label:"Rating Average",value:"4.9",icon:rt,suffix:"/5",color:"bg-yellow-100 text-yellow-600"},{label:"AI Hours Saved",value:"38 hrs",icon:Je,color:"bg-purple-100 text-purple-600"}],s=[{id:1,client:"Sarah & Mike",event:"Tokyo Trip",priority:"urgent",message:"Restaurant reservation needed (today!)",icon:Pt},{id:2,client:"Jennifer",event:"Proposal Planning",priority:"high",message:"Response needed: Venue options review",icon:Qt},{id:3,client:"David & Emma",event:"Anniversary Dinner",priority:"medium",message:"Reminder: Menu selection due tomorrow",icon:on}],a=[{id:1,name:"Sarah & Mike",event:"Tokyo Trip",status:"Currently traveling",statusDetail:"Day 3 of 10",lastContact:"2 hours ago",action:"Restaurant reservation needed",progress:30,icon:Pt},{id:2,name:"Jennifer",event:"Proposal Planning",status:"Planning phase",statusDetail:"60% complete",eventDate:"April 28",daysAway:29,action:"Review venue options",progress:60,icon:Qt}],r=[{text:"Researched 3 new restaurants for Sarah & Mike",time:"2 hours ago"},{text:"Updated Jennifer's proposal timeline",time:"4 hours ago"},{text:"Drafted response to David's menu question",time:"6 hours ago"},{text:"Optimized next week's booking calendar",time:"8 hours ago"}],n=[{day:"Tuesday",event:"Sarah & Mike check-in call",time:"3:00 PM"},{day:"Wednesday",event:"Jennifer venue viewing",time:"10:00 AM"},{day:"Friday",event:"David & Emma final menu review",time:"2:00 PM"}],i=l=>{switch(l){case"urgent":return"bg-red-100 text-red-700 border-red-200";case"high":return"bg-yellow-100 text-yellow-700 border-yellow-200";case"medium":return"bg-blue-100 text-blue-700 border-blue-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}};return e.jsx(Dr,{children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900","data-testid":"text-expert-welcome",children:"Welcome back, Expert!"}),e.jsx("p",{className:"text-gray-600",children:"Here's what needs your attention today"})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:t.map((l,c)=>e.jsx(P,{className:"border border-gray-200","data-testid":`card-stat-${c}`,children:e.jsx(F,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:l.label}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[l.value,l.suffix&&e.jsx("span",{className:"text-lg text-gray-500",children:l.suffix})]})]}),e.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center ${l.color}`,children:e.jsx(l.icon,{className:"w-6 h-6"})})]})})},c))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[e.jsxs(P,{className:"border border-gray-200",children:[e.jsx(Q,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ns,{className:"w-5 h-5 text-red-500"}),e.jsxs(X,{className:"text-lg",children:["Needs Attention (",s.length,")"]})]})}),e.jsx(F,{className:"space-y-3",children:s.map(l=>e.jsxs("div",{className:`p-4 rounded-lg border ${i(l.priority)}`,"data-testid":`card-urgent-item-${l.id}`,children:[e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(l.icon,{className:"w-5 h-5 mt-0.5"}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium",children:[l.client," - ",l.event]}),e.jsx("p",{className:"text-sm opacity-80",children:l.message})]})]}),e.jsx(O,{variant:"outline",className:i(l.priority),children:l.priority})]}),e.jsxs("div",{className:"mt-3 flex gap-2",children:[e.jsx(S,{size:"sm",className:"bg-[#FF385C] ","data-testid":`button-handle-${l.id}`,children:"Handle Now"}),e.jsx(S,{size:"sm",variant:"outline","data-testid":`button-delegate-${l.id}`,children:"Delegate to AI"})]})]},l.id))})]}),e.jsxs(P,{className:"border border-gray-200",children:[e.jsx(Q,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(X,{className:"text-lg",children:"Active Clients (12)"}),e.jsx(Ce,{href:"/expert/clients",children:e.jsxs(S,{variant:"ghost",size:"sm",className:"text-[#FF385C]","data-testid":"link-view-all-clients",children:["View All ",e.jsx(Kt,{className:"w-4 h-4 ml-1"})]})})]})}),e.jsx(F,{className:"space-y-4",children:a.map(l=>e.jsx("div",{className:"p-4 rounded-lg border border-gray-200 bg-white","data-testid":`card-client-${l.id}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-[#FF385C]/10 flex items-center justify-center",children:e.jsx(l.icon,{className:"w-5 h-5 text-[#FF385C]"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("p",{className:"font-semibold text-gray-900",children:[l.name," - ",l.event]}),e.jsx(O,{variant:"outline",className:"text-xs",children:l.status})]}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[l.statusDetail,l.lastContact&&`  Last contact: ${l.lastContact}`,l.eventDate&&`  Event: ${l.eventDate} (${l.daysAway} days away)`]}),l.action&&e.jsxs("p",{className:"text-sm text-red-600 mt-1 flex items-center gap-1",children:[e.jsx(ns,{className:"w-3 h-3"}),"Action: ",l.action]}),e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-1",children:[e.jsx("span",{children:"Progress"}),e.jsxs("span",{children:[l.progress,"%"]})]}),e.jsx(Pr,{value:l.progress,className:"h-2"})]}),e.jsxs("div",{className:"mt-3 flex gap-2",children:[e.jsxs(S,{size:"sm",variant:"outline","data-testid":`button-chat-${l.id}`,children:[e.jsx(Vs,{className:"w-3 h-3 mr-1"})," Chat"]}),e.jsxs(S,{size:"sm",variant:"outline","data-testid":`button-itinerary-${l.id}`,children:[e.jsx(Ge,{className:"w-3 h-3 mr-1"})," Itinerary"]}),e.jsxs(S,{size:"sm",variant:"outline","data-testid":`button-ai-assist-${l.id}`,children:[e.jsx(os,{className:"w-3 h-3 mr-1"})," AI Assist"]})]})]})]})},l.id))})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs(P,{className:"border border-gray-200",children:[e.jsx(Q,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(os,{className:"w-5 h-5 text-green-600"}),e.jsx(X,{className:"text-lg",children:"AI Assistant Activity"})]})}),e.jsxs(F,{children:[e.jsxs("p",{className:"text-sm text-gray-600 mb-3",children:[e.jsx(Rt,{className:"w-4 h-4 inline text-green-500 mr-1"}),"Completed 8 tasks in last 24 hours"]}),e.jsx("div",{className:"space-y-2",children:r.map((l,c)=>e.jsxs("div",{className:"flex items-start gap-2 text-sm","data-testid":`ai-activity-${c}`,children:[e.jsx("span",{className:"text-gray-400 mt-0.5",children:""}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700",children:l.text}),e.jsxs("span",{className:"text-gray-400 ml-2",children:["(",l.time,")"]})]})]},c))}),e.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg border border-blue-200",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("span",{className:"font-medium",children:"5 drafts"})," waiting for your review"]})}),e.jsxs(S,{className:"w-full mt-4 bg-[#FF385C] ","data-testid":"button-review-ai-work",children:["Review AI Work ",e.jsx(Kt,{className:"w-4 h-4 ml-1"})]})]})]}),e.jsxs(P,{className:"border border-gray-200",children:[e.jsx(Q,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ge,{className:"w-5 h-5 text-[#FF385C]"}),e.jsx(X,{className:"text-lg",children:"This Week"})]})}),e.jsx(F,{className:"space-y-3",children:n.map((l,c)=>e.jsxs("div",{className:"flex items-start gap-3 text-sm","data-testid":`event-${c}`,children:[e.jsx("span",{className:"font-medium text-gray-700 min-w-20",children:l.day}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-800",children:l.event}),e.jsx("p",{className:"text-gray-500",children:l.time})]})]},c))})]}),e.jsxs(P,{className:"border border-gray-200",children:[e.jsx(Q,{className:"pb-3",children:e.jsx(X,{className:"text-lg",children:"Quick Actions"})}),e.jsxs(F,{className:"grid grid-cols-2 gap-2",children:[e.jsxs(S,{variant:"outline",size:"sm",className:"justify-start","data-testid":"button-quick-messages",children:[e.jsx(Vs,{className:"w-4 h-4 mr-2"})," Messages"]}),e.jsxs(S,{variant:"outline",size:"sm",className:"justify-start","data-testid":"button-quick-ai-tasks",children:[e.jsx(os,{className:"w-4 h-4 mr-2"})," AI Tasks"]}),e.jsxs(S,{variant:"outline",size:"sm",className:"justify-start","data-testid":"button-quick-analytics",children:[e.jsx(bt,{className:"w-4 h-4 mr-2"})," Analytics"]}),e.jsxs(S,{variant:"outline",size:"sm",className:"justify-start","data-testid":"button-quick-payout",children:[e.jsx(bt,{className:"w-4 h-4 mr-2"})," Request Payout"]})]})]})]})]})]})})}const Xre={travel:Pt,proposal:Qt,anniversary:on,birthday:ya,corporate:Ta};function Zre(){const[t,s]=h.useState(""),[a,r]=h.useState("all"),n=[{id:1,name:"Sarah & Mike",event:"Tokyo Trip",eventType:"travel",status:"traveling",statusLabel:"Currently traveling",statusDetail:"Day 3 of 10",lastContact:"2 hours ago",action:"Restaurant reservation needed",actionPriority:"urgent",progress:30,startDate:"2026-01-01",endDate:"2026-01-10"},{id:2,name:"Jennifer",event:"Proposal Planning",eventType:"proposal",status:"planning",statusLabel:"Planning phase",statusDetail:"60% complete",eventDate:"April 28",daysAway:29,action:"Review venue options",actionPriority:"high",progress:60,startDate:"2026-04-28",endDate:"2026-04-28"},{id:3,name:"David & Emma",event:"Anniversary Dinner",eventType:"anniversary",status:"planning",statusLabel:"Final preparations",statusDetail:"85% complete",eventDate:"January 15",daysAway:14,action:"Menu selection due tomorrow",actionPriority:"medium",progress:85,startDate:"2026-01-15",endDate:"2026-01-15"},{id:4,name:"Corporate Tech Inc",event:"Team Retreat",eventType:"corporate",status:"completed",statusLabel:"Completed",statusDetail:"Ended Dec 20",progress:100,startDate:"2025-12-18",endDate:"2025-12-20"},{id:5,name:"Amanda",event:"Birthday Celebration",eventType:"birthday",status:"planning",statusLabel:"Early planning",statusDetail:"25% complete",eventDate:"March 5",daysAway:63,progress:25,startDate:"2026-03-05",endDate:"2026-03-05"}],i=n.filter(u=>!(a!=="all"&&u.status!==a||t&&!u.name.toLowerCase().includes(t.toLowerCase())&&!u.event.toLowerCase().includes(t.toLowerCase()))),l=u=>{switch(u){case"traveling":return"bg-green-100 text-green-700 border-green-200";case"planning":return"bg-blue-100 text-blue-700 border-blue-200";case"completed":return"bg-gray-100 text-gray-700 border-gray-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},c=u=>{switch(u){case"urgent":return"text-red-600";case"high":return"text-yellow-600";case"medium":return"text-blue-600";default:return"text-gray-600"}};return e.jsx(Dr,{title:"Clients",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"My Clients"}),e.jsx("p",{className:"text-gray-600",children:"Manage your client relationships and projects"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(ws,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(Ne,{placeholder:"Search clients...",value:t,onChange:u=>s(u.target.value),className:"pl-9 w-64","data-testid":"input-search-clients"})]}),e.jsxs(Wt,{value:a,onValueChange:r,children:[e.jsx(Vt,{className:"w-40","data-testid":"select-status-filter",children:e.jsx(Gt,{placeholder:"Status"})}),e.jsxs(Ut,{children:[e.jsx(Pe,{value:"all",children:"All Status"}),e.jsx(Pe,{value:"traveling",children:"Traveling"}),e.jsx(Pe,{value:"planning",children:"Planning"}),e.jsx(Pe,{value:"completed",children:"Completed"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsx(P,{className:"border border-gray-200 bg-gray-50","data-testid":"card-active-clients-stat",children:e.jsxs(F,{className:"p-4 text-center",children:[e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:n.filter(u=>u.status!=="completed").length}),e.jsx("p",{className:"text-sm text-gray-600",children:"Active Clients"})]})}),e.jsx(P,{className:"border border-gray-200 bg-gray-50","data-testid":"card-traveling-stat",children:e.jsxs(F,{className:"p-4 text-center",children:[e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:n.filter(u=>u.status==="traveling").length}),e.jsx("p",{className:"text-sm text-gray-600",children:"Currently Traveling"})]})}),e.jsx(P,{className:"border border-gray-200 bg-gray-50","data-testid":"card-attention-stat",children:e.jsxs(F,{className:"p-4 text-center",children:[e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:n.filter(u=>u.action).length}),e.jsx("p",{className:"text-sm text-gray-600",children:"Need Attention"})]})})]}),e.jsx("div",{className:"space-y-4",children:i.length===0?e.jsx(P,{className:"border border-gray-200",children:e.jsx(F,{className:"p-8 text-center",children:e.jsx("p",{className:"text-gray-500",children:"No clients found matching your criteria"})})}):i.map(u=>{const m=Xre[u.eventType]||Pt;return e.jsx(P,{className:"border border-gray-200","data-testid":`card-client-${u.id}`,children:e.jsx(F,{className:"p-5",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg bg-[#FF385C]/10 flex items-center justify-center flex-shrink-0",children:e.jsx(m,{className:"w-6 h-6 text-[#FF385C]"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 text-lg",children:u.name}),e.jsx("p",{className:"text-gray-600",children:u.event})]}),e.jsx(O,{variant:"outline",className:l(u.status),children:u.statusLabel})]}),e.jsxs("div",{className:"mt-2 flex flex-wrap gap-x-4 gap-y-1 text-sm text-gray-500",children:[e.jsx("span",{children:u.statusDetail}),u.lastContact&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Je,{className:"w-3 h-3"}),"Last contact: ",u.lastContact]}),u.eventDate&&e.jsxs("span",{children:["Event: ",u.eventDate," (",u.daysAway," days away)"]})]}),u.action&&e.jsxs("p",{className:`text-sm mt-2 flex items-center gap-1 ${c(u.actionPriority||"")}`,children:[e.jsx(ns,{className:"w-3 h-3"}),"Action needed: ",u.action]}),e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-1",children:[e.jsx("span",{children:"Progress"}),e.jsxs("span",{children:[u.progress,"%"]})]}),e.jsx(Pr,{value:u.progress,className:"h-2"})]}),e.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[u.status==="traveling"&&e.jsxs(S,{size:"sm",variant:"outline","data-testid":`button-live-view-${u.id}`,children:[e.jsx(Er,{className:"w-3 h-3 mr-1"})," Live View"]}),e.jsxs(S,{size:"sm",variant:"outline","data-testid":`button-chat-${u.id}`,children:[e.jsx(Vs,{className:"w-3 h-3 mr-1"})," Chat"]}),e.jsxs(S,{size:"sm",variant:"outline","data-testid":`button-itinerary-${u.id}`,children:[e.jsx(Ge,{className:"w-3 h-3 mr-1"})," Itinerary"]}),e.jsxs(S,{size:"sm",variant:"outline","data-testid":`button-ai-assist-${u.id}`,children:[e.jsx(os,{className:"w-3 h-3 mr-1"})," AI Assist"]})]})]})]})})},u.id)})})]})})}function Jre(){const t=[{label:"Total Earnings",value:"$12,450",change:"+15%",trend:"up",icon:bt},{label:"This Month",value:"$4,850",change:"+8%",trend:"up",icon:Ge},{label:"Pending Payout",value:"$2,100",icon:Je},{label:"Last Payout",value:"$3,500",date:"Dec 28",icon:Sa}],s=[{id:1,client:"Sarah & Mike",service:"Tokyo Trip Planning",amount:850,status:"completed",date:"Dec 30"},{id:2,client:"Jennifer",service:"Proposal Planning",amount:650,status:"pending",date:"Dec 28"},{id:3,client:"David & Emma",service:"Anniversary Dinner",amount:300,status:"completed",date:"Dec 25"},{id:4,client:"Corporate Tech Inc",service:"Team Retreat",amount:1200,status:"completed",date:"Dec 20"},{id:5,client:"Amanda",service:"Birthday Celebration",amount:200,status:"pending",date:"Dec 18"}],a=[{id:1,amount:3500,method:"Bank Transfer",date:"Dec 28, 2025",status:"completed"},{id:2,amount:2800,method:"Bank Transfer",date:"Nov 28, 2025",status:"completed"},{id:3,amount:4100,method:"Bank Transfer",date:"Oct 28, 2025",status:"completed"}],r=[{month:"December",earnings:4850,clients:8},{month:"November",earnings:3200,clients:6},{month:"October",earnings:4100,clients:9},{month:"September",earnings:2800,clients:5}];return e.jsx(Dr,{title:"Earnings",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Earnings Dashboard"}),e.jsx("p",{className:"text-gray-600",children:"Track your revenue and manage payouts"})]}),e.jsxs(S,{className:"bg-[#FF385C] ","data-testid":"button-request-payout",children:[e.jsx(bt,{className:"w-4 h-4 mr-2"}),"Request Payout"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:t.map((n,i)=>e.jsx(P,{className:"border border-gray-200","data-testid":`card-earnings-stat-${i}`,children:e.jsx(F,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:n.label}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.value}),n.change&&e.jsxs("p",{className:`text-sm flex items-center gap-1 ${n.trend==="up"?"text-green-600":"text-red-600"}`,children:[n.trend==="up"?e.jsx(Ei,{className:"w-3 h-3"}):e.jsx(ZN,{className:"w-3 h-3"}),n.change," from last month"]}),n.date&&e.jsx("p",{className:"text-sm text-gray-500",children:n.date})]}),e.jsx("div",{className:"w-12 h-12 rounded-lg bg-[#FF385C]/10 flex items-center justify-center",children:e.jsx(n.icon,{className:"w-6 h-6 text-[#FF385C]"})})]})})},i))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(P,{className:"border border-gray-200",children:[e.jsx(Q,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(X,{className:"text-lg",children:"Recent Transactions"}),e.jsx(S,{variant:"ghost",size:"sm",className:"text-[#FF385C]","data-testid":"button-view-all-transactions",children:"View All"})]})}),e.jsx(F,{children:e.jsx("div",{className:"space-y-4",children:s.map(n=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-gray-100 bg-gray-50","data-testid":`transaction-${n.id}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-green-100 flex items-center justify-center",children:e.jsx(Xt,{className:"w-5 h-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:n.client}),e.jsx("p",{className:"text-sm text-gray-500",children:n.service})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-semibold text-gray-900",children:["+$",n.amount]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-500",children:n.date}),e.jsx(O,{variant:"outline",className:n.status==="completed"?"bg-green-50 text-green-700 border-green-200":"bg-yellow-50 text-yellow-700 border-yellow-200",children:n.status})]})]})]},n.id))})})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(P,{className:"border border-gray-200",children:[e.jsx(Q,{children:e.jsx(X,{className:"text-lg",children:"Monthly Breakdown"})}),e.jsx(F,{children:e.jsx("div",{className:"space-y-3",children:r.map((n,i)=>e.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg hover-elevate","data-testid":`monthly-breakdown-${i}`,children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:n.month}),e.jsxs("p",{className:"text-sm text-gray-500",children:[n.clients," clients"]})]}),e.jsxs("p",{className:"font-semibold text-gray-900",children:["$",n.earnings.toLocaleString()]})]},i))})})]}),e.jsxs(P,{className:"border border-gray-200",children:[e.jsx(Q,{children:e.jsx(X,{className:"text-lg",children:"Payout History"})}),e.jsx(F,{children:e.jsx("div",{className:"space-y-3",children:a.map(n=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-gray-100","data-testid":`payout-${n.id}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-green-100 flex items-center justify-center",children:e.jsx(Rt,{className:"w-4 h-4 text-green-600"})}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-gray-900",children:["$",n.amount.toLocaleString()]}),e.jsx("p",{className:"text-xs text-gray-500",children:n.date})]})]}),e.jsx(S,{variant:"ghost",size:"icon","data-testid":`button-download-${n.id}`,children:e.jsx(Un,{className:"w-4 h-4 text-gray-500"})})]},n.id))})})]}),e.jsxs(P,{className:"border border-gray-200",children:[e.jsx(Q,{children:e.jsx(X,{className:"text-lg",children:"Payment Method"})}),e.jsxs(F,{children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border border-gray-200 bg-gray-50",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center",children:e.jsx(Sa,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Bank Account"}),e.jsx("p",{className:"text-sm text-gray-500",children:"**** **** **** 4829"})]})]}),e.jsx(S,{variant:"outline",className:"w-full mt-3","data-testid":"button-update-payment",children:"Update Payment Method"})]})]})]})]})]})})}var K0="Switch",[ene]=kr(K0),[tne,sne]=ene(K0),G8=h.forwardRef((t,s)=>{const{__scopeSwitch:a,name:r,checked:n,defaultChecked:i,required:l,disabled:c,value:u="on",onCheckedChange:m,form:x,...f}=t,[g,b]=h.useState(null),v=zt(s,_=>b(_)),y=h.useRef(!1),w=g?x||!!g.closest("form"):!0,[k,C]=ln({prop:n,defaultProp:i??!1,onChange:m,caller:K0});return e.jsxs(tne,{scope:a,checked:k,disabled:c,children:[e.jsx(lt.button,{type:"button",role:"switch","aria-checked":k,"aria-required":l,"data-state":X8(k),"data-disabled":c?"":void 0,disabled:c,value:u,...f,ref:v,onClick:Ye(t.onClick,_=>{C(M=>!M),w&&(y.current=_.isPropagationStopped(),y.current||_.stopPropagation())})}),w&&e.jsx(Q8,{control:g,bubbles:!y.current,name:r,value:u,checked:k,required:l,disabled:c,form:x,style:{transform:"translateX(-100%)"}})]})});G8.displayName=K0;var K8="SwitchThumb",Y8=h.forwardRef((t,s)=>{const{__scopeSwitch:a,...r}=t,n=sne(K8,a);return e.jsx(lt.span,{"data-state":X8(n.checked),"data-disabled":n.disabled?"":void 0,...r,ref:s})});Y8.displayName=K8;var ane="SwitchBubbleInput",Q8=h.forwardRef(({__scopeSwitch:t,control:s,checked:a,bubbles:r=!0,...n},i)=>{const l=h.useRef(null),c=zt(l,i),u=Ux(a),m=wx(s);return h.useEffect(()=>{const x=l.current;if(!x)return;const f=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(f,"checked").set;if(u!==a&&b){const v=new Event("click",{bubbles:r});b.call(x,a),x.dispatchEvent(v)}},[u,a,r]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a,...n,tabIndex:-1,ref:c,style:{...n.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Q8.displayName=ane;function X8(t){return t?"checked":"unchecked"}var Z8=G8,rne=Y8;const tr=h.forwardRef(({className:t,...s},a)=>e.jsx(Z8,{className:te("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...s,ref:a,children:e.jsx(rne,{className:te("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));tr.displayName=Z8.displayName;function nne(){const{user:t}=qr(),[s,a]=h.useState(["Tokyo Travel","Japanese Cuisine","Cultural Experiences","Proposal Planning"]),[r,n]=h.useState(["English","Japanese"]),[i,l]=h.useState(""),c=()=>{i.trim()&&!s.includes(i.trim())&&(a([...s,i.trim()]),l(""))},u=m=>{a(s.filter(x=>x!==m))};return e.jsx(Dr,{title:"Profile",children:e.jsxs("div",{className:"p-6 space-y-6 max-w-4xl",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Business Profile"}),e.jsx("p",{className:"text-gray-600",children:"Manage your public profile and preferences"})]}),e.jsxs(S,{className:"bg-[#FF385C] ","data-testid":"button-save-profile",children:[e.jsx(ow,{className:"w-4 h-4 mr-2"}),"Save Changes"]})]}),e.jsxs(P,{className:"border border-gray-200",children:[e.jsx(Q,{children:e.jsx(X,{className:"text-lg",children:"Profile Photo"})}),e.jsx(F,{children:e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"relative",children:[e.jsxs(Ls,{className:"w-24 h-24 border-4 border-[#FF385C]/20",children:[e.jsx(Br,{src:t?.profileImageUrl||void 0}),e.jsxs(Os,{className:"bg-[#FF385C]/10 text-[#FF385C] text-2xl font-medium",children:[t?.firstName?.[0]||"E",t?.lastName?.[0]||"X"]})]}),e.jsx(S,{size:"icon",className:"absolute bottom-0 right-0 rounded-full w-8 h-8 bg-[#FF385C] ","data-testid":"button-change-photo",children:e.jsx(Rs,{className:"w-4 h-4"})})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Upload a professional photo that shows your face clearly"}),e.jsx(S,{variant:"outline",size:"sm","data-testid":"button-upload-photo",children:"Upload New Photo"})]})]})})]}),e.jsxs(P,{className:"border border-gray-200",children:[e.jsx(Q,{children:e.jsx(X,{className:"text-lg",children:"Basic Information"})}),e.jsxs(F,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ye,{htmlFor:"firstName",children:"First Name"}),e.jsx(Ne,{id:"firstName",defaultValue:t?.firstName||"","data-testid":"input-first-name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ye,{htmlFor:"lastName",children:"Last Name"}),e.jsx(Ne,{id:"lastName",defaultValue:t?.lastName||"","data-testid":"input-last-name"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ye,{htmlFor:"displayName",children:"Display Name"}),e.jsx(Ne,{id:"displayName",defaultValue:"Yuki M.",placeholder:"How clients will see your name","data-testid":"input-display-name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ye,{htmlFor:"headline",children:"Professional Headline"}),e.jsx(Ne,{id:"headline",defaultValue:"Tokyo Local Expert | Specializing in Authentic Japanese Experiences",placeholder:"A short tagline about your expertise","data-testid":"input-headline"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ye,{htmlFor:"bio",children:"About Me"}),e.jsx(Ks,{id:"bio",rows:4,defaultValue:"Born and raised in Tokyo, I've spent over 10 years helping travelers discover the authentic side of Japan. From hidden ramen shops to traditional tea ceremonies, I specialize in creating unique experiences that go beyond typical tourist attractions.",placeholder:"Tell clients about yourself and your expertise","data-testid":"input-bio"})]})]})]}),e.jsxs(P,{className:"border border-gray-200",children:[e.jsx(Q,{children:e.jsxs(X,{className:"text-lg flex items-center gap-2",children:[e.jsx(Me,{className:"w-5 h-5 text-gray-500"}),"Location"]})}),e.jsx(F,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ye,{htmlFor:"city",children:"City"}),e.jsx(Ne,{id:"city",defaultValue:"Tokyo","data-testid":"input-city"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ye,{htmlFor:"country",children:"Country"}),e.jsxs(Wt,{defaultValue:"japan",children:[e.jsx(Vt,{"data-testid":"select-country",children:e.jsx(Gt,{placeholder:"Select country"})}),e.jsxs(Ut,{children:[e.jsx(Pe,{value:"japan",children:"Japan"}),e.jsx(Pe,{value:"usa",children:"United States"}),e.jsx(Pe,{value:"uk",children:"United Kingdom"}),e.jsx(Pe,{value:"france",children:"France"}),e.jsx(Pe,{value:"italy",children:"Italy"})]})]})]})]})})]}),e.jsxs(P,{className:"border border-gray-200",children:[e.jsx(Q,{children:e.jsxs(X,{className:"text-lg flex items-center gap-2",children:[e.jsx(rt,{className:"w-5 h-5 text-gray-500"}),"Specialties"]})}),e.jsxs(F,{className:"space-y-4",children:[e.jsx("div",{className:"flex flex-wrap gap-2",children:s.map(m=>e.jsxs(O,{variant:"secondary",className:"pl-3 pr-1 py-1.5 flex items-center gap-1",children:[m,e.jsx(S,{variant:"ghost",size:"icon",className:"h-5 w-5 ",onClick:()=>u(m),"data-testid":`button-remove-specialty-${m}`,children:e.jsx(Ia,{className:"w-3 h-3"})})]},m))}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Ne,{placeholder:"Add a specialty...",value:i,onChange:m=>l(m.target.value),onKeyDown:m=>m.key==="Enter"&&c(),"data-testid":"input-new-specialty"}),e.jsx(S,{variant:"outline",onClick:c,"data-testid":"button-add-specialty",children:e.jsx(ps,{className:"w-4 h-4"})})]})]})]}),e.jsxs(P,{className:"border border-gray-200",children:[e.jsx(Q,{children:e.jsxs(X,{className:"text-lg flex items-center gap-2",children:[e.jsx(Nr,{className:"w-5 h-5 text-gray-500"}),"Languages"]})}),e.jsxs(F,{children:[e.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:r.map(m=>e.jsx(O,{variant:"outline",className:"py-1.5",children:m},m))}),e.jsxs(S,{variant:"outline",size:"sm","data-testid":"button-add-language",children:[e.jsx(ps,{className:"w-4 h-4 mr-1"})," Add Language"]})]})]}),e.jsxs(P,{className:"border border-gray-200",children:[e.jsx(Q,{children:e.jsx(X,{className:"text-lg",children:"Availability Settings"})}),e.jsxs(F,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Available for New Clients"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Toggle off when you're fully booked"})]}),e.jsx(tr,{defaultChecked:!0,"data-testid":"switch-availability"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Accept Last-Minute Requests"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Events within 48 hours"})]}),e.jsx(tr,{defaultChecked:!0,"data-testid":"switch-last-minute"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Vacation Mode"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Temporarily hide your profile"})]}),e.jsx(tr,{"data-testid":"switch-vacation"})]})]})]})]})})}function ine(){const{toast:t}=Bs(),[s,a]=h.useState(""),[r,n]=h.useState("client_message"),[i,l]=h.useState(""),[c,u]=h.useState(null),[m,x]=h.useState(""),{data:f=[],isLoading:g}=Le({queryKey:["/api/expert/ai-tasks",{status:"pending"}],queryFn:async()=>{const I=await fetch("/api/expert/ai-tasks?status=pending",{credentials:"include"});if(!I.ok)throw new Error("Failed to fetch pending tasks");return I.json()}}),{data:b=[],isLoading:v}=Le({queryKey:["/api/expert/ai-tasks",{status:"completed"}],queryFn:async()=>{const I=await fetch("/api/expert/ai-tasks?status=completed",{credentials:"include"});if(!I.ok)throw new Error("Failed to fetch completed tasks");return I.json()}}),{data:y}=Le({queryKey:["/api/expert/ai-stats"]}),w=Ot({mutationFn:async I=>(await Ft("POST","/api/expert/ai-tasks/delegate",I)).json(),onSuccess:()=>{_t.invalidateQueries({queryKey:["/api/expert/ai-tasks"]}),_t.invalidateQueries({queryKey:["/api/expert/ai-stats"]}),a(""),l(""),t({title:"Task delegated to AI",description:"The AI is working on your request."})},onError:I=>{t({title:"Failed to delegate task",description:I.message,variant:"destructive"})}}),k=Ot({mutationFn:async({taskId:I,editedContent:q})=>(await Ft("POST",`/api/expert/ai-tasks/${I}/approve`,{editedContent:q})).json(),onSuccess:()=>{_t.invalidateQueries({queryKey:["/api/expert/ai-tasks"]}),_t.invalidateQueries({queryKey:["/api/expert/ai-stats"]}),u(null),x(""),t({title:"Task approved",description:"The content has been approved."})},onError:I=>{t({title:"Failed to approve",description:I.message,variant:"destructive"})}}),C=Ot({mutationFn:async I=>(await Ft("POST",`/api/expert/ai-tasks/${I}/reject`,{})).json(),onSuccess:()=>{_t.invalidateQueries({queryKey:["/api/expert/ai-tasks"]}),_t.invalidateQueries({queryKey:["/api/expert/ai-stats"]}),t({title:"Task rejected"})},onError:I=>{t({title:"Failed to reject",description:I.message,variant:"destructive"})}}),_=Ot({mutationFn:async I=>(await Ft("POST",`/api/expert/ai-tasks/${I}/regenerate`,{})).json(),onSuccess:()=>{_t.invalidateQueries({queryKey:["/api/expert/ai-tasks"]}),t({title:"Regenerating content",description:"The AI is creating a new version."})},onError:I=>{t({title:"Failed to regenerate",description:I.message,variant:"destructive"})}}),M=()=>{if(!s.trim()||s.length<10){t({title:"Task description too short",description:"Please provide more details (at least 10 characters).",variant:"destructive"});return}w.mutate({taskType:r,taskDescription:s,clientName:i||void 0})},E=(I,q)=>{q&&c===I?k.mutate({taskId:I,editedContent:m}):k.mutate({taskId:I})},R=I=>{u(I.id),x(I.aiResult?.content||"")},z=I=>({client_message:"Client Message",vendor_research:"Vendor Research",itinerary_update:"Itinerary Update",content_draft:"Content Draft",response_draft:"Response Draft"})[I]||I,A=[{label:"Draft message to client",type:"client_message",template:"Draft a message to {client} about"},{label:"Research vendors",type:"vendor_research",template:"Research venues/vendors in {location} for"},{label:"Update itinerary",type:"itinerary_update",template:"Update itinerary for {client}'s trip to"},{label:"Write bio/description",type:"content_draft",template:"Write a professional description for"}],V=f.filter(I=>I.status==="pending"||I.status==="in_progress"||I.status==="regenerating"),H=b.filter(I=>I.status==="completed").slice(0,5);return e.jsx(Dr,{title:"AI Assistant",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100","data-testid":"text-ai-assistant-title",children:"AI Assistant"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Your productivity partner - delegate tasks and review AI work"})]}),e.jsxs(O,{className:"bg-purple-100 text-purple-700 border-purple-200 dark:bg-purple-900/30 dark:text-purple-400","data-testid":"badge-ai-status",children:[e.jsx(qe,{className:"w-4 h-4 mr-1"})," Grok Active"]})]}),e.jsxs(P,{children:[e.jsx(Q,{children:e.jsxs(X,{className:"text-lg flex items-center gap-2",children:[e.jsx(os,{className:"w-5 h-5 text-[#FF385C]"}),"Quick Delegate"]})}),e.jsxs(F,{className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(Wt,{value:r,onValueChange:n,children:[e.jsx(Vt,{className:"w-48","data-testid":"select-task-type",children:e.jsx(Gt,{placeholder:"Task type"})}),e.jsxs(Ut,{children:[e.jsx(Pe,{value:"client_message",children:"Client Message"}),e.jsx(Pe,{value:"vendor_research",children:"Vendor Research"}),e.jsx(Pe,{value:"itinerary_update",children:"Itinerary Update"}),e.jsx(Pe,{value:"content_draft",children:"Content Draft"}),e.jsx(Pe,{value:"response_draft",children:"Response Draft"})]})]}),e.jsx(Ne,{placeholder:"Client name (optional)",value:i,onChange:I=>l(I.target.value),className:"w-40","data-testid":"input-client-name"})]}),e.jsx("div",{className:"flex gap-3",children:e.jsx(Ks,{placeholder:"Describe what you need the AI to do...",value:s,onChange:I=>a(I.target.value),className:"flex-1 min-h-[80px]","data-testid":"input-delegate-task"})}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{className:"flex flex-wrap gap-2",children:A.map((I,q)=>e.jsx(S,{variant:"outline",size:"sm",className:"text-xs",onClick:()=>{n(I.type),a(I.template)},"data-testid":`button-template-${q}`,children:I.label},q))}),e.jsxs(S,{onClick:M,disabled:w.isPending||s.length<10,className:"bg-[#FF385C]","data-testid":"button-delegate-task",children:[w.isPending?e.jsx(ot,{className:"w-4 h-4 mr-2 animate-spin"}):e.jsx(ul,{className:"w-4 h-4 mr-2"}),"Delegate"]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2 space-y-4",children:e.jsxs(P,{children:[e.jsx(Q,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Je,{className:"w-5 h-5 text-yellow-500"}),e.jsxs(X,{className:"text-lg",children:["Pending Your Review (",V.length,")"]})]})}),e.jsx(F,{className:"space-y-4",children:g?e.jsx("div",{className:"flex items-center justify-center p-8",children:e.jsx(ot,{className:"w-6 h-6 animate-spin text-gray-400"})}):V.length===0?e.jsxs("div",{className:"text-center p-8 text-gray-500",children:[e.jsx(os,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),e.jsx("p",{children:"No pending tasks. Delegate something to get started!"})]}):V.map(I=>e.jsxs("div",{className:"p-4 rounded-lg border","data-testid":`card-pending-task-${I.id}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx(O,{variant:"outline",className:"mb-2",children:z(I.taskType)}),I.clientName&&e.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:I.clientName}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:I.taskDescription})]}),I.status==="in_progress"||I.status==="regenerating"?e.jsxs(O,{variant:"secondary",className:"shrink-0",children:[e.jsx(ot,{className:"w-3 h-3 mr-1 animate-spin"}),I.status==="regenerating"?"Regenerating...":"Processing..."]}):null]}),I.aiResult?.error?e.jsx("div",{className:"mt-3 p-3 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-800",children:e.jsxs("div",{className:"flex items-center gap-2 text-red-700 dark:text-red-400",children:[e.jsx(ns,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:I.aiResult.error})]})}):I.aiResult?.content?e.jsx("div",{className:"mt-3 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-100 dark:border-gray-700",children:c===I.id?e.jsx(Ks,{value:m,onChange:q=>x(q.target.value),className:"min-h-[120px]","data-testid":`textarea-edit-${I.id}`}):e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 whitespace-pre-line",children:I.aiResult.content})}):null,I.status==="pending"&&I.aiResult?.content&&e.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-4",children:[I.confidence&&e.jsxs("span",{children:["Confidence: ",I.confidence,"%"]}),I.qualityScore&&e.jsxs("span",{children:["Quality: ",I.qualityScore,"/10"]})]}),e.jsx("div",{className:"flex gap-2",children:c===I.id?e.jsxs(e.Fragment,{children:[e.jsxs(S,{size:"sm",className:"bg-green-600",onClick:()=>E(I.id,!0),disabled:k.isPending,"data-testid":`button-save-edit-${I.id}`,children:[e.jsx(Rt,{className:"w-3 h-3 mr-1"})," Save & Send"]}),e.jsx(S,{size:"sm",variant:"outline",onClick:()=>u(null),"data-testid":`button-cancel-edit-${I.id}`,children:"Cancel"})]}):e.jsxs(e.Fragment,{children:[e.jsxs(S,{size:"sm",className:"bg-green-600",onClick:()=>E(I.id),disabled:k.isPending,"data-testid":`button-send-${I.id}`,children:[e.jsx(Rt,{className:"w-3 h-3 mr-1"})," Send As-Is"]}),e.jsxs(S,{size:"sm",variant:"outline",onClick:()=>R(I),"data-testid":`button-edit-${I.id}`,children:[e.jsx(ii,{className:"w-3 h-3 mr-1"})," Edit"]}),e.jsxs(S,{size:"sm",variant:"outline",onClick:()=>_.mutate(I.id),disabled:_.isPending,"data-testid":`button-regenerate-${I.id}`,children:[e.jsx(Cn,{className:"w-3 h-3 mr-1"})," Regenerate"]}),e.jsx(S,{size:"icon",variant:"ghost",className:"text-red-600",onClick:()=>C.mutate(I.id),disabled:C.isPending,"aria-label":"Reject task","data-testid":`button-reject-${I.id}`,children:e.jsx(Ia,{className:"w-3 h-3"})})]})})]})]},I.id))})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs(P,{children:[e.jsx(Q,{children:e.jsx(X,{className:"text-lg",children:"Your AI Stats (This Month)"})}),e.jsxs(F,{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Tasks Delegated"}),e.jsx("span",{className:"font-medium",children:y?.tasksDelegated??0})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Tasks Completed"}),e.jsxs("span",{className:"font-medium",children:[y?.tasksCompleted??0," (",y?.completionRate??0,"%)"]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Time Saved"}),e.jsxs("span",{className:"font-medium",children:[y?.timeSaved??0," hours"]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Avg Quality Score"}),e.jsxs("span",{className:"font-medium",children:[y?.avgQualityScore??"0.0","/10"]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Your Edit Rate"}),e.jsxs("span",{className:"font-medium text-green-600",children:[y?.editRate??0,"% (Lower = AI is learning!)"]})]})]})]}),e.jsxs(P,{children:[e.jsx(Q,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Rt,{className:"w-5 h-5 text-green-500"}),e.jsx(X,{className:"text-lg",children:"Recently Completed"})]})}),e.jsxs(F,{children:[v?e.jsx("div",{className:"flex justify-center p-4",children:e.jsx(ot,{className:"w-5 h-5 animate-spin text-gray-400"})}):H.length===0?e.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No completed tasks yet"}):e.jsx("div",{className:"space-y-2",children:H.map(I=>e.jsxs("div",{className:"flex items-start gap-2 text-sm","data-testid":`completed-task-${I.id}`,children:[e.jsx(Rt,{className:"w-4 h-4 text-green-500 mt-0.5 shrink-0"}),e.jsxs("div",{children:[e.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:[I.taskDescription.substring(0,50),"..."]}),e.jsxs("span",{className:"text-gray-400 ml-2",children:["(",new Date(I.completedAt||I.createdAt).toLocaleDateString(),")"]})]})]},I.id))}),e.jsxs(S,{variant:"ghost",className:"w-full mt-3 text-[#FF385C]","data-testid":"button-view-all-completed",children:["View All Completed Tasks ",e.jsx(Kt,{className:"w-4 h-4 ml-1"})]})]})]})]})]})]})})}function lne(){const[t,s]=h.useState(1),a=[{id:1,name:"Sarah & Mike",event:"Tokyo Trip",lastMessage:"Thank you! We'll check out those restaurants.",time:"2 min ago",unread:0,status:"online"},{id:2,name:"Jennifer",event:"Proposal Planning",lastMessage:"The venue looks perfect!",time:"1 hour ago",unread:2,status:"offline"},{id:3,name:"David & Emma",event:"Anniversary",lastMessage:"Can we change the menu?",time:"3 hours ago",unread:1,status:"offline"},{id:4,name:"Amanda",event:"Birthday Party",lastMessage:"Thanks for the suggestions!",time:"Yesterday",unread:0,status:"offline"}],r=[{id:1,sender:"client",text:"Hi Yuki! We just checked into our hotel in Tokyo. Everything is amazing so far!",time:"10:30 AM"},{id:2,sender:"expert",text:"Welcome to Tokyo! I'm so glad you arrived safely. How was the flight?",time:"10:32 AM"},{id:3,sender:"client",text:"The flight was great, very smooth. We're excited to explore!",time:"10:35 AM"},{id:4,sender:"expert",text:"Perfect! I've prepared some restaurant recommendations for tonight. Would you like traditional Japanese or something more modern?",time:"10:40 AM"},{id:5,sender:"client",text:"Traditional Japanese sounds wonderful! Any sushi recommendations?",time:"10:45 AM"},{id:6,sender:"expert",text:`Absolutely! Here are my top 3 picks:

1. Sushi Saito (Roppongi) - Michelin 3-star
2. Sukiyabashi Jiro (Ginza) - Legendary
3. Sushi Yoshitake - Intimate atmosphere

I can make a reservation for any of these. What time works for you?`,time:"10:50 AM"},{id:7,sender:"client",text:"Thank you! We'll check out those restaurants.",time:"10:55 AM"}],n=a.find(i=>i.id===t);return e.jsx(Dr,{title:"Messages",children:e.jsxs("div",{className:"h-[calc(100vh-3.5rem)] flex",children:[e.jsxs("div",{className:"w-80 border-r border-gray-200 bg-white flex flex-col",children:[e.jsx("div",{className:"p-4 border-b border-gray-200",children:e.jsxs("div",{className:"relative",children:[e.jsx(ws,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(Ne,{placeholder:"Search conversations...",className:"pl-9","data-testid":"input-search-conversations"})]})}),e.jsx(Ha,{className:"flex-1",children:a.map(i=>e.jsx("div",{className:`p-4 cursor-pointer border-b border-gray-100 hover-elevate ${t===i.id?"bg-[#FF385C]/5 border-l-2 border-l-[#FF385C]":""}`,onClick:()=>s(i.id),"data-testid":`conversation-${i.id}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ls,{className:"h-10 w-10",children:e.jsx(Os,{className:"bg-[#FF385C]/10 text-[#FF385C]",children:i.name.split(" ").map(l=>l[0]).join("").slice(0,2)})}),i.status==="online"&&e.jsx("span",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-500 border-2 border-white rounded-full"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"font-medium text-gray-900 truncate",children:i.name}),e.jsx("span",{className:"text-xs text-gray-500",children:i.time})]}),e.jsx("p",{className:"text-xs text-gray-500",children:i.event}),e.jsx("p",{className:"text-sm text-gray-600 truncate mt-1",children:i.lastMessage})]}),i.unread>0&&e.jsx(O,{className:"bg-[#FF385C] text-white h-5 w-5 flex items-center justify-center p-0 text-xs",children:i.unread})]})},i.id))})]}),e.jsxs("div",{className:"flex-1 flex flex-col bg-gray-50",children:[e.jsxs("div",{className:"h-16 px-4 border-b border-gray-200 bg-white flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ls,{className:"h-10 w-10",children:e.jsx(Os,{className:"bg-[#FF385C]/10 text-[#FF385C]",children:n?.name.split(" ").map(i=>i[0]).join("").slice(0,2)})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:n?.name}),e.jsx("p",{className:"text-sm text-gray-500",children:n?.event})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(S,{variant:"ghost",size:"icon","data-testid":"button-call",children:e.jsx($l,{className:"w-5 h-5 text-gray-600"})}),e.jsx(S,{variant:"ghost",size:"icon","data-testid":"button-video",children:e.jsx(dm,{className:"w-5 h-5 text-gray-600"})}),e.jsx(S,{variant:"ghost",size:"icon","data-testid":"button-ai-assist",children:e.jsx(os,{className:"w-5 h-5 text-gray-600"})}),e.jsx(S,{variant:"ghost",size:"icon","data-testid":"button-more",children:e.jsx(Bu,{className:"w-5 h-5 text-gray-600"})})]})]}),e.jsx(Ha,{className:"flex-1 p-4",children:e.jsx("div",{className:"space-y-4 max-w-3xl mx-auto",children:r.map(i=>e.jsx("div",{className:`flex ${i.sender==="expert"?"justify-end":"justify-start"}`,"data-testid":`message-${i.id}`,children:e.jsxs("div",{className:`max-w-md px-4 py-2 rounded-lg ${i.sender==="expert"?"bg-[#FF385C] text-white":"bg-white border border-gray-200 text-gray-900"}`,children:[e.jsx("p",{className:"text-sm whitespace-pre-line",children:i.text}),e.jsx("p",{className:`text-xs mt-1 ${i.sender==="expert"?"text-white/70":"text-gray-500"}`,children:i.time})]})},i.id))})}),e.jsx("div",{className:"p-4 border-t border-gray-200 bg-white",children:e.jsxs("div",{className:"flex items-center gap-3 max-w-3xl mx-auto",children:[e.jsx(S,{variant:"ghost",size:"icon","data-testid":"button-attach",children:e.jsx(g$,{className:"w-5 h-5 text-gray-600"})}),e.jsx(Ne,{placeholder:"Type a message...",className:"flex-1","data-testid":"input-message"}),e.jsx(S,{className:"bg-[#FF385C] ","data-testid":"button-send",children:e.jsx(ul,{className:"w-4 h-4"})})]})})]})]})})}var ts=function(){return ts=Object.assign||function(s){for(var a,r=1,n=arguments.length;r<n;r++){a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(s[i]=a[i])}return s},ts.apply(this,arguments)};function one(t,s){var a={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&s.indexOf(r)<0&&(a[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)s.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(a[r[n]]=t[r[n]]);return a}function J8(t,s,a){for(var r=0,n=s.length,i;r<n;r++)(i||!(r in s))&&(i||(i=Array.prototype.slice.call(s,0,r)),i[r]=s[r]);return t.concat(i||Array.prototype.slice.call(s))}function Wx(t){return t.mode==="multiple"}function Gx(t){return t.mode==="range"}function Y0(t){return t.mode==="single"}var cne={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function dne(t,s){return Et(t,"LLLL y",s)}function une(t,s){return Et(t,"d",s)}function mne(t,s){return Et(t,"LLLL",s)}function hne(t){return"".concat(t)}function xne(t,s){return Et(t,"cccccc",s)}function pne(t,s){return Et(t,"yyyy",s)}var fne=Object.freeze({__proto__:null,formatCaption:dne,formatDay:une,formatMonthCaption:mne,formatWeekNumber:hne,formatWeekdayName:xne,formatYearCaption:pne}),gne=function(t,s,a){return Et(t,"do MMMM (EEEE)",a)},vne=function(){return"Month: "},yne=function(){return"Go to next month"},jne=function(){return"Go to previous month"},bne=function(t,s){return Et(t,"cccc",s)},Nne=function(t){return"Week n. ".concat(t)},wne=function(){return"Year: "},kne=Object.freeze({__proto__:null,labelDay:gne,labelMonthDropdown:vne,labelNext:yne,labelPrevious:jne,labelWeekNumber:Nne,labelWeekday:bne,labelYearDropdown:wne});function Cne(){var t="buttons",s=cne,a=N1,r={},n={},i=1,l={},c=new Date;return{captionLayout:t,classNames:s,formatters:fne,labels:kne,locale:a,modifiersClassNames:r,modifiers:n,numberOfMonths:i,styles:l,today:c,mode:"default"}}function Sne(t){var s=t.fromYear,a=t.toYear,r=t.fromMonth,n=t.toMonth,i=t.fromDate,l=t.toDate;return r?i=an(r):s&&(i=new Date(s,0,1)),n?l=sm(n):a&&(l=new Date(a,11,31)),{fromDate:i?Ju(i):void 0,toDate:l?Ju(l):void 0}}var eM=h.createContext(void 0);function Tne(t){var s,a=t.initialProps,r=Cne(),n=Sne(a),i=n.fromDate,l=n.toDate,c=(s=a.captionLayout)!==null&&s!==void 0?s:r.captionLayout;c!=="buttons"&&(!i||!l)&&(c="buttons");var u;(Y0(a)||Wx(a)||Gx(a))&&(u=a.onSelect);var m=ts(ts(ts({},r),a),{captionLayout:c,classNames:ts(ts({},r.classNames),a.classNames),components:ts({},a.components),formatters:ts(ts({},r.formatters),a.formatters),fromDate:i,labels:ts(ts({},r.labels),a.labels),mode:a.mode||r.mode,modifiers:ts(ts({},r.modifiers),a.modifiers),modifiersClassNames:ts(ts({},r.modifiersClassNames),a.modifiersClassNames),onSelect:u,styles:ts(ts({},r.styles),a.styles),toDate:l});return e.jsx(eM.Provider,{value:m,children:t.children})}function ua(){var t=h.useContext(eM);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function tM(t){var s=ua(),a=s.locale,r=s.classNames,n=s.styles,i=s.formatters.formatCaption;return e.jsx("div",{className:r.caption_label,style:n.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:i(t.displayMonth,{locale:a})})}function _ne(t){return e.jsx("svg",ts({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:e.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function sM(t){var s,a,r=t.onChange,n=t.value,i=t.children,l=t.caption,c=t.className,u=t.style,m=ua(),x=(a=(s=m.components)===null||s===void 0?void 0:s.IconDropdown)!==null&&a!==void 0?a:_ne;return e.jsxs("div",{className:c,style:u,children:[e.jsx("span",{className:m.classNames.vhidden,children:t["aria-label"]}),e.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:m.classNames.dropdown,style:m.styles.dropdown,value:n,onChange:r,children:i}),e.jsxs("div",{className:m.classNames.caption_label,style:m.styles.caption_label,"aria-hidden":"true",children:[l,e.jsx(x,{className:m.classNames.dropdown_icon,style:m.styles.dropdown_icon})]})]})}function Ene(t){var s,a=ua(),r=a.fromDate,n=a.toDate,i=a.styles,l=a.locale,c=a.formatters.formatMonthCaption,u=a.classNames,m=a.components,x=a.labels.labelMonthDropdown;if(!r)return e.jsx(e.Fragment,{});if(!n)return e.jsx(e.Fragment,{});var f=[];if(cQ(r,n))for(var g=an(r),b=r.getMonth();b<=n.getMonth();b++)f.push(Cj(g,b));else for(var g=an(new Date),b=0;b<=11;b++)f.push(Cj(g,b));var v=function(w){var k=Number(w.target.value),C=Cj(an(t.displayMonth),k);t.onChange(C)},y=(s=m?.Dropdown)!==null&&s!==void 0?s:sM;return e.jsx(y,{name:"months","aria-label":x(),className:u.dropdown_month,style:i.dropdown_month,onChange:v,value:t.displayMonth.getMonth(),caption:c(t.displayMonth,{locale:l}),children:f.map(function(w){return e.jsx("option",{value:w.getMonth(),children:c(w,{locale:l})},w.getMonth())})})}function Pne(t){var s,a=t.displayMonth,r=ua(),n=r.fromDate,i=r.toDate,l=r.locale,c=r.styles,u=r.classNames,m=r.components,x=r.formatters.formatYearCaption,f=r.labels.labelYearDropdown,g=[];if(!n)return e.jsx(e.Fragment,{});if(!i)return e.jsx(e.Fragment,{});for(var b=n.getFullYear(),v=i.getFullYear(),y=b;y<=v;y++)g.push(F5(H6(new Date),y));var w=function(C){var _=F5(an(a),Number(C.target.value));t.onChange(_)},k=(s=m?.Dropdown)!==null&&s!==void 0?s:sM;return e.jsx(k,{name:"years","aria-label":f(),className:u.dropdown_year,style:c.dropdown_year,onChange:w,value:a.getFullYear(),caption:x(a,{locale:l}),children:g.map(function(C){return e.jsx("option",{value:C.getFullYear(),children:x(C,{locale:l})},C.getFullYear())})})}function Ane(t,s){var a=h.useState(t),r=a[0],n=a[1],i=s===void 0?r:s;return[i,n]}function Dne(t){var s=t.month,a=t.defaultMonth,r=t.today,n=s||a||r||new Date,i=t.toDate,l=t.fromDate,c=t.numberOfMonths,u=c===void 0?1:c;if(i&&tm(i,n)<0){var m=-1*(u-1);n=Vn(i,m)}return l&&tm(n,l)<0&&(n=l),an(n)}function Fne(){var t=ua(),s=Dne(t),a=Ane(s,t.month),r=a[0],n=a[1],i=function(l){var c;if(!t.disableNavigation){var u=an(l);n(u),(c=t.onMonthChange)===null||c===void 0||c.call(t,u)}};return[r,i]}function Mne(t,s){for(var a=s.reverseMonths,r=s.numberOfMonths,n=an(t),i=an(Vn(n,r)),l=tm(i,n),c=[],u=0;u<l;u++){var m=Vn(n,u);c.push(m)}return a&&(c=c.reverse()),c}function Ine(t,s){if(!s.disableNavigation){var a=s.toDate,r=s.pagedNavigation,n=s.numberOfMonths,i=n===void 0?1:n,l=r?i:1,c=an(t);if(!a)return Vn(c,l);var u=tm(a,t);if(!(u<i))return Vn(c,l)}}function Rne(t,s){if(!s.disableNavigation){var a=s.fromDate,r=s.pagedNavigation,n=s.numberOfMonths,i=n===void 0?1:n,l=r?i:1,c=an(t);if(!a)return Vn(c,-l);var u=tm(c,a);if(!(u<=0))return Vn(c,-l)}}var aM=h.createContext(void 0);function Lne(t){var s=ua(),a=Fne(),r=a[0],n=a[1],i=Mne(r,s),l=Ine(r,s),c=Rne(r,s),u=function(f){return i.some(function(g){return w1(f,g)})},m=function(f,g){u(f)||(g&&X6(f,g)?n(Vn(f,1+s.numberOfMonths*-1)):n(f))},x={currentMonth:r,displayMonths:i,goToMonth:n,goToDate:m,previousMonth:c,nextMonth:l,isDateDisplayed:u};return e.jsx(aM.Provider,{value:x,children:t.children})}function Kx(){var t=h.useContext(aM);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function n3(t){var s,a=ua(),r=a.classNames,n=a.styles,i=a.components,l=Kx().goToMonth,c=function(x){l(Vn(x,t.displayIndex?-t.displayIndex:0))},u=(s=i?.CaptionLabel)!==null&&s!==void 0?s:tM,m=e.jsx(u,{id:t.id,displayMonth:t.displayMonth});return e.jsxs("div",{className:r.caption_dropdowns,style:n.caption_dropdowns,children:[e.jsx("div",{className:r.vhidden,children:m}),e.jsx(Ene,{onChange:c,displayMonth:t.displayMonth}),e.jsx(Pne,{onChange:c,displayMonth:t.displayMonth})]})}function One(t){return e.jsx("svg",ts({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:e.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function $ne(t){return e.jsx("svg",ts({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:e.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Vg=h.forwardRef(function(t,s){var a=ua(),r=a.classNames,n=a.styles,i=[r.button_reset,r.button];t.className&&i.push(t.className);var l=i.join(" "),c=ts(ts({},n.button_reset),n.button);return t.style&&Object.assign(c,t.style),e.jsx("button",ts({},t,{ref:s,type:"button",className:l,style:c}))});function Bne(t){var s,a,r=ua(),n=r.dir,i=r.locale,l=r.classNames,c=r.styles,u=r.labels,m=u.labelPrevious,x=u.labelNext,f=r.components;if(!t.nextMonth&&!t.previousMonth)return e.jsx(e.Fragment,{});var g=m(t.previousMonth,{locale:i}),b=[l.nav_button,l.nav_button_previous].join(" "),v=x(t.nextMonth,{locale:i}),y=[l.nav_button,l.nav_button_next].join(" "),w=(s=f?.IconRight)!==null&&s!==void 0?s:$ne,k=(a=f?.IconLeft)!==null&&a!==void 0?a:One;return e.jsxs("div",{className:l.nav,style:c.nav,children:[!t.hidePrevious&&e.jsx(Vg,{name:"previous-month","aria-label":g,className:b,style:c.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:n==="rtl"?e.jsx(w,{className:l.nav_icon,style:c.nav_icon}):e.jsx(k,{className:l.nav_icon,style:c.nav_icon})}),!t.hideNext&&e.jsx(Vg,{name:"next-month","aria-label":v,className:y,style:c.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:n==="rtl"?e.jsx(k,{className:l.nav_icon,style:c.nav_icon}):e.jsx(w,{className:l.nav_icon,style:c.nav_icon})})]})}function i3(t){var s=ua().numberOfMonths,a=Kx(),r=a.previousMonth,n=a.nextMonth,i=a.goToMonth,l=a.displayMonths,c=l.findIndex(function(v){return w1(t.displayMonth,v)}),u=c===0,m=c===l.length-1,x=s>1&&(u||!m),f=s>1&&(m||!u),g=function(){r&&i(r)},b=function(){n&&i(n)};return e.jsx(Bne,{displayMonth:t.displayMonth,hideNext:x,hidePrevious:f,nextMonth:n,previousMonth:r,onPreviousClick:g,onNextClick:b})}function zne(t){var s,a=ua(),r=a.classNames,n=a.disableNavigation,i=a.styles,l=a.captionLayout,c=a.components,u=(s=c?.CaptionLabel)!==null&&s!==void 0?s:tM,m;return n?m=e.jsx(u,{id:t.id,displayMonth:t.displayMonth}):l==="dropdown"?m=e.jsx(n3,{displayMonth:t.displayMonth,id:t.id}):l==="dropdown-buttons"?m=e.jsxs(e.Fragment,{children:[e.jsx(n3,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),e.jsx(i3,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):m=e.jsxs(e.Fragment,{children:[e.jsx(u,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),e.jsx(i3,{displayMonth:t.displayMonth,id:t.id})]}),e.jsx("div",{className:r.caption,style:i.caption,children:m})}function Vne(t){var s=ua(),a=s.footer,r=s.styles,n=s.classNames.tfoot;return a?e.jsx("tfoot",{className:n,style:r.tfoot,children:e.jsx("tr",{children:e.jsx("td",{colSpan:8,children:a})})}):e.jsx(e.Fragment,{})}function Une(t,s,a){for(var r=a?dd(new Date):Rl(new Date,{locale:t,weekStartsOn:s}),n=[],i=0;i<7;i++){var l=Lr(r,i);n.push(l)}return n}function qne(){var t=ua(),s=t.classNames,a=t.styles,r=t.showWeekNumber,n=t.locale,i=t.weekStartsOn,l=t.ISOWeek,c=t.formatters.formatWeekdayName,u=t.labels.labelWeekday,m=Une(n,i,l);return e.jsxs("tr",{style:a.head_row,className:s.head_row,children:[r&&e.jsx("td",{style:a.head_cell,className:s.head_cell}),m.map(function(x,f){return e.jsx("th",{scope:"col",className:s.head_cell,style:a.head_cell,"aria-label":u(x,{locale:n}),children:c(x,{locale:n})},f)})]})}function Hne(){var t,s=ua(),a=s.classNames,r=s.styles,n=s.components,i=(t=n?.HeadRow)!==null&&t!==void 0?t:qne;return e.jsx("thead",{style:r.head,className:a.head,children:e.jsx(i,{})})}function Wne(t){var s=ua(),a=s.locale,r=s.formatters.formatDay;return e.jsx(e.Fragment,{children:r(t.date,{locale:a})})}var r2=h.createContext(void 0);function Gne(t){if(!Wx(t.initialProps)){var s={selected:void 0,modifiers:{disabled:[]}};return e.jsx(r2.Provider,{value:s,children:t.children})}return e.jsx(Kne,{initialProps:t.initialProps,children:t.children})}function Kne(t){var s=t.initialProps,a=t.children,r=s.selected,n=s.min,i=s.max,l=function(m,x,f){var g,b;(g=s.onDayClick)===null||g===void 0||g.call(s,m,x,f);var v=!!(x.selected&&n&&r?.length===n);if(!v){var y=!!(!x.selected&&i&&r?.length===i);if(!y){var w=r?J8([],r):[];if(x.selected){var k=w.findIndex(function(C){return sn(m,C)});w.splice(k,1)}else w.push(m);(b=s.onSelect)===null||b===void 0||b.call(s,w,m,x,f)}}},c={disabled:[]};r&&c.disabled.push(function(m){var x=i&&r.length>i-1,f=r.some(function(g){return sn(g,m)});return!!(x&&!f)});var u={selected:r,onDayClick:l,modifiers:c};return e.jsx(r2.Provider,{value:u,children:a})}function n2(){var t=h.useContext(r2);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function Yne(t,s){var a=s||{},r=a.from,n=a.to;return r&&n?sn(n,t)&&sn(r,t)?void 0:sn(n,t)?{from:n,to:void 0}:sn(r,t)?void 0:oN(r,t)?{from:t,to:n}:{from:r,to:t}:n?oN(t,n)?{from:n,to:t}:{from:t,to:n}:r?X6(t,r)?{from:t,to:r}:{from:r,to:t}:{from:t,to:void 0}}var i2=h.createContext(void 0);function Qne(t){if(!Gx(t.initialProps)){var s={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return e.jsx(i2.Provider,{value:s,children:t.children})}return e.jsx(Xne,{initialProps:t.initialProps,children:t.children})}function Xne(t){var s=t.initialProps,a=t.children,r=s.selected,n=r||{},i=n.from,l=n.to,c=s.min,u=s.max,m=function(b,v,y){var w,k;(w=s.onDayClick)===null||w===void 0||w.call(s,b,v,y);var C=Yne(b,r);(k=s.onSelect)===null||k===void 0||k.call(s,C,b,v,y)},x={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(x.range_start=[i],l?(x.range_end=[l],sn(i,l)||(x.range_middle=[{after:i,before:l}])):x.range_end=[i]):l&&(x.range_start=[l],x.range_end=[l]),c&&(i&&!l&&x.disabled.push({after:wj(i,c-1),before:Lr(i,c-1)}),i&&l&&x.disabled.push({after:i,before:Lr(i,c-1)}),!i&&l&&x.disabled.push({after:wj(l,c-1),before:Lr(l,c-1)})),u){if(i&&!l&&(x.disabled.push({before:Lr(i,-u+1)}),x.disabled.push({after:Lr(i,u-1)})),i&&l){var f=el(l,i)+1,g=u-f;x.disabled.push({before:wj(i,g)}),x.disabled.push({after:Lr(l,g)})}!i&&l&&(x.disabled.push({before:Lr(l,-u+1)}),x.disabled.push({after:Lr(l,u-1)}))}return e.jsx(i2.Provider,{value:{selected:r,onDayClick:m,modifiers:x},children:a})}function l2(){var t=h.useContext(i2);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function Hf(t){return Array.isArray(t)?J8([],t):t!==void 0?[t]:[]}function Zne(t){var s={};return Object.entries(t).forEach(function(a){var r=a[0],n=a[1];s[r]=Hf(n)}),s}var cl;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(cl||(cl={}));var Jne=cl.Selected,so=cl.Disabled,eie=cl.Hidden,tie=cl.Today,$j=cl.RangeEnd,Bj=cl.RangeMiddle,zj=cl.RangeStart,sie=cl.Outside;function aie(t,s,a){var r,n=(r={},r[Jne]=Hf(t.selected),r[so]=Hf(t.disabled),r[eie]=Hf(t.hidden),r[tie]=[t.today],r[$j]=[],r[Bj]=[],r[zj]=[],r[sie]=[],r);return t.fromDate&&n[so].push({before:t.fromDate}),t.toDate&&n[so].push({after:t.toDate}),Wx(t)?n[so]=n[so].concat(s.modifiers[so]):Gx(t)&&(n[so]=n[so].concat(a.modifiers[so]),n[zj]=a.modifiers[zj],n[Bj]=a.modifiers[Bj],n[$j]=a.modifiers[$j]),n}var rM=h.createContext(void 0);function rie(t){var s=ua(),a=n2(),r=l2(),n=aie(s,a,r),i=Zne(s.modifiers),l=ts(ts({},n),i);return e.jsx(rM.Provider,{value:l,children:t.children})}function nM(){var t=h.useContext(rM);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function nie(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function iie(t){return!!(t&&typeof t=="object"&&"from"in t)}function lie(t){return!!(t&&typeof t=="object"&&"after"in t)}function oie(t){return!!(t&&typeof t=="object"&&"before"in t)}function cie(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function die(t,s){var a,r=s.from,n=s.to;if(r&&n){var i=el(n,r)<0;i&&(a=[n,r],r=a[0],n=a[1]);var l=el(t,r)>=0&&el(n,t)>=0;return l}return n?sn(n,t):r?sn(r,t):!1}function uie(t){return j1(t)}function mie(t){return Array.isArray(t)&&t.every(j1)}function hie(t,s){return s.some(function(a){if(typeof a=="boolean")return a;if(uie(a))return sn(t,a);if(mie(a))return a.includes(t);if(iie(a))return die(t,a);if(cie(a))return a.dayOfWeek.includes(t.getDay());if(nie(a)){var r=el(a.before,t),n=el(a.after,t),i=r>0,l=n<0,c=oN(a.before,a.after);return c?l&&i:i||l}return lie(a)?el(t,a.after)>0:oie(a)?el(a.before,t)>0:typeof a=="function"?a(t):!1})}function o2(t,s,a){var r=Object.keys(s).reduce(function(i,l){var c=s[l];return hie(t,c)&&i.push(l),i},[]),n={};return r.forEach(function(i){return n[i]=!0}),a&&!w1(t,a)&&(n.outside=!0),n}function xie(t,s){for(var a=an(t[0]),r=sm(t[t.length-1]),n,i,l=a;l<=r;){var c=o2(l,s),u=!c.disabled&&!c.hidden;if(!u){l=Lr(l,1);continue}if(c.selected)return l;c.today&&!i&&(i=l),n||(n=l),l=Lr(l,1)}return i||n}var pie=365;function iM(t,s){var a=s.moveBy,r=s.direction,n=s.context,i=s.modifiers,l=s.retry,c=l===void 0?{count:0,lastFocused:t}:l,u=n.weekStartsOn,m=n.fromDate,x=n.toDate,f=n.locale,g={day:Lr,week:lN,month:Vn,year:QK,startOfWeek:function(w){return n.ISOWeek?dd(w):Rl(w,{locale:f,weekStartsOn:u})},endOfWeek:function(w){return n.ISOWeek?W6(w):b1(w,{locale:f,weekStartsOn:u})}},b=g[a](t,r==="after"?1:-1);r==="before"&&m?b=XK([m,b]):r==="after"&&x&&(b=ZK([x,b]));var v=!0;if(i){var y=o2(b,i);v=!y.disabled&&!y.hidden}return v?b:c.count>pie?c.lastFocused:iM(b,{moveBy:a,direction:r,context:n,modifiers:i,retry:ts(ts({},c),{count:c.count+1})})}var lM=h.createContext(void 0);function fie(t){var s=Kx(),a=nM(),r=h.useState(),n=r[0],i=r[1],l=h.useState(),c=l[0],u=l[1],m=xie(s.displayMonths,a),x=n??(c&&s.isDateDisplayed(c))?c:m,f=function(){u(n),i(void 0)},g=function(w){i(w)},b=ua(),v=function(w,k){if(n){var C=iM(n,{moveBy:w,direction:k,context:b,modifiers:a});sn(n,C)||(s.goToDate(C,n),g(C))}},y={focusedDay:n,focusTarget:x,blur:f,focus:g,focusDayAfter:function(){return v("day","after")},focusDayBefore:function(){return v("day","before")},focusWeekAfter:function(){return v("week","after")},focusWeekBefore:function(){return v("week","before")},focusMonthBefore:function(){return v("month","before")},focusMonthAfter:function(){return v("month","after")},focusYearBefore:function(){return v("year","before")},focusYearAfter:function(){return v("year","after")},focusStartOfWeek:function(){return v("startOfWeek","before")},focusEndOfWeek:function(){return v("endOfWeek","after")}};return e.jsx(lM.Provider,{value:y,children:t.children})}function c2(){var t=h.useContext(lM);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function gie(t,s){var a=nM(),r=o2(t,a,s);return r}var d2=h.createContext(void 0);function vie(t){if(!Y0(t.initialProps)){var s={selected:void 0};return e.jsx(d2.Provider,{value:s,children:t.children})}return e.jsx(yie,{initialProps:t.initialProps,children:t.children})}function yie(t){var s=t.initialProps,a=t.children,r=function(i,l,c){var u,m,x;if((u=s.onDayClick)===null||u===void 0||u.call(s,i,l,c),l.selected&&!s.required){(m=s.onSelect)===null||m===void 0||m.call(s,void 0,i,l,c);return}(x=s.onSelect)===null||x===void 0||x.call(s,i,i,l,c)},n={selected:s.selected,onDayClick:r};return e.jsx(d2.Provider,{value:n,children:a})}function oM(){var t=h.useContext(d2);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function jie(t,s){var a=ua(),r=oM(),n=n2(),i=l2(),l=c2(),c=l.focusDayAfter,u=l.focusDayBefore,m=l.focusWeekAfter,x=l.focusWeekBefore,f=l.blur,g=l.focus,b=l.focusMonthBefore,v=l.focusMonthAfter,y=l.focusYearBefore,w=l.focusYearAfter,k=l.focusStartOfWeek,C=l.focusEndOfWeek,_=function(ie){var B,ae,ke,$;Y0(a)?(B=r.onDayClick)===null||B===void 0||B.call(r,t,s,ie):Wx(a)?(ae=n.onDayClick)===null||ae===void 0||ae.call(n,t,s,ie):Gx(a)?(ke=i.onDayClick)===null||ke===void 0||ke.call(i,t,s,ie):($=a.onDayClick)===null||$===void 0||$.call(a,t,s,ie)},M=function(ie){var B;g(t),(B=a.onDayFocus)===null||B===void 0||B.call(a,t,s,ie)},E=function(ie){var B;f(),(B=a.onDayBlur)===null||B===void 0||B.call(a,t,s,ie)},R=function(ie){var B;(B=a.onDayMouseEnter)===null||B===void 0||B.call(a,t,s,ie)},z=function(ie){var B;(B=a.onDayMouseLeave)===null||B===void 0||B.call(a,t,s,ie)},A=function(ie){var B;(B=a.onDayPointerEnter)===null||B===void 0||B.call(a,t,s,ie)},V=function(ie){var B;(B=a.onDayPointerLeave)===null||B===void 0||B.call(a,t,s,ie)},H=function(ie){var B;(B=a.onDayTouchCancel)===null||B===void 0||B.call(a,t,s,ie)},I=function(ie){var B;(B=a.onDayTouchEnd)===null||B===void 0||B.call(a,t,s,ie)},q=function(ie){var B;(B=a.onDayTouchMove)===null||B===void 0||B.call(a,t,s,ie)},fe=function(ie){var B;(B=a.onDayTouchStart)===null||B===void 0||B.call(a,t,s,ie)},oe=function(ie){var B;(B=a.onDayKeyUp)===null||B===void 0||B.call(a,t,s,ie)},Ee=function(ie){var B;switch(ie.key){case"ArrowLeft":ie.preventDefault(),ie.stopPropagation(),a.dir==="rtl"?c():u();break;case"ArrowRight":ie.preventDefault(),ie.stopPropagation(),a.dir==="rtl"?u():c();break;case"ArrowDown":ie.preventDefault(),ie.stopPropagation(),m();break;case"ArrowUp":ie.preventDefault(),ie.stopPropagation(),x();break;case"PageUp":ie.preventDefault(),ie.stopPropagation(),ie.shiftKey?y():b();break;case"PageDown":ie.preventDefault(),ie.stopPropagation(),ie.shiftKey?w():v();break;case"Home":ie.preventDefault(),ie.stopPropagation(),k();break;case"End":ie.preventDefault(),ie.stopPropagation(),C();break}(B=a.onDayKeyDown)===null||B===void 0||B.call(a,t,s,ie)},me={onClick:_,onFocus:M,onBlur:E,onKeyDown:Ee,onKeyUp:oe,onMouseEnter:R,onMouseLeave:z,onPointerEnter:A,onPointerLeave:V,onTouchCancel:H,onTouchEnd:I,onTouchMove:q,onTouchStart:fe};return me}function bie(){var t=ua(),s=oM(),a=n2(),r=l2(),n=Y0(t)?s.selected:Wx(t)?a.selected:Gx(t)?r.selected:void 0;return n}function Nie(t){return Object.values(cl).includes(t)}function wie(t,s){var a=[t.classNames.day];return Object.keys(s).forEach(function(r){var n=t.modifiersClassNames[r];if(n)a.push(n);else if(Nie(r)){var i=t.classNames["day_".concat(r)];i&&a.push(i)}}),a}function kie(t,s){var a=ts({},t.styles.day);return Object.keys(s).forEach(function(r){var n;a=ts(ts({},a),(n=t.modifiersStyles)===null||n===void 0?void 0:n[r])}),a}function Cie(t,s,a){var r,n,i,l=ua(),c=c2(),u=gie(t,s),m=jie(t,u),x=bie(),f=!!(l.onDayClick||l.mode!=="default");h.useEffect(function(){var R;u.outside||c.focusedDay&&f&&sn(c.focusedDay,t)&&((R=a.current)===null||R===void 0||R.focus())},[c.focusedDay,t,a,f,u.outside]);var g=wie(l,u).join(" "),b=kie(l,u),v=!!(u.outside&&!l.showOutsideDays||u.hidden),y=(i=(n=l.components)===null||n===void 0?void 0:n.DayContent)!==null&&i!==void 0?i:Wne,w=e.jsx(y,{date:t,displayMonth:s,activeModifiers:u}),k={style:b,className:g,children:w,role:"gridcell"},C=c.focusTarget&&sn(c.focusTarget,t)&&!u.outside,_=c.focusedDay&&sn(c.focusedDay,t),M=ts(ts(ts({},k),(r={disabled:u.disabled,role:"gridcell"},r["aria-selected"]=u.selected,r.tabIndex=_||C?0:-1,r)),m),E={isButton:f,isHidden:v,activeModifiers:u,selectedDays:x,buttonProps:M,divProps:k};return E}function Sie(t){var s=h.useRef(null),a=Cie(t.date,t.displayMonth,s);return a.isHidden?e.jsx("div",{role:"gridcell"}):a.isButton?e.jsx(Vg,ts({name:"day",ref:s},a.buttonProps)):e.jsx("div",ts({},a.divProps))}function Tie(t){var s=t.number,a=t.dates,r=ua(),n=r.onWeekNumberClick,i=r.styles,l=r.classNames,c=r.locale,u=r.labels.labelWeekNumber,m=r.formatters.formatWeekNumber,x=m(Number(s),{locale:c});if(!n)return e.jsx("span",{className:l.weeknumber,style:i.weeknumber,children:x});var f=u(Number(s),{locale:c}),g=function(b){n(s,a,b)};return e.jsx(Vg,{name:"week-number","aria-label":f,className:l.weeknumber,style:i.weeknumber,onClick:g,children:x})}function _ie(t){var s,a,r=ua(),n=r.styles,i=r.classNames,l=r.showWeekNumber,c=r.components,u=(s=c?.Day)!==null&&s!==void 0?s:Sie,m=(a=c?.WeekNumber)!==null&&a!==void 0?a:Tie,x;return l&&(x=e.jsx("td",{className:i.cell,style:n.cell,children:e.jsx(m,{number:t.weekNumber,dates:t.dates})})),e.jsxs("tr",{className:i.row,style:n.row,children:[x,t.dates.map(function(f){return e.jsx("td",{className:i.cell,style:n.cell,role:"presentation",children:e.jsx(u,{displayMonth:t.displayMonth,date:f})},iQ(f))})]})}function l3(t,s,a){for(var r=a?.ISOWeek?W6(s):b1(s,a),n=a?.ISOWeek?dd(t):Rl(t,a),i=el(r,n),l=[],c=0;c<=i;c++)l.push(Lr(n,c));var u=l.reduce(function(m,x){var f=a?.ISOWeek?G6(x):Y6(x,a),g=m.find(function(b){return b.weekNumber===f});return g?(g.dates.push(x),m):(m.push({weekNumber:f,dates:[x]}),m)},[]);return u}function Eie(t,s){var a=l3(an(t),sm(t),s);if(s?.useFixedWeeks){var r=oQ(t,s);if(r<6){var n=a[a.length-1],i=n.dates[n.dates.length-1],l=lN(i,6-r),c=l3(lN(i,1),l,s);a.push.apply(a,c)}}return a}function Pie(t){var s,a,r,n=ua(),i=n.locale,l=n.classNames,c=n.styles,u=n.hideHead,m=n.fixedWeeks,x=n.components,f=n.weekStartsOn,g=n.firstWeekContainsDate,b=n.ISOWeek,v=Eie(t.displayMonth,{useFixedWeeks:!!m,ISOWeek:b,locale:i,weekStartsOn:f,firstWeekContainsDate:g}),y=(s=x?.Head)!==null&&s!==void 0?s:Hne,w=(a=x?.Row)!==null&&a!==void 0?a:_ie,k=(r=x?.Footer)!==null&&r!==void 0?r:Vne;return e.jsxs("table",{id:t.id,className:l.table,style:c.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!u&&e.jsx(y,{}),e.jsx("tbody",{className:l.tbody,style:c.tbody,children:v.map(function(C){return e.jsx(w,{displayMonth:t.displayMonth,dates:C.dates,weekNumber:C.weekNumber},C.weekNumber)})}),e.jsx(k,{displayMonth:t.displayMonth})]})}function Aie(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var Die=Aie()?h.useLayoutEffect:h.useEffect,Vj=!1,Fie=0;function o3(){return"react-day-picker-".concat(++Fie)}function Mie(t){var s,a=t??(Vj?o3():null),r=h.useState(a),n=r[0],i=r[1];return Die(function(){n===null&&i(o3())},[]),h.useEffect(function(){Vj===!1&&(Vj=!0)},[]),(s=t??n)!==null&&s!==void 0?s:void 0}function Iie(t){var s,a,r=ua(),n=r.dir,i=r.classNames,l=r.styles,c=r.components,u=Kx().displayMonths,m=Mie(r.id?"".concat(r.id,"-").concat(t.displayIndex):void 0),x=r.id?"".concat(r.id,"-grid-").concat(t.displayIndex):void 0,f=[i.month],g=l.month,b=t.displayIndex===0,v=t.displayIndex===u.length-1,y=!b&&!v;n==="rtl"&&(s=[b,v],v=s[0],b=s[1]),b&&(f.push(i.caption_start),g=ts(ts({},g),l.caption_start)),v&&(f.push(i.caption_end),g=ts(ts({},g),l.caption_end)),y&&(f.push(i.caption_between),g=ts(ts({},g),l.caption_between));var w=(a=c?.Caption)!==null&&a!==void 0?a:zne;return e.jsxs("div",{className:f.join(" "),style:g,children:[e.jsx(w,{id:m,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),e.jsx(Pie,{id:x,"aria-labelledby":m,displayMonth:t.displayMonth})]},t.displayIndex)}function Rie(t){var s=ua(),a=s.classNames,r=s.styles;return e.jsx("div",{className:a.months,style:r.months,children:t.children})}function Lie(t){var s,a,r=t.initialProps,n=ua(),i=c2(),l=Kx(),c=h.useState(!1),u=c[0],m=c[1];h.useEffect(function(){n.initialFocus&&i.focusTarget&&(u||(i.focus(i.focusTarget),m(!0)))},[n.initialFocus,u,i.focus,i.focusTarget,i]);var x=[n.classNames.root,n.className];n.numberOfMonths>1&&x.push(n.classNames.multiple_months),n.showWeekNumber&&x.push(n.classNames.with_weeknumber);var f=ts(ts({},n.styles.root),n.style),g=Object.keys(r).filter(function(v){return v.startsWith("data-")}).reduce(function(v,y){var w;return ts(ts({},v),(w={},w[y]=r[y],w))},{}),b=(a=(s=r.components)===null||s===void 0?void 0:s.Months)!==null&&a!==void 0?a:Rie;return e.jsx("div",ts({className:x.join(" "),style:f,dir:n.dir,id:n.id,nonce:r.nonce,title:r.title,lang:r.lang},g,{children:e.jsx(b,{children:l.displayMonths.map(function(v,y){return e.jsx(Iie,{displayIndex:y,displayMonth:v},y)})})}))}function Oie(t){var s=t.children,a=one(t,["children"]);return e.jsx(Tne,{initialProps:a,children:e.jsx(Lne,{children:e.jsx(vie,{initialProps:a,children:e.jsx(Gne,{initialProps:a,children:e.jsx(Qne,{initialProps:a,children:e.jsx(rie,{children:e.jsx(fie,{children:s})})})})})})})}function $ie(t){return e.jsx(Oie,ts({},t,{children:e.jsx(Lie,{initialProps:t})}))}function Tl({className:t,classNames:s,showOutsideDays:a=!0,...r}){return e.jsx($ie,{showOutsideDays:a,className:te("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:te(zb({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:te(zb({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...s},components:{IconLeft:({className:n,...i})=>e.jsx(hr,{className:te("h-4 w-4",n),...i}),IconRight:({className:n,...i})=>e.jsx($s,{className:te("h-4 w-4",n),...i})},...r})}Tl.displayName="Calendar";function Bie(){const[t,s]=h.useState(new Date),a=[{id:1,client:"Sarah & Mike",event:"Restaurant Reservation",date:"Today",time:"7:00 PM",location:"Sushi Saito, Roppongi",status:"confirmed",notes:"Table for 2, window seat requested"},{id:2,client:"Jennifer",event:"Venue Viewing",date:"Tomorrow",time:"10:00 AM",location:"Shangri-La Paris",status:"pending",notes:"Proposal venue tour"},{id:3,client:"David & Emma",event:"Final Menu Review",date:"Friday",time:"2:00 PM",location:"Le Bernardin",status:"confirmed",notes:"Anniversary dinner menu tasting"}],r=[{time:"9:00 AM",event:"Morning briefing",type:"internal"},{time:"11:00 AM",event:"Sarah & Mike check-in call",type:"call"},{time:"2:00 PM",event:"Jennifer venue research",type:"research"},{time:"7:00 PM",event:"Sarah & Mike dinner reservation",type:"booking"}],n=i=>{switch(i){case"confirmed":return e.jsxs(O,{className:"bg-green-100 text-green-700 border-green-200",children:[e.jsx(Rt,{className:"w-3 h-3 mr-1"})," Confirmed"]});case"pending":return e.jsxs(O,{className:"bg-yellow-100 text-yellow-700 border-yellow-200",children:[e.jsx(ns,{className:"w-3 h-3 mr-1"})," Pending"]});default:return e.jsx(O,{variant:"outline",children:i})}};return e.jsx(Dr,{title:"Bookings",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900","data-testid":"text-bookings-title",children:"Bookings & Calendar"}),e.jsx("p",{className:"text-gray-600",children:"Manage your appointments and reservations"})]}),e.jsxs(S,{className:"bg-[#FF385C] ","data-testid":"button-new-booking",children:[e.jsx(tg,{className:"w-4 h-4 mr-2"})," New Booking"]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs(P,{className:"border border-gray-200",children:[e.jsx(Q,{children:e.jsx(X,{className:"text-lg",children:"Calendar"})}),e.jsx(F,{children:e.jsx(Tl,{mode:"single",selected:t,onSelect:s,className:"rounded-md border","data-testid":"calendar"})})]}),e.jsxs(P,{className:"border border-gray-200",children:[e.jsx(Q,{children:e.jsx(X,{className:"text-lg",children:"Today's Schedule"})}),e.jsx(F,{className:"space-y-3",children:r.map((i,l)=>e.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg border border-gray-100 hover-elevate","data-testid":`today-event-${l}`,children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-gray-600 min-w-16",children:[e.jsx(Je,{className:"w-4 h-4"}),i.time]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:i.event}),e.jsx(O,{variant:"outline",className:"text-xs mt-1",children:i.type})]})]},l))})]}),e.jsxs(P,{className:"border border-gray-200",children:[e.jsx(Q,{children:e.jsx(X,{className:"text-lg",children:"This Week"})}),e.jsx(F,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg text-center","data-testid":"stat-appointments",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"8"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Appointments"})]}),e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg text-center","data-testid":"stat-reservations",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"12"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Reservations"})]}),e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg text-center","data-testid":"stat-confirmed",children:[e.jsx("p",{className:"text-2xl font-bold text-green-600",children:"15"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Confirmed"})]}),e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg text-center","data-testid":"stat-pending",children:[e.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:"5"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Pending"})]})]})})]})]}),e.jsxs(P,{className:"border border-gray-200",children:[e.jsx(Q,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(X,{className:"text-lg",children:"Upcoming Bookings"}),e.jsxs(S,{variant:"ghost",size:"sm",className:"text-[#FF385C]","data-testid":"button-view-all-bookings",children:["View All ",e.jsx(Kt,{className:"w-4 h-4 ml-1"})]})]})}),e.jsx(F,{className:"space-y-4",children:a.map(i=>e.jsx("div",{className:"p-4 rounded-lg border border-gray-200 hover-elevate","data-testid":`booking-${i.id}`,children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("p",{className:"font-semibold text-gray-900",children:i.event}),n(i.status)]}),e.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[e.jsxs("p",{className:"flex items-center gap-2",children:[e.jsx(Wn,{className:"w-4 h-4"})," ",i.client]}),e.jsxs("p",{className:"flex items-center gap-2",children:[e.jsx(tg,{className:"w-4 h-4"})," ",i.date," at ",i.time]}),e.jsxs("p",{className:"flex items-center gap-2",children:[e.jsx(Me,{className:"w-4 h-4"})," ",i.location]})]}),i.notes&&e.jsxs("p",{className:"text-sm text-gray-500 mt-2 italic",children:["Note: ",i.notes]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(S,{size:"sm",variant:"outline","data-testid":`button-edit-booking-${i.id}`,children:"Edit"}),e.jsx(S,{size:"sm",variant:"outline","data-testid":`button-cancel-booking-${i.id}`,children:"Cancel"})]})]})},i.id))})]})]})})}function zie(){const{toast:t}=Bs(),{data:s,isLoading:a}=Le({queryKey:["/api/expert/analytics"]}),{data:r=[],isLoading:n}=Le({queryKey:["/api/expert/services"]}),i=Ot({mutationFn:async({id:y,status:w})=>Ft("PATCH",`/api/expert/services/${y}/status`,{status:w}),onSuccess:()=>{_t.invalidateQueries({queryKey:["/api/expert/services"]}),_t.invalidateQueries({queryKey:["/api/expert/analytics"]}),t({title:"Service status updated"})},onError:()=>{t({title:"Failed to update status",variant:"destructive"})}}),l=Ot({mutationFn:async y=>Ft("POST",`/api/expert/services/${y}/duplicate`,{}),onSuccess:()=>{_t.invalidateQueries({queryKey:["/api/expert/services"]}),t({title:"Service duplicated successfully"})},onError:()=>{t({title:"Failed to duplicate service",variant:"destructive"})}}),c=y=>{const w=y.status==="active"?"paused":"active";i.mutate({id:y.id,status:w})},u=y=>{l.mutate(y)},m=y=>{switch(y){case"video":return e.jsx(dm,{className:"w-4 h-4"});case"in-person":return e.jsx(Me,{className:"w-4 h-4"});case"document":return e.jsx(oa,{className:"w-4 h-4"});default:return e.jsx(br,{className:"w-4 h-4"})}},x=y=>{switch(y){case"active":return"bg-green-100 text-green-800";case"paused":return"bg-yellow-100 text-yellow-800";case"draft":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},f=r.filter(y=>y.status==="active"),g=r.filter(y=>y.status==="draft"),b=r.filter(y=>y.status==="paused"),v=y=>e.jsx("div",{className:`p-4 rounded-lg border ${y.status==="active"?"border-gray-200 bg-white":"border-gray-100 bg-gray-50"}`,"data-testid":`service-${y.id}`,children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center ${y.status==="active"?"bg-[#FF385C]/10":"bg-gray-200"}`,children:m(y.deliveryMethod)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2 flex-wrap",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("h3",{className:`font-semibold ${y.status==="active"?"text-gray-900":"text-gray-500"}`,children:y.serviceName}),e.jsx(O,{className:x(y.status),children:y.status.charAt(0).toUpperCase()+y.status.slice(1)})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(tr,{checked:y.status==="active",onCheckedChange:()=>c(y),disabled:i.isPending,"data-testid":`switch-service-${y.id}`}),e.jsxs(Yu,{children:[e.jsx(Qu,{asChild:!0,children:e.jsx(S,{size:"icon",variant:"ghost","data-testid":`button-service-menu-${y.id}`,children:e.jsx(Bu,{className:"w-4 h-4 text-gray-500"})})}),e.jsxs(cd,{align:"end",children:[e.jsx(Va,{asChild:!0,children:e.jsxs(Ce,{href:`/expert/services/${y.id}/edit`,children:[e.jsx(ii,{className:"w-4 h-4 mr-2"})," Edit"]})}),e.jsxs(Va,{onClick:()=>u(y.id),children:[e.jsx(sg,{className:"w-4 h-4 mr-2"})," Duplicate"]}),e.jsx(Va,{onClick:()=>c(y),children:y.status==="active"?e.jsxs(e.Fragment,{children:[e.jsx(v$,{className:"w-4 h-4 mr-2"})," Pause"]}):e.jsxs(e.Fragment,{children:[e.jsx(ig,{className:"w-4 h-4 mr-2"})," Activate"]})})]})]})]})]}),e.jsx("p",{className:`text-sm mt-1 line-clamp-2 ${y.status==="active"?"text-gray-600":"text-gray-400"}`,children:y.description||"No description"}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 mt-3 text-sm",children:[e.jsxs("span",{className:"flex items-center gap-1 font-medium text-gray-900",children:[e.jsx(bt,{className:"w-4 h-4 text-green-600"}),"$",y.price]}),y.deliveryTimeframe&&e.jsxs("span",{className:"flex items-center gap-1 text-gray-600",children:[e.jsx(Je,{className:"w-4 h-4"}),y.deliveryTimeframe]}),y.averageRating&&e.jsxs("span",{className:"flex items-center gap-1 text-gray-600",children:[e.jsx(rt,{className:"w-4 h-4 text-yellow-500"}),Number(y.averageRating).toFixed(1)," (",y.reviewCount||0," reviews)"]}),e.jsxs("span",{className:"flex items-center gap-1 text-gray-600",children:[e.jsx(Er,{className:"w-4 h-4"}),y.bookingsCount||0," bookings"]}),y.deliveryMethod&&e.jsxs("span",{className:"flex items-center gap-1 text-gray-600",children:[m(y.deliveryMethod),y.deliveryMethod]})]})]})]})},y.id);return e.jsx(Dr,{title:"Services",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900","data-testid":"text-services-title",children:"My Services"}),e.jsx("p",{className:"text-gray-600",children:"Create and manage your service offerings"})]}),e.jsx(Ce,{href:"/expert/services/new",children:e.jsxs(S,{className:"bg-[#FF385C] ","data-testid":"button-add-service",children:[e.jsx(ps,{className:"w-4 h-4 mr-2"})," Create Service"]})})]}),a?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[...Array(4)].map((y,w)=>e.jsx(P,{className:"border border-gray-200",children:e.jsxs(F,{className:"p-4",children:[e.jsx(_e,{className:"h-10 w-16 mx-auto mb-2"}),e.jsx(_e,{className:"h-4 w-24 mx-auto"})]})},w))}):e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(P,{className:"border border-gray-200","data-testid":"card-total-services",children:e.jsxs(F,{className:"p-4 text-center",children:[e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:s?.totalServices||0}),e.jsx("p",{className:"text-sm text-gray-600",children:"Total Services"})]})}),e.jsx(P,{className:"border border-gray-200","data-testid":"card-active-services",children:e.jsxs(F,{className:"p-4 text-center",children:[e.jsx("p",{className:"text-3xl font-bold text-green-600",children:s?.activeServices||0}),e.jsx("p",{className:"text-sm text-gray-600",children:"Active Services"})]})}),e.jsx(P,{className:"border border-gray-200","data-testid":"card-total-revenue",children:e.jsxs(F,{className:"p-4 text-center",children:[e.jsxs("div",{className:"flex items-center justify-center gap-1",children:[e.jsx(Xt,{className:"w-5 h-5 text-green-500"}),e.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:["$",s?.totalRevenue||0]})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Total Revenue"})]})}),e.jsx(P,{className:"border border-gray-200","data-testid":"card-avg-rating",children:e.jsxs(F,{className:"p-4 text-center",children:[e.jsxs("div",{className:"flex items-center justify-center gap-1",children:[e.jsx(rt,{className:"w-5 h-5 text-yellow-500"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:s?.averageRating?Number(s.averageRating).toFixed(1):"N/A"})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Avg Rating"})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4",children:[e.jsx(P,{className:"border border-gray-200",children:e.jsxs(F,{className:"p-4 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s?.totalBookings||0}),e.jsx("p",{className:"text-sm text-gray-600",children:"Total Bookings"})]})}),e.jsx(P,{className:"border border-gray-200",children:e.jsxs(F,{className:"p-4 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:s?.pendingBookings||0}),e.jsx("p",{className:"text-sm text-gray-600",children:"Pending"})]})}),e.jsx(P,{className:"border border-gray-200",children:e.jsxs(F,{className:"p-4 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-green-600",children:s?.completedBookings||0}),e.jsx("p",{className:"text-sm text-gray-600",children:"Completed"})]})}),e.jsx(P,{className:"border border-gray-200",children:e.jsxs(F,{className:"p-4 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-500",children:s?.draftServices||0}),e.jsx("p",{className:"text-sm text-gray-600",children:"Drafts"})]})})]}),e.jsxs(Na,{defaultValue:"all",className:"w-full",children:[e.jsxs(ca,{className:"grid w-full max-w-md grid-cols-4",children:[e.jsxs(it,{value:"all","data-testid":"tab-all-services",children:["All (",r.length,")"]}),e.jsxs(it,{value:"active","data-testid":"tab-active-services",children:["Active (",f.length,")"]}),e.jsxs(it,{value:"draft","data-testid":"tab-draft-services",children:["Draft (",g.length,")"]}),e.jsxs(it,{value:"paused","data-testid":"tab-paused-services",children:["Paused (",b.length,")"]})]}),e.jsx(xt,{value:"all",className:"mt-6",children:e.jsxs(P,{className:"border border-gray-200",children:[e.jsxs(Q,{className:"flex flex-row items-center justify-between gap-4",children:[e.jsx(X,{className:"text-lg",children:"All Services"}),e.jsx(Ce,{href:"/expert/services/templates",children:e.jsxs(S,{variant:"outline",size:"sm","data-testid":"button-view-templates",children:[e.jsx(br,{className:"w-4 h-4 mr-2"})," Use Template"]})})]}),e.jsx(F,{className:"space-y-4",children:n?[...Array(3)].map((y,w)=>e.jsx("div",{className:"p-4 rounded-lg border border-gray-200",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx(_e,{className:"w-12 h-12 rounded-lg"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx(_e,{className:"h-5 w-48"}),e.jsx(_e,{className:"h-4 w-full"}),e.jsx(_e,{className:"h-4 w-32"})]})]})},w)):r.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(br,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No services yet"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Create your first service to start accepting bookings"}),e.jsx(Ce,{href:"/expert/services/new",children:e.jsxs(S,{className:"bg-[#FF385C] ","data-testid":"button-create-first-service",children:[e.jsx(ps,{className:"w-4 h-4 mr-2"})," Create Service"]})})]}):r.map(v)})]})}),e.jsx(xt,{value:"active",className:"mt-6",children:e.jsxs(P,{className:"border border-gray-200",children:[e.jsx(Q,{children:e.jsx(X,{className:"text-lg",children:"Active Services"})}),e.jsx(F,{className:"space-y-4",children:f.length===0?e.jsx("p",{className:"text-center text-gray-500 py-8",children:"No active services"}):f.map(v)})]})}),e.jsx(xt,{value:"draft",className:"mt-6",children:e.jsxs(P,{className:"border border-gray-200",children:[e.jsx(Q,{children:e.jsx(X,{className:"text-lg",children:"Draft Services"})}),e.jsx(F,{className:"space-y-4",children:g.length===0?e.jsx("p",{className:"text-center text-gray-500 py-8",children:"No draft services"}):g.map(v)})]})}),e.jsx(xt,{value:"paused",className:"mt-6",children:e.jsxs(P,{className:"border border-gray-200",children:[e.jsx(Q,{children:e.jsx(X,{className:"text-lg",children:"Paused Services"})}),e.jsx(F,{className:"space-y-4",children:b.length===0?e.jsx("p",{className:"text-center text-gray-500 py-8",children:"No paused services"}):b.map(v)})]})})]})]})})}function Vie(){const t={rating:4.9,totalReviews:156,responseRate:98,avgResponseTime:"15 min",completionRate:99,repeatClients:45},s=[{month:"December",clients:12,revenue:4850,rating:4.9},{month:"November",clients:10,revenue:3200,rating:4.8},{month:"October",clients:14,revenue:5100,rating:4.9},{month:"September",clients:8,revenue:2800,rating:5}],a=[{id:1,client:"Sarah & Mike",rating:5,text:"Yuki was absolutely amazing! She helped us discover hidden gems in Tokyo that we never would have found on our own.",date:"Dec 28, 2025"},{id:2,client:"Jennifer",rating:5,text:"The proposal planning was perfect. Every detail was taken care of. Highly recommend!",date:"Dec 20, 2025"},{id:3,client:"David & Emma",rating:5,text:"Our anniversary dinner was unforgettable. Thank you for all the special touches!",date:"Dec 15, 2025"}],r=[{title:"Top Rated Expert",description:"Maintained 4.9+ rating for 6 months",icon:rt,earned:!0},{title:"Quick Responder",description:"Average response time under 30 min",icon:Je,earned:!0},{title:"Client Favorite",description:"50+ repeat clients",icon:et,earned:!1,progress:90},{title:"Perfect Score",description:"100 five-star reviews",icon:jr,earned:!1,progress:78}];return e.jsx(Dr,{title:"Performance",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900","data-testid":"text-performance-title",children:"Performance Dashboard"}),e.jsx("p",{className:"text-gray-600",children:"Track your metrics and client satisfaction"})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[e.jsx(P,{className:"border border-gray-200","data-testid":"card-stat-rating",children:e.jsxs(F,{className:"p-4 text-center",children:[e.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[e.jsx(rt,{className:"w-5 h-5 text-yellow-500"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.rating})]}),e.jsx("p",{className:"text-xs text-gray-600",children:"Overall Rating"})]})}),e.jsx(P,{className:"border border-gray-200","data-testid":"card-stat-reviews",children:e.jsxs(F,{className:"p-4 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.totalReviews}),e.jsx("p",{className:"text-xs text-gray-600",children:"Total Reviews"})]})}),e.jsx(P,{className:"border border-gray-200","data-testid":"card-stat-response-rate",children:e.jsxs(F,{className:"p-4 text-center",children:[e.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[t.responseRate,"%"]}),e.jsx("p",{className:"text-xs text-gray-600",children:"Response Rate"})]})}),e.jsx(P,{className:"border border-gray-200","data-testid":"card-stat-response-time",children:e.jsxs(F,{className:"p-4 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.avgResponseTime}),e.jsx("p",{className:"text-xs text-gray-600",children:"Avg Response"})]})}),e.jsx(P,{className:"border border-gray-200","data-testid":"card-stat-completion",children:e.jsxs(F,{className:"p-4 text-center",children:[e.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[t.completionRate,"%"]}),e.jsx("p",{className:"text-xs text-gray-600",children:"Completion Rate"})]})}),e.jsx(P,{className:"border border-gray-200","data-testid":"card-stat-repeat",children:e.jsxs(F,{className:"p-4 text-center",children:[e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[t.repeatClients,"%"]}),e.jsx("p",{className:"text-xs text-gray-600",children:"Repeat Clients"})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(P,{className:"border border-gray-200",children:[e.jsx(Q,{children:e.jsxs(X,{className:"text-lg flex items-center gap-2",children:[e.jsx(Xt,{className:"w-5 h-5 text-[#FF385C]"}),"Monthly Performance"]})}),e.jsx(F,{children:e.jsx("div",{className:"space-y-4",children:s.map((n,i)=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-gray-100 hover-elevate","data-testid":`month-metric-${i}`,children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:n.month}),e.jsxs("p",{className:"text-sm text-gray-500",children:[n.clients," clients"]})]}),e.jsxs("div",{className:"flex items-center gap-6 text-sm",children:[e.jsxs("span",{className:"font-medium text-green-600",children:["$",n.revenue.toLocaleString()]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(rt,{className:"w-4 h-4 text-yellow-500"}),n.rating]})]})]},i))})})]}),e.jsxs(P,{className:"border border-gray-200",children:[e.jsx(Q,{children:e.jsxs(X,{className:"text-lg flex items-center gap-2",children:[e.jsx(Vs,{className:"w-5 h-5 text-[#FF385C]"}),"Recent Reviews"]})}),e.jsx(F,{className:"space-y-4",children:a.map(n=>e.jsxs("div",{className:"p-4 rounded-lg border border-gray-200","data-testid":`review-${n.id}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"font-medium text-gray-900",children:n.client}),e.jsx("div",{className:"flex items-center gap-1",children:[...Array(n.rating)].map((i,l)=>e.jsx(rt,{className:"w-4 h-4 text-yellow-500 fill-yellow-500"},l))})]}),e.jsx("p",{className:"text-sm text-gray-600",children:n.text}),e.jsx("p",{className:"text-xs text-gray-400 mt-2",children:n.date})]},n.id))})]})]}),e.jsxs(P,{className:"border border-gray-200 h-fit",children:[e.jsx(Q,{children:e.jsxs(X,{className:"text-lg flex items-center gap-2",children:[e.jsx(oi,{className:"w-5 h-5 text-[#FF385C]"}),"Achievements"]})}),e.jsx(F,{className:"space-y-4",children:r.map((n,i)=>e.jsx("div",{className:`p-4 rounded-lg border ${n.earned?"border-green-200 bg-green-50":"border-gray-200"}`,"data-testid":`achievement-${i}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${n.earned?"bg-green-100":"bg-gray-100"}`,children:e.jsx(n.icon,{className:`w-5 h-5 ${n.earned?"text-green-600":"text-gray-400"}`})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:`font-medium ${n.earned?"text-green-800":"text-gray-700"}`,children:n.title}),n.earned&&e.jsx(Rt,{className:"w-4 h-4 text-green-600"})]}),e.jsx("p",{className:"text-sm text-gray-500",children:n.description}),!n.earned&&n.progress&&e.jsxs("div",{className:"mt-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-1",children:[e.jsx("span",{children:"Progress"}),e.jsxs("span",{children:[n.progress,"%"]})]}),e.jsx(Pr,{value:n.progress,className:"h-2"})]})]})]})},i))})]})]})]})})}const c3={draft:{label:"Draft",color:"bg-gray-100 text-gray-700",icon:Je},submitted:{label:"Pending Review",color:"bg-amber-100 text-amber-700",icon:ns},approved:{label:"Approved",color:"bg-green-100 text-green-700",icon:Rt},rejected:{label:"Rejected",color:"bg-red-100 text-red-700",icon:po}};function Uie(){const{toast:t}=Bs(),[s,a]=h.useState(!1),[r,n]=h.useState(null),[i,l]=h.useState({title:"",description:"",categoryName:"",price:"",duration:"",deliverables:[],cancellationPolicy:"",leadTime:""}),[c,u]=h.useState(""),{data:m=[],isLoading:x}=Le({queryKey:["/api/expert/custom-services"]}),{data:f=[]}=Le({queryKey:["/api/expert-service-categories"]}),g=Ot({mutationFn:async A=>Ft("POST","/api/expert/custom-services",A),onSuccess:()=>{_t.invalidateQueries({queryKey:["/api/expert/custom-services"]}),t({title:"Service created",description:"Your custom service has been saved as a draft."}),w(),a(!1)},onError:A=>{t({title:"Error",description:A.message||"Failed to create service",variant:"destructive"})}}),b=Ot({mutationFn:async({id:A,data:V})=>Ft("PATCH",`/api/expert/custom-services/${A}`,V),onSuccess:()=>{_t.invalidateQueries({queryKey:["/api/expert/custom-services"]}),t({title:"Service updated",description:"Your changes have been saved."}),w(),a(!1)},onError:A=>{t({title:"Error",description:A.message||"Failed to update service",variant:"destructive"})}}),v=Ot({mutationFn:async A=>Ft("POST",`/api/expert/custom-services/${A}/submit`),onSuccess:()=>{_t.invalidateQueries({queryKey:["/api/expert/custom-services"]}),t({title:"Service submitted",description:"Your service is now pending review by our team."})},onError:A=>{t({title:"Error",description:A.message||"Failed to submit service",variant:"destructive"})}}),y=Ot({mutationFn:async A=>Ft("DELETE",`/api/expert/custom-services/${A}`),onSuccess:()=>{_t.invalidateQueries({queryKey:["/api/expert/custom-services"]}),t({title:"Service deleted",description:"The service has been removed."})},onError:A=>{t({title:"Error",description:A.message||"Failed to delete service",variant:"destructive"})}}),w=()=>{l({title:"",description:"",categoryName:"",price:"",duration:"",deliverables:[],cancellationPolicy:"",leadTime:""}),n(null),u("")},k=A=>{n(A),l({title:A.title,description:A.description||"",categoryName:A.categoryName||"",price:A.price,duration:A.duration||"",deliverables:A.deliverables||[],cancellationPolicy:A.cancellationPolicy||"",leadTime:A.leadTime||""}),a(!0)},C=()=>{if(!i.title||!i.price){t({title:"Error",description:"Title and price are required",variant:"destructive"});return}r?b.mutate({id:r.id,data:i}):g.mutate(i)},_=()=>{c.trim()&&(l(A=>({...A,deliverables:[...A.deliverables,c.trim()]})),u(""))},M=A=>{l(V=>({...V,deliverables:V.deliverables.filter((H,I)=>I!==A)}))},E=m.filter(A=>A.status==="draft"||A.status==="rejected"),R=m.filter(A=>A.status==="submitted"),z=m.filter(A=>A.status==="approved");return e.jsx(Dr,{title:"Custom Services",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900","data-testid":"text-page-title",children:"Custom Services"}),e.jsx("p",{className:"text-gray-500 mt-1",children:"Create and manage your own unique service offerings"})]}),e.jsxs(rn,{open:s,onOpenChange:A=>{a(A),A||w()},children:[e.jsx(qx,{asChild:!0,children:e.jsxs(S,{className:"bg-[#FF385C]  text-white","data-testid":"button-create-service",children:[e.jsx(ps,{className:"w-4 h-4 mr-2"}),"Create Service"]})}),e.jsxs(zr,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(Vr,{children:[e.jsx(Ur,{children:r?"Edit Service":"Create Custom Service"}),e.jsx(nn,{children:r?"Update your custom service details. You can submit it for review when ready.":"Add a new custom service that you offer. It will be reviewed by our team before going live."})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ye,{htmlFor:"title",children:"Service Title *"}),e.jsx(Ne,{id:"title",placeholder:"e.g., Private Food Tour in Barcelona",value:i.title,onChange:A=>l(V=>({...V,title:A.target.value})),"data-testid":"input-service-title"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ye,{htmlFor:"description",children:"Description"}),e.jsx(Ks,{id:"description",placeholder:"Describe what makes your service unique...",rows:4,value:i.description,onChange:A=>l(V=>({...V,description:A.target.value})),"data-testid":"input-service-description"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ye,{htmlFor:"category",children:"Category"}),e.jsxs(Wt,{value:i.categoryName,onValueChange:A=>l(V=>({...V,categoryName:A})),children:[e.jsx(Vt,{"data-testid":"select-category",children:e.jsx(Gt,{placeholder:"Select or enter category"})}),e.jsxs(Ut,{children:[f.map(A=>e.jsx(Pe,{value:A.name,children:A.name},A.id)),e.jsx(Pe,{value:"other",children:"Other (Custom)"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ye,{htmlFor:"price",children:"Price ($) *"}),e.jsx(Ne,{id:"price",type:"number",min:"0",step:"0.01",placeholder:"0.00",value:i.price,onChange:A=>l(V=>({...V,price:A.target.value})),"data-testid":"input-service-price"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ye,{htmlFor:"duration",children:"Duration"}),e.jsx(Ne,{id:"duration",placeholder:"e.g., 3 hours, 1 day",value:i.duration,onChange:A=>l(V=>({...V,duration:A.target.value})),"data-testid":"input-service-duration"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ye,{htmlFor:"leadTime",children:"Lead Time Required"}),e.jsx(Ne,{id:"leadTime",placeholder:"e.g., 48 hours, 1 week",value:i.leadTime,onChange:A=>l(V=>({...V,leadTime:A.target.value})),"data-testid":"input-service-lead-time"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ye,{children:"What's Included (Deliverables)"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Ne,{placeholder:"Add a deliverable...",value:c,onChange:A=>u(A.target.value),onKeyDown:A=>A.key==="Enter"&&(A.preventDefault(),_()),"data-testid":"input-deliverable"}),e.jsx(S,{type:"button",variant:"outline",onClick:_,"data-testid":"button-add-deliverable",children:"Add"})]}),i.deliverables.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:i.deliverables.map((A,V)=>e.jsxs(O,{variant:"secondary",className:"gap-1",children:[A,e.jsx("button",{onClick:()=>M(V),className:"ml-1 ",children:e.jsx(po,{className:"w-3 h-3"})})]},V))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ye,{htmlFor:"cancellationPolicy",children:"Cancellation Policy"}),e.jsx(Ks,{id:"cancellationPolicy",placeholder:"Describe your cancellation and refund policy...",rows:2,value:i.cancellationPolicy,onChange:A=>l(V=>({...V,cancellationPolicy:A.target.value})),"data-testid":"input-cancellation-policy"})]})]}),e.jsxs(jo,{children:[e.jsx(S,{variant:"outline",onClick:()=>a(!1),"data-testid":"button-cancel",children:"Cancel"}),e.jsxs(S,{onClick:C,className:"bg-[#FF385C]  text-white",disabled:g.isPending||b.isPending,"data-testid":"button-save-service",children:[(g.isPending||b.isPending)&&e.jsx(ot,{className:"w-4 h-4 mr-2 animate-spin"}),r?"Save Changes":"Create Service"]})]})]})]})]}),x?e.jsx("div",{className:"flex items-center justify-center py-16",children:e.jsx(ot,{className:"w-8 h-8 animate-spin text-[#FF385C]"})}):m.length===0?e.jsx(P,{children:e.jsxs(F,{className:"py-16 text-center",children:[e.jsx(br,{className:"w-12 h-12 mx-auto text-gray-300 mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Custom Services Yet"}),e.jsx("p",{className:"text-gray-500 mb-6 max-w-md mx-auto",children:"Create your own unique service offerings to attract more clients. Once approved, they'll appear on your profile."}),e.jsxs(S,{onClick:()=>a(!0),className:"bg-[#FF385C]  text-white","data-testid":"button-create-first-service",children:[e.jsx(ps,{className:"w-4 h-4 mr-2"}),"Create Your First Service"]})]})}):e.jsxs("div",{className:"space-y-8",children:[E.length>0&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Drafts & Rejected"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:E.map((A,V)=>e.jsx(Uj,{service:A,idx:V,onEdit:()=>k(A),onSubmit:()=>v.mutate(A.id),onDelete:()=>y.mutate(A.id),isSubmitting:v.isPending,isDeleting:y.isPending},A.id))})]}),R.length>0&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Pending Review"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:R.map((A,V)=>e.jsx(Uj,{service:A,idx:V},A.id))})]}),z.length>0&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Approved & Active"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:z.map((A,V)=>e.jsx(Uj,{service:A,idx:V},A.id))})]})]})]})})}function Uj({service:t,idx:s,onEdit:a,onSubmit:r,onDelete:n,isSubmitting:i,isDeleting:l}){const c=c3[t.status]||c3.draft,u=c.icon;return e.jsx(He.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:s*.05},children:e.jsxs(P,{className:"hover:shadow-md transition-shadow","data-testid":`card-custom-service-${t.id}`,children:[e.jsx(Q,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx(X,{className:"text-lg truncate",children:t.title}),t.categoryName&&e.jsx(Tt,{className:"mt-1",children:t.categoryName})]}),e.jsxs(O,{className:`${c.color} gap-1 ml-2`,children:[e.jsx(u,{className:"w-3 h-3"}),c.label]})]})}),e.jsxs(F,{className:"space-y-4",children:[t.description&&e.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:t.description}),e.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-1 text-gray-600",children:[e.jsx(bt,{className:"w-4 h-4"}),e.jsxs("span",{className:"font-semibold",children:["$",t.price]})]}),t.duration&&e.jsxs("div",{className:"flex items-center gap-1 text-gray-600",children:[e.jsx(Je,{className:"w-4 h-4"}),e.jsx("span",{children:t.duration})]})]}),t.status==="rejected"&&t.rejectionReason&&e.jsx("div",{className:"p-3 bg-red-50 rounded-lg border border-red-200",children:e.jsxs("p",{className:"text-sm text-red-700",children:[e.jsx("strong",{children:"Rejection reason:"})," ",t.rejectionReason]})}),(t.status==="draft"||t.status==="rejected")&&e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsxs(S,{variant:"outline",size:"sm",onClick:a,"data-testid":`button-edit-${t.id}`,children:[e.jsx(j$,{className:"w-4 h-4 mr-1"}),"Edit"]}),e.jsxs(S,{variant:"outline",size:"sm",onClick:r,disabled:i,"data-testid":`button-submit-${t.id}`,children:[i?e.jsx(ot,{className:"w-4 h-4 mr-1 animate-spin"}):e.jsx(ul,{className:"w-4 h-4 mr-1"}),"Submit for Review"]}),e.jsx(S,{variant:"ghost",size:"sm",onClick:n,disabled:l,className:"text-red-500  ","data-testid":`button-delete-${t.id}`,children:l?e.jsx(ot,{className:"w-4 h-4 animate-spin"}):e.jsx(pi,{className:"w-4 h-4"})})]})]})]})})}const qie=[{icon:iw,label:"Dashboard",href:"/ea/dashboard"},{icon:et,label:"Executives",href:"/ea/executives"},{icon:Ge,label:"Calendar",href:"/ea/calendar"},{icon:Sd,label:"Events",href:"/ea/events"},{icon:Vs,label:"Communications",href:"/ea/communications"},{icon:os,label:"AI Assist",href:"/ea/ai-assistant"},{icon:Pt,label:"Travel",href:"/ea/travel"},{icon:Cd,label:"Venues",href:"/ea/venues"},{icon:on,label:"Gifts",href:"/ea/gifts"},{icon:hi,label:"Reports",href:"/ea/reports"}],Hie=[{icon:Wn,label:"Profile",href:"/ea/profile"},{icon:bx,label:"Settings",href:"/ea/settings"}];function Wie(){const[t]=La(),[s,a]=h.useState(!1),r=()=>{window.location.href="/api/logout"};return e.jsxs("aside",{className:`h-screen bg-white border-r border-gray-200 flex flex-col transition-all duration-300 ${s?"w-16":"w-56"}`,"data-testid":"ea-sidebar",children:[e.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[!s&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 bg-[#FF385C] rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-sm",children:"EA"})}),e.jsx("span",{className:"font-semibold text-gray-900",children:"EA Portal"})]}),e.jsx(S,{variant:"ghost",size:"icon",onClick:()=>a(!s),className:s?"mx-auto":"","data-testid":"button-toggle-sidebar",children:s?e.jsx($s,{className:"w-4 h-4"}):e.jsx(hr,{className:"w-4 h-4"})})]}),!s&&e.jsx("div",{className:"p-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ls,{className:"h-10 w-10",children:e.jsx(Os,{className:"bg-[#FF385C]/10 text-[#FF385C]",children:"RT"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-gray-900 truncate",children:"Rachel Taylor"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Executive Assistant"})]})]})}),e.jsx("nav",{className:"flex-1 p-2 overflow-y-auto",children:e.jsx("div",{className:"space-y-1",children:qie.map(n=>{const i=t===n.href;return e.jsx(Ce,{href:n.href,children:e.jsxs("div",{className:`flex items-center gap-3 px-3 py-2 rounded-lg cursor-pointer transition-colors ${i?"bg-[#FF385C] text-white":"text-gray-700 hover:bg-gray-100"} ${s?"justify-center":""}`,"data-testid":`nav-${n.label.toLowerCase().replace(" ","-")}`,children:[e.jsx(n.icon,{className:"w-5 h-5 flex-shrink-0"}),!s&&e.jsx("span",{className:"text-sm font-medium",children:n.label})]})},n.href)})})}),e.jsx("div",{className:"p-2 border-t border-gray-200",children:e.jsxs("div",{className:"space-y-1",children:[Hie.map(n=>{const i=t===n.href;return e.jsx(Ce,{href:n.href,children:e.jsxs("div",{className:`flex items-center gap-3 px-3 py-2 rounded-lg cursor-pointer transition-colors ${i?"bg-[#FF385C] text-white":"text-gray-700 hover:bg-gray-100"} ${s?"justify-center":""}`,"data-testid":`nav-${n.label.toLowerCase()}`,children:[e.jsx(n.icon,{className:"w-5 h-5 flex-shrink-0"}),!s&&e.jsx("span",{className:"text-sm font-medium",children:n.label})]})},n.href)}),e.jsxs("button",{onClick:r,className:`w-full flex items-center gap-3 px-3 py-2 rounded-lg cursor-pointer transition-colors text-gray-700 hover:bg-gray-100 ${s?"justify-center":""}`,"data-testid":"button-logout",children:[e.jsx(_d,{className:"w-5 h-5 flex-shrink-0"}),!s&&e.jsx("span",{className:"text-sm font-medium",children:"Logout"})]})]})})]})}function Ii({children:t,title:s}){return e.jsxs("div",{className:"flex h-screen bg-gray-50",children:[e.jsx(Wie,{}),e.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[e.jsxs("header",{className:"h-14 px-6 bg-white border-b border-gray-200 flex items-center justify-between",children:[e.jsx("h1",{className:"text-lg font-semibold text-gray-900","data-testid":"text-page-title",children:s||"Executive Assistant Portal"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(O,{className:"bg-green-100 text-green-700 border-green-200","data-testid":"badge-ai-status",children:[e.jsx(os,{className:"w-4 h-4 mr-1"})," AI: Active"]}),e.jsx(vm,{})]})]}),e.jsx("main",{className:"flex-1 overflow-auto",children:t})]})]})}function Gie(){const t=[{label:"Active Events",value:28,icon:Ge,color:"bg-blue-100 text-blue-600"},{label:"Executives Supported",value:8,icon:et,color:"bg-green-100 text-green-600"},{label:"This Week Events",value:12,icon:Ge,color:"bg-purple-100 text-purple-600"},{label:"AI Hours Saved",value:"52 hrs",icon:Je,color:"bg-yellow-100 text-yellow-600"}],s=[{id:1,priority:"critical",title:"CEO's Paris dinner tonight",executive:"James Anderson (CEO)",event:"Client dinner at Le Jules Verne",issue:"Restaurant called - dietary restriction noted",action:"Confirm menu changes by 2pm"},{id:2,priority:"high",title:"Board member travel arrangements",executive:"Sarah Chen (COO)",event:"London  Tokyo  Singapore (10 days)",issue:"Flights booked, hotel approval needed",action:"Approve by end of day"},{id:3,priority:"medium",title:"VP's anniversary dinner",executive:"Michael Torres (VP Sales)",event:"10th anniversary dinner (this Friday)",issue:"Venue booked, gift recommendation needed",action:"Select gift option"}],a=[{id:1,name:"James Anderson",title:"CEO",activeEvents:4,upcoming:7,profileComplete:!0,weekEvents:[{day:"Today",event:"Paris client dinner (URGENT - menu issue)",urgent:!0},{day:"Thu",event:"Board meeting prep + catering"},{day:"Fri",event:"Weekend getaway with spouse (all set)",done:!0}]},{id:2,name:"Sarah Chen",title:"COO",activeEvents:3,upcoming:5,profileComplete:!0,weekEvents:[{day:"Wed",event:"London flight departure (hotel approval needed)",urgent:!0},{day:"Thu-Sat",event:"International trip (10 days, 3 countries)"}]}],r=[{text:"Researched 5 hotel options for Sarah's Tokyo leg",time:"1 hour ago"},{text:"Drafted thank-you notes for James (3 clients)",time:"2 hours ago"},{text:"Coordinated restaurant confirmation for Michael",time:"3 hours ago"},{text:"Updated calendar conflicts for 4 executives",time:"5 hours ago"},{text:"Researched anniversary gift options (15 curated)",time:"6 hours ago"}],n=[{day:"Mon",events:3},{day:"Tue",events:4},{day:"Wed",events:5},{day:"Thu",events:6},{day:"Fri",events:4},{day:"Weekend",events:2}],i=l=>{switch(l){case"critical":return{bg:"bg-red-100 border-red-200",badge:"bg-red-500 text-white",icon:"text-red-600"};case"high":return{bg:"bg-yellow-50 border-yellow-200",badge:"bg-yellow-500 text-white",icon:"text-yellow-600"};case"medium":return{bg:"bg-blue-50 border-blue-200",badge:"bg-blue-500 text-white",icon:"text-blue-600"};default:return{bg:"bg-gray-50 border-gray-200",badge:"bg-gray-500 text-white",icon:"text-gray-600"}}};return e.jsx(Ii,{title:"Dashboard",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900","data-testid":"text-ea-welcome",children:"Welcome back, Rachel!"}),e.jsx("p",{className:"text-gray-600",children:"Here's your executive coordination overview"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:t.map((l,c)=>e.jsx(P,{className:"border border-gray-200","data-testid":`card-stat-${c}`,children:e.jsx(F,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:l.label}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l.value})]}),e.jsx("div",{className:`w-10 h-10 rounded-lg ${l.color} flex items-center justify-center`,children:e.jsx(l.icon,{className:"w-5 h-5"})})]})})},c))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[e.jsxs(P,{className:"border border-gray-200",children:[e.jsx(Q,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ns,{className:"w-5 h-5 text-red-500"}),e.jsxs(X,{className:"text-lg",children:["Urgent Attention Needed (",s.length,")"]})]})}),e.jsx(F,{className:"space-y-4",children:s.map(l=>{const c=i(l.priority);return e.jsxs("div",{className:`p-4 rounded-lg border ${c.bg}`,"data-testid":`urgent-item-${l.id}`,children:[e.jsx("div",{className:"flex items-start justify-between mb-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(O,{className:c.badge,children:l.priority.toUpperCase()}),e.jsx("span",{className:"font-semibold text-gray-900",children:l.title})]})}),e.jsxs("div",{className:"space-y-1 text-sm text-gray-600 mb-3",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Executive:"})," ",l.executive]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Event:"})," ",l.event]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Issue:"})," ",l.issue]}),e.jsxs("p",{className:"text-red-600",children:[e.jsx("span",{className:"font-medium",children:"Action:"})," ",l.action]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(S,{size:"sm",className:"bg-[#FF385C] hover:bg-[#E23350]","data-testid":`button-handle-${l.id}`,children:"Handle Now"}),e.jsxs(S,{size:"sm",variant:"outline","data-testid":`button-delegate-${l.id}`,children:[e.jsx(os,{className:"w-3 h-3 mr-1"})," Delegate to AI"]}),e.jsx(S,{size:"sm",variant:"outline","data-testid":`button-details-${l.id}`,children:"View Details"})]})]},l.id)})})]}),e.jsxs(P,{className:"border border-gray-200",children:[e.jsx(Q,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(et,{className:"w-5 h-5 text-[#FF385C]"}),e.jsx(X,{className:"text-lg",children:"Executives Overview (8 Total)"})]}),e.jsxs(S,{variant:"ghost",size:"sm",className:"text-[#FF385C]","data-testid":"button-view-all-executives",children:["View All ",e.jsx(Kt,{className:"w-4 h-4 ml-1"})]})]})}),e.jsx(F,{className:"space-y-4",children:a.map(l=>e.jsxs("div",{className:"p-4 rounded-lg border border-gray-200","data-testid":`executive-card-${l.id}`,children:[e.jsx("div",{className:"flex items-start justify-between mb-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-[#FF385C]/10 flex items-center justify-center",children:e.jsx(Wn,{className:"w-5 h-5 text-[#FF385C]"})}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-semibold text-gray-900",children:[l.name," - ",l.title]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Active Events: ",l.activeEvents," | Upcoming: ",l.upcoming," | Profile: ",l.profileComplete?"Complete":"Incomplete"]})]})]})}),e.jsxs("div",{className:"mb-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"This Week:"}),e.jsx("div",{className:"space-y-1",children:l.weekEvents.map((c,u)=>e.jsxs("p",{className:`text-sm ${c.urgent?"text-red-600":c.done?"text-green-600":"text-gray-600"}`,children:[c.day,": ",c.event," ",c.done&&e.jsx(Rt,{className:"w-3 h-3 inline ml-1"})]},u))})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(S,{size:"sm",variant:"outline","data-testid":`button-calendar-${l.id}`,children:[e.jsx(Ge,{className:"w-3 h-3 mr-1"})," View Calendar"]}),e.jsx(S,{size:"sm",variant:"outline","data-testid":`button-events-${l.id}`,children:"All Events"}),e.jsxs(S,{size:"sm",variant:"outline","data-testid":`button-update-${l.id}`,children:[e.jsx(Vs,{className:"w-3 h-3 mr-1"})," Send Update"]})]})]},l.id))})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs(P,{className:"border border-gray-200",children:[e.jsx(Q,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(os,{className:"w-5 h-5 text-green-600"}),e.jsx(X,{className:"text-lg",children:"AI Activity (24h)"})]})}),e.jsxs(F,{children:[e.jsxs("p",{className:"text-sm text-gray-600 mb-3",children:[e.jsx(Rt,{className:"w-4 h-4 inline text-green-500 mr-1"}),"Completed 18 tasks automatically"]}),e.jsx("div",{className:"space-y-2",children:r.map((l,c)=>e.jsxs("div",{className:"flex items-start gap-2 text-sm","data-testid":`ai-activity-${c}`,children:[e.jsx("span",{className:"text-gray-400 mt-0.5",children:""}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700",children:l.text}),e.jsxs("span",{className:"text-gray-400 ml-2",children:["(",l.time,")"]})]})]},c))}),e.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg border border-blue-200",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("span",{className:"font-medium",children:"7 items"})," awaiting your approval"]})}),e.jsxs(S,{className:"w-full mt-4 bg-[#FF385C] hover:bg-[#E23350]","data-testid":"button-review-ai-work",children:["Review AI Work ",e.jsx(Kt,{className:"w-4 h-4 ml-1"})]})]})]}),e.jsxs(P,{className:"border border-gray-200",children:[e.jsx(Q,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ge,{className:"w-5 h-5 text-[#FF385C]"}),e.jsx(X,{className:"text-lg",children:"Calendar - This Week"})]})}),e.jsxs(F,{children:[e.jsx("div",{className:"grid grid-cols-3 gap-2 mb-4",children:n.map((l,c)=>e.jsxs("div",{className:"p-2 bg-gray-50 rounded-lg text-center","data-testid":`calendar-day-${c}`,children:[e.jsx("p",{className:"text-xs text-gray-500",children:l.day}),e.jsx("p",{className:"text-lg font-bold text-gray-900",children:l.events})]},c))}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(S,{size:"sm",variant:"outline",className:"flex-1","data-testid":"button-master-calendar",children:"View Master Calendar"}),e.jsx(S,{size:"sm",variant:"outline","data-testid":"button-conflicts",children:"Conflicts"})]})]})]}),e.jsxs(P,{className:"border border-gray-200",children:[e.jsx(Q,{className:"pb-3",children:e.jsx(X,{className:"text-lg",children:"Quick Actions"})}),e.jsxs(F,{className:"grid grid-cols-2 gap-2",children:[e.jsxs(S,{variant:"outline",size:"sm",className:"justify-start","data-testid":"button-quick-update",children:[e.jsx(Vs,{className:"w-4 h-4 mr-2"})," Send Update"]}),e.jsxs(S,{variant:"outline",size:"sm",className:"justify-start","data-testid":"button-quick-delegate",children:[e.jsx(os,{className:"w-4 h-4 mr-2"})," Delegate to AI"]}),e.jsxs(S,{variant:"outline",size:"sm",className:"justify-start","data-testid":"button-quick-book",children:[e.jsx(Ge,{className:"w-4 h-4 mr-2"})," Book Event"]}),e.jsxs(S,{variant:"outline",size:"sm",className:"justify-start","data-testid":"button-quick-travel",children:[e.jsx(Pt,{className:"w-4 h-4 mr-2"})," Arrange Travel"]}),e.jsxs(S,{variant:"outline",size:"sm",className:"justify-start","data-testid":"button-quick-gift",children:[e.jsx(on,{className:"w-4 h-4 mr-2"})," Order Gift"]}),e.jsxs(S,{variant:"outline",size:"sm",className:"justify-start","data-testid":"button-quick-report",children:[e.jsx(hi,{className:"w-4 h-4 mr-2"})," Weekly Report"]})]})]})]})]})]})})}function Kie(){const[t,s]=h.useState(1),a=[{id:1,name:"James Anderson",title:"CEO",status:"active",email:"james.anderson@company.com",phone:"+1 (555) 001-0001",activeEvents:4,upcoming:7,preferences:{travelClass:"First/Business only",hotelBrands:"Four Seasons, Ritz-Carlton preferred",dietary:"No red meat, prefers seafood",seating:"Aisle seat, front of plane",notes:"Allergic to shellfish, needs extra legroom"},family:{spouse:"Jennifer Anderson",anniversary:"June 15",children:"2 (Emma, 12 & Jack, 9)",importantDates:[{label:"Birthday",date:"March 8"},{label:"Jennifer's Birthday",date:"April 22"},{label:"Emma's Birthday",date:"July 10"},{label:"Jack's Birthday",date:"November 3"}]},giftHistory:[{event:"Anniversary 2024",gift:"Weekend at Napa Valley resort",amount:"$2,500"},{event:"Birthday 2024",gift:"Luxury watch",amount:"$1,200"},{event:"Christmas 2023",gift:"Family ski trip",amount:"$8,000"}],activeEventsList:[{event:"Paris client dinner",status:"URGENT",date:"Tonight"},{event:"Board meeting",date:"Next Thursday"},{event:"Weekend getaway",date:"This Friday-Sunday"},{event:"Q2 investor presentation",date:"April 15"}]},{id:2,name:"Sarah Chen",title:"COO",status:"active",email:"sarah.chen@company.com",phone:"+1 (555) 001-0002",activeEvents:3,upcoming:5,currentTrip:"International business trip (London-Tokyo-Singapore)",attention:"Hotel approvals needed for Tokyo & Singapore"},{id:3,name:"Michael Torres",title:"VP Sales",status:"active",email:"michael.torres@company.com",phone:"+1 (555) 001-0003",activeEvents:2,upcoming:4},{id:4,name:"Lisa Parker",title:"VP Marketing",status:"active",email:"lisa.parker@company.com",phone:"+1 (555) 001-0004",activeEvents:3,upcoming:3}];return e.jsx(Ii,{title:"Executive Management",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900","data-testid":"text-executives-title",children:"Executive Management"}),e.jsx("p",{className:"text-gray-600",children:"Manage executive profiles and preferences"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(S,{variant:"outline","data-testid":"button-import",children:"Import from Directory"}),e.jsx(S,{variant:"outline","data-testid":"button-export-list",children:"Export List"}),e.jsxs(S,{className:"bg-[#FF385C] hover:bg-[#E23350]","data-testid":"button-add-executive",children:[e.jsx(ps,{className:"w-4 h-4 mr-2"})," Add New Executive"]})]})]}),e.jsxs("div",{className:"relative max-w-md",children:[e.jsx(ws,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(Ne,{placeholder:"Search executives...",className:"pl-9","data-testid":"input-search-executives"})]}),e.jsx("div",{className:"space-y-4",children:a.map(r=>e.jsxs(P,{className:"border border-gray-200","data-testid":`executive-${r.id}`,children:[e.jsx(Q,{className:"cursor-pointer",onClick:()=>s(t===r.id?null:r.id),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-[#FF385C]/10 flex items-center justify-center",children:e.jsx(Wn,{className:"w-6 h-6 text-[#FF385C]"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(X,{className:"text-lg",children:[r.name," - ",r.title]}),e.jsx(O,{className:"bg-green-100 text-green-700",children:"Active"})]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Active Events: ",r.activeEvents," | Upcoming: ",r.upcoming,r.attention&&e.jsxs("span",{className:"text-yellow-600 ml-2",children:[e.jsx(ns,{className:"w-3 h-3 inline mr-1"}),r.attention]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(S,{size:"sm",variant:"outline","data-testid":`button-profile-${r.id}`,children:"View Full Profile"}),t===r.id?e.jsx(nl,{className:"w-5 h-5 text-gray-400"}):e.jsx(qs,{className:"w-5 h-5 text-gray-400"})]})]})}),t===r.id&&r.preferences&&e.jsxs(F,{className:"border-t border-gray-100 pt-4 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Profile Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("p",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx(qn,{className:"w-4 h-4"})," ",r.email]}),e.jsxs("p",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx($l,{className:"w-4 h-4"})," ",r.phone]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Preferences"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("p",{className:"text-gray-600",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Pt,{className:"w-4 h-4"})," Travel Class:"]}),r.preferences.travelClass]}),e.jsxs("p",{className:"text-gray-600",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Us,{className:"w-4 h-4"})," Hotels:"]}),r.preferences.hotelBrands]}),e.jsxs("p",{className:"text-gray-600",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ns,{className:"w-4 h-4"})," Dietary:"]}),r.preferences.dietary]}),e.jsxs("p",{className:"text-gray-600",children:["Seating: ",r.preferences.seating]})]}),r.preferences.notes&&e.jsxs("p",{className:"text-sm text-yellow-600 mt-2",children:[e.jsx(ns,{className:"w-4 h-4 inline mr-1"}),r.preferences.notes]})]}),r.family&&e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Family Information"}),e.jsxs("div",{className:"text-sm space-y-1 text-gray-600",children:[e.jsxs("p",{children:["Spouse: ",r.family.spouse," (Anniversary: ",r.family.anniversary,")"]}),e.jsxs("p",{children:["Children: ",r.family.children]}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:r.family.importantDates.map((n,i)=>e.jsxs(O,{variant:"outline",className:"text-xs",children:[n.label,": ",n.date]},i))})]})]}),r.giftHistory&&e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx(on,{className:"w-4 h-4"})," Gift History"]}),e.jsx("div",{className:"space-y-2",children:r.giftHistory.map((n,i)=>e.jsxs("div",{className:"flex items-center justify-between text-sm p-2 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsxs("span",{className:"font-medium",children:[n.event,":"]})," ",n.gift]}),e.jsx("span",{className:"text-gray-500",children:n.amount})]},i))})]}),r.activeEventsList&&e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx(Ge,{className:"w-4 h-4"})," Active Events"]}),e.jsx("div",{className:"space-y-2",children:r.activeEventsList.map((n,i)=>e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:n.status==="URGENT"?"text-red-600 font-medium":"text-gray-700",children:[n.event,n.status&&e.jsx(O,{className:"ml-2 bg-red-500 text-white text-xs",children:n.status})]}),e.jsx("span",{className:"text-gray-500",children:n.date})]},i))})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 pt-4 border-t border-gray-100",children:[e.jsx(S,{size:"sm",variant:"outline","data-testid":`button-edit-profile-${r.id}`,children:"Edit Profile"}),e.jsx(S,{size:"sm",variant:"outline","data-testid":`button-all-events-${r.id}`,children:"View All Events"}),e.jsx(S,{size:"sm",variant:"outline","data-testid":`button-communication-${r.id}`,children:"Communication History"}),e.jsx(S,{size:"sm",variant:"outline","data-testid":`button-gift-suggestions-${r.id}`,children:"Gift Suggestions"}),e.jsx(S,{size:"sm",variant:"outline","data-testid":`button-travel-history-${r.id}`,children:"Travel History"})]})]})]},r.id))}),e.jsx(S,{variant:"ghost",className:"w-full text-[#FF385C]","data-testid":"button-show-all",children:"Show All 8 Executives"})]})})}function Yie(){const t=["MON","TUE","WED","THU","FRI","SAT","SUN"],s=[{name:"James A.",events:["D","","G","B","","W",""]},{name:"Sarah C.",events:["","","F","","","",""]},{name:"Michael T.",events:["","C","","C","D","",""]},{name:"Lisa P.",events:["M","","","P","","",""]},{name:"Robert K.",events:["","","T","","","",""]}],a=[{code:"D",meaning:"Dinner"},{code:"M",meaning:"Meeting"},{code:"G",meaning:"Gift"},{code:"B",meaning:"Board"},{code:"W",meaning:"Weekend"},{code:"F",meaning:"Flight"},{code:"C",meaning:"Call"},{code:"P",meaning:"Presentation"},{code:"T",meaning:"Travel"}],r=[{id:1,time:"6:00 PM",executive:"James Anderson",event:"Paris Client Dinner",venue:"Le Jules Verne (Eiffel Tower)",guests:4,issue:"Menu change needed (dietary restriction discovered)",status:"Awaiting restaurant confirmation",urgent:!0},{id:2,time:"10:00 AM",executive:"Lisa Parker",event:"Monthly Board Presentation Prep",task:"Review slides, prepare materials",status:"Complete",done:!0},{id:3,time:"2:00 PM",executive:"Michael Torres",event:"Client Call",task:"Dial-in details sent, briefing document prepared",status:"Ready",done:!0},{id:4,time:"4:00 PM",executive:"Sarah Chen",event:"Hotel Approval Deadline",trip:"London  Tokyo  Singapore",status:"Pending your review (3 options per city)",needsReview:!0}];return e.jsx(Ii,{title:"Multi-Event Coordination",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900","data-testid":"text-calendar-title",children:"Multi-Event Coordination"}),e.jsx("p",{className:"text-gray-600",children:"Manage all executive events in one view"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(S,{variant:"outline","data-testid":"button-resolve-conflicts",children:"Resolve Conflicts"}),e.jsx(S,{variant:"outline","data-testid":"button-export-calendar",children:"Export"})]})]}),e.jsxs(P,{className:"border border-gray-200",children:[e.jsx(Q,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(S,{variant:"ghost",size:"icon","data-testid":"button-prev-week",children:e.jsx(hr,{className:"w-4 h-4"})}),e.jsx(X,{className:"text-lg",children:"This Week"}),e.jsx(S,{variant:"ghost",size:"icon","data-testid":"button-next-week",children:e.jsx($s,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[e.jsx(O,{className:"bg-red-100 text-red-700",children:"3 conflicts detected"}),e.jsx(O,{className:"bg-yellow-100 text-yellow-700",children:"5 items need approval"})]})]})}),e.jsxs(F,{children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-3 text-left text-sm font-medium text-gray-500 border-b",children:"Executive"}),t.map(n=>e.jsx("th",{className:"p-3 text-center text-sm font-medium text-gray-500 border-b min-w-16",children:n},n))]})}),e.jsx("tbody",{children:s.map((n,i)=>e.jsxs("tr",{className:"border-b hover:bg-gray-50","data-testid":`calendar-row-${i}`,children:[e.jsx("td",{className:"p-3 text-sm font-medium text-gray-900",children:n.name}),n.events.map((l,c)=>e.jsx("td",{className:"p-3 text-center",children:l&&e.jsx(O,{variant:"outline",className:`text-xs ${l==="D"||l==="F"?"bg-[#FF385C]/10 text-[#FF385C] border-[#FF385C]":""}`,children:l})},c))]},i))})]})}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[e.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Legend:"}),e.jsx("div",{className:"flex flex-wrap gap-3",children:a.map(n=>e.jsxs("span",{className:"text-xs text-gray-600",children:[e.jsx(O,{variant:"outline",className:"mr-1",children:n.code}),"=",n.meaning]},n.code))})]})]})]}),e.jsxs(P,{className:"border border-gray-200",children:[e.jsx(Q,{children:e.jsxs(X,{className:"text-lg flex items-center gap-2",children:[e.jsx(Ge,{className:"w-5 h-5 text-[#FF385C]"}),"Today's Events (",r.length,")"]})}),e.jsx(F,{className:"space-y-4",children:r.map(n=>e.jsx("div",{className:`p-4 rounded-lg border ${n.urgent?"border-red-200 bg-red-50":"border-gray-200"}`,"data-testid":`today-event-${n.id}`,children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-600",children:n.time}),n.urgent&&e.jsx(O,{className:"bg-red-500 text-white",children:"URGENT"}),n.done&&e.jsxs(O,{className:"bg-green-100 text-green-700",children:[e.jsx(Rt,{className:"w-3 h-3 mr-1"})," Complete"]}),n.needsReview&&e.jsx(O,{className:"bg-yellow-100 text-yellow-700",children:"Needs Review"})]}),e.jsxs("p",{className:"font-semibold text-gray-900",children:[n.executive," - ",n.event]}),n.venue&&e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Venue: ",n.venue]}),n.guests&&e.jsxs("p",{className:"text-sm text-gray-600",children:["Guests: ",n.guests]}),n.task&&e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Task: ",n.task]}),n.trip&&e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Trip: ",n.trip]}),n.issue&&e.jsxs("p",{className:"text-sm text-red-600 mt-1",children:[e.jsx(ns,{className:"w-4 h-4 inline mr-1"}),n.issue]}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Status: ",n.status]})]}),!n.done&&e.jsxs("div",{className:"flex flex-col gap-2",children:[n.urgent&&e.jsxs(e.Fragment,{children:[e.jsx(S,{size:"sm",className:"bg-[#FF385C] hover:bg-[#E23350]","data-testid":`button-contact-${n.id}`,children:"Contact Restaurant"}),e.jsx(S,{size:"sm",variant:"outline","data-testid":`button-update-exec-${n.id}`,children:"Update James"})]}),n.needsReview&&e.jsxs(e.Fragment,{children:[e.jsx(S,{size:"sm",className:"bg-[#FF385C] hover:bg-[#E23350]","data-testid":`button-review-${n.id}`,children:"Review Options"}),e.jsx(S,{size:"sm",variant:"outline","data-testid":`button-approve-all-${n.id}`,children:"Approve All"}),e.jsxs(S,{size:"sm",variant:"outline","data-testid":`button-ai-rec-${n.id}`,children:[e.jsx(os,{className:"w-3 h-3 mr-1"})," AI Recommendation"]})]}),e.jsx(S,{size:"sm",variant:"ghost","data-testid":`button-view-details-${n.id}`,children:"View Details"})]})]})},n.id))})]}),e.jsxs(P,{className:"border border-gray-200",children:[e.jsx(Q,{children:e.jsxs(X,{className:"text-lg flex items-center gap-2",children:[e.jsx(os,{className:"w-5 h-5 text-green-600"}),"AI Coordination Assistant"]})}),e.jsxs(F,{children:[e.jsx("p",{className:"text-gray-600 mb-4",children:"I can help coordinate multiple executives simultaneously:"}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-600 mb-4",children:[e.jsx("li",{children:" Detect calendar conflicts across all executives"}),e.jsx("li",{children:" Suggest optimal meeting times for groups"}),e.jsx("li",{children:" Coordinate multi-city travel logistics"}),e.jsx("li",{children:" Track gifts, preferences, and important dates"}),e.jsx("li",{children:" Draft communications on your behalf"}),e.jsx("li",{children:" Research venues, restaurants, hotels in bulk"})]}),e.jsxs(S,{className:"bg-[#FF385C] hover:bg-[#E23350]","data-testid":"button-delegate-task",children:[e.jsx(os,{className:"w-4 h-4 mr-2"})," Delegate Task to AI"]})]})]})]})})}function Qie(){const t=[{id:1,title:"Paris Client Dinner",executive:"James Anderson (CEO)",type:"Dinner",date:"Today, 6:00 PM",venue:"Le Jules Verne (Eiffel Tower)",guests:4,status:"urgent",issue:"Menu change needed"},{id:2,title:"Board Meeting",executive:"James Anderson (CEO)",type:"Meeting",date:"Thursday, 9:00 AM",venue:"Company HQ - Board Room",guests:12,status:"confirmed"},{id:3,title:"London-Tokyo-Singapore Trip",executive:"Sarah Chen (COO)",type:"Travel",date:"Wednesday - Next Saturday",venue:"Multiple cities",status:"pending",issue:"Hotel approvals needed"},{id:4,title:"Anniversary Dinner",executive:"Michael Torres (VP Sales)",type:"Personal",date:"Friday, 7:30 PM",venue:"The Capital Grille",guests:2,status:"confirmed",giftNeeded:!0},{id:5,title:"Client Presentation",executive:"Lisa Parker (VP Marketing)",type:"Meeting",date:"Thursday, 2:00 PM",venue:"Client Office - Downtown",guests:6,status:"confirmed"}],s=a=>{switch(a){case"urgent":return e.jsxs(O,{className:"bg-red-500 text-white",children:[e.jsx(ns,{className:"w-3 h-3 mr-1"})," Urgent"]});case"pending":return e.jsx(O,{className:"bg-yellow-100 text-yellow-700",children:"Pending Approval"});case"confirmed":return e.jsxs(O,{className:"bg-green-100 text-green-700",children:[e.jsx(Rt,{className:"w-3 h-3 mr-1"})," Confirmed"]});default:return e.jsx(O,{variant:"outline",children:a})}};return e.jsx(Ii,{title:"Events",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900","data-testid":"text-events-title",children:"Events Management"}),e.jsx("p",{className:"text-gray-600",children:"Track and manage all executive events"})]}),e.jsxs(S,{className:"bg-[#FF385C] hover:bg-[#E23350]","data-testid":"button-new-event",children:[e.jsx(ps,{className:"w-4 h-4 mr-2"})," Create New Event"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(P,{className:"border border-gray-200","data-testid":"stat-total-events",children:e.jsxs(F,{className:"p-4 text-center",children:[e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:"28"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Active Events"})]})}),e.jsx(P,{className:"border border-gray-200","data-testid":"stat-this-week",children:e.jsxs(F,{className:"p-4 text-center",children:[e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:"12"}),e.jsx("p",{className:"text-sm text-gray-600",children:"This Week"})]})}),e.jsx(P,{className:"border border-gray-200","data-testid":"stat-pending",children:e.jsxs(F,{className:"p-4 text-center",children:[e.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:"5"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Pending Approval"})]})}),e.jsx(P,{className:"border border-gray-200","data-testid":"stat-urgent",children:e.jsxs(F,{className:"p-4 text-center",children:[e.jsx("p",{className:"text-3xl font-bold text-red-600",children:"3"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Need Attention"})]})})]}),e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsxs("div",{className:"relative flex-1 min-w-64",children:[e.jsx(ws,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(Ne,{placeholder:"Search events...",className:"pl-9","data-testid":"input-search-events"})]}),e.jsxs(Wt,{"data-testid":"select-executive",children:[e.jsx(Vt,{className:"w-48",children:e.jsx(Gt,{placeholder:"All Executives"})}),e.jsxs(Ut,{children:[e.jsx(Pe,{value:"all",children:"All Executives"}),e.jsx(Pe,{value:"james",children:"James Anderson"}),e.jsx(Pe,{value:"sarah",children:"Sarah Chen"}),e.jsx(Pe,{value:"michael",children:"Michael Torres"}),e.jsx(Pe,{value:"lisa",children:"Lisa Parker"})]})]}),e.jsxs(Wt,{"data-testid":"select-type",children:[e.jsx(Vt,{className:"w-40",children:e.jsx(Gt,{placeholder:"Event Type"})}),e.jsxs(Ut,{children:[e.jsx(Pe,{value:"all",children:"All Types"}),e.jsx(Pe,{value:"dinner",children:"Dinner"}),e.jsx(Pe,{value:"meeting",children:"Meeting"}),e.jsx(Pe,{value:"travel",children:"Travel"}),e.jsx(Pe,{value:"personal",children:"Personal"})]})]}),e.jsxs(Wt,{"data-testid":"select-status",children:[e.jsx(Vt,{className:"w-40",children:e.jsx(Gt,{placeholder:"Status"})}),e.jsxs(Ut,{children:[e.jsx(Pe,{value:"all",children:"All Status"}),e.jsx(Pe,{value:"urgent",children:"Urgent"}),e.jsx(Pe,{value:"pending",children:"Pending"}),e.jsx(Pe,{value:"confirmed",children:"Confirmed"})]})]})]}),e.jsx("div",{className:"space-y-4",children:t.map(a=>e.jsx(P,{className:`border ${a.status==="urgent"?"border-red-200 bg-red-50/50":"border-gray-200"}`,"data-testid":`event-${a.id}`,children:e.jsx(F,{className:"p-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:a.title}),s(a.status),e.jsx(O,{variant:"outline",children:a.type}),a.giftNeeded&&e.jsx(O,{className:"bg-purple-100 text-purple-700",children:"Gift Needed"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm text-gray-600",children:[e.jsxs("p",{className:"flex items-center gap-2",children:[e.jsx(et,{className:"w-4 h-4"})," ",a.executive]}),e.jsxs("p",{className:"flex items-center gap-2",children:[e.jsx(Ge,{className:"w-4 h-4"})," ",a.date]}),e.jsxs("p",{className:"flex items-center gap-2",children:[e.jsx(Me,{className:"w-4 h-4"})," ",a.venue]}),a.guests&&e.jsxs("p",{className:"flex items-center gap-2",children:[e.jsx(et,{className:"w-4 h-4"})," ",a.guests," guests"]})]}),a.issue&&e.jsxs("p",{className:"text-sm text-red-600 mt-2",children:[e.jsx(ns,{className:"w-4 h-4 inline mr-1"}),a.issue]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(S,{size:"sm",variant:"outline","data-testid":`button-view-${a.id}`,children:"View Details"}),e.jsx(S,{size:"sm",variant:"outline","data-testid":`button-edit-${a.id}`,children:"Edit"}),a.status==="urgent"&&e.jsx(S,{size:"sm",className:"bg-[#FF385C] hover:bg-[#E23350]","data-testid":`button-handle-${a.id}`,children:"Handle Now"})]})]})})},a.id))})]})})}function Xie(){const t=[{id:1,type:"email",executive:"James Anderson",subject:"Paris Dinner Confirmation",recipient:"Le Jules Verne",time:"2 hours ago",status:"sent"},{id:2,type:"message",executive:"Sarah Chen",subject:"Hotel Options for Tokyo",recipient:"Sarah Chen",time:"3 hours ago",status:"read"},{id:3,type:"email",executive:"Michael Torres",subject:"Anniversary Dinner Reservation",recipient:"The Capital Grille",time:"5 hours ago",status:"sent"},{id:4,type:"call",executive:"Lisa Parker",subject:"Board Meeting Setup",recipient:"Internal - IT Department",time:"Yesterday",status:"completed"}],s=[{id:1,executive:"James Anderson",type:"Thank You Note",content:"Dear Mr. Smith, Thank you for joining us for dinner in Paris...",aiGenerated:!0},{id:2,executive:"Sarah Chen",type:"Travel Itinerary",content:"Your upcoming trip: London (Mar 15-17)  Tokyo (Mar 17-22)...",aiGenerated:!0}];return e.jsx(Ii,{title:"Communications",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900","data-testid":"text-comms-title",children:"Communications Center"}),e.jsx("p",{className:"text-gray-600",children:"Manage all executive communications"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(S,{variant:"outline","data-testid":"button-new-email",children:[e.jsx(qn,{className:"w-4 h-4 mr-2"})," New Email"]}),e.jsxs(S,{variant:"outline","data-testid":"button-new-message",children:[e.jsx(Vs,{className:"w-4 h-4 mr-2"})," New Message"]}),e.jsxs(S,{className:"bg-[#FF385C] hover:bg-[#E23350]","data-testid":"button-ai-draft",children:[e.jsx(os,{className:"w-4 h-4 mr-2"})," AI Draft"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[e.jsxs(P,{className:"border border-gray-200",children:[e.jsx(Q,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(X,{className:"text-lg",children:"Recent Communications"}),e.jsxs("div",{className:"relative w-64",children:[e.jsx(ws,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(Ne,{placeholder:"Search...",className:"pl-9","data-testid":"input-search-comms"})]})]})}),e.jsx(F,{children:e.jsx(Ha,{className:"h-96",children:e.jsx("div",{className:"space-y-3",children:t.map(a=>e.jsx("div",{className:"p-3 rounded-lg border border-gray-200 hover:bg-gray-50","data-testid":`comm-${a.id}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsxs("div",{className:"w-10 h-10 rounded-lg bg-gray-100 flex items-center justify-center",children:[a.type==="email"&&e.jsx(qn,{className:"w-5 h-5 text-gray-600"}),a.type==="message"&&e.jsx(Vs,{className:"w-5 h-5 text-gray-600"}),a.type==="call"&&e.jsx($l,{className:"w-5 h-5 text-gray-600"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"font-medium text-gray-900",children:a.subject}),e.jsx("span",{className:"text-xs text-gray-500",children:a.time})]}),e.jsxs("p",{className:"text-sm text-gray-500",children:[e.jsx("span",{className:"font-medium",children:a.executive}),"  ",a.recipient]}),e.jsx(O,{variant:"outline",className:"mt-1 text-xs",children:a.status})]})]})},a.id))})})})]}),e.jsxs(P,{className:"border border-gray-200",children:[e.jsx(Q,{children:e.jsx(X,{className:"text-lg",children:"Quick Compose"})}),e.jsxs(F,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(Ne,{placeholder:"Recipient","data-testid":"input-recipient"}),e.jsx(Ne,{placeholder:"Subject","data-testid":"input-subject"})]}),e.jsx(Ks,{placeholder:"Type your message...",className:"min-h-32","data-testid":"input-message"}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs(S,{variant:"outline","data-testid":"button-ai-assist",children:[e.jsx(os,{className:"w-4 h-4 mr-2"})," AI Assist"]}),e.jsxs(S,{className:"bg-[#FF385C] hover:bg-[#E23350]","data-testid":"button-send",children:[e.jsx(ul,{className:"w-4 h-4 mr-2"})," Send"]})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs(P,{className:"border border-gray-200",children:[e.jsx(Q,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(os,{className:"w-5 h-5 text-green-600"}),e.jsx(X,{className:"text-lg",children:"AI Drafts Pending"})]})}),e.jsx(F,{className:"space-y-3",children:s.map(a=>e.jsxs("div",{className:"p-3 rounded-lg border border-gray-200","data-testid":`draft-${a.id}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(O,{className:"bg-green-100 text-green-700 text-xs",children:"AI Generated"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:a.type})]}),e.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["For: ",a.executive]}),e.jsx("p",{className:"text-sm text-gray-500 truncate",children:a.content}),e.jsxs("div",{className:"flex gap-2 mt-3",children:[e.jsx(S,{size:"sm",variant:"outline","data-testid":`button-review-${a.id}`,children:"Review"}),e.jsx(S,{size:"sm",variant:"outline","data-testid":`button-approve-${a.id}`,children:"Approve & Send"})]})]},a.id))})]}),e.jsxs(P,{className:"border border-gray-200",children:[e.jsx(Q,{children:e.jsx(X,{className:"text-lg",children:"Quick Templates"})}),e.jsxs(F,{className:"space-y-2",children:[e.jsx(S,{variant:"outline",className:"w-full justify-start text-sm","data-testid":"template-thank-you",children:"Thank You Note"}),e.jsx(S,{variant:"outline",className:"w-full justify-start text-sm","data-testid":"template-confirmation",children:"Booking Confirmation"}),e.jsx(S,{variant:"outline",className:"w-full justify-start text-sm","data-testid":"template-reminder",children:"Event Reminder"}),e.jsx(S,{variant:"outline",className:"w-full justify-start text-sm","data-testid":"template-itinerary",children:"Travel Itinerary"}),e.jsx(S,{variant:"outline",className:"w-full justify-start text-sm","data-testid":"template-update",children:"Status Update"})]})]}),e.jsxs(P,{className:"border border-gray-200",children:[e.jsx(Q,{children:e.jsx(X,{className:"text-lg",children:"This Week"})}),e.jsxs(F,{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Emails Sent"}),e.jsx("span",{className:"font-medium",children:"24"})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Messages"}),e.jsx("span",{className:"font-medium",children:"38"})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Calls Logged"}),e.jsx("span",{className:"font-medium",children:"12"})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"AI Drafted"}),e.jsx("span",{className:"font-medium text-green-600",children:"15"})]})]})]})]})]})]})})}function Zie(){const t=[{id:1,type:"Hotel Research",executive:"Sarah Chen",task:"Find hotels in Tokyo for 3 nights (Mar 17-20)",options:[{name:"Park Hyatt Tokyo",rating:4.9,price:"$650/night",matchScore:98},{name:"Aman Tokyo",rating:4.9,price:"$900/night",matchScore:95},{name:"Four Seasons Tokyo",rating:4.8,price:"$720/night",matchScore:92}],confidence:96},{id:2,type:"Draft Communication",executive:"James Anderson",task:"Thank you note for Paris dinner guests",draft:`Dear Mr. Smith,

Thank you for joining us for dinner at Le Jules Verne last evening. It was a pleasure discussing the partnership opportunities, and I look forward to our continued collaboration.

Best regards,
James Anderson`,confidence:94},{id:3,type:"Gift Recommendation",executive:"Michael Torres",task:"Anniversary gift for spouse (10th anniversary)",options:[{name:"Cartier Love Bracelet",price:"$6,900",matchScore:95},{name:"Weekend at The Ritz-Carlton",price:"$3,500",matchScore:92},{name:"Tiffany & Co. Necklace",price:"$4,200",matchScore:88}],confidence:91}],s=[{text:"Researched 5 hotel options for Sarah's Tokyo leg",time:"1 hour ago"},{text:"Drafted thank-you notes for James (3 clients)",time:"2 hours ago"},{text:"Coordinated restaurant confirmation for Michael",time:"3 hours ago"},{text:"Updated calendar conflicts for 4 executives",time:"5 hours ago"},{text:"Researched anniversary gift options (15 curated)",time:"6 hours ago"}],a={tasksDelegated:245,tasksCompleted:238,completionRate:97,timeSaved:52,avgQualityScore:9.3,editRate:12,topStrengths:[{skill:"Vendor research",rate:98},{skill:"Timeline optimization",rate:95},{skill:"Client communication",rate:92}]};return e.jsx(Ii,{title:"AI Assistant",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900","data-testid":"text-ai-title",children:"AI Assistant"}),e.jsx("p",{className:"text-gray-600",children:"Delegate tasks and review AI work"})]}),e.jsxs(O,{className:"bg-green-100 text-green-700 border-green-200","data-testid":"badge-ai-status",children:[e.jsx(os,{className:"w-4 h-4 mr-1"})," GPT-4 Active"]})]}),e.jsxs(P,{className:"border border-gray-200",children:[e.jsx(Q,{children:e.jsxs(X,{className:"text-lg flex items-center gap-2",children:[e.jsx(os,{className:"w-5 h-5 text-[#FF385C]"}),"Delegate Task to AI"]})}),e.jsxs(F,{children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsx(Ne,{placeholder:"Describe the task... (e.g., 'Research venues for Sarah's Tokyo dinner meeting')",className:"flex-1","data-testid":"input-delegate-task"}),e.jsxs(S,{className:"bg-[#FF385C] hover:bg-[#E23350]","data-testid":"button-delegate",children:[e.jsx(ul,{className:"w-4 h-4 mr-2"})," Delegate"]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Quick Templates:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:["Research hotels in [city] for [executive]","Draft thank-you note for [executive]'s [event]","Find gift options for [executive]'s [occasion]","Coordinate travel for [executive]'s [trip]","Research restaurants in [city]"].map((r,n)=>e.jsx(S,{variant:"outline",size:"sm",className:"text-xs","data-testid":`button-template-${n}`,children:r},n))})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2 space-y-4",children:e.jsxs(P,{className:"border border-gray-200",children:[e.jsx(Q,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Je,{className:"w-5 h-5 text-yellow-500"}),e.jsxs(X,{className:"text-lg",children:["Pending Your Review (",t.length,")"]})]})}),e.jsx(F,{className:"space-y-4",children:t.map(r=>e.jsxs("div",{className:"p-4 rounded-lg border border-gray-200","data-testid":`pending-task-${r.id}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx(O,{variant:"outline",className:"mb-2",children:r.type}),e.jsx("p",{className:"font-medium text-gray-900",children:r.executive}),e.jsx("p",{className:"text-sm text-gray-600",children:r.task})]}),e.jsxs(O,{className:"bg-blue-100 text-blue-700",children:[r.confidence,"% Confidence"]})]}),r.draft&&e.jsx("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg border border-gray-100",children:e.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-line",children:r.draft})}),r.options&&e.jsx("div",{className:"mt-3 space-y-2",children:r.options.map((n,i)=>e.jsxs("div",{className:"p-2 bg-gray-50 rounded-lg border border-gray-100 text-sm",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-medium",children:n.name}),e.jsxs(O,{variant:"secondary",className:"text-xs",children:["Match: ",n.matchScore,"%"]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-500 mt-1",children:["rating"in n&&n.rating&&e.jsxs(e.Fragment,{children:[e.jsx(rt,{className:"w-3 h-3 text-yellow-500"}),e.jsx("span",{children:n.rating}),e.jsx("span",{className:"mx-1",children:""})]}),e.jsx("span",{children:n.price})]})]},i))}),e.jsx("div",{className:"mt-4 flex items-center justify-between",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(S,{size:"sm",className:"bg-green-600 hover:bg-green-700","data-testid":`button-approve-${r.id}`,children:[e.jsx(Rt,{className:"w-3 h-3 mr-1"})," Approve"]}),e.jsxs(S,{size:"sm",variant:"outline","data-testid":`button-edit-${r.id}`,children:[e.jsx(ii,{className:"w-3 h-3 mr-1"})," Edit"]}),e.jsxs(S,{size:"sm",variant:"outline","data-testid":`button-regenerate-${r.id}`,children:[e.jsx(Cn,{className:"w-3 h-3 mr-1"})," Regenerate"]}),e.jsx(S,{size:"sm",variant:"ghost",className:"text-red-600","data-testid":`button-reject-${r.id}`,children:e.jsx(Ia,{className:"w-3 h-3"})})]})})]},r.id))})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs(P,{className:"border border-gray-200",children:[e.jsx(Q,{children:e.jsx(X,{className:"text-lg",children:"Your AI Stats (This Month)"})}),e.jsxs(F,{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Tasks Delegated"}),e.jsx("span",{className:"font-medium",children:a.tasksDelegated})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Tasks Completed"}),e.jsxs("span",{className:"font-medium",children:[a.tasksCompleted," (",a.completionRate,"%)"]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Time Saved"}),e.jsxs("span",{className:"font-medium",children:[a.timeSaved," hours"]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Avg Quality Score"}),e.jsxs("span",{className:"font-medium",children:[a.avgQualityScore,"/10"]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Your Edit Rate"}),e.jsxs("span",{className:"font-medium text-green-600",children:[a.editRate,"%"]})]}),e.jsxs("div",{className:"pt-3 border-t border-gray-100",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Top AI Strengths:"}),a.topStrengths.map((r,n)=>e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{className:"text-gray-600",children:r.skill}),e.jsxs("span",{className:"text-green-600",children:[r.rate,"% approval"]})]},n))]}),e.jsxs(S,{variant:"ghost",className:"w-full text-[#FF385C]","data-testid":"button-view-analytics",children:["View Detailed Analytics ",e.jsx(Kt,{className:"w-4 h-4 ml-1"})]})]})]}),e.jsxs(P,{className:"border border-gray-200",children:[e.jsx(Q,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Rt,{className:"w-5 h-5 text-green-500"}),e.jsx(X,{className:"text-lg",children:"Recently Completed"})]})}),e.jsx(F,{children:e.jsx("div",{className:"space-y-2",children:s.map((r,n)=>e.jsxs("div",{className:"flex items-start gap-2 text-sm","data-testid":`completed-task-${n}`,children:[e.jsx(Rt,{className:"w-4 h-4 text-green-500 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700",children:r.text}),e.jsxs("span",{className:"text-gray-400 ml-2",children:["(",r.time,")"]})]})]},n))})})]}),e.jsxs(P,{className:"border border-gray-200",children:[e.jsx(Q,{children:e.jsx(X,{className:"text-lg",children:"AI Settings"})}),e.jsxs(F,{className:"space-y-2",children:[e.jsx(S,{variant:"outline",className:"w-full justify-start","data-testid":"button-preferences",children:"Configure Preferences"}),e.jsx(S,{variant:"outline",className:"w-full justify-start","data-testid":"button-training",children:"Training Mode"}),e.jsx(S,{variant:"outline",className:"w-full justify-start","data-testid":"button-help",children:"View Help"})]})]})]})]})]})})}function Jie(){const t=[{id:1,executive:"Sarah Chen",title:"COO",route:"London  Tokyo  Singapore",dates:"Mar 15-25, 2024",status:"pending_approval",segments:[{city:"London",dates:"Mar 15-17",hotel:"The Savoy",hotelStatus:"confirmed",flight:"BA 107",flightStatus:"confirmed"},{city:"Tokyo",dates:"Mar 17-22",hotel:"Park Hyatt Tokyo",hotelStatus:"pending",flight:"JL 042",flightStatus:"confirmed"},{city:"Singapore",dates:"Mar 22-25",hotel:"Marina Bay Sands",hotelStatus:"pending",flight:"SQ 632",flightStatus:"confirmed"}],issue:"Hotel approvals needed for Tokyo & Singapore"},{id:2,executive:"James Anderson",title:"CEO",route:"Paris Round Trip",dates:"This Weekend",status:"confirmed",segments:[{city:"Paris",dates:"Fri-Sun",hotel:"Four Seasons",hotelStatus:"confirmed",flight:"AF 023",flightStatus:"confirmed"}]}],s=[{executive:"Michael Torres",destination:"Chicago",dates:"Mar 28",status:"confirmed"},{executive:"Lisa Parker",destination:"Los Angeles",dates:"Apr 2-4",status:"planning"},{executive:"Robert Kim",destination:"Boston",dates:"Apr 10",status:"confirmed"}];return e.jsx(Ii,{title:"Travel Coordination",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900","data-testid":"text-travel-title",children:"Travel Coordination"}),e.jsx("p",{className:"text-gray-600",children:"Manage executive travel arrangements"})]}),e.jsxs(S,{className:"bg-[#FF385C] hover:bg-[#E23350]","data-testid":"button-new-trip",children:[e.jsx(ps,{className:"w-4 h-4 mr-2"})," Arrange New Trip"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(P,{className:"border border-gray-200","data-testid":"stat-active-trips",children:e.jsxs(F,{className:"p-4 text-center",children:[e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:"5"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Active Trips"})]})}),e.jsx(P,{className:"border border-gray-200","data-testid":"stat-pending",children:e.jsxs(F,{className:"p-4 text-center",children:[e.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:"2"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Pending Approval"})]})}),e.jsx(P,{className:"border border-gray-200","data-testid":"stat-this-month",children:e.jsxs(F,{className:"p-4 text-center",children:[e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:"8"}),e.jsx("p",{className:"text-sm text-gray-600",children:"This Month"})]})}),e.jsx(P,{className:"border border-gray-200","data-testid":"stat-countries",children:e.jsxs(F,{className:"p-4 text-center",children:[e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:"12"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Countries"})]})})]}),e.jsxs(P,{className:"border border-gray-200",children:[e.jsx(Q,{children:e.jsxs(X,{className:"text-lg flex items-center gap-2",children:[e.jsx(Pt,{className:"w-5 h-5 text-[#FF385C]"}),"Active Trips"]})}),e.jsx(F,{className:"space-y-6",children:t.map(a=>e.jsxs("div",{className:`p-4 rounded-lg border ${a.status==="pending_approval"?"border-yellow-200 bg-yellow-50/50":"border-gray-200"}`,"data-testid":`trip-${a.id}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("p",{className:"font-semibold text-gray-900",children:[a.executive," (",a.title,")"]}),a.status==="confirmed"?e.jsxs(O,{className:"bg-green-100 text-green-700",children:[e.jsx(Rt,{className:"w-3 h-3 mr-1"})," Confirmed"]}):e.jsxs(O,{className:"bg-yellow-100 text-yellow-700",children:[e.jsx(ns,{className:"w-3 h-3 mr-1"})," Pending Approval"]})]}),e.jsxs("p",{className:"text-sm text-gray-600 flex items-center gap-2 mt-1",children:[e.jsx(Me,{className:"w-4 h-4"})," ",a.route]}),e.jsxs("p",{className:"text-sm text-gray-500 flex items-center gap-2",children:[e.jsx(Ge,{className:"w-4 h-4"})," ",a.dates]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(S,{size:"sm",variant:"outline","data-testid":`button-view-trip-${a.id}`,children:"View Details"}),a.status==="pending_approval"&&e.jsx(S,{size:"sm",className:"bg-[#FF385C] hover:bg-[#E23350]","data-testid":`button-approve-trip-${a.id}`,children:"Approve All"})]})]}),a.issue&&e.jsxs("p",{className:"text-sm text-yellow-600 mb-4",children:[e.jsx(ns,{className:"w-4 h-4 inline mr-1"}),a.issue]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:a.segments.map((r,n)=>e.jsxs("div",{className:"p-3 bg-white rounded-lg border border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Me,{className:"w-4 h-4 text-[#FF385C]"}),e.jsx("span",{className:"font-medium text-gray-900",children:r.city})]}),e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:r.dates}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"flex items-center gap-1 text-gray-600",children:[e.jsx(Pt,{className:"w-3 h-3"})," ",r.flight]}),r.flightStatus==="confirmed"?e.jsx(Rt,{className:"w-4 h-4 text-green-500"}):e.jsx(Je,{className:"w-4 h-4 text-yellow-500"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"flex items-center gap-1 text-gray-600",children:[e.jsx(Us,{className:"w-3 h-3"})," ",r.hotel]}),r.hotelStatus==="confirmed"?e.jsx(Rt,{className:"w-4 h-4 text-green-500"}):e.jsx(S,{size:"sm",variant:"outline",className:"h-6 text-xs","data-testid":`button-approve-hotel-${a.id}-${n}`,children:"Approve"})]})]})]},n))})]},a.id))})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(P,{className:"border border-gray-200",children:[e.jsx(Q,{children:e.jsx(X,{className:"text-lg",children:"Upcoming Travel"})}),e.jsx(F,{className:"space-y-3",children:s.map((a,r)=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-gray-100 hover:bg-gray-50","data-testid":`upcoming-travel-${r}`,children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:a.executive}),e.jsxs("p",{className:"text-sm text-gray-500",children:[a.destination,"  ",a.dates]})]}),e.jsx(O,{variant:a.status==="confirmed"?"default":"outline",children:a.status})]},r))})]}),e.jsxs(P,{className:"border border-gray-200",children:[e.jsx(Q,{children:e.jsxs(X,{className:"text-lg flex items-center gap-2",children:[e.jsx(os,{className:"w-5 h-5 text-green-600"}),"AI Travel Assistant"]})}),e.jsxs(F,{children:[e.jsx("p",{className:"text-gray-600 mb-4",children:"I can help with travel coordination:"}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-600 mb-4",children:[e.jsx("li",{children:" Search optimal flight routes and times"}),e.jsx("li",{children:" Find hotels matching executive preferences"}),e.jsx("li",{children:" Coordinate multi-city itineraries"}),e.jsx("li",{children:" Handle booking modifications"}),e.jsx("li",{children:" Track frequent flyer programs"})]}),e.jsxs(S,{className:"w-full bg-[#FF385C] hover:bg-[#E23350]","data-testid":"button-ai-travel",children:[e.jsx(os,{className:"w-4 h-4 mr-2"})," Delegate Travel Task"]})]})]})]})]})})}function ele(){const t=[{id:1,name:"Le Jules Verne",type:"Restaurant",location:"Paris, France",rating:4.9,priceRange:"$$$$",usedBy:["James Anderson"],lastUsed:"Today",favorite:!0,notes:"Eiffel Tower location, requires 2-week advance booking"},{id:2,name:"Park Hyatt Tokyo",type:"Hotel",location:"Tokyo, Japan",rating:4.9,priceRange:"$$$$",usedBy:["Sarah Chen"],favorite:!0,notes:"Executive prefers Park Suite, floors 42+"},{id:3,name:"The Capital Grille",type:"Restaurant",location:"Multiple Locations",rating:4.7,priceRange:"$$$",usedBy:["Michael Torres","Lisa Parker"],lastUsed:"Last Week",notes:"Great for client dinners, private rooms available"},{id:4,name:"Four Seasons Paris",type:"Hotel",location:"Paris, France",rating:4.9,priceRange:"$$$$",usedBy:["James Anderson"],favorite:!0,notes:"Preferred for European trips"}],s=["Fine dining Tokyo","Conference rooms London","Hotels Singapore CBD","Private dining Chicago"];return e.jsx(Ii,{title:"Venues",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900","data-testid":"text-venues-title",children:"Venues & Locations"}),e.jsx("p",{className:"text-gray-600",children:"Manage favorite venues and search new locations"})]}),e.jsxs(S,{className:"bg-[#FF385C] hover:bg-[#E23350]","data-testid":"button-add-venue",children:[e.jsx(ps,{className:"w-4 h-4 mr-2"})," Add Venue"]})]}),e.jsx(P,{className:"border border-gray-200",children:e.jsxs(F,{className:"p-4",children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(ws,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(Ne,{placeholder:"Search venues, restaurants, hotels...",className:"pl-9","data-testid":"input-search-venues"})]}),e.jsxs(S,{variant:"outline","data-testid":"button-filter",children:[e.jsx(Di,{className:"w-4 h-4 mr-2"})," Filter"]})]}),e.jsxs("div",{className:"flex gap-2 mt-3",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Recent:"}),s.map((a,r)=>e.jsx(O,{variant:"outline",className:"cursor-pointer hover:bg-gray-100","data-testid":`recent-search-${r}`,children:a},r))]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(P,{className:"border border-gray-200","data-testid":"stat-saved",children:e.jsxs(F,{className:"p-4 text-center",children:[e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:"48"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Saved Venues"})]})}),e.jsx(P,{className:"border border-gray-200","data-testid":"stat-favorites",children:e.jsxs(F,{className:"p-4 text-center",children:[e.jsx("p",{className:"text-3xl font-bold text-[#FF385C]",children:"12"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Favorites"})]})}),e.jsx(P,{className:"border border-gray-200","data-testid":"stat-restaurants",children:e.jsxs(F,{className:"p-4 text-center",children:[e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:"28"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Restaurants"})]})}),e.jsx(P,{className:"border border-gray-200","data-testid":"stat-hotels",children:e.jsxs(F,{className:"p-4 text-center",children:[e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:"20"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Hotels"})]})})]}),e.jsxs(P,{className:"border border-gray-200",children:[e.jsx(Q,{children:e.jsx(X,{className:"text-lg",children:"Saved Venues"})}),e.jsx(F,{className:"space-y-4",children:t.map(a=>e.jsx("div",{className:"p-4 rounded-lg border border-gray-200 hover:bg-gray-50","data-testid":`venue-${a.id}`,children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:a.name}),a.favorite&&e.jsx(Qt,{className:"w-4 h-4 text-[#FF385C] fill-[#FF385C]"}),e.jsx(O,{variant:"outline",children:a.type}),e.jsx(O,{variant:"secondary",children:a.priceRange})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 mb-2",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Me,{className:"w-4 h-4"})," ",a.location]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(rt,{className:"w-4 h-4 text-yellow-500"})," ",a.rating]})]}),e.jsxs("p",{className:"text-sm text-gray-500 mb-2",children:["Used by: ",a.usedBy.join(", "),a.lastUsed&&`  Last used: ${a.lastUsed}`]}),a.notes&&e.jsxs("p",{className:"text-sm text-gray-500 italic",children:["Note: ",a.notes]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(S,{size:"sm",variant:"outline","data-testid":`button-book-${a.id}`,children:"Book"}),e.jsx(S,{size:"sm",variant:"outline","data-testid":`button-details-${a.id}`,children:"Details"}),e.jsx(S,{size:"icon",variant:"ghost","data-testid":`button-favorite-${a.id}`,children:e.jsx(Qt,{className:`w-4 h-4 ${a.favorite?"text-[#FF385C] fill-[#FF385C]":"text-gray-400"}`})})]})]})},a.id))})]})]})})}function tle(){const t=[{id:1,executive:"Michael Torres",occasion:"10th Anniversary",date:"This Friday",giftNeeded:!0},{id:2,executive:"James Anderson",occasion:"Spouse Birthday",date:"Apr 22",giftNeeded:!1},{id:3,executive:"Lisa Parker",occasion:"Work Anniversary",date:"Apr 28",giftNeeded:!0}],s=[{id:1,for:"Michael Torres - Anniversary",options:[{name:"Cartier Love Bracelet",price:"$6,900",matchScore:95},{name:"Weekend at The Ritz-Carlton",price:"$3,500",matchScore:92},{name:"Tiffany & Co. Necklace",price:"$4,200",matchScore:88}]}],a=[{id:1,executive:"James Anderson",occasion:"Anniversary 2024",gift:"Weekend at Napa Valley resort",amount:"$2,500",date:"Jun 15, 2024",rating:5},{id:2,executive:"James Anderson",occasion:"Birthday 2024",gift:"Luxury watch",amount:"$1,200",date:"Mar 8, 2024",rating:5},{id:3,executive:"Sarah Chen",occasion:"Promotion",gift:"Spa Day Package",amount:"$800",date:"Feb 14, 2024",rating:4}];return e.jsx(Ii,{title:"Gifts",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900","data-testid":"text-gifts-title",children:"Gift Management"}),e.jsx("p",{className:"text-gray-600",children:"Track occasions and manage gift giving"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(S,{variant:"outline","data-testid":"button-browse-catalog",children:[e.jsx(Nn,{className:"w-4 h-4 mr-2"})," Browse Catalog"]}),e.jsxs(S,{className:"bg-[#FF385C] hover:bg-[#E23350]","data-testid":"button-order-gift",children:[e.jsx(ps,{className:"w-4 h-4 mr-2"})," Order Gift"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(P,{className:"border border-gray-200","data-testid":"stat-pending-gifts",children:e.jsxs(F,{className:"p-4 text-center",children:[e.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:"3"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Gifts Needed"})]})}),e.jsx(P,{className:"border border-gray-200","data-testid":"stat-upcoming",children:e.jsxs(F,{className:"p-4 text-center",children:[e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:"8"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Upcoming Occasions"})]})}),e.jsx(P,{className:"border border-gray-200","data-testid":"stat-this-year",children:e.jsxs(F,{className:"p-4 text-center",children:[e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:"24"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Gifts This Year"})]})}),e.jsx(P,{className:"border border-gray-200","data-testid":"stat-budget",children:e.jsxs(F,{className:"p-4 text-center",children:[e.jsx("p",{className:"text-3xl font-bold text-green-600",children:"$18.5k"}),e.jsx("p",{className:"text-sm text-gray-600",children:"YTD Spent"})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[e.jsxs(P,{className:"border border-gray-200",children:[e.jsx(Q,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ge,{className:"w-5 h-5 text-[#FF385C]"}),e.jsx(X,{className:"text-lg",children:"Upcoming Occasions"})]})}),e.jsx(F,{className:"space-y-3",children:t.map(r=>e.jsx("div",{className:`p-4 rounded-lg border ${r.giftNeeded?"border-yellow-200 bg-yellow-50/50":"border-gray-200"}`,"data-testid":`occasion-${r.id}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("p",{className:"font-medium text-gray-900",children:r.executive}),r.giftNeeded&&e.jsx(O,{className:"bg-yellow-100 text-yellow-700",children:"Gift Needed"})]}),e.jsx("p",{className:"text-sm text-gray-600",children:r.occasion}),e.jsxs("p",{className:"text-sm text-gray-500 flex items-center gap-1 mt-1",children:[e.jsx(Je,{className:"w-3 h-3"})," ",r.date]})]}),e.jsxs("div",{className:"flex gap-2",children:[r.giftNeeded&&e.jsxs(S,{size:"sm",className:"bg-[#FF385C] hover:bg-[#E23350]","data-testid":`button-select-gift-${r.id}`,children:[e.jsx(on,{className:"w-3 h-3 mr-1"})," Select Gift"]}),e.jsxs(S,{size:"sm",variant:"outline","data-testid":`button-ai-suggest-${r.id}`,children:[e.jsx(os,{className:"w-3 h-3 mr-1"})," AI Suggest"]})]})]})},r.id))})]}),e.jsxs(P,{className:"border border-gray-200",children:[e.jsx(Q,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(os,{className:"w-5 h-5 text-green-600"}),e.jsx(X,{className:"text-lg",children:"AI Gift Suggestions"})]})}),e.jsx(F,{children:s.map(r=>e.jsxs("div",{"data-testid":`suggestion-${r.id}`,children:[e.jsx("p",{className:"font-medium text-gray-900 mb-3",children:r.for}),e.jsx("div",{className:"space-y-2",children:r.options.map((n,i)=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-gray-100 hover:bg-gray-50",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:n.name}),e.jsx("p",{className:"text-sm text-gray-500",children:n.price})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(O,{variant:"secondary",children:["Match: ",n.matchScore,"%"]}),e.jsx(S,{size:"sm",variant:"outline","data-testid":`button-order-${r.id}-${i}`,children:"Order"})]})]},i))})]},r.id))})]})]}),e.jsxs(P,{className:"border border-gray-200",children:[e.jsx(Q,{children:e.jsx(X,{className:"text-lg",children:"Recent Gift History"})}),e.jsxs(F,{className:"space-y-3",children:[a.map(r=>e.jsxs("div",{className:"p-3 rounded-lg border border-gray-100","data-testid":`gift-history-${r.id}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(Wn,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"font-medium text-gray-900",children:r.executive})]}),e.jsx("p",{className:"text-sm text-gray-600",children:r.occasion}),e.jsx("p",{className:"text-sm text-gray-900 font-medium mt-1",children:r.gift}),e.jsxs("div",{className:"flex items-center justify-between mt-2 text-sm text-gray-500",children:[e.jsx("span",{children:r.amount}),e.jsx("div",{className:"flex items-center gap-1",children:[...Array(r.rating)].map((n,i)=>e.jsx(rt,{className:"w-3 h-3 text-yellow-500 fill-yellow-500"},i))})]}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:r.date})]},r.id)),e.jsx(S,{variant:"ghost",className:"w-full text-[#FF385C]","data-testid":"button-view-all-history",children:"View All History"})]})]})]})]})})}function sle(){const t={eventsManaged:24,aiTasksCompleted:45,timeSaved:18,executivesSupported:8,travelArranged:3,giftsOrdered:2},s=[{month:"March",events:92,aiTasks:180,timeSaved:72,satisfaction:98},{month:"February",events:84,aiTasks:156,timeSaved:65,satisfaction:97},{month:"January",events:78,aiTasks:142,timeSaved:58,satisfaction:96}],a=[{activity:"Travel Coordination",count:45,trend:"+12%"},{activity:"Restaurant Bookings",count:38,trend:"+8%"},{activity:"Meeting Scheduling",count:32,trend:"+5%"},{activity:"Gift Procurement",count:18,trend:"+15%"},{activity:"Venue Research",count:15,trend:"+3%"}];return e.jsx(Ii,{title:"Reports",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900","data-testid":"text-reports-title",children:"Reports & Analytics"}),e.jsx("p",{className:"text-gray-600",children:"Track your productivity and performance"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(Wt,{"data-testid":"select-period",children:[e.jsx(Vt,{className:"w-40",children:e.jsx(Gt,{placeholder:"This Week"})}),e.jsxs(Ut,{children:[e.jsx(Pe,{value:"week",children:"This Week"}),e.jsx(Pe,{value:"month",children:"This Month"}),e.jsx(Pe,{value:"quarter",children:"This Quarter"}),e.jsx(Pe,{value:"year",children:"This Year"})]})]}),e.jsxs(S,{variant:"outline","data-testid":"button-export",children:[e.jsx(Un,{className:"w-4 h-4 mr-2"})," Export"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[e.jsx(P,{className:"border border-gray-200","data-testid":"stat-events",children:e.jsxs(F,{className:"p-4 text-center",children:[e.jsx(Ge,{className:"w-6 h-6 mx-auto mb-2 text-[#FF385C]"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.eventsManaged}),e.jsx("p",{className:"text-xs text-gray-600",children:"Events Managed"})]})}),e.jsx(P,{className:"border border-gray-200","data-testid":"stat-ai-tasks",children:e.jsxs(F,{className:"p-4 text-center",children:[e.jsx(os,{className:"w-6 h-6 mx-auto mb-2 text-green-600"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.aiTasksCompleted}),e.jsx("p",{className:"text-xs text-gray-600",children:"AI Tasks"})]})}),e.jsx(P,{className:"border border-gray-200","data-testid":"stat-time-saved",children:e.jsxs(F,{className:"p-4 text-center",children:[e.jsx(Je,{className:"w-6 h-6 mx-auto mb-2 text-purple-600"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[t.timeSaved,"h"]}),e.jsx("p",{className:"text-xs text-gray-600",children:"Time Saved"})]})}),e.jsx(P,{className:"border border-gray-200","data-testid":"stat-executives",children:e.jsxs(F,{className:"p-4 text-center",children:[e.jsx(et,{className:"w-6 h-6 mx-auto mb-2 text-blue-600"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.executivesSupported}),e.jsx("p",{className:"text-xs text-gray-600",children:"Executives"})]})}),e.jsx(P,{className:"border border-gray-200","data-testid":"stat-travel",children:e.jsxs(F,{className:"p-4 text-center",children:[e.jsx(Xt,{className:"w-6 h-6 mx-auto mb-2 text-yellow-600"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.travelArranged}),e.jsx("p",{className:"text-xs text-gray-600",children:"Trips Arranged"})]})}),e.jsx(P,{className:"border border-gray-200","data-testid":"stat-gifts",children:e.jsxs(F,{className:"p-4 text-center",children:[e.jsx(bt,{className:"w-6 h-6 mx-auto mb-2 text-green-600"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.giftsOrdered}),e.jsx("p",{className:"text-xs text-gray-600",children:"Gifts Ordered"})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(P,{className:"border border-gray-200",children:[e.jsx(Q,{children:e.jsxs(X,{className:"text-lg flex items-center gap-2",children:[e.jsx(hi,{className:"w-5 h-5 text-[#FF385C]"}),"Monthly Performance"]})}),e.jsx(F,{children:e.jsx("div",{className:"space-y-4",children:s.map((r,n)=>e.jsxs("div",{className:"p-4 rounded-lg border border-gray-100","data-testid":`monthly-metric-${n}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("p",{className:"font-semibold text-gray-900",children:r.month}),e.jsxs(O,{variant:"secondary",children:[r.satisfaction,"% Satisfaction"]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Events"}),e.jsx("p",{className:"font-medium text-gray-900",children:r.events})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"AI Tasks"}),e.jsx("p",{className:"font-medium text-gray-900",children:r.aiTasks})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Hours Saved"}),e.jsxs("p",{className:"font-medium text-green-600",children:[r.timeSaved,"h"]})]})]})]},n))})})]}),e.jsxs(P,{className:"border border-gray-200",children:[e.jsx(Q,{children:e.jsx(X,{className:"text-lg",children:"Top Activities This Month"})}),e.jsx(F,{children:e.jsx("div",{className:"space-y-4",children:a.map((r,n)=>e.jsxs("div",{className:"flex items-center justify-between","data-testid":`activity-${n}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"w-6 h-6 rounded-full bg-gray-100 flex items-center justify-center text-sm font-medium text-gray-600",children:n+1}),e.jsx("span",{className:"text-gray-900",children:r.activity})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"font-medium text-gray-900",children:r.count}),e.jsx(O,{className:"bg-green-100 text-green-700",children:r.trend})]})]},n))})})]}),e.jsxs(P,{className:"border border-gray-200",children:[e.jsx(Q,{children:e.jsxs(X,{className:"text-lg flex items-center gap-2",children:[e.jsx(os,{className:"w-5 h-5 text-green-600"}),"AI Assistant Performance"]})}),e.jsxs(F,{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Tasks Delegated"}),e.jsx("span",{className:"font-medium",children:"245"})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Tasks Completed"}),e.jsx("span",{className:"font-medium",children:"238 (97%)"})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Time Saved"}),e.jsx("span",{className:"font-medium text-green-600",children:"52 hours"})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Avg Quality Score"}),e.jsx("span",{className:"font-medium",children:"9.3/10"})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Edit Rate"}),e.jsx("span",{className:"font-medium text-green-600",children:"12% (Lower = Better)"})]})]})]}),e.jsxs(P,{className:"border border-gray-200",children:[e.jsx(Q,{children:e.jsx(X,{className:"text-lg",children:"Generate Report"})}),e.jsxs(F,{className:"space-y-2",children:[e.jsxs(S,{variant:"outline",className:"w-full justify-start","data-testid":"button-weekly-report",children:[e.jsx(Ge,{className:"w-4 h-4 mr-2"})," Weekly Summary"]}),e.jsxs(S,{variant:"outline",className:"w-full justify-start","data-testid":"button-expense-report",children:[e.jsx(bt,{className:"w-4 h-4 mr-2"})," Expense Report"]}),e.jsxs(S,{variant:"outline",className:"w-full justify-start","data-testid":"button-travel-report",children:[e.jsx(Xt,{className:"w-4 h-4 mr-2"})," Travel Summary"]}),e.jsxs(S,{variant:"outline",className:"w-full justify-start","data-testid":"button-executive-report",children:[e.jsx(et,{className:"w-4 h-4 mr-2"})," Executive Activity"]})]})]})]})]})})}function ale(){const t={name:"Rachel Taylor",title:"Executive Assistant",company:"Global Corp Inc.",email:"rachel.taylor@company.com",phone:"+1 (555) 123-4567",timezone:"America/New_York (EST)",executivesManaged:8,yearsExperience:5},s=[{id:1,label:"Urgent event alerts",enabled:!0},{id:2,label:"AI task completions",enabled:!0},{id:3,label:"Calendar reminders",enabled:!0},{id:4,label:"Executive updates",enabled:!0},{id:5,label:"Weekly summary emails",enabled:!1}];return e.jsx(Ii,{title:"Profile",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900","data-testid":"text-profile-title",children:"Profile Settings"}),e.jsx("p",{className:"text-gray-600",children:"Manage your account and preferences"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx(P,{className:"border border-gray-200",children:e.jsxs(F,{className:"p-6 text-center",children:[e.jsxs("div",{className:"relative inline-block mb-4",children:[e.jsx(Ls,{className:"h-24 w-24",children:e.jsx(Os,{className:"bg-[#FF385C]/10 text-[#FF385C] text-2xl",children:"RT"})}),e.jsx(S,{size:"icon",variant:"outline",className:"absolute bottom-0 right-0 rounded-full h-8 w-8","data-testid":"button-upload-photo",children:e.jsx(Rs,{className:"w-4 h-4"})})]}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:t.name}),e.jsx("p",{className:"text-gray-600",children:t.title}),e.jsx("p",{className:"text-sm text-gray-500",children:t.company}),e.jsxs("div",{className:"flex justify-center gap-4 mt-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.executivesManaged}),e.jsx("p",{className:"text-xs text-gray-500",children:"Executives"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.yearsExperience}),e.jsx("p",{className:"text-xs text-gray-500",children:"Years Exp."})]})]})]})}),e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(P,{className:"border border-gray-200",children:[e.jsx(Q,{children:e.jsx(X,{className:"text-lg",children:"Personal Information"})}),e.jsxs(F,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ye,{htmlFor:"firstName",children:"First Name"}),e.jsx(Ne,{id:"firstName",defaultValue:"Rachel","data-testid":"input-first-name"})]}),e.jsxs("div",{children:[e.jsx(ye,{htmlFor:"lastName",children:"Last Name"}),e.jsx(Ne,{id:"lastName",defaultValue:"Taylor","data-testid":"input-last-name"})]})]}),e.jsxs("div",{children:[e.jsx(ye,{htmlFor:"title",children:"Job Title"}),e.jsx(Ne,{id:"title",defaultValue:"Executive Assistant","data-testid":"input-title"})]}),e.jsxs("div",{children:[e.jsx(ye,{htmlFor:"company",children:"Company"}),e.jsx(Ne,{id:"company",defaultValue:"Global Corp Inc.","data-testid":"input-company"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ye,{htmlFor:"email",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(qn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(Ne,{id:"email",defaultValue:t.email,className:"pl-9","data-testid":"input-email"})]})]}),e.jsxs("div",{children:[e.jsx(ye,{htmlFor:"phone",children:"Phone"}),e.jsxs("div",{className:"relative",children:[e.jsx($l,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(Ne,{id:"phone",defaultValue:t.phone,className:"pl-9","data-testid":"input-phone"})]})]})]}),e.jsxs("div",{children:[e.jsx(ye,{htmlFor:"timezone",children:"Timezone"}),e.jsxs("div",{className:"relative",children:[e.jsx(Je,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(Ne,{id:"timezone",defaultValue:t.timezone,className:"pl-9","data-testid":"input-timezone"})]})]}),e.jsx(S,{className:"bg-[#FF385C] hover:bg-[#E23350]","data-testid":"button-save-profile",children:"Save Changes"})]})]}),e.jsxs(P,{className:"border border-gray-200",children:[e.jsx(Q,{children:e.jsxs(X,{className:"text-lg flex items-center gap-2",children:[e.jsx(mi,{className:"w-5 h-5"}),"Notification Preferences"]})}),e.jsx(F,{className:"space-y-4",children:s.map(a=>e.jsxs("div",{className:"flex items-center justify-between","data-testid":`notification-${a.id}`,children:[e.jsx("span",{className:"text-gray-700",children:a.label}),e.jsx(tr,{defaultChecked:a.enabled,"data-testid":`switch-notification-${a.id}`})]},a.id))})]}),e.jsxs(P,{className:"border border-gray-200",children:[e.jsx(Q,{children:e.jsxs(X,{className:"text-lg flex items-center gap-2",children:[e.jsx(sr,{className:"w-5 h-5"}),"Security"]})}),e.jsxs(F,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(m$,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Password"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Last changed 30 days ago"})]})]}),e.jsx(S,{variant:"outline",size:"sm","data-testid":"button-change-password",children:"Change"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(sr,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Two-Factor Authentication"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Add extra security to your account"})]})]}),e.jsx(O,{className:"bg-green-100 text-green-700",children:"Enabled"})]})]})]})]})]})]})})}function rle(){const t=[{id:1,label:"Auto-delegate routine tasks",enabled:!0},{id:2,label:"AI draft communications",enabled:!0},{id:3,label:"Smart calendar suggestions",enabled:!0},{id:4,label:"Proactive travel recommendations",enabled:!1},{id:5,label:"Gift reminders",enabled:!0}],s=[{id:1,label:"Show executive photos",enabled:!0},{id:2,label:"Compact view mode",enabled:!1},{id:3,label:"Show calendar week numbers",enabled:!1},{id:4,label:"24-hour time format",enabled:!1}];return e.jsx(Ii,{title:"Settings",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900","data-testid":"text-settings-title",children:"Settings"}),e.jsx("p",{className:"text-gray-600",children:"Configure your workspace preferences"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(P,{className:"border border-gray-200",children:[e.jsx(Q,{children:e.jsxs(X,{className:"text-lg flex items-center gap-2",children:[e.jsx(os,{className:"w-5 h-5 text-green-600"}),"AI Assistant"]})}),e.jsxs(F,{className:"space-y-4",children:[t.map(a=>e.jsxs("div",{className:"flex items-center justify-between","data-testid":`ai-setting-${a.id}`,children:[e.jsx("span",{className:"text-gray-700",children:a.label}),e.jsx(tr,{defaultChecked:a.enabled,"data-testid":`switch-ai-${a.id}`})]},a.id)),e.jsx(S,{variant:"outline",className:"w-full mt-4","data-testid":"button-ai-training",children:"AI Training Preferences"})]})]}),e.jsxs(P,{className:"border border-gray-200",children:[e.jsx(Q,{children:e.jsxs(X,{className:"text-lg flex items-center gap-2",children:[e.jsx(rg,{className:"w-5 h-5"}),"Display"]})}),e.jsxs(F,{className:"space-y-4",children:[s.map(a=>e.jsxs("div",{className:"flex items-center justify-between","data-testid":`display-setting-${a.id}`,children:[e.jsx("span",{className:"text-gray-700",children:a.label}),e.jsx(tr,{defaultChecked:a.enabled,"data-testid":`switch-display-${a.id}`})]},a.id)),e.jsxs("div",{className:"pt-4 border-t border-gray-100",children:[e.jsx(ye,{className:"mb-2 block",children:"Theme"}),e.jsxs(Wt,{defaultValue:"light","data-testid":"select-theme",children:[e.jsx(Vt,{children:e.jsx(Gt,{placeholder:"Select theme"})}),e.jsxs(Ut,{children:[e.jsx(Pe,{value:"light",children:"Light"}),e.jsx(Pe,{value:"dark",children:"Dark"}),e.jsx(Pe,{value:"system",children:"System"})]})]})]})]})]}),e.jsxs(P,{className:"border border-gray-200",children:[e.jsx(Q,{children:e.jsxs(X,{className:"text-lg flex items-center gap-2",children:[e.jsx(Ge,{className:"w-5 h-5"}),"Calendar"]})}),e.jsxs(F,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(ye,{className:"mb-2 block",children:"Default Calendar View"}),e.jsxs(Wt,{defaultValue:"week","data-testid":"select-calendar-view",children:[e.jsx(Vt,{children:e.jsx(Gt,{placeholder:"Select view"})}),e.jsxs(Ut,{children:[e.jsx(Pe,{value:"day",children:"Day"}),e.jsx(Pe,{value:"week",children:"Week"}),e.jsx(Pe,{value:"month",children:"Month"})]})]})]}),e.jsxs("div",{children:[e.jsx(ye,{className:"mb-2 block",children:"Week Starts On"}),e.jsxs(Wt,{defaultValue:"monday","data-testid":"select-week-start",children:[e.jsx(Vt,{children:e.jsx(Gt,{placeholder:"Select day"})}),e.jsxs(Ut,{children:[e.jsx(Pe,{value:"sunday",children:"Sunday"}),e.jsx(Pe,{value:"monday",children:"Monday"})]})]})]}),e.jsxs("div",{children:[e.jsx(ye,{className:"mb-2 block",children:"Working Hours"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(Wt,{defaultValue:"9","data-testid":"select-start-hour",children:[e.jsx(Vt,{className:"w-24",children:e.jsx(Gt,{placeholder:"Start"})}),e.jsx(Ut,{children:[...Array(12)].map((a,r)=>e.jsxs(Pe,{value:String(r+6),children:[r+6,":00 AM"]},r))})]}),e.jsx("span",{className:"flex items-center text-gray-500",children:"to"}),e.jsxs(Wt,{defaultValue:"17","data-testid":"select-end-hour",children:[e.jsx(Vt,{className:"w-24",children:e.jsx(Gt,{placeholder:"End"})}),e.jsx(Ut,{children:[...Array(12)].map((a,r)=>e.jsxs(Pe,{value:String(r+12),children:[r+12,":00 PM"]},r))})]})]})]})]})]}),e.jsxs(P,{className:"border border-gray-200",children:[e.jsx(Q,{children:e.jsxs(X,{className:"text-lg flex items-center gap-2",children:[e.jsx(qn,{className:"w-5 h-5"}),"Email Integration"]})}),e.jsxs(F,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Outlook Integration"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Sync calendars and contacts"})]}),e.jsx(S,{variant:"outline",size:"sm","data-testid":"button-connect-outlook",children:"Connect"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Gmail Integration"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Sync emails and calendar"})]}),e.jsx(S,{variant:"outline",size:"sm","data-testid":"button-connect-gmail",children:"Connect"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Slack Integration"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Receive notifications"})]}),e.jsx(S,{variant:"outline",size:"sm","data-testid":"button-connect-slack",children:"Connect"})]})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(S,{className:"bg-[#FF385C] hover:bg-[#E23350]","data-testid":"button-save-settings",children:"Save All Settings"})})]})})}const nle=[{icon:iw,label:"Dashboard",href:"/provider/dashboard"},{icon:JN,label:"Bookings",href:"/provider/bookings"},{icon:br,label:"Services",href:"/provider/services"},{icon:bt,label:"Earnings",href:"/provider/earnings"},{icon:Xt,label:"Performance",href:"/provider/performance"},{icon:Ge,label:"Calendar",href:"/provider/calendar"}],ile=[{icon:Cd,label:"Profile",href:"/provider/profile"},{icon:bx,label:"Settings",href:"/provider/settings"},{icon:uo,label:"Resources",href:"/provider/resources"}];function lle(){const[t]=La(),[s,a]=h.useState(!1),r=()=>{window.location.href="/api/logout"};return e.jsxs("aside",{className:`h-screen bg-white border-r border-gray-200 flex flex-col transition-all duration-300 ${s?"w-16":"w-56"}`,"data-testid":"provider-sidebar",children:[e.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[!s&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 bg-[#FF385C] rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-sm",children:"SP"})}),e.jsx("span",{className:"font-semibold text-gray-900",children:"Provider"})]}),e.jsx(S,{variant:"ghost",size:"icon",onClick:()=>a(!s),className:s?"mx-auto":"","data-testid":"button-toggle-sidebar",children:s?e.jsx($s,{className:"w-4 h-4"}):e.jsx(hr,{className:"w-4 h-4"})})]}),!s&&e.jsx("div",{className:"p-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ls,{className:"h-10 w-10",children:e.jsx(Os,{className:"bg-[#FF385C]/10 text-[#FF385C]",children:"GE"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-gray-900 truncate",children:"Grand Estate Venue"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Service Provider"})]})]})}),e.jsx("nav",{className:"flex-1 p-2 overflow-y-auto",children:e.jsx("div",{className:"space-y-1",children:nle.map(n=>{const i=t===n.href;return e.jsx(Ce,{href:n.href,children:e.jsxs("div",{className:`flex items-center gap-3 px-3 py-2 rounded-lg cursor-pointer transition-colors ${i?"bg-[#FF385C] text-white":"text-gray-700 hover:bg-gray-100"} ${s?"justify-center":""}`,"data-testid":`nav-${n.label.toLowerCase().replace(" ","-")}`,children:[e.jsx(n.icon,{className:"w-5 h-5 flex-shrink-0"}),!s&&e.jsx("span",{className:"text-sm font-medium",children:n.label})]})},n.href)})})}),e.jsx("div",{className:"p-2 border-t border-gray-200",children:e.jsxs("div",{className:"space-y-1",children:[ile.map(n=>{const i=t===n.href;return e.jsx(Ce,{href:n.href,children:e.jsxs("div",{className:`flex items-center gap-3 px-3 py-2 rounded-lg cursor-pointer transition-colors ${i?"bg-[#FF385C] text-white":"text-gray-700 hover:bg-gray-100"} ${s?"justify-center":""}`,"data-testid":`nav-${n.label.toLowerCase()}`,children:[e.jsx(n.icon,{className:"w-5 h-5 flex-shrink-0"}),!s&&e.jsx("span",{className:"text-sm font-medium",children:n.label})]})},n.href)}),e.jsxs("button",{onClick:r,className:`w-full flex items-center gap-3 px-3 py-2 rounded-lg cursor-pointer transition-colors text-gray-700 hover:bg-gray-100 ${s?"justify-center":""}`,"data-testid":"button-logout",children:[e.jsx(_d,{className:"w-5 h-5 flex-shrink-0"}),!s&&e.jsx("span",{className:"text-sm font-medium",children:"Logout"})]})]})})]})}function dl({children:t,title:s}){return e.jsxs("div",{className:"flex h-screen bg-gray-50",children:[e.jsx(lle,{}),e.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[e.jsxs("header",{className:"h-14 px-6 bg-white border-b border-gray-200 flex items-center justify-between",children:[e.jsx("h1",{className:"text-lg font-semibold text-gray-900","data-testid":"text-page-title",children:s||"Service Provider Portal"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(O,{className:"bg-amber-100 text-amber-700 border-amber-200","data-testid":"badge-rating",children:[e.jsx(rt,{className:"w-4 h-4 mr-1 fill-amber-500"})," 4.9 Rating"]}),e.jsx(vm,{})]})]}),e.jsx("main",{className:"flex-1 overflow-auto",children:t})]})]})}const ole=[{label:"Pending Bookings",value:"8",icon:Je,color:"text-amber-600"},{label:"This Month",value:"12",icon:Ge,color:"text-blue-600"},{label:"Revenue (MTD)",value:"$45,200",icon:bt,color:"text-green-600"},{label:"Rating Average",value:"4.9",icon:rt,color:"text-amber-500"}],d3=[{id:1,type:"Wedding",clientName:"Sarah & Mike Johnson",date:"September 15, 2024",guests:150,budget:"$25,000",style:"Rustic elegance, outdoor ceremony",services:["Venue rental (6 hours)","Catering for 150 guests","Bar service","Tables, chairs, linens"],expertNote:"Client loves your venue! Priority request.",urgent:!0},{id:2,type:"Birthday Party",clientName:"David Thompson",date:"June 5, 2024",guests:60,budget:"$8,000",style:"Elegant garden party",services:["Venue rental (4 hours)","Light catering"],expertNote:null,urgent:!1}],cle=[{day:"Saturday",event:"Corporate event",guests:100,amount:"$12,000"},{day:"Sunday",event:"Wedding",guests:180,amount:"$28,000"},{day:"Next Friday",event:"Anniversary dinner",guests:2,amount:"$500"},{day:"Next Saturday",event:"Birthday party",guests:75,amount:"$9,500"}];function dle(){return e.jsx(dl,{title:"Dashboard",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900","data-testid":"text-welcome",children:"Welcome back, Grand Estate Venue!"}),e.jsx("p",{className:"text-gray-600",children:"Manage your bookings and services"})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:ole.map(t=>e.jsx(P,{"data-testid":`card-stat-${t.label.toLowerCase().replace(/\s+/g,"-")}`,children:e.jsx(F,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:t.label}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.value})]}),e.jsx(t.icon,{className:`w-8 h-8 ${t.color}`})]})})},t.label))}),e.jsxs(P,{children:[e.jsxs(Q,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(Je,{className:"w-5 h-5 text-amber-600"}),"Pending Requests (",d3.length,")"]}),e.jsxs(S,{variant:"ghost",size:"sm","data-testid":"button-view-all-pending",children:["View All ",e.jsx($s,{className:"w-4 h-4 ml-1"})]})]}),e.jsx(F,{className:"space-y-4",children:d3.map(t=>e.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg space-y-3","data-testid":`card-request-${t.id}`,children:[e.jsx("div",{className:"flex items-start justify-between gap-4",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[t.urgent&&e.jsx(O,{variant:"destructive",className:"text-xs","data-testid":`badge-urgent-${t.id}`,children:"Urgent"}),e.jsx("span",{className:"font-semibold text-gray-900",children:t.type}),e.jsx("span",{className:"text-gray-500",children:"-"}),e.jsx("span",{className:"text-gray-700",children:t.clientName})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 mt-1 text-sm text-gray-600",children:[e.jsxs("span",{children:["Date: ",t.date]}),e.jsxs("span",{children:["Guests: ",t.guests]}),e.jsxs("span",{children:["Budget: ",t.budget]})]}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Style: ",t.style]}),e.jsxs("div",{className:"mt-2",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Requested Services:"}),e.jsx("ul",{className:"text-sm text-gray-600 list-disc list-inside",children:t.services.map((s,a)=>e.jsx("li",{children:s},a))})]}),t.expertNote&&e.jsxs("p",{className:"text-sm text-[#FF385C] mt-2 italic",children:['Expert Note: "',t.expertNote,'"']})]})}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx(S,{size:"sm","data-testid":`button-send-quote-${t.id}`,children:"Send Quote"}),e.jsx(S,{variant:"outline",size:"sm","data-testid":`button-decline-${t.id}`,children:"Decline"}),e.jsx(S,{variant:"ghost",size:"sm","data-testid":`button-request-info-${t.id}`,children:"Request More Info"}),e.jsxs(S,{variant:"ghost",size:"sm","data-testid":`button-check-calendar-${t.id}`,children:[e.jsx(Ge,{className:"w-4 h-4 mr-1"})," Calendar"]})]})]},t.id))})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(P,{children:[e.jsx(Q,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(JN,{className:"w-5 h-5 text-green-600"}),"Upcoming Confirmed Bookings"]})}),e.jsxs(F,{children:[e.jsx("div",{className:"space-y-3",children:cle.map((t,s)=>e.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100 last:border-0","data-testid":`row-booking-${s}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(et,{className:"w-4 h-4 text-gray-400"}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-gray-900",children:[t.day,": ",t.event]}),e.jsxs("p",{className:"text-sm text-gray-500",children:[t.guests," guests"]})]})]}),e.jsx("span",{className:"font-semibold text-green-600",children:t.amount})]},s))}),e.jsx(S,{variant:"ghost",className:"w-full mt-4","data-testid":"button-view-full-calendar",children:"View Full Calendar"})]})]}),e.jsxs(P,{children:[e.jsx(Q,{children:e.jsx(X,{children:"Quick Actions"})}),e.jsxs(F,{className:"grid grid-cols-2 gap-3",children:[e.jsxs(S,{variant:"outline",className:"h-auto py-4 flex flex-col gap-2","data-testid":"button-messages",children:[e.jsx(Vs,{className:"w-5 h-5"}),e.jsx("span",{children:"Messages"})]}),e.jsxs(S,{variant:"outline",className:"h-auto py-4 flex flex-col gap-2","data-testid":"button-update-calendar",children:[e.jsx(Ge,{className:"w-5 h-5"}),e.jsx("span",{children:"Update Calendar"})]}),e.jsxs(S,{variant:"outline",className:"h-auto py-4 flex flex-col gap-2","data-testid":"button-view-analytics",children:[e.jsx(Xt,{className:"w-5 h-5"}),e.jsx("span",{children:"View Analytics"})]}),e.jsxs(S,{variant:"outline",className:"h-auto py-4 flex flex-col gap-2","data-testid":"button-request-payout",children:[e.jsx(bt,{className:"w-5 h-5"}),e.jsx("span",{children:"Request Payout"})]}),e.jsxs(S,{variant:"outline",className:"h-auto py-4 flex flex-col gap-2 col-span-2","data-testid":"button-recent-reviews",children:[e.jsx(rt,{className:"w-5 h-5"}),e.jsx("span",{children:"Recent Reviews"})]})]})]})]})]})})}const ch=[{id:1,eventType:"Wedding",clientName:"Sarah & Mike Johnson",date:"September 15, 2024",time:"2:00 PM - 10:00 PM",guests:150,amount:"$25,000",status:"confirmed",expert:"Emily Rose"},{id:2,eventType:"Corporate Event",clientName:"Tech Corp Annual Gala",date:"September 12, 2024",time:"6:00 PM - 11:00 PM",guests:100,amount:"$12,000",status:"confirmed",expert:"David Chen"},{id:3,eventType:"Birthday Party",clientName:"David Thompson",date:"June 5, 2024",time:"4:00 PM - 9:00 PM",guests:60,amount:"$8,000",status:"pending",expert:"Maria Garcia"},{id:4,eventType:"Anniversary Dinner",clientName:"Robert & Lisa Adams",date:"May 20, 2024",time:"7:00 PM - 10:00 PM",guests:2,amount:"$500",status:"confirmed",expert:null},{id:5,eventType:"Wedding",clientName:"Jennifer & Mark Davis",date:"October 8, 2024",time:"3:00 PM - 11:00 PM",guests:180,amount:"$28,000",status:"pending",expert:"Emily Rose"},{id:6,eventType:"Product Launch",clientName:"StartupX",date:"April 15, 2024",time:"5:00 PM - 9:00 PM",guests:75,amount:"$9,500",status:"completed",expert:"David Chen"}],ule={confirmed:"bg-green-100 text-green-700 border-green-200",pending:"bg-amber-100 text-amber-700 border-amber-200",completed:"bg-blue-100 text-blue-700 border-blue-200",cancelled:"bg-red-100 text-red-700 border-red-200"};function mle(){const[t,s]=h.useState(""),[a,r]=h.useState(null),n=ch.filter(l=>{const c=l.clientName.toLowerCase().includes(t.toLowerCase())||l.eventType.toLowerCase().includes(t.toLowerCase()),u=!a||l.status===a;return c&&u}),i={total:ch.length,confirmed:ch.filter(l=>l.status==="confirmed").length,pending:ch.filter(l=>l.status==="pending").length,completed:ch.filter(l=>l.status==="completed").length};return e.jsx(dl,{title:"Bookings",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsx(P,{"data-testid":"card-stat-total",children:e.jsxs(F,{className:"p-4 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:i.total}),e.jsx("p",{className:"text-sm text-gray-500",children:"Total Bookings"})]})}),e.jsx(P,{"data-testid":"card-stat-confirmed",children:e.jsxs(F,{className:"p-4 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-green-600",children:i.confirmed}),e.jsx("p",{className:"text-sm text-gray-500",children:"Confirmed"})]})}),e.jsx(P,{"data-testid":"card-stat-pending",children:e.jsxs(F,{className:"p-4 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-amber-600",children:i.pending}),e.jsx("p",{className:"text-sm text-gray-500",children:"Pending"})]})}),e.jsx(P,{"data-testid":"card-stat-completed",children:e.jsxs(F,{className:"p-4 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:i.completed}),e.jsx("p",{className:"text-sm text-gray-500",children:"Completed"})]})})]}),e.jsx(P,{children:e.jsx(F,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(ws,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(Ne,{placeholder:"Search bookings...",value:t,onChange:l=>s(l.target.value),className:"pl-10","data-testid":"input-search-bookings"})]}),e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsx(S,{variant:a===null?"default":"outline",size:"sm",onClick:()=>r(null),"data-testid":"button-filter-all",children:"All"}),e.jsxs(S,{variant:a==="confirmed"?"default":"outline",size:"sm",onClick:()=>r("confirmed"),"data-testid":"button-filter-confirmed",children:[e.jsx(Rt,{className:"w-4 h-4 mr-1"})," Confirmed"]}),e.jsxs(S,{variant:a==="pending"?"default":"outline",size:"sm",onClick:()=>r("pending"),"data-testid":"button-filter-pending",children:[e.jsx(Je,{className:"w-4 h-4 mr-1"})," Pending"]}),e.jsx(S,{variant:a==="completed"?"default":"outline",size:"sm",onClick:()=>r("completed"),"data-testid":"button-filter-completed",children:"Completed"})]})]})})}),e.jsxs(P,{children:[e.jsx(Q,{children:e.jsxs(X,{children:["All Bookings (",n.length,")"]})}),e.jsx(F,{className:"space-y-4",children:n.map(l=>e.jsx("div",{className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors","data-testid":`card-booking-${l.id}`,children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx(O,{className:ule[l.status],"data-testid":`badge-status-${l.id}`,children:l.status.charAt(0).toUpperCase()+l.status.slice(1)}),e.jsx("span",{className:"font-semibold text-gray-900",children:l.eventType}),e.jsx("span",{className:"text-gray-500",children:"-"}),e.jsx("span",{className:"text-gray-700",children:l.clientName})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 mt-2 text-sm text-gray-600",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ge,{className:"w-4 h-4"})," ",l.date]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Je,{className:"w-4 h-4"})," ",l.time]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(et,{className:"w-4 h-4"})," ",l.guests," guests"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(bt,{className:"w-4 h-4"})," ",l.amount]})]}),l.expert&&e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Expert: ",l.expert]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(S,{variant:"outline",size:"sm","data-testid":`button-view-${l.id}`,children:"View Details"}),e.jsx(S,{variant:"ghost",size:"icon","data-testid":`button-message-${l.id}`,children:e.jsx(Vs,{className:"w-4 h-4"})})]})]})},l.id))})]})]})})}const hle=[{id:1,name:"Venue Rental - Main Hall",description:"Our beautiful 5,000 sq ft main hall with elegant chandeliers and floor-to-ceiling windows",category:"Venue",basePrice:"$3,000",priceUnit:"per event",maxGuests:250,duration:"Up to 8 hours",active:!0,featured:!0},{id:2,name:"Venue Rental - Garden Terrace",description:"Outdoor garden space with beautiful landscaping, perfect for ceremonies",category:"Venue",basePrice:"$1,500",priceUnit:"per event",maxGuests:150,duration:"Up to 6 hours",active:!0,featured:!1},{id:3,name:"Full Catering Service",description:"Complete catering with appetizers, main course, and dessert",category:"Catering",basePrice:"$85",priceUnit:"per person",minGuests:50,active:!0,featured:!0},{id:4,name:"Open Bar Package",description:"Premium open bar with craft cocktails, wine, and beer selection",category:"Beverage",basePrice:"$45",priceUnit:"per person",minGuests:50,duration:"Up to 5 hours",active:!0,featured:!1},{id:5,name:"Table & Chair Rental",description:"Elegant tables and chairs with white linens included",category:"Equipment",basePrice:"$15",priceUnit:"per person",active:!0,featured:!1},{id:6,name:"Floral Arrangements",description:"Custom floral centerpieces and venue decoration",category:"Decoration",basePrice:"$500",priceUnit:"starting",active:!1,featured:!1}],xle=["All","Venue","Catering","Beverage","Equipment","Decoration"];function ple(){const[t,s]=h.useState(hle),[a,r]=h.useState("All"),n=a==="All"?t:t.filter(c=>c.category===a),i=c=>{s(t.map(u=>u.id===c?{...u,active:!u.active}:u))},l=t.filter(c=>c.active).length;return e.jsx(dl,{title:"Services",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900","data-testid":"text-services-title",children:"Your Services"}),e.jsxs("p",{className:"text-gray-600",children:[l," of ",t.length," services active"]})]}),e.jsxs(S,{"data-testid":"button-add-service",children:[e.jsx(ps,{className:"w-4 h-4 mr-2"})," Add New Service"]})]}),e.jsx("div",{className:"flex gap-2 flex-wrap",children:xle.map(c=>e.jsx(S,{variant:a===c?"default":"outline",size:"sm",onClick:()=>r(c),"data-testid":`button-category-${c.toLowerCase()}`,children:c},c))}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:n.map(c=>e.jsx(P,{className:c.active?"":"opacity-60","data-testid":`card-service-${c.id}`,children:e.jsxs(F,{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:c.name}),c.featured&&e.jsx(O,{className:"bg-[#FF385C] text-white","data-testid":`badge-featured-${c.id}`,children:"Featured"}),e.jsx(O,{variant:"outline",children:c.category})]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:c.description}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 mt-3 text-sm",children:[e.jsxs("span",{className:"flex items-center gap-1 font-semibold text-green-600",children:[e.jsx(bt,{className:"w-4 h-4"})," ",c.basePrice," ",c.priceUnit]}),c.maxGuests&&e.jsxs("span",{className:"flex items-center gap-1 text-gray-500",children:[e.jsx(et,{className:"w-4 h-4"})," Up to ",c.maxGuests," guests"]}),c.minGuests&&e.jsxs("span",{className:"flex items-center gap-1 text-gray-500",children:[e.jsx(et,{className:"w-4 h-4"})," Min ",c.minGuests," guests"]}),c.duration&&e.jsxs("span",{className:"flex items-center gap-1 text-gray-500",children:[e.jsx(Je,{className:"w-4 h-4"})," ",c.duration]})]})]}),e.jsxs("div",{className:"flex flex-col items-end gap-2",children:[e.jsx(tr,{checked:c.active,onCheckedChange:()=>i(c.id),"data-testid":`switch-active-${c.id}`}),e.jsx("span",{className:"text-xs text-gray-500",children:c.active?"Active":"Inactive"})]})]}),e.jsxs("div",{className:"flex gap-2 mt-4 pt-4 border-t border-gray-100",children:[e.jsxs(S,{variant:"outline",size:"sm","data-testid":`button-edit-${c.id}`,children:[e.jsx(ii,{className:"w-4 h-4 mr-1"})," Edit"]}),e.jsxs(S,{variant:"ghost",size:"sm","data-testid":`button-images-${c.id}`,children:[e.jsx(Eu,{className:"w-4 h-4 mr-1"})," Images"]}),e.jsxs(S,{variant:"ghost",size:"sm",className:"text-red-600","data-testid":`button-delete-${c.id}`,children:[e.jsx(pi,{className:"w-4 h-4 mr-1"})," Delete"]})]})]})},c.id))}),n.length===0&&e.jsx(P,{children:e.jsxs(F,{className:"p-8 text-center",children:[e.jsx("p",{className:"text-gray-500",children:"No services found in this category."}),e.jsxs(S,{className:"mt-4","data-testid":"button-add-first-service",children:[e.jsx(ps,{className:"w-4 h-4 mr-2"})," Add Your First Service"]})]})})]})})}function fle(){const{data:t,isLoading:s}=Le({queryKey:["/api/provider/bookings"]}),a=h.useMemo(()=>{if(!t)return{total:0,thisMonth:0,pending:0,available:0};const c=new Date,u=c.getMonth(),m=c.getFullYear();let x=0,f=0,g=0,b=0;return t.forEach(v=>{const y=parseFloat(v.providerEarnings||"0"),w=v.createdAt?new Date(v.createdAt):new Date;v.status==="completed"?(x+=y,b+=y,w.getMonth()===u&&w.getFullYear()===m&&(f+=y)):(v.status==="confirmed"||v.status==="pending")&&(g+=y)}),{total:x,thisMonth:f,pending:g,available:b}},[t]),r=h.useMemo(()=>t?t.filter(c=>c.status==="completed"||c.status==="confirmed").sort((c,u)=>new Date(u.createdAt||0).getTime()-new Date(c.createdAt||0).getTime()).slice(0,10).map(c=>({id:c.id,type:"payment",description:c.service?.serviceName||"Service Booking",date:c.createdAt?new Date(c.createdAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"N/A",amount:`+$${parseFloat(c.providerEarnings||"0").toFixed(2)}`,status:c.status==="completed"?"completed":"pending"})):[],[t]),n=h.useMemo(()=>{if(!t)return[];const c=[],u=new Date;for(let m=5;m>=0;m--){const x=new Date(u.getFullYear(),u.getMonth()-m,1),f=`${x.getFullYear()}-${String(x.getMonth()+1).padStart(2,"0")}`,g=x.toLocaleString("default",{month:"short"});c.push({key:f,label:g,amount:0})}return t.forEach(m=>{if(m.status==="completed"&&m.createdAt){const x=new Date(m.createdAt),f=`${x.getFullYear()}-${String(x.getMonth()+1).padStart(2,"0")}`,g=c.find(b=>b.key===f);g&&(g.amount+=parseFloat(m.providerEarnings||"0"))}}),c.map(({label:m,amount:x})=>({month:m,amount:x}))},[t]),i=Math.max(...n.map(c=>c.amount),1);if(s)return e.jsx(dl,{title:"Earnings",children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(ot,{className:"w-8 h-8 animate-spin text-[#FF385C]"})})});const l=[{label:"Total Earnings",value:`$${a.total.toFixed(2)}`,icon:bt,color:"text-green-600"},{label:"This Month",value:`$${a.thisMonth.toFixed(2)}`,icon:Xt,color:"text-blue-600"},{label:"Pending",value:`$${a.pending.toFixed(2)}`,icon:Je,color:"text-amber-600"},{label:"Available",value:`$${a.available.toFixed(2)}`,icon:Rt,color:"text-green-600"}];return e.jsx(dl,{title:"Earnings",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:l.map(c=>e.jsx(P,{"data-testid":`card-stat-${c.label.toLowerCase().replace(/\s+/g,"-")}`,children:e.jsx(F,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:c.label}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:c.value})]}),e.jsx(c.icon,{className:`w-8 h-8 ${c.color}`})]})})},c.label))}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs(S,{"data-testid":"button-request-payout",children:[e.jsx(bt,{className:"w-4 h-4 mr-2"})," Request Payout"]}),e.jsxs(S,{variant:"outline","data-testid":"button-download-statement",children:[e.jsx(Un,{className:"w-4 h-4 mr-2"})," Download Statement"]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(P,{children:[e.jsx(Q,{className:"flex flex-row items-center justify-between gap-2",children:e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(Xt,{className:"w-5 h-5 text-green-600"}),"Monthly Earnings"]})}),e.jsx(F,{children:n.length>0?e.jsx("div",{className:"space-y-3",children:n.map(c=>e.jsxs("div",{className:"space-y-1","data-testid":`chart-bar-${c.month.toLowerCase()}`,children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:c.month}),e.jsxs("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:["$",c.amount.toFixed(2)]})]}),e.jsx("div",{className:"h-3 bg-gray-100 dark:bg-gray-800 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-[#FF385C] rounded-full transition-all",style:{width:`${c.amount/i*100}%`}})})]},c.month))}):e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-8",children:"No earnings data yet"})})]}),e.jsxs(P,{children:[e.jsx(Q,{children:e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(Ge,{className:"w-5 h-5 text-blue-600"}),"Payout Information"]})}),e.jsxs(F,{className:"space-y-4",children:[e.jsx("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800","data-testid":"card-available-balance",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-green-700 dark:text-green-400",children:"Available Balance"}),e.jsxs("p",{className:"text-xl font-bold text-green-800 dark:text-green-300",children:["$",a.available.toFixed(2)]})]}),e.jsx(Rt,{className:"w-6 h-6 text-green-600"})]})}),e.jsxs("div",{className:"p-4 bg-amber-50 dark:bg-amber-900/20 rounded-lg border border-amber-200 dark:border-amber-800","data-testid":"card-pending-balance",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-amber-700 dark:text-amber-400",children:"Pending Earnings"}),e.jsxs("p",{className:"text-xl font-bold text-amber-800 dark:text-amber-300",children:["$",a.pending.toFixed(2)]})]}),e.jsx(Je,{className:"w-6 h-6 text-amber-600"})]}),e.jsx("p",{className:"text-sm text-amber-600 dark:text-amber-400 mt-2",children:"Clears after service completion"})]})]})]})]}),e.jsxs(P,{children:[e.jsx(Q,{className:"flex flex-row items-center justify-between gap-2",children:e.jsx(X,{children:"Recent Transactions"})}),e.jsx(F,{children:r.length>0?e.jsx("div",{className:"space-y-3",children:r.map(c=>e.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100 dark:border-gray-800 last:border-0","data-testid":`row-transaction-${c.id}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center bg-green-100 dark:bg-green-900/30",children:e.jsx(Ei,{className:"w-5 h-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:c.description}),e.jsx("p",{className:"text-sm text-gray-500",children:c.date})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-semibold text-green-600",children:c.amount}),e.jsxs(O,{className:c.status==="completed"?"bg-green-100 text-green-700 border-green-200":"bg-amber-100 text-amber-700 border-amber-200",children:[c.status==="completed"?e.jsx(Rt,{className:"w-3 h-3 mr-1"}):e.jsx(Je,{className:"w-3 h-3 mr-1"}),c.status]})]})]},c.id))}):e.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[e.jsx(bt,{className:"w-12 h-12 mx-auto text-gray-300 mb-3"}),e.jsx("p",{children:"No transactions yet"})]})})]})]})})}function gle(){const{data:t,isLoading:s,error:a}=Le({queryKey:["/api/recommendations/provider"]});if(s)return e.jsxs(P,{className:"hover-elevate",children:[e.jsx(Q,{children:e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(oi,{className:"w-5 h-5 text-blue-500"}),"Market Opportunities"]})}),e.jsx(F,{className:"space-y-4",children:[1,2,3].map(n=>e.jsxs("div",{className:"space-y-2",children:[e.jsx(_e,{className:"h-4 w-3/4"}),e.jsx(_e,{className:"h-3 w-full"}),e.jsx(_e,{className:"h-3 w-1/2"})]},n))})]});if(a||!t)return null;if(t.recommendations.length===0)return e.jsx(P,{className:"hover-elevate",children:e.jsxs(Q,{children:[e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(oi,{className:"w-5 h-5 text-blue-500"}),"Market Opportunities"]}),e.jsx(Tt,{children:t.message||"Create your first service to receive market opportunity recommendations."})]})});const r=n=>n>=70?"text-green-600":n>=40?"text-blue-600":"text-muted-foreground";return e.jsxs(P,{className:"hover-elevate",children:[e.jsxs(Q,{children:[e.jsxs("div",{className:"flex items-center justify-between gap-2 flex-wrap",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(oi,{className:"w-5 h-5 text-blue-500"}),e.jsx(X,{children:"Market Opportunities"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[t.location&&e.jsxs(O,{variant:"outline",children:[e.jsx(Me,{className:"w-3 h-3 mr-1"}),t.location]}),e.jsxs(O,{variant:"outline",className:"text-primary",children:[e.jsx(qe,{className:"w-3 h-3 mr-1"}),"AI Powered"]})]})]}),e.jsx(Tt,{children:"Service gaps in your market based on demand analysis and competitor data"})]}),e.jsxs(F,{className:"space-y-4",children:[t.recommendations.slice(0,5).map(n=>e.jsxs("div",{className:"p-4 rounded-lg border bg-card hover-elevate transition-colors",children:[e.jsxs("div",{className:"flex items-start justify-between gap-4 flex-wrap",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap mb-1",children:[e.jsx("h4",{className:"font-medium",children:n.title}),n.gapScore>=70&&e.jsxs(O,{className:"bg-green-500",children:[e.jsx(Xt,{className:"w-3 h-3 mr-1"}),"High Demand Gap"]})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:n.description}),e.jsxs("div",{className:"flex items-center gap-3 flex-wrap text-xs",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Me,{className:"w-3 h-3"}),n.city]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(hi,{className:"w-3 h-3"}),n.currentSupplyCount," current providers"]}),e.jsxs("span",{className:`flex items-center gap-1 ${r(n.gapScore)}`,children:[e.jsx(ns,{className:"w-3 h-3"}),n.gapScore,"% supply gap"]})]})]}),e.jsx("div",{className:"flex flex-col items-end gap-2",children:e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:"Opportunity"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Pr,{value:n.opportunityScore,className:"w-16 h-2"}),e.jsxs("span",{className:"text-sm font-medium",children:[n.opportunityScore,"%"]})]})]})})]}),n.recommendedActions.length>0&&e.jsxs("div",{className:"mt-3 pt-3 border-t",children:[e.jsx("div",{className:"text-xs font-medium text-muted-foreground mb-2",children:"Recommended actions:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:n.recommendedActions.slice(0,3).map((i,l)=>e.jsxs("span",{className:"text-xs flex items-center gap-1 bg-muted px-2 py-1 rounded",children:[e.jsx($s,{className:"w-3 h-3"}),i]},l))})]}),Object.keys(n.priceRangeGap).length>0&&e.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[n.priceRangeGap.budget!==void 0&&n.priceRangeGap.budget>30&&e.jsxs(O,{variant:"outline",className:"text-xs",children:["Budget tier gap: ",n.priceRangeGap.budget,"%"]}),n.priceRangeGap.midrange!==void 0&&n.priceRangeGap.midrange>30&&e.jsxs(O,{variant:"outline",className:"text-xs",children:["Mid-range tier gap: ",n.priceRangeGap.midrange,"%"]}),n.priceRangeGap.luxury!==void 0&&n.priceRangeGap.luxury>30&&e.jsxs(O,{variant:"outline",className:"text-xs",children:["Luxury tier gap: ",n.priceRangeGap.luxury,"%"]})]})]},n.id)),t.recommendations.length>5&&e.jsxs(S,{variant:"outline",className:"w-full",children:["View all ",t.recommendations.length," opportunities",e.jsx(Kt,{className:"w-4 h-4 ml-2"})]})]})]})}function vle(){const{data:t,isLoading:s}=Le({queryKey:["/api/provider/analytics/dashboard"]}),a=[{label:"Total Revenue",value:`$${(t?.summary?.totalRevenue||0).toLocaleString()}`,icon:bt,change:"+12%",positive:!0,suffix:""},{label:"Total Bookings",value:t?.summary?.totalBookings?.toString()||"0",icon:Ge,change:"+8%",positive:!0,suffix:""},{label:"Average Rating",value:(t?.summary?.avgRating||0).toFixed(1),icon:rt,change:"+0.2",positive:!0,suffix:"/5"},{label:"Active Services",value:t?.summary?.activeServices?.toString()||"0",icon:Xt,change:"+1",positive:!0,suffix:""}],r=(n,i)=>n>=i*1.2?"excellent":n>=i?"good":"needs_improvement";return e.jsx(dl,{title:"Performance",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-foreground","data-testid":"text-performance-title",children:"Performance Analytics"}),e.jsx("p",{className:"text-muted-foreground",children:"Track your business performance and compare with benchmarks"})]}),s?e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[1,2,3,4].map(n=>e.jsx(_e,{className:"h-28 rounded-lg"},n))}),e.jsx(_e,{className:"h-64 rounded-lg"}),e.jsx(_e,{className:"h-48 rounded-lg"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:a.map(n=>e.jsx(P,{"data-testid":`card-metric-${n.label.toLowerCase().replace(/\s+/g,"-")}`,children:e.jsx(F,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:n.label}),e.jsxs("p",{className:"text-2xl font-bold text-foreground",children:[n.value,n.suffix]}),e.jsxs("div",{className:`flex items-center gap-1 text-sm ${n.positive?"text-green-600":"text-red-600"}`,children:[e.jsx(Ei,{className:"w-4 h-4"}),n.change," vs last month"]})]}),e.jsx(n.icon,{className:`w-8 h-8 ${n.label==="Average Rating"?"text-amber-500 fill-amber-500":"text-primary"}`})]})})},n.label))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(P,{children:[e.jsxs(Q,{children:[e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(hi,{className:"w-5 h-5 text-primary"}),"Monthly Performance"]}),e.jsx(Tt,{children:"Revenue and bookings by month"})]}),e.jsx(F,{className:"space-y-4",children:(t?.monthlyRevenue||[]).map((n,i)=>e.jsxs("div",{className:"flex items-center gap-4","data-testid":`row-month-${i}`,children:[e.jsx("div",{className:"w-12 text-sm font-medium text-muted-foreground",children:n.month}),e.jsx("div",{className:"flex-1",children:e.jsx(Pr,{value:n.revenue/(t?.summary?.totalRevenue||1)*100*8,className:"h-4"})}),e.jsxs("div",{className:"text-right w-28",children:[e.jsxs("p",{className:"text-sm font-medium",children:["$",n.revenue.toLocaleString()]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[n.bookings," bookings"]})]})]},i))})]}),e.jsxs(P,{children:[e.jsxs(Q,{children:[e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(et,{className:"w-5 h-5 text-primary"}),"Booking Value Benchmarks"]}),e.jsx(Tt,{children:"Compare your performance with peers"})]}),e.jsx(F,{className:"space-y-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border","data-testid":"benchmark-your-avg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-foreground",children:"Your Average"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Booking value"})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-2xl font-bold text-foreground",children:["$",Math.round(t?.benchmarks?.avgBookingValue||0)]}),e.jsx(O,{className:r(t?.benchmarks?.avgBookingValue||0,t?.benchmarks?.categoryAvg||280)==="excellent"?"bg-green-100 text-green-700 border-green-200":r(t?.benchmarks?.avgBookingValue||0,t?.benchmarks?.categoryAvg||280)==="good"?"bg-blue-100 text-blue-700 border-blue-200":"bg-amber-100 text-amber-700 border-amber-200",children:r(t?.benchmarks?.avgBookingValue||0,t?.benchmarks?.categoryAvg||280)==="excellent"?"Excellent":r(t?.benchmarks?.avgBookingValue||0,t?.benchmarks?.categoryAvg||280)==="good"?"Good":"Below Average"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border bg-muted/30","data-testid":"benchmark-category-avg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-foreground",children:"Category Average"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Similar providers"})]}),e.jsx("div",{className:"text-right",children:e.jsxs("p",{className:"text-2xl font-bold text-muted-foreground",children:["$",t?.benchmarks?.categoryAvg||280]})})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border bg-muted/30","data-testid":"benchmark-top-performer",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-foreground",children:"Top Performers"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Top 10%"})]}),e.jsx("div",{className:"text-right",children:e.jsxs("p",{className:"text-2xl font-bold text-muted-foreground",children:["$",t?.benchmarks?.topPerformerAvg||450]})})]})]})})]})]}),e.jsxs(P,{children:[e.jsx(Q,{className:"flex flex-row items-center justify-between gap-2",children:e.jsxs("div",{children:[e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(Xt,{className:"w-5 h-5 text-primary"}),"Service Performance"]}),e.jsx(Tt,{children:"Performance breakdown by service"})]})}),e.jsx(F,{children:(t?.servicePerformance||[]).length>0?e.jsx("div",{className:"space-y-4",children:t?.servicePerformance.map((n,i)=>e.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-lg border","data-testid":`row-service-${i}`,children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-foreground",children:n.title}),e.jsxs("div",{className:"flex items-center gap-3 mt-1 text-sm text-muted-foreground",children:[e.jsxs("span",{children:[n.bookings," bookings"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(rt,{className:"w-3 h-3 text-amber-500 fill-amber-500"}),n.rating.toFixed(1)]}),e.jsx(O,{variant:"outline",className:"text-xs",children:n.status})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-lg font-bold text-foreground",children:["$",n.revenue.toLocaleString()]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"revenue"})]})]},n.id||i))}):e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx("p",{children:"No service performance data yet."}),e.jsx("p",{className:"text-sm mt-1",children:"Create services and start accepting bookings to see insights."})]})})]}),e.jsx(gle,{}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(P,{children:e.jsxs(F,{className:"p-6 text-center",children:[e.jsx("div",{className:"text-4xl font-bold text-foreground",children:t?.summary?.pendingBookings||0}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Pending Bookings"}),e.jsx(S,{className:"mt-4",variant:"outline",size:"sm","data-testid":"button-view-pending",children:"View Pending"})]})}),e.jsx(P,{children:e.jsxs(F,{className:"p-6 text-center",children:[e.jsx("div",{className:"text-4xl font-bold text-green-600",children:t?.summary?.completedBookings||0}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Completed Bookings"}),e.jsx(S,{className:"mt-4",variant:"outline",size:"sm","data-testid":"button-view-completed",children:"View History"})]})})]})]})]})})}function yle(){const[t,s]=h.useState(new Date),[a,r]=h.useState(null),{data:n,isLoading:i}=Le({queryKey:["/api/provider/bookings"]}),l=t.getFullYear(),c=t.getMonth(),u=t.toLocaleString("default",{month:"long"}),m=new Date(l,c+1,0).getDate(),x=new Date(l,c,1).getDay(),f=Array.from({length:m},(_,M)=>M+1),g=Array.from({length:x},(_,M)=>M),b=h.useMemo(()=>{if(!n)return{};const _={};return n.forEach(M=>{const E=M.bookingDetails;if(E?.scheduledDate){const R=new Date(E.scheduledDate);if(R.getFullYear()===l&&R.getMonth()===c){const z=R.getDate();_[z]||(_[z]=[]),_[z].push(M)}}}),_},[n,l,c]),v=_=>b[_]||[],y=a?v(a):[],w=_=>{s(new Date(l,c+_,1)),r(null)},k=_=>{switch(_){case"confirmed":return"bg-green-100 text-green-700 border-green-200";case"completed":return"bg-blue-100 text-blue-700 border-blue-200";case"pending":return"bg-amber-100 text-amber-700 border-amber-200";case"cancelled":return"bg-red-100 text-red-700 border-red-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},C=h.useMemo(()=>{if(!n)return[];const _=new Date;return n.filter(M=>{const E=M.bookingDetails;return E?.scheduledDate?new Date(E.scheduledDate)>=_&&M.status!=="cancelled":!1}).sort((M,E)=>{const R=new Date(M.bookingDetails?.scheduledDate||0),z=new Date(E.bookingDetails?.scheduledDate||0);return R.getTime()-z.getTime()}).slice(0,6)},[n]);return i?e.jsx(dl,{title:"Calendar",children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(ot,{className:"w-8 h-8 animate-spin text-[#FF385C]"})})}):e.jsx(dl,{title:"Calendar",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Availability Calendar"}),e.jsx("p",{className:"text-gray-600",children:"View and manage your upcoming bookings"})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs(P,{className:"lg:col-span-2",children:[e.jsxs(Q,{className:"flex flex-row items-center justify-between gap-2",children:[e.jsx(S,{variant:"ghost",size:"icon",onClick:()=>w(-1),"data-testid":"button-prev-month",children:e.jsx(hr,{className:"w-5 h-5"})}),e.jsxs(X,{"data-testid":"text-current-month",children:[u," ",l]}),e.jsx(S,{variant:"ghost",size:"icon",onClick:()=>w(1),"data-testid":"button-next-month",children:e.jsx($s,{className:"w-5 h-5"})})]}),e.jsxs(F,{children:[e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(_=>e.jsx("div",{className:"text-center text-sm font-medium text-gray-500 py-2",children:_},_))}),e.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[g.map(_=>e.jsx("div",{className:"h-20 bg-gray-50 dark:bg-gray-800/50 rounded-lg"},`empty-${_}`)),f.map(_=>{const M=v(_),E=M.length>0,R=a===_,z=M.some(A=>A.status==="confirmed");return M.some(A=>A.status==="pending"),e.jsxs("button",{onClick:()=>r(_),className:`h-20 p-1 rounded-lg border transition-colors text-left ${R?"border-[#FF385C] bg-[#FF385C]/5":E?z?"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800":"bg-amber-50 dark:bg-amber-900/20 border-amber-200 dark:border-amber-800":"bg-white dark:bg-gray-900 border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-800"}`,"data-testid":`calendar-day-${_}`,children:[e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:_}),E&&e.jsx("div",{className:"mt-1",children:e.jsxs(O,{className:`text-xs truncate max-w-full ${z?"bg-green-100 text-green-700 border-green-200":"bg-amber-100 text-amber-700 border-amber-200"}`,children:[M.length," booking",M.length>1?"s":""]})})]},_)})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 mt-4 pt-4 border-t border-gray-100 dark:border-gray-800",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 bg-green-50 border border-green-200 rounded"}),e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Confirmed"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 bg-amber-50 border border-amber-200 rounded"}),e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Pending"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 bg-white border border-gray-200 rounded"}),e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Available"})]})]})]})]}),e.jsxs(P,{children:[e.jsx(Q,{children:e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(Ge,{className:"w-5 h-5 text-[#FF385C]"}),a?`${u} ${a}, ${l}`:"Select a Date"]})}),e.jsx(F,{children:y.length>0?e.jsx("div",{className:"space-y-3",children:y.map(_=>{const M=_.bookingDetails;return e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 rounded-lg space-y-3","data-testid":`card-booking-${_.id}`,children:[e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100 text-sm",children:_.service?.serviceName||"Service"}),e.jsx(O,{className:k(_.status||"pending"),children:_.status||"pending"})]}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-400",children:[_.service?.location&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Me,{className:"w-4 h-4"}),_.service.location]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(et,{className:"w-4 h-4"}),"Qty: ",M?.quantity||1]}),M?.notes&&e.jsx("p",{className:"text-xs italic",children:M.notes})]}),e.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:["$",_.totalAmount]})]},_.id)})}):a?e.jsxs("div",{className:"text-center py-8","data-testid":"text-no-bookings",children:[e.jsx(Ge,{className:"w-12 h-12 mx-auto text-gray-300 mb-3"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No bookings on this date"})]}):e.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:e.jsx("p",{children:"Click on a date to see bookings"})})})]})]}),e.jsxs(P,{children:[e.jsx(Q,{children:e.jsx(X,{children:"Upcoming Bookings"})}),e.jsx(F,{children:C.length>0?e.jsx("div",{className:"space-y-3",children:C.map(_=>{const M=_.bookingDetails,E=M?.scheduledDate?new Date(M.scheduledDate):null;return e.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100 dark:border-gray-800 last:border-0","data-testid":`row-booking-${_.id}`,children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-100 dark:bg-gray-800 rounded-lg flex flex-col items-center justify-center",children:E&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-xs text-gray-500",children:E.toLocaleString("default",{month:"short"})}),e.jsx("span",{className:"font-bold text-gray-900 dark:text-gray-100",children:E.getDate()})]})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:_.service?.serviceName||"Service Booking"}),e.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-500",children:[e.jsxs("span",{children:["$",_.totalAmount]}),_.service?.location&&e.jsx("span",{children:_.service.location})]})]})]}),e.jsx(O,{className:k(_.status||"pending"),children:_.status||"pending"})]},_.id)})}):e.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[e.jsx(Ge,{className:"w-12 h-12 mx-auto text-gray-300 mb-3"}),e.jsx("p",{children:"No upcoming bookings"})]})})]})]})})}const qi={name:"Grand Estate Venue",type:"Wedding & Event Venue",description:"Grand Estate Venue is a premier wedding and event destination featuring 10 acres of manicured gardens, a stunning 5,000 sq ft ballroom, and breathtaking outdoor ceremony spaces. Our historic estate has been hosting unforgettable celebrations since 1920.",address:"1234 Estate Drive, Napa Valley, CA 94558",phone:"+1 (707) 555-0123",email:"events@grandestatevenue.com",website:"www.grandestatevenue.com",rating:4.9,totalReviews:127,totalEvents:342,memberSince:"March 2022"},jle=["Indoor & Outdoor Spaces","Full-Service Catering","Open Bar Available","On-site Parking (200+)","Bridal Suite","Groom's Quarters","Audio/Visual Equipment","Wheelchair Accessible"],ble=[{space:"Main Ballroom",seated:250,standing:400},{space:"Garden Terrace",seated:150,standing:200},{space:"Private Dining Room",seated:30,standing:50},{space:"Ceremony Garden",seated:200,standing:300}],u3=[{id:1,label:"Main Ballroom"},{id:2,label:"Garden Terrace"},{id:3,label:"Ceremony Space"},{id:4,label:"Bridal Suite"},{id:5,label:"Dining Setup"},{id:6,label:"Night View"}];function Nle(){return e.jsx(dl,{title:"Business Profile",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx(P,{children:e.jsx(F,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ls,{className:"w-24 h-24",children:e.jsx(Os,{className:"bg-[#FF385C]/10 text-[#FF385C] text-2xl",children:"GE"})}),e.jsx(S,{variant:"outline",size:"icon",className:"absolute -bottom-2 -right-2 rounded-full w-8 h-8","data-testid":"button-change-logo",children:e.jsx(Rs,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900","data-testid":"text-business-name",children:qi.name}),e.jsxs(O,{className:"bg-blue-100 text-blue-700 border-blue-200","data-testid":"badge-verified",children:[e.jsx(Rt,{className:"w-3 h-3 mr-1"})," Verified"]})]}),e.jsx("p",{className:"text-gray-600",children:qi.type}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 mt-3",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(rt,{className:"w-5 h-5 text-amber-500 fill-amber-500"}),e.jsx("span",{className:"font-semibold",children:qi.rating}),e.jsxs("span",{className:"text-gray-500",children:["(",qi.totalReviews," reviews)"]})]}),e.jsxs("div",{className:"flex items-center gap-1 text-gray-600",children:[e.jsx(Ge,{className:"w-4 h-4"}),e.jsxs("span",{children:[qi.totalEvents," events hosted"]})]}),e.jsxs("div",{className:"flex items-center gap-1 text-gray-600",children:[e.jsx(et,{className:"w-4 h-4"}),e.jsxs("span",{children:["Member since ",qi.memberSince]})]})]})]}),e.jsxs(S,{"data-testid":"button-edit-profile",children:[e.jsx(ii,{className:"w-4 h-4 mr-2"})," Edit Profile"]})]})})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(P,{children:[e.jsxs(Q,{className:"flex flex-row items-center justify-between gap-2",children:[e.jsx(X,{children:"About"}),e.jsx(S,{variant:"ghost",size:"sm","data-testid":"button-edit-about",children:e.jsx(ii,{className:"w-4 h-4"})})]}),e.jsx(F,{children:e.jsx("p",{className:"text-gray-700","data-testid":"text-description",children:qi.description})})]}),e.jsxs(P,{children:[e.jsxs(Q,{className:"flex flex-row items-center justify-between gap-2",children:[e.jsxs(X,{children:["Photos (",u3.length,")"]}),e.jsxs(S,{variant:"ghost",size:"sm","data-testid":"button-manage-photos",children:[e.jsx(Rs,{className:"w-4 h-4 mr-1"})," Manage"]})]}),e.jsx(F,{children:e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:u3.map(t=>e.jsxs("div",{className:"aspect-video bg-gray-100 rounded-lg flex items-center justify-center relative group","data-testid":`photo-${t.id}`,children:[e.jsx(Rs,{className:"w-8 h-8 text-gray-400"}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-2 bg-gradient-to-t from-black/60 to-transparent rounded-b-lg",children:e.jsx("p",{className:"text-white text-sm",children:t.label})})]},t.id))})})]}),e.jsxs(P,{children:[e.jsxs(Q,{className:"flex flex-row items-center justify-between gap-2",children:[e.jsx(X,{children:"Venue Capacity"}),e.jsx(S,{variant:"ghost",size:"sm","data-testid":"button-edit-capacity",children:e.jsx(ii,{className:"w-4 h-4"})})]}),e.jsx(F,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("th",{className:"text-left py-2 text-sm font-medium text-gray-500",children:"Space"}),e.jsx("th",{className:"text-center py-2 text-sm font-medium text-gray-500",children:"Seated"}),e.jsx("th",{className:"text-center py-2 text-sm font-medium text-gray-500",children:"Standing"})]})}),e.jsx("tbody",{children:ble.map((t,s)=>e.jsxs("tr",{className:"border-b border-gray-100 last:border-0","data-testid":`row-capacity-${s}`,children:[e.jsx("td",{className:"py-3 font-medium text-gray-900",children:t.space}),e.jsx("td",{className:"py-3 text-center text-gray-600",children:t.seated}),e.jsx("td",{className:"py-3 text-center text-gray-600",children:t.standing})]},s))})]})})})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(P,{children:[e.jsxs(Q,{className:"flex flex-row items-center justify-between gap-2",children:[e.jsx(X,{children:"Contact Information"}),e.jsx(S,{variant:"ghost",size:"sm","data-testid":"button-edit-contact",children:e.jsx(ii,{className:"w-4 h-4"})})]}),e.jsxs(F,{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Me,{className:"w-5 h-5 text-gray-400 mt-0.5"}),e.jsx("p",{className:"text-gray-700",children:qi.address})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx($l,{className:"w-5 h-5 text-gray-400"}),e.jsx("p",{className:"text-gray-700",children:qi.phone})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(qn,{className:"w-5 h-5 text-gray-400"}),e.jsx("p",{className:"text-gray-700",children:qi.email})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Nr,{className:"w-5 h-5 text-gray-400"}),e.jsx("p",{className:"text-gray-700",children:qi.website})]})]})]}),e.jsxs(P,{children:[e.jsxs(Q,{className:"flex flex-row items-center justify-between gap-2",children:[e.jsx(X,{children:"Amenities"}),e.jsx(S,{variant:"ghost",size:"sm","data-testid":"button-edit-amenities",children:e.jsx(ii,{className:"w-4 h-4"})})]}),e.jsx(F,{children:e.jsx("div",{className:"flex flex-wrap gap-2",children:jle.map((t,s)=>e.jsx(O,{variant:"outline",className:"text-gray-700","data-testid":`badge-amenity-${s}`,children:t},s))})})]})]})]})]})})}function wle(){const[t,s]=h.useState({newBookings:!0,bookingUpdates:!0,messages:!0,reviews:!0,payouts:!0,marketing:!1}),[a,r]=h.useState(!0),[n,i]=h.useState(!1);return e.jsx(dl,{title:"Settings",children:e.jsxs("div",{className:"p-6 space-y-6 max-w-4xl",children:[e.jsxs(P,{children:[e.jsxs(Q,{children:[e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(Wn,{className:"w-5 h-5 text-gray-500"}),"Account Settings"]}),e.jsx(Tt,{children:"Manage your account credentials and security"})]}),e.jsxs(F,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ye,{htmlFor:"email",children:"Email Address"}),e.jsx(Ne,{id:"email",type:"email",defaultValue:"events@grandestatevenue.com","data-testid":"input-email"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ye,{htmlFor:"phone",children:"Phone Number"}),e.jsx(Ne,{id:"phone",type:"tel",defaultValue:"+1 (707) 555-0123","data-testid":"input-phone"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(S,{variant:"outline","data-testid":"button-change-password",children:[e.jsx(sr,{className:"w-4 h-4 mr-2"})," Change Password"]}),e.jsx(S,{variant:"outline","data-testid":"button-two-factor",children:"Enable Two-Factor Auth"})]})]})]}),e.jsxs(P,{children:[e.jsxs(Q,{children:[e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(Cd,{className:"w-5 h-5 text-gray-500"}),"Business Preferences"]}),e.jsx(Tt,{children:"Configure how you receive and manage bookings"})]}),e.jsxs(F,{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(ye,{className:"text-base",children:"Instant Booking"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Allow clients to book without prior approval"})]}),e.jsx(tr,{checked:n,onCheckedChange:i,"data-testid":"switch-instant-booking"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(ye,{className:"text-base",children:"Auto-Response"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Send automatic responses to new inquiries"})]}),e.jsx(tr,{checked:a,onCheckedChange:r,"data-testid":"switch-auto-response"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ye,{htmlFor:"lead-time",children:"Minimum Lead Time"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ne,{id:"lead-time",type:"number",defaultValue:"7",className:"w-24","data-testid":"input-lead-time"}),e.jsx("span",{className:"text-gray-600",children:"days before event"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ye,{htmlFor:"response-time",children:"Target Response Time"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ne,{id:"response-time",type:"number",defaultValue:"2",className:"w-24","data-testid":"input-response-time"}),e.jsx("span",{className:"text-gray-600",children:"hours"})]})]})]})]}),e.jsxs(P,{children:[e.jsxs(Q,{children:[e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(mi,{className:"w-5 h-5 text-gray-500"}),"Notification Preferences"]}),e.jsx(Tt,{children:"Choose how you want to be notified"})]}),e.jsx(F,{className:"space-y-4",children:Object.entries(t).map(([l,c])=>{const u={newBookings:{title:"New Booking Requests",desc:"Get notified when you receive a new booking request"},bookingUpdates:{title:"Booking Updates",desc:"Updates on confirmed bookings and changes"},messages:{title:"Messages",desc:"New messages from clients and experts"},reviews:{title:"Reviews",desc:"When clients leave reviews"},payouts:{title:"Payout Notifications",desc:"Payout processing and completion"},marketing:{title:"Marketing & Tips",desc:"Tips to improve your listing and promotions"}};return e.jsxs("div",{className:"flex items-center justify-between py-2",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(ye,{className:"text-base",children:u[l].title}),e.jsx("p",{className:"text-sm text-gray-500",children:u[l].desc})]}),e.jsx(tr,{checked:c,onCheckedChange:m=>s(x=>({...x,[l]:m})),"data-testid":`switch-notification-${l}`})]},l)})})]}),e.jsxs(P,{children:[e.jsxs(Q,{children:[e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(Sa,{className:"w-5 h-5 text-gray-500"}),"Payment Settings"]}),e.jsx(Tt,{children:"Manage your payout methods and preferences"})]}),e.jsxs(F,{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Chase Bank"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Account ending in ****1234"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(S,{variant:"outline",size:"sm","data-testid":"button-edit-payout",children:"Edit"}),e.jsx(S,{variant:"ghost",size:"sm","data-testid":"button-add-payout",children:"Add New"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ye,{children:"Payout Frequency"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(S,{variant:"outline",size:"sm",className:"flex-1","data-testid":"button-payout-weekly",children:"Weekly"}),e.jsx(S,{variant:"outline",size:"sm",className:"flex-1","data-testid":"button-payout-biweekly",children:"Bi-weekly"}),e.jsx(S,{variant:"outline",size:"sm",className:"flex-1","data-testid":"button-payout-monthly",children:"Monthly"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ye,{children:"Minimum Payout Amount"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-gray-600",children:"$"}),e.jsx(Ne,{type:"number",defaultValue:"100",className:"w-32","data-testid":"input-min-payout"})]})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(S,{"data-testid":"button-save-settings",children:[e.jsx(ow,{className:"w-4 h-4 mr-2"})," Save All Settings"]})})]})})}const m3=[{id:1,title:"Getting Started as a Provider",description:"Learn the basics of setting up your profile and listing your services",type:"guide",duration:"10 min read",featured:!0},{id:2,title:"Optimizing Your Listing",description:"Tips to improve your visibility and attract more clients",type:"guide",duration:"15 min read",featured:!0},{id:3,title:"Photography Best Practices",description:"How to take stunning photos that showcase your venue",type:"guide",duration:"8 min read",featured:!1},{id:4,title:"Pricing Strategy Guide",description:"Set competitive prices that maximize your bookings",type:"guide",duration:"12 min read",featured:!1}],kle=[{id:1,title:"Platform Overview",description:"A complete walkthrough of the provider dashboard",duration:"5:30",thumbnail:!0},{id:2,title:"Managing Bookings",description:"How to handle booking requests efficiently",duration:"8:15",thumbnail:!0},{id:3,title:"Responding to Clients",description:"Best practices for client communication",duration:"6:45",thumbnail:!0}],Cle=[{question:"How do I receive payments?",answer:"Payments are processed automatically and deposited to your linked bank account based on your payout schedule."},{question:"What is the platform fee?",answer:"We charge a 10% service fee on completed bookings. This covers payment processing, platform maintenance, and customer support."},{question:"How do I handle cancellations?",answer:"Cancellation policies are set by you. Navigate to Settings > Business Preferences to configure your cancellation terms."},{question:"Can I offer custom packages?",answer:"Yes! You can create custom service packages and quotes for each client through the booking details page."}],Sle=[{name:"Contract Template",type:"PDF",size:"245 KB"},{name:"Pricing Worksheet",type:"XLSX",size:"128 KB"},{name:"Brand Guidelines",type:"PDF",size:"1.2 MB"},{name:"Marketing Toolkit",type:"ZIP",size:"5.8 MB"}];function Tle(){return e.jsx(dl,{title:"Resources",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Learning Resources"}),e.jsx("p",{className:"text-gray-600",children:"Guides, tutorials, and tools to help you succeed"})]}),e.jsxs(P,{children:[e.jsx(Q,{children:e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(rt,{className:"w-5 h-5 text-amber-500"}),"Featured Guides"]})}),e.jsx(F,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:m3.filter(t=>t.featured).map(t=>e.jsx("div",{className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors","data-testid":`card-guide-${t.id}`,children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-[#FF385C]/10 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(uo,{className:"w-6 h-6 text-[#FF385C]"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:t.title}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:t.description}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx(O,{variant:"outline",className:"text-xs",children:t.duration}),e.jsxs(S,{variant:"ghost",size:"sm",className:"text-[#FF385C]","data-testid":`button-read-guide-${t.id}`,children:["Read Now ",e.jsx(er,{className:"w-3 h-3 ml-1"})]})]})]})]})},t.id))})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(P,{children:[e.jsx(Q,{children:e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(dm,{className:"w-5 h-5 text-blue-600"}),"Video Tutorials"]})}),e.jsxs(F,{className:"space-y-4",children:[kle.map(t=>e.jsxs("div",{className:"flex items-center gap-4","data-testid":`card-video-${t.id}`,children:[e.jsxs("div",{className:"w-24 h-16 bg-gray-100 rounded-lg flex items-center justify-center relative flex-shrink-0",children:[e.jsx(ig,{className:"w-8 h-8 text-gray-400"}),e.jsx("span",{className:"absolute bottom-1 right-1 text-xs bg-black/70 text-white px-1 rounded",children:t.duration})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:t.title}),e.jsx("p",{className:"text-sm text-gray-500",children:t.description})]}),e.jsx(S,{variant:"ghost",size:"icon","data-testid":`button-play-video-${t.id}`,children:e.jsx(ig,{className:"w-4 h-4"})})]},t.id)),e.jsx(S,{variant:"ghost",className:"w-full","data-testid":"button-view-all-videos",children:"View All Videos"})]})]}),e.jsxs(P,{children:[e.jsx(Q,{children:e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(oa,{className:"w-5 h-5 text-green-600"}),"Downloadable Resources"]})}),e.jsx(F,{className:"space-y-3",children:Sle.map((t,s)=>e.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100 last:border-0","data-testid":`row-download-${s}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center",children:e.jsx(oa,{className:"w-5 h-5 text-gray-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:t.name}),e.jsxs("p",{className:"text-xs text-gray-500",children:[t.type," - ",t.size]})]})]}),e.jsx(S,{variant:"ghost",size:"sm","data-testid":`button-download-${s}`,children:e.jsx(Un,{className:"w-4 h-4"})})]},s))})]})]}),e.jsxs(P,{children:[e.jsx(Q,{children:e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(uo,{className:"w-5 h-5 text-purple-600"}),"All Guides"]})}),e.jsx(F,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:m3.map(t=>e.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg","data-testid":`row-guide-${t.id}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(uo,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:t.title}),e.jsx("p",{className:"text-xs text-gray-500",children:t.duration})]})]}),e.jsx(S,{variant:"ghost",size:"sm","data-testid":`button-read-${t.id}`,children:"Read"})]},t.id))})})]}),e.jsxs(P,{children:[e.jsx(Q,{children:e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(xi,{className:"w-5 h-5 text-amber-600"}),"Frequently Asked Questions"]})}),e.jsx(F,{className:"space-y-4",children:Cle.map((t,s)=>e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg","data-testid":`card-faq-${s}`,children:[e.jsx("h4",{className:"font-medium text-gray-900",children:t.question}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:t.answer})]},s))})]}),e.jsx(P,{className:"bg-[#FF385C]/5 border-[#FF385C]/20",children:e.jsxs(F,{className:"p-6 text-center",children:[e.jsx(Vs,{className:"w-12 h-12 text-[#FF385C] mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Need More Help?"}),e.jsx("p",{className:"text-gray-600 mt-1 mb-4",children:"Our support team is available 24/7 to assist you"}),e.jsxs("div",{className:"flex justify-center gap-3",children:[e.jsx(S,{"data-testid":"button-contact-support",children:"Contact Support"}),e.jsx(S,{variant:"outline","data-testid":"button-community",children:"Join Community"})]})]})})]})})}const _le=[{icon:iw,label:"Dashboard",href:"/admin/dashboard"},{icon:et,label:"Users",href:"/admin/users"},{icon:wn,label:"Experts",href:"/admin/experts"},{icon:va,label:"Providers",href:"/admin/providers"},{icon:P_,label:"Affiliates",href:"/admin/affiliate-partners"},{icon:oa,label:"Content",href:"/admin/content-tracking"},{icon:d$,label:"Categories",href:"/admin/categories"},{icon:Sd,label:"Plans",href:"/admin/plans"},{icon:bt,label:"Revenue",href:"/admin/revenue"},{icon:hi,label:"Analytics",href:"/admin/analytics"},{icon:Ff,label:"AI Costs",href:"/admin/ai-costs"},{icon:id,label:"Data",href:"/admin/data"},{icon:ws,label:"Search",href:"/admin/search"},{icon:mi,label:"Notifications",href:"/admin/notifications"}],Ele=[{icon:bx,label:"System",href:"/admin/system"}];function Ple(){const[t]=La(),[s,a]=h.useState(!1),r=()=>{window.location.href="/api/logout"};return e.jsxs("aside",{className:`h-screen bg-white border-r border-gray-200 flex flex-col transition-all duration-300 ${s?"w-16":"w-56"}`,"data-testid":"admin-sidebar",children:[e.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[!s&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-900 rounded-lg flex items-center justify-center",children:e.jsx(sr,{className:"w-4 h-4 text-white"})}),e.jsx("span",{className:"font-semibold text-gray-900",children:"Admin"})]}),e.jsx(S,{variant:"ghost",size:"icon",onClick:()=>a(!s),className:s?"mx-auto":"","data-testid":"button-toggle-sidebar",children:s?e.jsx($s,{className:"w-4 h-4"}):e.jsx(hr,{className:"w-4 h-4"})})]}),!s&&e.jsx("div",{className:"p-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ls,{className:"h-10 w-10",children:e.jsx(Os,{className:"bg-gray-900 text-white",children:"AD"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-gray-900 truncate",children:"Admin User"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Platform Administrator"})]})]})}),e.jsx("nav",{className:"flex-1 p-2 overflow-y-auto",children:e.jsx("div",{className:"space-y-1",children:_le.map(n=>{const i=t===n.href;return e.jsx(Ce,{href:n.href,children:e.jsxs("div",{className:`flex items-center gap-3 px-3 py-2 rounded-lg cursor-pointer transition-colors ${i?"bg-gray-900 text-white":"text-gray-700 hover:bg-gray-100"} ${s?"justify-center":""}`,"data-testid":`nav-${n.label.toLowerCase().replace(" ","-")}`,children:[e.jsx(n.icon,{className:"w-5 h-5 flex-shrink-0"}),!s&&e.jsx("span",{className:"text-sm font-medium",children:n.label})]})},n.href)})})}),e.jsx("div",{className:"p-2 border-t border-gray-200",children:e.jsxs("div",{className:"space-y-1",children:[Ele.map(n=>{const i=t===n.href;return e.jsx(Ce,{href:n.href,children:e.jsxs("div",{className:`flex items-center gap-3 px-3 py-2 rounded-lg cursor-pointer transition-colors ${i?"bg-gray-900 text-white":"text-gray-700 hover:bg-gray-100"} ${s?"justify-center":""}`,"data-testid":`nav-${n.label.toLowerCase()}`,children:[e.jsx(n.icon,{className:"w-5 h-5 flex-shrink-0"}),!s&&e.jsx("span",{className:"text-sm font-medium",children:n.label})]})},n.href)}),e.jsxs("button",{onClick:r,className:`w-full flex items-center gap-3 px-3 py-2 rounded-lg cursor-pointer transition-colors text-gray-700 hover:bg-gray-100 ${s?"justify-center":""}`,"data-testid":"button-logout",children:[e.jsx(_d,{className:"w-5 h-5 flex-shrink-0"}),!s&&e.jsx("span",{className:"text-sm font-medium",children:"Logout"})]})]})})]})}function wr({children:t,title:s}){return e.jsxs("div",{className:"flex h-screen bg-gray-50",children:[e.jsx(Ple,{}),e.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[e.jsxs("header",{className:"h-14 px-6 bg-white border-b border-gray-200 flex items-center justify-between",children:[e.jsx("h1",{className:"text-lg font-semibold text-gray-900","data-testid":"text-page-title",children:s||"Admin Panel"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(O,{className:"bg-green-100 text-green-700 border-green-200","data-testid":"badge-system-status",children:[e.jsx(Rt,{className:"w-4 h-4 mr-1"})," All Systems Operational"]}),e.jsx(vm,{})]})]}),e.jsx("main",{className:"flex-1 overflow-auto",children:t})]})]})}const Ale=[{metric:"System Status",value:"All Systems Operational",status:"good"},{metric:"API Response Time",value:"45ms",status:"excellent"},{metric:"Server Load",value:"32%",status:"normal"},{metric:"Database",value:"Connected",status:"good"}];function Dle(){const{data:t,isLoading:s}=Le({queryKey:["/api/admin/stats"]}),{data:a}=Le({queryKey:["/api/admin/expert-applications"]}),{data:r}=Le({queryKey:["/api/admin/provider-applications"]}),n=a?.filter(c=>c.status==="pending")||[],i=r?.filter(c=>c.status==="pending")||[];if(s)return e.jsx(wr,{title:"Dashboard",children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(ot,{className:"w-8 h-8 animate-spin text-gray-600"})})});const l=[{label:"Total Users",value:t?.totalUsers?.toLocaleString()||"0",icon:et,color:"text-blue-600"},{label:"Total Bookings",value:t?.totalBookings?.toLocaleString()||"0",icon:Sd,color:"text-green-600"},{label:"Revenue (MTD)",value:`$${(t?.monthlyRevenue||0).toFixed(2)}`,icon:bt,color:"text-amber-600"},{label:"New Users (Today)",value:t?.newUsersToday?.toString()||"0",icon:L_,color:"text-purple-600"}];return e.jsx(wr,{title:"Dashboard",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:l.map(c=>e.jsx(P,{"data-testid":`card-stat-${c.label.toLowerCase().replace(/\s+/g,"-")}`,children:e.jsx(F,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:c.label}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:c.value})]}),e.jsx(c.icon,{className:`w-8 h-8 ${c.color}`})]})})},c.label))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(P,{children:[e.jsx(Q,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:e.jsxs(X,{className:"flex items-center gap-2 text-base",children:[e.jsx(wn,{className:"w-5 h-5 text-blue-600"}),"Expert Applications (",n.length,")"]})}),e.jsxs(F,{className:"space-y-3",children:[n.length>0?n.slice(0,5).map((c,u)=>e.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100 dark:border-gray-800 last:border-0","data-testid":`row-expert-application-${u}`,children:[e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:["Expert #",c.id.slice(0,8)]}),e.jsxs("p",{className:"text-sm text-gray-500",children:[c.yearsInCity," years experience"]})]}),e.jsx(O,{variant:"outline",className:"text-xs",children:"Pending"})]},c.id)):e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:"No pending applications"}),e.jsx(Ce,{href:"/admin/experts",children:e.jsxs(S,{variant:"ghost",className:"w-full","data-testid":"button-review-expert-applications",children:["Review Applications ",e.jsx($s,{className:"w-4 h-4 ml-1"})]})})]})]}),e.jsxs(P,{children:[e.jsx(Q,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:e.jsxs(X,{className:"flex items-center gap-2 text-base",children:[e.jsx(va,{className:"w-5 h-5 text-green-600"}),"Provider Applications (",i.length,")"]})}),e.jsxs(F,{className:"space-y-3",children:[i.length>0?i.slice(0,5).map((c,u)=>e.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100 dark:border-gray-800 last:border-0","data-testid":`row-provider-application-${u}`,children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:c.businessName}),e.jsx("p",{className:"text-sm text-gray-500",children:c.businessType})]}),e.jsx(O,{variant:"outline",className:"text-xs",children:"Pending"})]},c.id)):e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:"No pending applications"}),e.jsx(Ce,{href:"/admin/providers",children:e.jsxs(S,{variant:"ghost",className:"w-full","data-testid":"button-review-provider-applications",children:["Review Applications ",e.jsx($s,{className:"w-4 h-4 ml-1"})]})})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(P,{children:[e.jsx(Q,{className:"flex flex-row items-center justify-between gap-2",children:e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(F_,{className:"w-5 h-5 text-green-600"}),"Platform Health"]})}),e.jsx(F,{className:"space-y-3",children:Ale.map((c,u)=>e.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100 dark:border-gray-800 last:border-0","data-testid":`row-health-${u}`,children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:c.metric}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:c.value}),e.jsx(Rt,{className:`w-4 h-4 ${c.status==="excellent"?"text-green-500":c.status==="good"?"text-blue-500":"text-gray-400"}`})]})]},u))})]}),e.jsxs(P,{children:[e.jsx(Q,{className:"flex flex-row items-center justify-between gap-2",children:e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(Ai,{className:"w-5 h-5 text-purple-600"}),"Quick Stats"]})}),e.jsxs(F,{className:"space-y-4",children:[e.jsx("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-green-700 dark:text-green-400",children:"Total Platform Revenue"}),e.jsxs("p",{className:"text-xl font-bold text-green-800 dark:text-green-300",children:["$",(t?.totalRevenue||0).toFixed(2)]})]}),e.jsx(bt,{className:"w-8 h-8 text-green-600"})]})}),e.jsx("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-400",children:"Pending Applications"}),e.jsx("p",{className:"text-xl font-bold text-blue-800 dark:text-blue-300",children:(t?.pendingExpertApplications||0)+(t?.pendingProviderApplications||0)})]}),e.jsx(Je,{className:"w-8 h-8 text-blue-600"})]})})]})]})]})]})})}const pf=[{id:1,name:"Sarah Mitchell",email:"sarah.m@email.com",role:"user",status:"active",joined:"Jan 2, 2026",trips:5,spent:"$2,450"},{id:2,name:"John Davidson",email:"john.d@email.com",role:"user",status:"active",joined:"Jan 1, 2026",trips:2,spent:"$850"},{id:3,name:"Emily Chen",email:"emily.c@email.com",role:"expert",status:"active",joined:"Dec 15, 2025",trips:0,spent:"$0"},{id:4,name:"Michael Torres",email:"michael.t@email.com",role:"user",status:"suspended",joined:"Nov 20, 2025",trips:8,spent:"$4,200"},{id:5,name:"Lisa Parker",email:"lisa.p@email.com",role:"ea",status:"active",joined:"Oct 10, 2025",trips:0,spent:"$0"},{id:6,name:"Grand Estate Venue",email:"events@grandestate.com",role:"provider",status:"active",joined:"Mar 5, 2022",trips:0,spent:"$0"}],Fle={user:"bg-blue-100 text-blue-700 border-blue-200",expert:"bg-purple-100 text-purple-700 border-purple-200",ea:"bg-amber-100 text-amber-700 border-amber-200",provider:"bg-green-100 text-green-700 border-green-200",admin:"bg-gray-900 text-white"},h3={user:"User",expert:"Expert",ea:"EA",provider:"Provider",admin:"Admin"};function Mle(){const[t,s]=h.useState(""),[a,r]=h.useState(null),n=pf.filter(l=>{const c=l.name.toLowerCase().includes(t.toLowerCase())||l.email.toLowerCase().includes(t.toLowerCase()),u=!a||l.role===a;return c&&u}),i={total:pf.length,active:pf.filter(l=>l.status==="active").length,suspended:pf.filter(l=>l.status==="suspended").length};return e.jsx(wr,{title:"User Management",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(P,{"data-testid":"card-stat-total",children:e.jsxs(F,{className:"p-4 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:i.total}),e.jsx("p",{className:"text-sm text-gray-500",children:"Total Users"})]})}),e.jsx(P,{"data-testid":"card-stat-active",children:e.jsxs(F,{className:"p-4 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-green-600",children:i.active}),e.jsx("p",{className:"text-sm text-gray-500",children:"Active"})]})}),e.jsx(P,{"data-testid":"card-stat-suspended",children:e.jsxs(F,{className:"p-4 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-red-600",children:i.suspended}),e.jsx("p",{className:"text-sm text-gray-500",children:"Suspended"})]})}),e.jsx(P,{"data-testid":"card-stat-new",children:e.jsxs(F,{className:"p-4 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:"28"}),e.jsx("p",{className:"text-sm text-gray-500",children:"New Today"})]})})]}),e.jsx(P,{children:e.jsx(F,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(ws,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(Ne,{placeholder:"Search users by name or email...",value:t,onChange:l=>s(l.target.value),className:"pl-10","data-testid":"input-search-users"})]}),e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsx(S,{variant:a===null?"default":"outline",size:"sm",onClick:()=>r(null),"data-testid":"button-filter-all",children:"All"}),Object.entries(h3).map(([l,c])=>e.jsx(S,{variant:a===l?"default":"outline",size:"sm",onClick:()=>r(l),"data-testid":`button-filter-${l}`,children:c},l))]})]})})}),e.jsxs(P,{children:[e.jsxs(Q,{className:"flex flex-row items-center justify-between gap-2",children:[e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(et,{className:"w-5 h-5 text-blue-600"}),"All Users (",n.length,")"]}),e.jsxs(S,{size:"sm","data-testid":"button-add-user",children:[e.jsx(L_,{className:"w-4 h-4 mr-2"})," Add User"]})]}),e.jsx(F,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("th",{className:"text-left py-3 px-2 text-sm font-medium text-gray-500",children:"User"}),e.jsx("th",{className:"text-left py-3 px-2 text-sm font-medium text-gray-500",children:"Role"}),e.jsx("th",{className:"text-left py-3 px-2 text-sm font-medium text-gray-500",children:"Status"}),e.jsx("th",{className:"text-left py-3 px-2 text-sm font-medium text-gray-500",children:"Joined"}),e.jsx("th",{className:"text-left py-3 px-2 text-sm font-medium text-gray-500",children:"Trips"}),e.jsx("th",{className:"text-left py-3 px-2 text-sm font-medium text-gray-500",children:"Spent"}),e.jsx("th",{className:"text-right py-3 px-2 text-sm font-medium text-gray-500",children:"Actions"})]})}),e.jsx("tbody",{children:n.map(l=>e.jsxs("tr",{className:"border-b border-gray-100 last:border-0","data-testid":`row-user-${l.id}`,children:[e.jsx("td",{className:"py-3 px-2",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ls,{className:"h-8 w-8",children:e.jsx(Os,{className:"bg-gray-100 text-gray-600 text-xs",children:l.name.split(" ").map(c=>c[0]).join("")})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:l.name}),e.jsx("p",{className:"text-xs text-gray-500",children:l.email})]})]})}),e.jsx("td",{className:"py-3 px-2",children:e.jsx(O,{className:Fle[l.role],children:h3[l.role]})}),e.jsx("td",{className:"py-3 px-2",children:e.jsx(O,{className:l.status==="active"?"bg-green-100 text-green-700 border-green-200":"bg-red-100 text-red-700 border-red-200",children:l.status})}),e.jsx("td",{className:"py-3 px-2 text-gray-600",children:l.joined}),e.jsx("td",{className:"py-3 px-2 text-gray-600",children:l.trips}),e.jsx("td",{className:"py-3 px-2 text-gray-600",children:l.spent}),e.jsx("td",{className:"py-3 px-2",children:e.jsxs("div",{className:"flex justify-end gap-1",children:[e.jsx(S,{variant:"ghost",size:"icon","data-testid":`button-view-${l.id}`,children:e.jsx(Er,{className:"w-4 h-4"})}),e.jsx(S,{variant:"ghost",size:"icon","data-testid":`button-email-${l.id}`,children:e.jsx(qn,{className:"w-4 h-4"})}),e.jsx(S,{variant:"ghost",size:"icon","data-testid":`button-more-${l.id}`,children:e.jsx(Bu,{className:"w-4 h-4"})})]})})]},l.id))})]})})})]})]})})}const qj=[{id:1,name:"Yuki Tanaka",email:"yuki@email.co.jp",type:"Local Expert",location:"Tokyo, Japan",specialties:["Cultural Tours","Food & Dining","Hidden Gems"],experience:"5 years",appliedAt:"2 days ago",status:"pending"},{id:2,name:"Marie Dubois",email:"marie@email.fr",type:"Wedding Planner",location:"Paris, France",specialties:["Destination Weddings","Luxury Events","Venue Selection"],experience:"8 years",appliedAt:"3 days ago",status:"pending"},{id:3,name:"Carlos Rivera",email:"carlos@email.co",type:"Travel Expert",location:"Bogot, Colombia",specialties:["Adventure Travel","Eco-Tourism","Local Culture"],experience:"4 years",appliedAt:"5 days ago",status:"pending"}],Ile=[{id:101,name:"Emily Rose",email:"emily@traveloure.com",type:"Wedding Planner",location:"New York, USA",rating:4.9,reviews:127,clients:85,earnings:"$45,200",status:"active",verified:!0},{id:102,name:"David Chen",email:"david@traveloure.com",type:"Corporate Events",location:"San Francisco, USA",rating:4.8,reviews:92,clients:64,earnings:"$38,500",status:"active",verified:!0},{id:103,name:"Maria Garcia",email:"maria@traveloure.com",type:"Local Expert",location:"Barcelona, Spain",rating:4.7,reviews:78,clients:52,earnings:"$28,200",status:"active",verified:!0}];function Rle(){const[t,s]=h.useState(""),[a,r]=h.useState("applications");return e.jsx(wr,{title:"Expert Management",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(P,{"data-testid":"card-stat-total",children:e.jsxs(F,{className:"p-4 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"156"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Total Experts"})]})}),e.jsx(P,{"data-testid":"card-stat-active",children:e.jsxs(F,{className:"p-4 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-green-600",children:"142"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Active"})]})}),e.jsx(P,{"data-testid":"card-stat-pending",children:e.jsxs(F,{className:"p-4 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-amber-600",children:qj.length}),e.jsx("p",{className:"text-sm text-gray-500",children:"Pending Approval"})]})}),e.jsx(P,{"data-testid":"card-stat-avg-rating",children:e.jsxs(F,{className:"p-4 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:"4.8"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Avg Rating"})]})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(S,{variant:a==="applications"?"default":"outline",onClick:()=>r("applications"),"data-testid":"button-tab-applications",children:[e.jsx(Je,{className:"w-4 h-4 mr-2"})," Pending Applications (",qj.length,")"]}),e.jsxs(S,{variant:a==="active"?"default":"outline",onClick:()=>r("active"),"data-testid":"button-tab-active",children:[e.jsx(wn,{className:"w-4 h-4 mr-2"})," Active Experts"]})]}),e.jsx(P,{children:e.jsx(F,{className:"p-4",children:e.jsxs("div",{className:"relative",children:[e.jsx(ws,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(Ne,{placeholder:"Search experts...",value:t,onChange:n=>s(n.target.value),className:"pl-10","data-testid":"input-search-experts"})]})})}),a==="applications"?e.jsxs(P,{children:[e.jsx(Q,{children:e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(Je,{className:"w-5 h-5 text-amber-600"}),"Pending Applications"]})}),e.jsx(F,{className:"space-y-4",children:qj.map(n=>e.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg space-y-3","data-testid":`card-application-${n.id}`,children:[e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ls,{className:"h-12 w-12",children:e.jsx(Os,{className:"bg-purple-100 text-purple-700",children:n.name.split(" ").map(i=>i[0]).join("")})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:n.name}),e.jsx("p",{className:"text-sm text-gray-500",children:n.email})]})]}),e.jsx(O,{variant:"outline",className:"text-xs",children:n.appliedAt})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Type"}),e.jsx("p",{className:"font-medium",children:n.type})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Location"}),e.jsxs("p",{className:"font-medium flex items-center gap-1",children:[e.jsx(Me,{className:"w-3 h-3"})," ",n.location]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Experience"}),e.jsx("p",{className:"font-medium",children:n.experience})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Specialties"}),e.jsxs("div",{className:"flex flex-wrap gap-1 mt-1",children:[n.specialties.slice(0,2).map((i,l)=>e.jsx(O,{variant:"outline",className:"text-xs",children:i},l)),n.specialties.length>2&&e.jsxs(O,{variant:"outline",className:"text-xs",children:["+",n.specialties.length-2]})]})]})]}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsxs(S,{size:"sm","data-testid":`button-approve-${n.id}`,children:[e.jsx(Rt,{className:"w-4 h-4 mr-1"})," Approve"]}),e.jsxs(S,{variant:"outline",size:"sm","data-testid":`button-reject-${n.id}`,children:[e.jsx(po,{className:"w-4 h-4 mr-1"})," Reject"]}),e.jsxs(S,{variant:"ghost",size:"sm","data-testid":`button-view-${n.id}`,children:[e.jsx(Er,{className:"w-4 h-4 mr-1"})," View Full Profile"]})]})]},n.id))})]}):e.jsxs(P,{children:[e.jsx(Q,{children:e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(wn,{className:"w-5 h-5 text-green-600"}),"Active Experts"]})}),e.jsx(F,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("th",{className:"text-left py-3 px-2 text-sm font-medium text-gray-500",children:"Expert"}),e.jsx("th",{className:"text-left py-3 px-2 text-sm font-medium text-gray-500",children:"Type"}),e.jsx("th",{className:"text-left py-3 px-2 text-sm font-medium text-gray-500",children:"Location"}),e.jsx("th",{className:"text-left py-3 px-2 text-sm font-medium text-gray-500",children:"Rating"}),e.jsx("th",{className:"text-left py-3 px-2 text-sm font-medium text-gray-500",children:"Clients"}),e.jsx("th",{className:"text-left py-3 px-2 text-sm font-medium text-gray-500",children:"Earnings"}),e.jsx("th",{className:"text-right py-3 px-2 text-sm font-medium text-gray-500",children:"Actions"})]})}),e.jsx("tbody",{children:Ile.map(n=>e.jsxs("tr",{className:"border-b border-gray-100 last:border-0","data-testid":`row-expert-${n.id}`,children:[e.jsx("td",{className:"py-3 px-2",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ls,{className:"h-8 w-8",children:e.jsx(Os,{className:"bg-green-100 text-green-700 text-xs",children:n.name.split(" ").map(i=>i[0]).join("")})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("p",{className:"font-medium text-gray-900",children:n.name}),n.verified&&e.jsx(Rt,{className:"w-4 h-4 text-blue-500"})]}),e.jsx("p",{className:"text-xs text-gray-500",children:n.email})]})]})}),e.jsx("td",{className:"py-3 px-2",children:e.jsx(O,{variant:"outline",children:n.type})}),e.jsx("td",{className:"py-3 px-2 text-gray-600",children:e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Me,{className:"w-3 h-3"})," ",n.location]})}),e.jsx("td",{className:"py-3 px-2",children:e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(rt,{className:"w-4 h-4 text-amber-500 fill-amber-500"}),n.rating," (",n.reviews,")"]})}),e.jsx("td",{className:"py-3 px-2 text-gray-600",children:n.clients}),e.jsx("td",{className:"py-3 px-2 font-medium text-green-600",children:n.earnings}),e.jsx("td",{className:"py-3 px-2",children:e.jsx(S,{variant:"ghost",size:"sm","data-testid":`button-view-expert-${n.id}`,children:e.jsx(Er,{className:"w-4 h-4"})})})]},n.id))})]})})})]})]})})}const Hj=[{id:1,name:"Sunset Restaurant Group",email:"contact@sunsetrestaurants.com",type:"Restaurant",location:"Los Angeles, CA",services:["Fine Dining","Private Events","Catering"],appliedAt:"2 days ago"},{id:2,name:"Elite Photography Studios",email:"bookings@elitephoto.com",type:"Photography",location:"New York, NY",services:["Wedding Photography","Event Coverage","Portrait Sessions"],appliedAt:"3 days ago"}],Lle=[{id:101,name:"Grand Estate Venue",email:"events@grandestate.com",type:"Venue",location:"Napa Valley, CA",rating:4.9,reviews:127,bookings:342,revenue:"$125,450",status:"active"},{id:102,name:"Azure Catering Co.",email:"info@azurecatering.com",type:"Catering",location:"San Francisco, CA",rating:4.8,reviews:89,bookings:215,revenue:"$82,300",status:"active"},{id:103,name:"Bloom Florists",email:"orders@bloomflorists.com",type:"Florist",location:"Miami, FL",rating:4.7,reviews:64,bookings:178,revenue:"$45,600",status:"active"}];function Ole(){const[t,s]=h.useState(""),[a,r]=h.useState("applications");return e.jsx(wr,{title:"Provider Management",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(P,{"data-testid":"card-stat-total",children:e.jsxs(F,{className:"p-4 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"89"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Total Providers"})]})}),e.jsx(P,{"data-testid":"card-stat-active",children:e.jsxs(F,{className:"p-4 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-green-600",children:"82"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Active"})]})}),e.jsx(P,{"data-testid":"card-stat-pending",children:e.jsxs(F,{className:"p-4 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-amber-600",children:Hj.length}),e.jsx("p",{className:"text-sm text-gray-500",children:"Pending Approval"})]})}),e.jsx(P,{"data-testid":"card-stat-revenue",children:e.jsxs(F,{className:"p-4 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:"$2.4M"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Total Revenue"})]})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(S,{variant:a==="applications"?"default":"outline",onClick:()=>r("applications"),"data-testid":"button-tab-applications",children:[e.jsx(Je,{className:"w-4 h-4 mr-2"})," Pending Applications (",Hj.length,")"]}),e.jsxs(S,{variant:a==="active"?"default":"outline",onClick:()=>r("active"),"data-testid":"button-tab-active",children:[e.jsx(va,{className:"w-4 h-4 mr-2"})," Active Providers"]})]}),e.jsx(P,{children:e.jsx(F,{className:"p-4",children:e.jsxs("div",{className:"relative",children:[e.jsx(ws,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(Ne,{placeholder:"Search providers...",value:t,onChange:n=>s(n.target.value),className:"pl-10","data-testid":"input-search-providers"})]})})}),a==="applications"?e.jsxs(P,{children:[e.jsx(Q,{children:e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(Je,{className:"w-5 h-5 text-amber-600"}),"Pending Applications"]})}),e.jsx(F,{className:"space-y-4",children:Hj.map(n=>e.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg space-y-3","data-testid":`card-application-${n.id}`,children:[e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ls,{className:"h-12 w-12",children:e.jsx(Os,{className:"bg-green-100 text-green-700",children:n.name.split(" ").map(i=>i[0]).join("").slice(0,2)})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:n.name}),e.jsx("p",{className:"text-sm text-gray-500",children:n.email})]})]}),e.jsx(O,{variant:"outline",className:"text-xs",children:n.appliedAt})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Type"}),e.jsx("p",{className:"font-medium",children:n.type})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Location"}),e.jsxs("p",{className:"font-medium flex items-center gap-1",children:[e.jsx(Me,{className:"w-3 h-3"})," ",n.location]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Services"}),e.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:n.services.slice(0,2).map((i,l)=>e.jsx(O,{variant:"outline",className:"text-xs",children:i},l))})]})]}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsxs(S,{size:"sm","data-testid":`button-approve-${n.id}`,children:[e.jsx(Rt,{className:"w-4 h-4 mr-1"})," Approve"]}),e.jsxs(S,{variant:"outline",size:"sm","data-testid":`button-reject-${n.id}`,children:[e.jsx(po,{className:"w-4 h-4 mr-1"})," Reject"]}),e.jsxs(S,{variant:"ghost",size:"sm","data-testid":`button-view-${n.id}`,children:[e.jsx(Er,{className:"w-4 h-4 mr-1"})," View Details"]})]})]},n.id))})]}):e.jsxs(P,{children:[e.jsx(Q,{children:e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(va,{className:"w-5 h-5 text-green-600"}),"Active Providers"]})}),e.jsx(F,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("th",{className:"text-left py-3 px-2 text-sm font-medium text-gray-500",children:"Provider"}),e.jsx("th",{className:"text-left py-3 px-2 text-sm font-medium text-gray-500",children:"Type"}),e.jsx("th",{className:"text-left py-3 px-2 text-sm font-medium text-gray-500",children:"Location"}),e.jsx("th",{className:"text-left py-3 px-2 text-sm font-medium text-gray-500",children:"Rating"}),e.jsx("th",{className:"text-left py-3 px-2 text-sm font-medium text-gray-500",children:"Bookings"}),e.jsx("th",{className:"text-left py-3 px-2 text-sm font-medium text-gray-500",children:"Revenue"}),e.jsx("th",{className:"text-right py-3 px-2 text-sm font-medium text-gray-500",children:"Actions"})]})}),e.jsx("tbody",{children:Lle.map(n=>e.jsxs("tr",{className:"border-b border-gray-100 last:border-0","data-testid":`row-provider-${n.id}`,children:[e.jsx("td",{className:"py-3 px-2",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ls,{className:"h-8 w-8",children:e.jsx(Os,{className:"bg-green-100 text-green-700 text-xs",children:n.name.split(" ").map(i=>i[0]).join("").slice(0,2)})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:n.name}),e.jsx("p",{className:"text-xs text-gray-500",children:n.email})]})]})}),e.jsx("td",{className:"py-3 px-2",children:e.jsx(O,{variant:"outline",children:n.type})}),e.jsx("td",{className:"py-3 px-2 text-gray-600",children:e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Me,{className:"w-3 h-3"})," ",n.location]})}),e.jsx("td",{className:"py-3 px-2",children:e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(rt,{className:"w-4 h-4 text-amber-500 fill-amber-500"}),n.rating," (",n.reviews,")"]})}),e.jsx("td",{className:"py-3 px-2 text-gray-600",children:n.bookings}),e.jsx("td",{className:"py-3 px-2 font-medium text-green-600",children:n.revenue}),e.jsx("td",{className:"py-3 px-2",children:e.jsx(S,{variant:"ghost",size:"sm","data-testid":`button-view-provider-${n.id}`,children:e.jsx(Er,{className:"w-4 h-4"})})})]},n.id))})]})})})]})]})})}const dh=[{id:1,title:"Wedding - Sarah & Mike Johnson",type:"Wedding",destination:"Napa Valley, CA",date:"September 15, 2024",guests:150,budget:"$50,000",status:"active",expert:"Emily Rose",user:"Sarah Mitchell",created:"Dec 15, 2025",progress:75},{id:2,title:"Tokyo Cultural Experience",type:"Travel",destination:"Tokyo, Japan",date:"March 10-20, 2024",guests:2,budget:"$8,000",status:"active",expert:"Yuki Tanaka",user:"John Davidson",created:"Jan 1, 2026",progress:30},{id:3,title:"Company Retreat - Tech Corp",type:"Corporate",destination:"Aspen, CO",date:"February 5-8, 2024",guests:50,budget:"$75,000",status:"completed",expert:"David Chen",user:"Lisa Parker",created:"Nov 20, 2025",progress:100},{id:4,title:"Romantic Paris Getaway",type:"Travel",destination:"Paris, France",date:"February 14-18, 2024",guests:2,budget:"$5,000",status:"active",expert:"Marie Dubois",user:"Robert Adams",created:"Dec 28, 2025",progress:45},{id:5,title:"50th Birthday Celebration",type:"Event",destination:"Los Angeles, CA",date:"June 15, 2024",guests:75,budget:"$15,000",status:"pending",expert:null,user:"Michael Torres",created:"Jan 2, 2026",progress:10}],$le={Wedding:"bg-pink-100 text-pink-700 border-pink-200",Travel:"bg-blue-100 text-blue-700 border-blue-200",Corporate:"bg-purple-100 text-purple-700 border-purple-200",Event:"bg-amber-100 text-amber-700 border-amber-200"},Ble={active:"bg-green-100 text-green-700 border-green-200",pending:"bg-amber-100 text-amber-700 border-amber-200",completed:"bg-blue-100 text-blue-700 border-blue-200",cancelled:"bg-red-100 text-red-700 border-red-200"};function zle(){const[t,s]=h.useState(""),[a,r]=h.useState(null),n=dh.filter(l=>{const c=l.title.toLowerCase().includes(t.toLowerCase())||l.destination.toLowerCase().includes(t.toLowerCase()),u=!a||l.status===a;return c&&u}),i={total:dh.length,active:dh.filter(l=>l.status==="active").length,pending:dh.filter(l=>l.status==="pending").length,completed:dh.filter(l=>l.status==="completed").length};return e.jsx(wr,{title:"Plan Management",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(P,{"data-testid":"card-stat-total",children:e.jsxs(F,{className:"p-4 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:i.total}),e.jsx("p",{className:"text-sm text-gray-500",children:"Total Plans"})]})}),e.jsx(P,{"data-testid":"card-stat-active",children:e.jsxs(F,{className:"p-4 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-green-600",children:i.active}),e.jsx("p",{className:"text-sm text-gray-500",children:"Active"})]})}),e.jsx(P,{"data-testid":"card-stat-pending",children:e.jsxs(F,{className:"p-4 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-amber-600",children:i.pending}),e.jsx("p",{className:"text-sm text-gray-500",children:"Pending"})]})}),e.jsx(P,{"data-testid":"card-stat-completed",children:e.jsxs(F,{className:"p-4 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:i.completed}),e.jsx("p",{className:"text-sm text-gray-500",children:"Completed"})]})})]}),e.jsx(P,{children:e.jsx(F,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(ws,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(Ne,{placeholder:"Search plans...",value:t,onChange:l=>s(l.target.value),className:"pl-10","data-testid":"input-search-plans"})]}),e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsx(S,{variant:a===null?"default":"outline",size:"sm",onClick:()=>r(null),"data-testid":"button-filter-all",children:"All"}),e.jsx(S,{variant:a==="active"?"default":"outline",size:"sm",onClick:()=>r("active"),"data-testid":"button-filter-active",children:"Active"}),e.jsx(S,{variant:a==="pending"?"default":"outline",size:"sm",onClick:()=>r("pending"),"data-testid":"button-filter-pending",children:"Pending"}),e.jsx(S,{variant:a==="completed"?"default":"outline",size:"sm",onClick:()=>r("completed"),"data-testid":"button-filter-completed",children:"Completed"})]})]})})}),e.jsxs(P,{children:[e.jsx(Q,{children:e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(Sd,{className:"w-5 h-5 text-blue-600"}),"All Plans (",n.length,")"]})}),e.jsx(F,{className:"space-y-4",children:n.map(l=>e.jsx("div",{className:"p-4 border border-gray-200 rounded-lg","data-testid":`card-plan-${l.id}`,children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx(O,{className:$le[l.type],children:l.type}),e.jsx(O,{className:Ble[l.status],children:l.status}),e.jsx("h3",{className:"font-semibold text-gray-900",children:l.title})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-1 text-gray-600",children:[e.jsx(Me,{className:"w-4 h-4"})," ",l.destination]}),e.jsxs("div",{className:"flex items-center gap-1 text-gray-600",children:[e.jsx(Ge,{className:"w-4 h-4"})," ",l.date]}),e.jsxs("div",{className:"flex items-center gap-1 text-gray-600",children:[e.jsx(et,{className:"w-4 h-4"})," ",l.guests," guests"]}),e.jsxs("div",{className:"flex items-center gap-1 text-gray-600",children:[e.jsx(bt,{className:"w-4 h-4"})," ",l.budget]})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[e.jsxs("span",{children:["User: ",l.user]}),l.expert&&e.jsxs("span",{children:["Expert: ",l.expert]}),e.jsxs("span",{children:["Created: ",l.created]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex-1 h-2 bg-gray-100 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-[#FF385C] rounded-full",style:{width:`${l.progress}%`}})}),e.jsxs("span",{className:"text-sm font-medium text-gray-600",children:[l.progress,"%"]})]})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs(S,{variant:"outline",size:"sm","data-testid":`button-view-${l.id}`,children:[e.jsx(Er,{className:"w-4 h-4 mr-1"})," View"]})})]})},l.id))})]})]})})}const mx=h.forwardRef(({className:t,...s},a)=>e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsx("table",{ref:a,className:te("w-full caption-bottom text-sm",t),...s})}));mx.displayName="Table";const hx=h.forwardRef(({className:t,...s},a)=>e.jsx("thead",{ref:a,className:te("[&_tr]:border-b",t),...s}));hx.displayName="TableHeader";const xx=h.forwardRef(({className:t,...s},a)=>e.jsx("tbody",{ref:a,className:te("[&_tr:last-child]:border-0",t),...s}));xx.displayName="TableBody";const Vle=h.forwardRef(({className:t,...s},a)=>e.jsx("tfoot",{ref:a,className:te("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...s}));Vle.displayName="TableFooter";const Ji=h.forwardRef(({className:t,...s},a)=>e.jsx("tr",{ref:a,className:te("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...s}));Ji.displayName="TableRow";const ga=h.forwardRef(({className:t,...s},a)=>e.jsx("th",{ref:a,className:te("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...s}));ga.displayName="TableHead";const ea=h.forwardRef(({className:t,...s},a)=>e.jsx("td",{ref:a,className:te("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...s}));ea.displayName="TableCell";const Ule=h.forwardRef(({className:t,...s},a)=>e.jsx("caption",{ref:a,className:te("mt-4 text-sm text-muted-foreground",t),...s}));Ule.displayName="TableCaption";function Hi(t){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(t)}function x3(t){return new Date(t).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}function p3(t){return{booking_commission:"Service Bookings",template_commission:"Template Sales",affiliate_commission:"Affiliate Commissions",tip_commission:"Tips",subscription:"Subscriptions",other:"Other"}[t]||t}function f3(t){return{booking_commission:"bg-blue-500",template_commission:"bg-purple-500",affiliate_commission:"bg-green-500",tip_commission:"bg-amber-500",subscription:"bg-cyan-500",other:"bg-gray-500"}[t]||"bg-gray-500"}function qle(){const{data:t,isLoading:s}=Le({queryKey:["/api/admin/revenue/dashboard"],refetchInterval:6e4});if(s)return e.jsx(wr,{title:"Revenue",children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(ot,{className:"h-8 w-8 animate-spin text-muted-foreground"})})});const a=Object.values(t?.platform.bySource||{}).reduce((r,n)=>r+n,0);return e.jsx(wr,{title:"Revenue",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(P,{"data-testid":"card-stat-total-revenue",children:e.jsx(F,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Platform Revenue"}),e.jsx("p",{className:"text-2xl font-bold",children:Hi(t?.platform.totalRevenue||0)}),(t?.platform.growthPercent??0)!==0&&e.jsxs("div",{className:`flex items-center gap-1 text-sm ${(t?.platform.growthPercent||0)>=0?"text-green-600":"text-red-600"}`,children:[(t?.platform.growthPercent||0)>=0?e.jsx(Ei,{className:"w-4 h-4"}):e.jsx(ZN,{className:"w-4 h-4"}),t?.platform.growthPercent,"% vs last month"]})]}),e.jsx(bt,{className:"w-8 h-8 text-green-600"})]})})}),e.jsx(P,{"data-testid":"card-stat-this-month",children:e.jsx(F,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"This Month"}),e.jsx("p",{className:"text-2xl font-bold",children:Hi(t?.platform.thisMonth||0)}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["vs ",Hi(t?.platform.lastMonth||0)," last month"]})]}),e.jsx(Xt,{className:"w-8 h-8 text-blue-600"})]})})}),e.jsx(P,{"data-testid":"card-stat-expert-earnings",children:e.jsx(F,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Expert Earnings"}),e.jsx("p",{className:"text-2xl font-bold",children:Hi(t?.experts.totalPaid||0)}),e.jsx("div",{className:"flex items-center gap-2 mt-1",children:e.jsxs(O,{variant:"secondary",className:"text-xs",children:[Hi(t?.experts.totalPending||0)," pending"]})})]}),e.jsx(et,{className:"w-8 h-8 text-purple-600"})]})})}),e.jsx(P,{"data-testid":"card-stat-provider-earnings",children:e.jsx(F,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Provider Earnings"}),e.jsx("p",{className:"text-2xl font-bold",children:Hi(t?.providers.totalPaid||0)}),e.jsx("div",{className:"flex items-center gap-2 mt-1",children:e.jsxs(O,{variant:"secondary",className:"text-xs",children:[Hi(t?.providers.totalPending||0)," pending"]})})]}),e.jsx(va,{className:"w-8 h-8 text-amber-600"})]})})})]}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs(S,{"data-testid":"button-download-report",children:[e.jsx(Un,{className:"w-4 h-4 mr-2"})," Download Report"]}),e.jsxs(S,{variant:"outline","data-testid":"button-process-payouts",children:[e.jsx(Sa,{className:"w-4 h-4 mr-2"})," Process Payouts"]})]}),e.jsxs(Na,{defaultValue:"breakdown",className:"space-y-4",children:[e.jsxs(ca,{children:[e.jsx(it,{value:"breakdown","data-testid":"tab-breakdown",children:"Revenue Breakdown"}),e.jsx(it,{value:"transactions","data-testid":"tab-transactions",children:"Recent Transactions"}),e.jsx(it,{value:"trends","data-testid":"tab-trends",children:"Daily Trends"})]}),e.jsx(xt,{value:"breakdown",className:"space-y-4",children:e.jsxs(P,{children:[e.jsxs(Q,{children:[e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(bt,{className:"w-5 h-5 text-purple-600"}),"Revenue by Source"]}),e.jsx(Tt,{children:"Platform earnings breakdown by revenue stream"})]}),e.jsxs(F,{className:"space-y-4",children:[Object.entries(t?.platform.bySource||{}).map(([r,n])=>{const i=a>0?n/a*100:0;return e.jsxs("div",{className:"space-y-2","data-testid":`source-${r}`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${f3(r)}`}),e.jsx("span",{className:"text-sm font-medium",children:p3(r)})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:"text-sm font-medium",children:Hi(n)}),e.jsxs("span",{className:"text-xs text-muted-foreground ml-2",children:["(",i.toFixed(1),"%)"]})]})]}),e.jsx("div",{className:"h-3 bg-gray-100 dark:bg-gray-800 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full ${f3(r)} rounded-full transition-all`,style:{width:`${i}%`}})})]},r)}),Object.keys(t?.platform.bySource||{}).length===0&&e.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No revenue data available yet. Revenue will appear here as transactions are processed."})]})]})}),e.jsx(xt,{value:"transactions",className:"space-y-4",children:e.jsxs(P,{children:[e.jsxs(Q,{className:"flex flex-row items-center justify-between gap-2",children:[e.jsxs("div",{children:[e.jsx(X,{children:"Recent Transactions"}),e.jsx(Tt,{children:"Latest revenue events across all sources"})]}),e.jsx(S,{variant:"ghost",size:"sm","data-testid":"button-view-all-transactions",children:"View All"})]}),e.jsx(F,{children:e.jsxs(mx,{children:[e.jsx(hx,{children:e.jsxs(Ji,{children:[e.jsx(ga,{children:"Date"}),e.jsx(ga,{children:"Source"}),e.jsx(ga,{children:"Tracking #"}),e.jsx(ga,{className:"text-right",children:"Gross"}),e.jsx(ga,{className:"text-right",children:"Platform Fee"})]})}),e.jsxs(xx,{children:[(t?.recentTransactions||[]).map(r=>e.jsxs(Ji,{"data-testid":`row-transaction-${r.id}`,children:[e.jsx(ea,{className:"text-sm",children:x3(r.date)}),e.jsx(ea,{children:e.jsx(O,{variant:"outline",className:"text-xs",children:p3(r.sourceType)})}),e.jsx(ea,{className:"font-mono text-xs",children:r.trackingNumber?e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(oa,{className:"w-3 h-3"}),r.trackingNumber]}):"-"}),e.jsx(ea,{className:"text-right font-medium",children:Hi(r.grossAmount)}),e.jsxs(ea,{className:"text-right text-green-600 font-medium",children:["+",Hi(r.platformFee)]})]},r.id)),(t?.recentTransactions||[]).length===0&&e.jsx(Ji,{children:e.jsx(ea,{colSpan:5,className:"text-center text-muted-foreground py-8",children:"No transactions recorded yet. Transactions will appear here as revenue is generated."})})]})]})})]})}),e.jsx(xt,{value:"trends",className:"space-y-4",children:e.jsxs(P,{children:[e.jsxs(Q,{children:[e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(Xt,{className:"w-5 h-5 text-green-600"}),"Daily Revenue Trends"]}),e.jsx(Tt,{children:"Platform revenue over the last 14 days"})]}),e.jsxs(F,{className:"space-y-3",children:[(t?.dailyTrend||[]).slice(-14).map((r,n)=>{const i=Math.max(...(t?.dailyTrend||[]).map(c=>c.platformRevenue),1),l=r.platformRevenue/i*100;return e.jsxs("div",{className:"space-y-1","data-testid":`trend-${n}`,children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:x3(r.date)}),e.jsx("div",{className:"text-right",children:e.jsx("span",{className:"font-medium",children:Hi(r.platformRevenue)})})]}),e.jsx("div",{className:"h-3 bg-gray-100 dark:bg-gray-800 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-green-500 rounded-full transition-all",style:{width:`${l}%`}})})]},r.date)}),(t?.dailyTrend||[]).length===0&&e.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No daily trend data available yet. Data will populate as transactions occur."})]})]})})]})]})})}const Hle=[{label:"Page Views",value:"245,892",change:"+18%",positive:!0},{label:"Active Users",value:"12,450",change:"+12%",positive:!0},{label:"Conversion Rate",value:"3.8%",change:"+0.5%",positive:!0},{label:"Avg Session",value:"4m 32s",change:"-8%",positive:!1}],Wle=[{name:"Paris, France",bookings:342,revenue:"$156,000"},{name:"Tokyo, Japan",bookings:287,revenue:"$128,500"},{name:"New York, USA",bookings:256,revenue:"$115,200"},{name:"Bali, Indonesia",bookings:198,revenue:"$89,100"},{name:"Barcelona, Spain",bookings:176,revenue:"$79,200"}],Gle=[{segment:"Age 25-34",percentage:38},{segment:"Age 35-44",percentage:28},{segment:"Age 45-54",percentage:18},{segment:"Age 18-24",percentage:10},{segment:"Age 55+",percentage:6}],g3=[{source:"Organic Search",visits:85420,percentage:42},{source:"Direct",visits:52340,percentage:26},{source:"Social Media",visits:34210,percentage:17},{source:"Referral",visits:20180,percentage:10},{source:"Paid Ads",visits:10120,percentage:5}],v3=[{day:"Mon",users:1850},{day:"Tue",users:2100},{day:"Wed",users:1950},{day:"Thu",users:2300},{day:"Fri",users:2150},{day:"Sat",users:1420},{day:"Sun",users:1280}];function Kle(){const t=Math.max(...v3.map(s=>s.users));return Math.max(...g3.map(s=>s.visits)),e.jsx(wr,{title:"Analytics",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:Hle.map(s=>e.jsx(P,{"data-testid":`card-metric-${s.label.toLowerCase().replace(/\s+/g,"-")}`,children:e.jsx(F,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:s.label}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.value}),e.jsxs("div",{className:`flex items-center gap-1 text-sm ${s.positive?"text-green-600":"text-red-600"}`,children:[s.positive?e.jsx(Ei,{className:"w-4 h-4"}):e.jsx(ZN,{className:"w-4 h-4"}),s.change]})]}),e.jsx(hi,{className:"w-8 h-8 text-purple-600"})]})})},s.label))}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs(S,{"data-testid":"button-export-data",children:[e.jsx(Un,{className:"w-4 h-4 mr-2"})," Export Data"]}),e.jsx(S,{variant:"outline","data-testid":"button-custom-report",children:"Custom Report"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(P,{children:[e.jsx(Q,{children:e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(Xt,{className:"w-5 h-5 text-blue-600"}),"Weekly Active Users"]})}),e.jsx(F,{children:e.jsx("div",{className:"flex items-end justify-between h-48 gap-2",children:v3.map((s,a)=>e.jsxs("div",{className:"flex flex-col items-center flex-1","data-testid":`chart-bar-${s.day.toLowerCase()}`,children:[e.jsx("div",{className:"w-full bg-blue-500 rounded-t-md transition-all",style:{height:`${s.users/t*150}px`}}),e.jsx("span",{className:"text-xs text-gray-500 mt-2",children:s.day}),e.jsx("span",{className:"text-xs font-medium",children:s.users.toLocaleString()})]},s.day))})})]}),e.jsxs(P,{children:[e.jsx(Q,{children:e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(Er,{className:"w-5 h-5 text-green-600"}),"Traffic Sources"]})}),e.jsx(F,{className:"space-y-3",children:g3.map((s,a)=>e.jsxs("div",{className:"space-y-1","data-testid":`row-traffic-${a}`,children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:s.source}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:s.visits.toLocaleString()}),e.jsxs("span",{className:"text-gray-500 ml-1",children:["(",s.percentage,"%)"]})]})]}),e.jsx("div",{className:"h-2 bg-gray-100 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-green-500 rounded-full",style:{width:`${s.percentage}%`}})})]},s.source))})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(P,{children:[e.jsx(Q,{children:e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(Me,{className:"w-5 h-5 text-[#FF385C]"}),"Top Destinations"]})}),e.jsx(F,{children:e.jsx("div",{className:"space-y-3",children:Wle.map((s,a)=>e.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100 last:border-0","data-testid":`row-destination-${a}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"w-6 h-6 rounded-full bg-gray-100 flex items-center justify-center text-sm font-medium text-gray-600",children:a+1}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:s.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:[s.bookings," bookings"]})]})]}),e.jsx("span",{className:"font-semibold text-green-600",children:s.revenue})]},s.name))})})]}),e.jsxs(P,{children:[e.jsx(Q,{children:e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(et,{className:"w-5 h-5 text-purple-600"}),"User Demographics"]})}),e.jsx(F,{className:"space-y-3",children:Gle.map((s,a)=>e.jsxs("div",{className:"space-y-1","data-testid":`row-demographic-${a}`,children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:s.segment}),e.jsxs("span",{className:"font-medium",children:[s.percentage,"%"]})]}),e.jsx("div",{className:"h-2 bg-gray-100 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-purple-500 rounded-full",style:{width:`${s.percentage}%`}})})]},s.segment))})]})]})]})})}var Q0="Collapsible",[Yle,cM]=kr(Q0),[Qle,u2]=Yle(Q0),dM=h.forwardRef((t,s)=>{const{__scopeCollapsible:a,open:r,defaultOpen:n,disabled:i,onOpenChange:l,...c}=t,[u,m]=ln({prop:r,defaultProp:n??!1,onChange:l,caller:Q0});return e.jsx(Qle,{scope:a,disabled:i,contentId:ur(),open:u,onOpenToggle:h.useCallback(()=>m(x=>!x),[m]),children:e.jsx(lt.div,{"data-state":p2(u),"data-disabled":i?"":void 0,...c,ref:s})})});dM.displayName=Q0;var uM="CollapsibleTrigger",m2=h.forwardRef((t,s)=>{const{__scopeCollapsible:a,...r}=t,n=u2(uM,a);return e.jsx(lt.button,{type:"button","aria-controls":n.contentId,"aria-expanded":n.open||!1,"data-state":p2(n.open),"data-disabled":n.disabled?"":void 0,disabled:n.disabled,...r,ref:s,onClick:Ye(t.onClick,n.onOpenToggle)})});m2.displayName=uM;var h2="CollapsibleContent",x2=h.forwardRef((t,s)=>{const{forceMount:a,...r}=t,n=u2(h2,t.__scopeCollapsible);return e.jsx(xr,{present:a||n.open,children:({present:i})=>e.jsx(Xle,{...r,ref:s,present:i})})});x2.displayName=h2;var Xle=h.forwardRef((t,s)=>{const{__scopeCollapsible:a,present:r,children:n,...i}=t,l=u2(h2,a),[c,u]=h.useState(r),m=h.useRef(null),x=zt(s,m),f=h.useRef(0),g=f.current,b=h.useRef(0),v=b.current,y=l.open||c,w=h.useRef(y),k=h.useRef(void 0);return h.useEffect(()=>{const C=requestAnimationFrame(()=>w.current=!1);return()=>cancelAnimationFrame(C)},[]),Wa(()=>{const C=m.current;if(C){k.current=k.current||{transitionDuration:C.style.transitionDuration,animationName:C.style.animationName},C.style.transitionDuration="0s",C.style.animationName="none";const _=C.getBoundingClientRect();f.current=_.height,b.current=_.width,w.current||(C.style.transitionDuration=k.current.transitionDuration,C.style.animationName=k.current.animationName),u(r)}},[l.open,r]),e.jsx(lt.div,{"data-state":p2(l.open),"data-disabled":l.disabled?"":void 0,id:l.contentId,hidden:!y,...i,ref:x,style:{"--radix-collapsible-content-height":g?`${g}px`:void 0,"--radix-collapsible-content-width":v?`${v}px`:void 0,...t.style},children:y&&n})});function p2(t){return t?"open":"closed"}var mM=dM,Zle=m2,Jle=x2,hl="Accordion",eoe=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[f2,toe,soe]=lm(hl),[X0]=kr(hl,[soe,cM]),g2=cM(),hM=st.forwardRef((t,s)=>{const{type:a,...r}=t,n=r,i=r;return e.jsx(f2.Provider,{scope:t.__scopeAccordion,children:a==="multiple"?e.jsx(ioe,{...i,ref:s}):e.jsx(noe,{...n,ref:s})})});hM.displayName=hl;var[xM,aoe]=X0(hl),[pM,roe]=X0(hl,{collapsible:!1}),noe=st.forwardRef((t,s)=>{const{value:a,defaultValue:r,onValueChange:n=()=>{},collapsible:i=!1,...l}=t,[c,u]=ln({prop:a,defaultProp:r??"",onChange:n,caller:hl});return e.jsx(xM,{scope:t.__scopeAccordion,value:st.useMemo(()=>c?[c]:[],[c]),onItemOpen:u,onItemClose:st.useCallback(()=>i&&u(""),[i,u]),children:e.jsx(pM,{scope:t.__scopeAccordion,collapsible:i,children:e.jsx(fM,{...l,ref:s})})})}),ioe=st.forwardRef((t,s)=>{const{value:a,defaultValue:r,onValueChange:n=()=>{},...i}=t,[l,c]=ln({prop:a,defaultProp:r??[],onChange:n,caller:hl}),u=st.useCallback(x=>c((f=[])=>[...f,x]),[c]),m=st.useCallback(x=>c((f=[])=>f.filter(g=>g!==x)),[c]);return e.jsx(xM,{scope:t.__scopeAccordion,value:l,onItemOpen:u,onItemClose:m,children:e.jsx(pM,{scope:t.__scopeAccordion,collapsible:!0,children:e.jsx(fM,{...i,ref:s})})})}),[loe,Z0]=X0(hl),fM=st.forwardRef((t,s)=>{const{__scopeAccordion:a,disabled:r,dir:n,orientation:i="vertical",...l}=t,c=st.useRef(null),u=zt(c,s),m=toe(a),f=xc(n)==="ltr",g=Ye(t.onKeyDown,b=>{if(!eoe.includes(b.key))return;const v=b.target,y=m().filter(A=>!A.ref.current?.disabled),w=y.findIndex(A=>A.ref.current===v),k=y.length;if(w===-1)return;b.preventDefault();let C=w;const _=0,M=k-1,E=()=>{C=w+1,C>M&&(C=_)},R=()=>{C=w-1,C<_&&(C=M)};switch(b.key){case"Home":C=_;break;case"End":C=M;break;case"ArrowRight":i==="horizontal"&&(f?E():R());break;case"ArrowDown":i==="vertical"&&E();break;case"ArrowLeft":i==="horizontal"&&(f?R():E());break;case"ArrowUp":i==="vertical"&&R();break}const z=C%k;y[z].ref.current?.focus()});return e.jsx(loe,{scope:a,disabled:r,direction:n,orientation:i,children:e.jsx(f2.Slot,{scope:a,children:e.jsx(lt.div,{...l,"data-orientation":i,ref:u,onKeyDown:r?void 0:g})})})}),Ug="AccordionItem",[ooe,v2]=X0(Ug),gM=st.forwardRef((t,s)=>{const{__scopeAccordion:a,value:r,...n}=t,i=Z0(Ug,a),l=aoe(Ug,a),c=g2(a),u=ur(),m=r&&l.value.includes(r)||!1,x=i.disabled||t.disabled;return e.jsx(ooe,{scope:a,open:m,disabled:x,triggerId:u,children:e.jsx(mM,{"data-orientation":i.orientation,"data-state":wM(m),...c,...n,ref:s,disabled:x,open:m,onOpenChange:f=>{f?l.onItemOpen(r):l.onItemClose(r)}})})});gM.displayName=Ug;var vM="AccordionHeader",yM=st.forwardRef((t,s)=>{const{__scopeAccordion:a,...r}=t,n=Z0(hl,a),i=v2(vM,a);return e.jsx(lt.h3,{"data-orientation":n.orientation,"data-state":wM(i.open),"data-disabled":i.disabled?"":void 0,...r,ref:s})});yM.displayName=vM;var CN="AccordionTrigger",jM=st.forwardRef((t,s)=>{const{__scopeAccordion:a,...r}=t,n=Z0(hl,a),i=v2(CN,a),l=roe(CN,a),c=g2(a);return e.jsx(f2.ItemSlot,{scope:a,children:e.jsx(Zle,{"aria-disabled":i.open&&!l.collapsible||void 0,"data-orientation":n.orientation,id:i.triggerId,...c,...r,ref:s})})});jM.displayName=CN;var bM="AccordionContent",NM=st.forwardRef((t,s)=>{const{__scopeAccordion:a,...r}=t,n=Z0(hl,a),i=v2(bM,a),l=g2(a);return e.jsx(Jle,{role:"region","aria-labelledby":i.triggerId,"data-orientation":n.orientation,...l,...r,ref:s,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});NM.displayName=bM;function wM(t){return t?"open":"closed"}var coe=hM,doe=gM,uoe=yM,kM=jM,CM=NM;const y2=coe,J0=h.forwardRef(({className:t,...s},a)=>e.jsx(doe,{ref:a,className:te("border-b",t),...s}));J0.displayName="AccordionItem";const ev=h.forwardRef(({className:t,children:s,...a},r)=>e.jsx(uoe,{className:"flex",children:e.jsxs(kM,{ref:r,className:te("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t),...a,children:[s,e.jsx(qs,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));ev.displayName=kM.displayName;const tv=h.forwardRef(({className:t,children:s,...a},r)=>e.jsx(CM,{ref:r,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...a,children:e.jsx("div",{className:te("pb-4 pt-0",t),children:s})}));tv.displayName=CM.displayName;const moe={"photography-videography":Rs,"transportation-logistics":zs,"food-culinary":N_,"childcare-family":uc,"tours-experiences":r0,"personal-assistance":et,"taskrabbit-services":Js,"health-wellness":Qt,"beauty-styling":w$,"pets-animals":y$,"events-celebrations":ya,"technology-connectivity":a0,"language-translation":No,"specialty-services":qe,"custom-other":xi};function hoe(){const{toast:t}=Bs(),[s,a]=h.useState(!1),[r,n]=h.useState(null),[i,l]=h.useState({name:"",description:"",icon:"",categoryType:"service_provider",verificationRequired:!0,requiredDocuments:[]}),{data:c=[],isLoading:u}=Le({queryKey:["/api/admin/categories"]}),m=Ot({mutationFn:async v=>Ft("POST","/api/admin/categories",v),onSuccess:()=>{_t.invalidateQueries({queryKey:["/api/admin/categories"]}),t({title:"Category created successfully"}),a(!1),l({name:"",description:"",icon:"",categoryType:"service_provider",verificationRequired:!0,requiredDocuments:[]})},onError:()=>{t({title:"Failed to create category",variant:"destructive"})}}),x=Ot({mutationFn:async({id:v,data:y})=>Ft("PATCH",`/api/admin/categories/${v}`,y),onSuccess:()=>{_t.invalidateQueries({queryKey:["/api/admin/categories"]}),t({title:"Category updated successfully"}),n(null)},onError:()=>{t({title:"Failed to update category",variant:"destructive"})}}),f=Ot({mutationFn:async v=>Ft("DELETE",`/api/admin/categories/${v}`,{}),onSuccess:()=>{_t.invalidateQueries({queryKey:["/api/admin/categories"]}),t({title:"Category deleted successfully"})},onError:()=>{t({title:"Failed to delete category",variant:"destructive"})}}),g=v=>{switch(v){case"service_provider":return"Service Provider";case"local_expert":return"Local Expert";case"hybrid":return"Hybrid";default:return v}},b=v=>{switch(v){case"service_provider":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"local_expert":return"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200";case"hybrid":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";default:return""}};return e.jsx(wr,{title:"Service Categories",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100","data-testid":"text-categories-title",children:"Service Provider Categories"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage the 15+ service provider categories for your marketplace"})]}),e.jsxs(rn,{open:s,onOpenChange:a,children:[e.jsx(qx,{asChild:!0,children:e.jsxs(S,{className:"bg-[#FF385C] hover:bg-[#E23350]","data-testid":"button-create-category",children:[e.jsx(ps,{className:"w-4 h-4 mr-2"})," Add Category"]})}),e.jsxs(zr,{className:"max-w-lg",children:[e.jsx(Vr,{children:e.jsx(Ur,{children:"Create Service Category"})}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ye,{htmlFor:"name",children:"Category Name"}),e.jsx(Ne,{id:"name",value:i.name,onChange:v=>l({...i,name:v.target.value}),placeholder:"e.g., Photography & Videography","data-testid":"input-category-name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ye,{htmlFor:"description",children:"Description"}),e.jsx(Ks,{id:"description",value:i.description,onChange:v=>l({...i,description:v.target.value}),placeholder:"Brief description of this category...","data-testid":"input-category-description"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ye,{htmlFor:"icon",children:"Icon (emoji)"}),e.jsx(Ne,{id:"icon",value:i.icon,onChange:v=>l({...i,icon:v.target.value}),placeholder:"e.g., camera icon","data-testid":"input-category-icon"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ye,{htmlFor:"type",children:"Category Type"}),e.jsxs(Wt,{value:i.categoryType,onValueChange:v=>l({...i,categoryType:v}),children:[e.jsx(Vt,{"data-testid":"select-category-type",children:e.jsx(Gt,{})}),e.jsxs(Ut,{children:[e.jsx(Pe,{value:"service_provider",children:"Service Provider"}),e.jsx(Pe,{value:"local_expert",children:"Local Expert"}),e.jsx(Pe,{value:"hybrid",children:"Hybrid"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ye,{htmlFor:"verification",children:"Verification Required"}),e.jsx(tr,{id:"verification",checked:i.verificationRequired,onCheckedChange:v=>l({...i,verificationRequired:v}),"data-testid":"switch-verification-required"})]}),e.jsx(S,{className:"w-full bg-[#FF385C] hover:bg-[#E23350]",onClick:()=>m.mutate(i),disabled:!i.name||m.isPending,"data-testid":"button-submit-category",children:m.isPending?"Creating...":"Create Category"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(P,{className:"bg-blue-50 dark:bg-blue-950 border-blue-200 dark:border-blue-800",children:e.jsxs(F,{className:"pt-6",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400","data-testid":"text-total-categories",children:c.length}),e.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-400",children:"Total Categories"})]})}),e.jsx(P,{className:"bg-green-50 dark:bg-green-950 border-green-200 dark:border-green-800",children:e.jsxs(F,{className:"pt-6",children:[e.jsx("div",{className:"text-3xl font-bold text-green-600 dark:text-green-400","data-testid":"text-active-categories",children:c.filter(v=>v.isActive).length}),e.jsx("p",{className:"text-sm text-green-600 dark:text-green-400",children:"Active Categories"})]})}),e.jsx(P,{className:"bg-purple-50 dark:bg-purple-950 border-purple-200 dark:border-purple-800",children:e.jsxs(F,{className:"pt-6",children:[e.jsx("div",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400","data-testid":"text-total-subcategories",children:c.reduce((v,y)=>v+(y.subcategories?.length||0),0)}),e.jsx("p",{className:"text-sm text-purple-600 dark:text-purple-400",children:"Total Subcategories"})]})}),e.jsx(P,{className:"bg-amber-50 dark:bg-amber-950 border-amber-200 dark:border-amber-800",children:e.jsxs(F,{className:"pt-6",children:[e.jsx("div",{className:"text-3xl font-bold text-amber-600 dark:text-amber-400","data-testid":"text-verified-categories",children:c.filter(v=>v.verificationRequired).length}),e.jsx("p",{className:"text-sm text-amber-600 dark:text-amber-400",children:"Require Verification"})]})})]}),e.jsxs(P,{children:[e.jsxs(Q,{children:[e.jsx(X,{children:"All Categories"}),e.jsx(Tt,{children:"Manage service provider categories and their subcategories"})]}),e.jsx(F,{children:u?e.jsx("div",{className:"space-y-4",children:[...Array(5)].map((v,y)=>e.jsx(_e,{className:"h-16 w-full"},y))}):c.length===0?e.jsxs("div",{className:"text-center py-12 text-gray-500",children:[e.jsx(xi,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),e.jsx("p",{children:"No categories yet. Create your first category to get started."})]}):e.jsx(y2,{type:"multiple",className:"space-y-2",children:c.map(v=>{const y=moe[v.slug||""]||xi;return e.jsxs(J0,{value:v.id,className:"border rounded-lg px-4",children:[e.jsx(ev,{className:"hover:no-underline py-4",children:e.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-[#FF385C]/10 flex items-center justify-center",children:e.jsx(y,{className:"w-5 h-5 text-[#FF385C]"})}),e.jsxs("div",{className:"flex-1 text-left",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("span",{className:"font-medium",children:v.name}),e.jsx(O,{variant:"outline",className:b(v.categoryType),children:g(v.categoryType)}),v.verificationRequired&&e.jsx(O,{variant:"outline",className:"text-xs",children:"Verified"}),!v.isActive&&e.jsx(O,{variant:"secondary",className:"text-xs",children:"Inactive"})]}),e.jsx("p",{className:"text-sm text-gray-500 line-clamp-1",children:v.description})]}),e.jsxs("div",{className:"text-sm text-gray-500 mr-4",children:[v.subcategories?.length||0," subcategories"]})]})}),e.jsx(tv,{className:"pb-4",children:e.jsxs("div",{className:"pl-14 space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(S,{size:"sm",variant:"outline",onClick:()=>n(v),"data-testid":`button-edit-category-${v.id}`,children:[e.jsx(ii,{className:"w-4 h-4 mr-1"})," Edit"]}),e.jsx(S,{size:"sm",variant:"outline",onClick:()=>x.mutate({id:v.id,data:{isActive:!v.isActive}}),"data-testid":`button-toggle-category-${v.id}`,children:v.isActive?"Deactivate":"Activate"}),e.jsxs(S,{size:"sm",variant:"outline",className:"text-red-600 hover:text-red-700",onClick:()=>{confirm("Are you sure? This will also delete all subcategories.")&&f.mutate(v.id)},"data-testid":`button-delete-category-${v.id}`,children:[e.jsx(pi,{className:"w-4 h-4 mr-1"})," Delete"]})]}),v.subcategories&&v.subcategories.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Subcategories"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:v.subcategories.map(w=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($s,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"text-sm",children:w.name})]}),e.jsx(O,{variant:w.isActive?"outline":"secondary",children:w.isActive?"Active":"Inactive"})]},w.id))})]}),v.requiredDocuments&&v.requiredDocuments.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Required Documents"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:v.requiredDocuments.map((w,k)=>e.jsx(O,{variant:"secondary",children:w},k))})]})]})})]},v.id)})})})]})]})})}const xoe=["Sarah Mitchell","Grand Estate Venue","Tokyo wedding","Refund #4521"],poe=[{label:"Users",icon:et,count:12450},{label:"Experts",icon:wn,count:156},{label:"Providers",icon:va,count:89},{label:"Plans",icon:Sd,count:342}],y3=[{id:1,type:"user",name:"Sarah Mitchell",description:"sarah.m@email.com",meta:"5 trips, $2,450 spent"},{id:2,type:"expert",name:"Sarah Chen",description:"Wedding Planner - Paris, France",meta:"4.9 rating, 127 reviews"},{id:3,type:"provider",name:"Sarah's Catering",description:"Catering Service - Los Angeles, CA",meta:"4.7 rating, 52 bookings"},{id:4,type:"plan",name:"Wedding - Sarah & Mike Johnson",description:"Napa Valley, CA - September 15, 2024",meta:"Budget: $50,000"}],foe={user:"bg-blue-100 text-blue-700 border-blue-200",expert:"bg-purple-100 text-purple-700 border-purple-200",provider:"bg-green-100 text-green-700 border-green-200",plan:"bg-amber-100 text-amber-700 border-amber-200"};function goe(){const[t,s]=h.useState(""),[a,r]=h.useState([]),[n,i]=h.useState(!1),l=()=>{t.trim()&&(r(y3.filter(u=>u.name.toLowerCase().includes(t.toLowerCase())||u.description.toLowerCase().includes(t.toLowerCase()))),i(!0))},c=u=>{s(u),r(y3.filter(m=>m.name.toLowerCase().includes(u.toLowerCase())||m.description.toLowerCase().includes(u.toLowerCase()))),i(!0)};return e.jsx(wr,{title:"Search",children:e.jsxs("div",{className:"p-6 space-y-6 max-w-4xl mx-auto",children:[e.jsx(P,{children:e.jsx(F,{className:"p-6",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(ws,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx(Ne,{placeholder:"Search users, experts, providers, plans...",value:t,onChange:u=>s(u.target.value),onKeyDown:u=>u.key==="Enter"&&l(),className:"pl-12 h-12 text-lg","data-testid":"input-global-search"})]}),e.jsx(S,{onClick:l,className:"h-12 px-8","data-testid":"button-search",children:"Search"})]})})}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:poe.map(u=>e.jsxs(S,{variant:"outline",className:"h-auto py-4 flex flex-col items-center gap-2","data-testid":`button-filter-${u.label.toLowerCase()}`,children:[e.jsx(u.icon,{className:"w-6 h-6"}),e.jsx("span",{children:u.label}),e.jsx(O,{variant:"outline",children:u.count.toLocaleString()})]},u.label))}),n?e.jsxs(P,{children:[e.jsx(Q,{children:e.jsx(X,{children:a.length>0?`Found ${a.length} results for "${t}"`:`No results found for "${t}"`})}),e.jsxs(F,{className:"space-y-3",children:[a.map(u=>e.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors cursor-pointer","data-testid":`result-${u.type}-${u.id}`,children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(Ls,{className:"h-10 w-10",children:e.jsx(Os,{className:`text-xs ${u.type==="user"?"bg-blue-100 text-blue-700":u.type==="expert"?"bg-purple-100 text-purple-700":u.type==="provider"?"bg-green-100 text-green-700":"bg-amber-100 text-amber-700"}`,children:u.name.split(" ").map(m=>m[0]).join("").slice(0,2)})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(O,{className:foe[u.type],children:u.type}),e.jsx("p",{className:"font-medium text-gray-900",children:u.name})]}),e.jsx("p",{className:"text-sm text-gray-500",children:u.description}),u.meta&&e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:u.meta})]})]}),e.jsx(Kt,{className:"w-5 h-5 text-gray-400"})]},u.id)),a.length===0&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx(ws,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"No results found. Try a different search term."})]})]})]}):e.jsxs(P,{children:[e.jsx(Q,{children:e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(Je,{className:"w-5 h-5 text-gray-500"}),"Recent Searches"]})}),e.jsx(F,{children:e.jsx("div",{className:"flex flex-wrap gap-2",children:xoe.map((u,m)=>e.jsx(S,{variant:"outline",size:"sm",onClick:()=>c(u),"data-testid":`button-recent-${m}`,children:u},m))})})]})]})})}const voe=[{id:1,type:"warning",category:"Dispute",title:"New dispute filed",message:"Booking #4521 - Client requesting full refund for cancelled event",time:"5 min ago",read:!1},{id:2,type:"info",category:"Application",title:"New expert application",message:"Yuki Tanaka has applied to become a Local Expert in Tokyo",time:"15 min ago",read:!1},{id:3,type:"success",category:"Payment",title:"Large payment processed",message:"$28,000 received for Wedding - Sarah & Mike Johnson",time:"1 hour ago",read:!1},{id:4,type:"info",category:"User",title:"Milestone reached",message:"Platform has reached 12,500 registered users",time:"2 hours ago",read:!0},{id:5,type:"warning",category:"System",title:"High server load",message:"Server load reached 85% during peak hours - monitoring",time:"3 hours ago",read:!0},{id:6,type:"info",category:"Application",title:"New provider application",message:"Sunset Restaurant Group has applied to join the platform",time:"5 hours ago",read:!0}],yoe={info:nw,success:Rt,warning:_l,alert:_l},joe={info:"bg-blue-100 text-blue-600",success:"bg-green-100 text-green-600",warning:"bg-amber-100 text-amber-600",alert:"bg-red-100 text-red-600"};function boe(){const[t,s]=h.useState(voe),[a,r]=h.useState(null),n=t.filter(m=>!m.read).length,i=a?t.filter(m=>m.type===a):t,l=m=>{s(t.map(x=>x.id===m?{...x,read:!0}:x))},c=()=>{s(t.map(m=>({...m,read:!0})))},u=m=>{s(t.filter(x=>x.id!==m))};return e.jsx(wr,{title:"Notifications",children:e.jsxs("div",{className:"p-6 space-y-6 max-w-4xl",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(mi,{className:"w-6 h-6 text-gray-600"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Notifications"}),e.jsxs("p",{className:"text-gray-600",children:[n," unread notifications"]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(S,{variant:"outline",onClick:c,"data-testid":"button-mark-all-read",children:"Mark All as Read"}),e.jsx(S,{variant:"ghost",size:"icon","data-testid":"button-notification-settings",children:e.jsx(bx,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsxs(S,{variant:a===null?"default":"outline",size:"sm",onClick:()=>r(null),"data-testid":"button-filter-all",children:["All (",t.length,")"]}),e.jsxs(S,{variant:a==="warning"?"default":"outline",size:"sm",onClick:()=>r("warning"),"data-testid":"button-filter-warnings",children:[e.jsx(_l,{className:"w-4 h-4 mr-1"})," Warnings"]}),e.jsxs(S,{variant:a==="info"?"default":"outline",size:"sm",onClick:()=>r("info"),"data-testid":"button-filter-info",children:[e.jsx(nw,{className:"w-4 h-4 mr-1"})," Info"]}),e.jsxs(S,{variant:a==="success"?"default":"outline",size:"sm",onClick:()=>r("success"),"data-testid":"button-filter-success",children:[e.jsx(Rt,{className:"w-4 h-4 mr-1"})," Success"]})]}),e.jsx(P,{children:e.jsx(F,{className:"p-0",children:i.length>0?e.jsx("div",{className:"divide-y divide-gray-100",children:i.map(m=>{const x=yoe[m.type];return e.jsxs("div",{className:`p-4 flex items-start gap-4 ${m.read?"":"bg-blue-50/50"}`,"data-testid":`notification-${m.id}`,children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 ${joe[m.type]}`,children:e.jsx(x,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx(O,{variant:"outline",className:"text-xs",children:m.category}),e.jsx("p",{className:"font-medium text-gray-900",children:m.title}),!m.read&&e.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full"})]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:m.message}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:m.time})]}),e.jsxs("div",{className:"flex gap-1",children:[!m.read&&e.jsx(S,{variant:"ghost",size:"sm",onClick:()=>l(m.id),"data-testid":`button-mark-read-${m.id}`,children:e.jsx(Rt,{className:"w-4 h-4"})}),e.jsx(S,{variant:"ghost",size:"sm",onClick:()=>u(m.id),"data-testid":`button-delete-${m.id}`,children:e.jsx(pi,{className:"w-4 h-4 text-gray-400"})})]})]},m.id)})}):e.jsxs("div",{className:"p-8 text-center",children:[e.jsx(mi,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"No notifications to show"})]})})})]})})}const Noe=[{service:"Web Server",status:"operational",uptime:"99.98%"},{service:"Database",status:"operational",uptime:"99.95%"},{service:"AI Processing",status:"operational",uptime:"99.90%"},{service:"Payment Gateway",status:"operational",uptime:"99.99%"},{service:"Email Service",status:"degraded",uptime:"98.50%"},{service:"CDN",status:"operational",uptime:"99.99%"}],ao={claude:{used:85e4,limit:1e6,cost:"$425"},stripe:{transactions:1247,volume:"$125,600"},email:{sent:15420,bounceRate:"0.8%"}};function woe(){const[t,s]=h.useState(!1),[a,r]=h.useState(!0),[n,i]=h.useState(!0);return e.jsx(wr,{title:"System Settings",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs(P,{children:[e.jsxs(Q,{children:[e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(F_,{className:"w-5 h-5 text-green-600"}),"System Status"]}),e.jsx(Tt,{children:"Current status of all platform services"})]}),e.jsxs(F,{children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Noe.map((l,c)=>e.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg","data-testid":`service-${c}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[l.status==="operational"?e.jsx(Rt,{className:"w-5 h-5 text-green-500"}):e.jsx(_l,{className:"w-5 h-5 text-amber-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:l.service}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Uptime: ",l.uptime]})]})]}),e.jsx(O,{className:l.status==="operational"?"bg-green-100 text-green-700 border-green-200":"bg-amber-100 text-amber-700 border-amber-200",children:l.status})]},l.service))}),e.jsxs("div",{className:"flex gap-2 mt-4",children:[e.jsxs(S,{variant:"outline",size:"sm","data-testid":"button-refresh-status",children:[e.jsx(Cn,{className:"w-4 h-4 mr-2"})," Refresh Status"]}),e.jsx(S,{variant:"outline",size:"sm","data-testid":"button-view-logs",children:"View System Logs"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(P,{children:[e.jsx(Q,{children:e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(bx,{className:"w-5 h-5 text-gray-600"}),"Platform Settings"]})}),e.jsxs(F,{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(ye,{className:"text-base",children:"Maintenance Mode"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Temporarily disable public access"})]}),e.jsx(tr,{checked:t,onCheckedChange:s,"data-testid":"switch-maintenance"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(ye,{className:"text-base",children:"New User Registration"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Allow new users to sign up"})]}),e.jsx(tr,{checked:a,onCheckedChange:r,"data-testid":"switch-registration"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(ye,{className:"text-base",children:"Email Notifications"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Send system email notifications"})]}),e.jsx(tr,{checked:n,onCheckedChange:i,"data-testid":"switch-emails"})]})]})]}),e.jsxs(P,{children:[e.jsx(Q,{children:e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(os,{className:"w-5 h-5 text-purple-600"}),"API Usage"]})}),e.jsxs(F,{className:"space-y-4",children:[e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg","data-testid":"card-claude-usage",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"font-medium",children:"Claude API"}),e.jsxs("span",{className:"text-sm text-gray-500",children:[ao.claude.cost," this month"]})]}),e.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-purple-500 rounded-full",style:{width:`${ao.claude.used/ao.claude.limit*100}%`}})}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[ao.claude.used.toLocaleString()," / ",ao.claude.limit.toLocaleString()," tokens"]})]}),e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg","data-testid":"card-stripe-usage",children:[e.jsx("p",{className:"font-medium",children:"Stripe"}),e.jsxs("div",{className:"flex justify-between mt-2 text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Transactions"}),e.jsx("span",{className:"font-medium",children:ao.stripe.transactions.toLocaleString()})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Volume"}),e.jsx("span",{className:"font-medium text-green-600",children:ao.stripe.volume})]})]}),e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg","data-testid":"card-email-usage",children:[e.jsx("p",{className:"font-medium",children:"Email Service"}),e.jsxs("div",{className:"flex justify-between mt-2 text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Emails Sent"}),e.jsx("span",{className:"font-medium",children:ao.email.sent.toLocaleString()})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Bounce Rate"}),e.jsx("span",{className:"font-medium",children:ao.email.bounceRate})]})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(P,{children:[e.jsx(Q,{children:e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(sr,{className:"w-5 h-5 text-blue-600"}),"Security"]})}),e.jsxs(F,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Two-Factor Authentication"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Required for admin accounts"})]}),e.jsx(O,{className:"bg-green-100 text-green-700 border-green-200",children:"Enabled"})]}),e.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"SSL Certificate"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Expires in 245 days"})]}),e.jsx(O,{className:"bg-green-100 text-green-700 border-green-200",children:"Valid"})]}),e.jsxs("div",{className:"flex items-center justify-between py-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Last Security Audit"}),e.jsx("p",{className:"text-sm text-gray-500",children:"December 15, 2025"})]}),e.jsx(S,{variant:"outline",size:"sm","data-testid":"button-run-audit",children:"Run Audit"})]})]})]}),e.jsxs(P,{children:[e.jsx(Q,{children:e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(id,{className:"w-5 h-5 text-amber-600"}),"Backup & Recovery"]})}),e.jsxs(F,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Last Backup"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Today at 3:00 AM"})]}),e.jsx(O,{className:"bg-green-100 text-green-700 border-green-200",children:"Success"})]}),e.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Backup Frequency"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Every 6 hours"})]}),e.jsx(S,{variant:"ghost",size:"sm","data-testid":"button-change-frequency",children:"Change"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(S,{variant:"outline",size:"sm","data-testid":"button-backup-now",children:[e.jsx(Un,{className:"w-4 h-4 mr-2"})," Backup Now"]}),e.jsxs(S,{variant:"outline",size:"sm","data-testid":"button-restore",children:[e.jsx(mw,{className:"w-4 h-4 mr-2"})," Restore"]})]})]})]})]})]})})}const j3={MAD:"Madrid",BCN:"Barcelona",NYC:"New York",LAX:"Los Angeles",PAR:"Paris",LIS:"Lisbon",POR:"Porto",MIL:"Milan",ROM:"Rome",BER:"Berlin",AMS:"Amsterdam",DUB:"Dublin",EDI:"Edinburgh",LON:"London",MEX:"Mexico City",BOG:"Bogota",BUE:"Buenos Aires",SAO:"Sao Paulo",SYD:"Sydney",SIN:"Singapore",HKG:"Hong Kong",TYO:"Tokyo",SEO:"Seoul",BOM:"Mumbai",DEL:"Delhi",JAI:"Jaipur",GOA:"Goa",KYO:"Kyoto",CTG:"Cartagena"};function koe(){const{toast:t}=Bs(),[s,a]=h.useState(null),{data:r,isLoading:n}=Le({queryKey:["/api/fever/cache/status"]}),{data:i,isLoading:l}=Le({queryKey:["/api/admin/data/location-summary"]}),c=Ot({mutationFn:async()=>Ft("POST","/api/fever/cache/refresh-all"),onSuccess:()=>{_t.invalidateQueries({queryKey:["/api/fever/cache/status"]}),_t.invalidateQueries({queryKey:["/api/admin/data/location-summary"]}),t({title:"Cache refreshed",description:"All cities have been refreshed"})},onError:y=>{t({title:"Refresh failed",description:y.message,variant:"destructive"})}}),u=Ot({mutationFn:async y=>(a(y),Ft("POST",`/api/fever/cache/refresh/${y}`)),onSuccess:()=>{_t.invalidateQueries({queryKey:["/api/fever/cache/status"]}),_t.invalidateQueries({queryKey:["/api/admin/data/location-summary"]}),t({title:"City refreshed",description:"City cache has been updated"}),a(null)},onError:y=>{t({title:"Refresh failed",description:y.message,variant:"destructive"}),a(null)}}),m=y=>{if(!y)return"N/A";const w=new Date(y),C=Math.floor((new Date().getTime()-w.getTime())/(1e3*60*60));return C<1?"< 1 hour ago":C<24?`${C}h ago`:`${Math.floor(C/24)}d ago`},x=i?.totals||{events:0,hotels:0,activities:0,flights:0},f=x.events+x.hotels+x.activities+x.flights,g=[...i?.events||[]].sort((y,w)=>w.count-y.count),b=[...i?.hotels||[]].sort((y,w)=>w.count-y.count),v=[...i?.activities||[]].sort((y,w)=>w.count-y.count);return e.jsx(wr,{title:"Data by Location",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[e.jsx(P,{"data-testid":"card-total-data",children:e.jsx(F,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Total Cached"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:f.toLocaleString()})]}),e.jsx(id,{className:"w-8 h-8 text-purple-600"})]})})}),e.jsx(P,{"data-testid":"card-events",children:e.jsx(F,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Events"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:x.events.toLocaleString()})]}),e.jsx(Ge,{className:"w-8 h-8 text-blue-600"})]})})}),e.jsx(P,{"data-testid":"card-hotels",children:e.jsx(F,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Hotels"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:x.hotels.toLocaleString()})]}),e.jsx(Us,{className:"w-8 h-8 text-green-600"})]})})}),e.jsx(P,{"data-testid":"card-activities",children:e.jsx(F,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Activities"}),e.jsx("p",{className:"text-2xl font-bold text-amber-600",children:x.activities.toLocaleString()})]}),e.jsx($r,{className:"w-8 h-8 text-amber-600"})]})})}),e.jsx(P,{"data-testid":"card-flights",children:e.jsx(F,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Flights"}),e.jsx("p",{className:"text-2xl font-bold text-rose-600",children:x.flights.toLocaleString()})]}),e.jsx(Pt,{className:"w-8 h-8 text-rose-600"})]})})})]}),e.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[e.jsxs(S,{onClick:()=>c.mutate(),disabled:c.isPending,"data-testid":"button-refresh-all",children:[c.isPending?e.jsx(ot,{className:"w-4 h-4 mr-2 animate-spin"}):e.jsx(Cn,{className:"w-4 h-4 mr-2"}),"Refresh Events"]}),e.jsxs(O,{variant:"secondary",className:"text-sm py-1",children:[r?.citiesWithCache?.length||0," / ",r?.supportedCities||29," cities with event data"]}),e.jsxs(O,{variant:"outline",className:"text-sm py-1",children:[e.jsx(Je,{className:"w-3 h-3 mr-1"}),"Last update: ",m(r?.newestCache||null)]})]}),e.jsxs(Na,{defaultValue:"events",className:"w-full",children:[e.jsxs(ca,{className:"grid w-full grid-cols-4",children:[e.jsxs(it,{value:"events","data-testid":"tab-events",children:[e.jsx(Ge,{className:"w-4 h-4 mr-2"})," Events (",x.events,")"]}),e.jsxs(it,{value:"hotels","data-testid":"tab-hotels",children:[e.jsx(Us,{className:"w-4 h-4 mr-2"})," Hotels (",x.hotels,")"]}),e.jsxs(it,{value:"activities","data-testid":"tab-activities",children:[e.jsx($r,{className:"w-4 h-4 mr-2"})," Activities (",x.activities,")"]}),e.jsxs(it,{value:"flights","data-testid":"tab-flights",children:[e.jsx(Pt,{className:"w-4 h-4 mr-2"})," Flights (",x.flights,")"]})]}),e.jsx(xt,{value:"events",className:"mt-4",children:e.jsxs(P,{children:[e.jsx(Q,{children:e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(Ge,{className:"w-5 h-5 text-blue-600"}),"Events by City"]})}),e.jsx(F,{children:l?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx(ot,{className:"w-8 h-8 animate-spin text-gray-400"})}):g.length===0?e.jsx("p",{className:"text-gray-500 text-center py-8",children:"No event data cached yet"}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"City"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"Code"}),e.jsx("th",{className:"text-right py-3 px-4 font-medium text-gray-600",children:"Events"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"Updated"}),e.jsx("th",{className:"text-right py-3 px-4 font-medium text-gray-600",children:"Actions"})]})}),e.jsx("tbody",{children:g.map(y=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50","data-testid":`row-event-${y.cityCode.toLowerCase()}`,children:[e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Me,{className:"w-4 h-4 text-blue-500"}),e.jsx("span",{className:"font-medium",children:j3[y.cityCode]||y.city})]})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx(O,{variant:"outline",children:y.cityCode})}),e.jsx("td",{className:"py-3 px-4 text-right font-semibold",children:y.count.toLocaleString()}),e.jsx("td",{className:"py-3 px-4 text-gray-500 text-sm",children:m(y.lastUpdated)}),e.jsx("td",{className:"py-3 px-4 text-right",children:e.jsx(S,{variant:"ghost",size:"sm",onClick:()=>u.mutate(y.cityCode),disabled:s===y.cityCode||c.isPending,"data-testid":`button-refresh-${y.cityCode.toLowerCase()}`,children:s===y.cityCode?e.jsx(ot,{className:"w-4 h-4 animate-spin"}):e.jsx(Cn,{className:"w-4 h-4"})})})]},y.cityCode))})]})})})]})}),e.jsx(xt,{value:"hotels",className:"mt-4",children:e.jsxs(P,{children:[e.jsx(Q,{children:e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(Us,{className:"w-5 h-5 text-green-600"}),"Hotels by City"]})}),e.jsx(F,{children:l?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx(ot,{className:"w-8 h-8 animate-spin text-gray-400"})}):b.length===0?e.jsx("p",{className:"text-gray-500 text-center py-8",children:"No hotel data cached yet"}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"City"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"Code"}),e.jsx("th",{className:"text-right py-3 px-4 font-medium text-gray-600",children:"Hotels"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"Updated"})]})}),e.jsx("tbody",{children:b.map((y,w)=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50","data-testid":`row-hotel-${y.cityCode?.toLowerCase()||w}`,children:[e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Me,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{className:"font-medium",children:y.city||j3[y.cityCode]||y.cityCode})]})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx(O,{variant:"outline",children:y.cityCode})}),e.jsx("td",{className:"py-3 px-4 text-right font-semibold",children:y.count.toLocaleString()}),e.jsx("td",{className:"py-3 px-4 text-gray-500 text-sm",children:m(y.lastUpdated)})]},`${y.cityCode}-${w}`))})]})})})]})}),e.jsx(xt,{value:"activities",className:"mt-4",children:e.jsxs(P,{children:[e.jsx(Q,{children:e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx($r,{className:"w-5 h-5 text-amber-600"}),"Activities by Destination"]})}),e.jsx(F,{children:l?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx(ot,{className:"w-8 h-8 animate-spin text-gray-400"})}):v.length===0?e.jsx("p",{className:"text-gray-500 text-center py-8",children:"No activity data cached yet"}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"Destination"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"City"}),e.jsx("th",{className:"text-right py-3 px-4 font-medium text-gray-600",children:"Activities"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"Updated"})]})}),e.jsx("tbody",{children:v.map((y,w)=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50","data-testid":`row-activity-${w}`,children:[e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Me,{className:"w-4 h-4 text-amber-500"}),e.jsx("span",{className:"font-medium",children:y.destination})]})}),e.jsx("td",{className:"py-3 px-4 text-gray-600",children:y.city||"-"}),e.jsx("td",{className:"py-3 px-4 text-right font-semibold",children:y.count.toLocaleString()}),e.jsx("td",{className:"py-3 px-4 text-gray-500 text-sm",children:m(y.lastUpdated)})]},`${y.destination}-${w}`))})]})})})]})}),e.jsx(xt,{value:"flights",className:"mt-4",children:e.jsxs(P,{children:[e.jsx(Q,{children:e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(Pt,{className:"w-5 h-5 text-rose-600"}),"Flight Routes"]})}),e.jsx(F,{children:l?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx(ot,{className:"w-8 h-8 animate-spin text-gray-400"})}):(i?.flights?.length||0)===0?e.jsx("p",{className:"text-gray-500 text-center py-8",children:"No flight data cached yet"}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"Origin"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"Destination"}),e.jsx("th",{className:"text-right py-3 px-4 font-medium text-gray-600",children:"Flights"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"Updated"})]})}),e.jsx("tbody",{children:i?.flights?.map((y,w)=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50","data-testid":`row-flight-${w}`,children:[e.jsx("td",{className:"py-3 px-4",children:e.jsx(O,{variant:"outline",children:y.origin})}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Pt,{className:"w-4 h-4 text-rose-500"}),e.jsx(O,{variant:"outline",children:y.destination})]})}),e.jsx("td",{className:"py-3 px-4 text-right font-semibold",children:y.count.toLocaleString()}),e.jsx("td",{className:"py-3 px-4 text-gray-500 text-sm",children:m(y.lastUpdated)})]},`${y.origin}-${y.destination}-${w}`))})]})})})]})})]})]})})}function Coe(){const[t,s]=h.useState(""),[a,r]=h.useState("all"),[n,i]=h.useState(!1),[l,c]=h.useState(null),[u,m]=h.useState(null),x=bo(),{toast:f}=Bs(),{data:g}=Le({queryKey:["/api/affiliate/categories"]}),{data:b,isLoading:v}=Le({queryKey:["/api/affiliate/partners",a!=="all"?a:void 0]}),{data:y,isLoading:w}=Le({queryKey:["/api/affiliate/products",u],enabled:!!u}),k=Ot({mutationFn:async H=>Ft("POST","/api/affiliate/partners",H),onSuccess:()=>{x.invalidateQueries({predicate:H=>H.queryKey[0]?.startsWith("/api/affiliate/partners")}),i(!1),f({title:"Success",description:"Partner created successfully"})},onError:H=>{f({title:"Error",description:H.message,variant:"destructive"})}}),C=Ot({mutationFn:async({id:H,data:I})=>Ft("PATCH",`/api/affiliate/partners/${H}`,I),onSuccess:()=>{x.invalidateQueries({predicate:H=>H.queryKey[0]?.startsWith("/api/affiliate/partners")}),c(null),f({title:"Success",description:"Partner updated successfully"})},onError:H=>{f({title:"Error",description:H.message,variant:"destructive"})}}),_=Ot({mutationFn:async H=>Ft("DELETE",`/api/affiliate/partners/${H}`),onSuccess:()=>{x.invalidateQueries({predicate:H=>H.queryKey[0]?.startsWith("/api/affiliate/partners")}),f({title:"Success",description:"Partner deleted successfully"})},onError:H=>{f({title:"Error",description:H.message,variant:"destructive"})}}),M=Ot({mutationFn:async H=>Ft("POST",`/api/affiliate/partners/${H}/scrape`),onSuccess:H=>{x.invalidateQueries({predicate:I=>I.queryKey[0]?.startsWith("/api/affiliate")}),f({title:"Scraping Complete",description:`Found ${H.productsFound} products (${H.productsNew} new, ${H.productsUpdated} updated)`})},onError:H=>{f({title:"Scraping Failed",description:H.message,variant:"destructive"})}}),E=b?.partners||[],R=g?.categories||[],z=E.filter(H=>H.name.toLowerCase().includes(t.toLowerCase())||H.websiteUrl.toLowerCase().includes(t.toLowerCase())),A=H=>R.find(I=>I.value===H)?.label||H,V=E.reduce((H,I)=>H+(I.productCount||0),0);return e.jsx(wr,{title:"Affiliate Partners",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(P,{"data-testid":"card-stat-total-partners",children:e.jsxs(F,{className:"p-4 text-center",children:[e.jsx("p",{className:"text-2xl font-bold","data-testid":"text-total-partners",children:E.length}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Partners"})]})}),e.jsx(P,{"data-testid":"card-stat-active-partners",children:e.jsxs(F,{className:"p-4 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-green-600","data-testid":"text-active-partners",children:E.filter(H=>H.isActive).length}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Active"})]})}),e.jsx(P,{"data-testid":"card-stat-products",children:e.jsxs(F,{className:"p-4 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-blue-600","data-testid":"text-total-products",children:V}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Scraped Products"})]})}),e.jsx(P,{"data-testid":"card-stat-categories",children:e.jsxs(F,{className:"p-4 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-purple-600","data-testid":"text-categories",children:new Set(E.map(H=>H.category)).size}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Categories"})]})})]}),e.jsxs(P,{children:[e.jsxs(Q,{children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(P_,{className:"h-5 w-5"}),"Affiliate Partners"]}),e.jsxs(rn,{open:n,onOpenChange:i,children:[e.jsx(qx,{asChild:!0,children:e.jsxs(S,{"data-testid":"button-add-partner",children:[e.jsx(ps,{className:"h-4 w-4 mr-2"}),"Add Partner"]})}),e.jsxs(zr,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(Vr,{children:[e.jsx(Ur,{children:"Add Affiliate Partner"}),e.jsx(nn,{children:"Add a new affiliate partner to scrape products from their website."})]}),e.jsx(b3,{categories:R,onSubmit:H=>k.mutate(H),isSubmitting:k.isPending})]})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 mt-4",children:[e.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[e.jsx(ws,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(Ne,{placeholder:"Search partners...",value:t,onChange:H=>s(H.target.value),className:"pl-10","data-testid":"input-search-partners"})]}),e.jsxs(Wt,{value:a,onValueChange:r,children:[e.jsx(Vt,{className:"w-[200px]","data-testid":"select-category-filter",children:e.jsx(Gt,{placeholder:"All Categories"})}),e.jsxs(Ut,{children:[e.jsx(Pe,{value:"all",children:"All Categories"}),R.map(H=>e.jsx(Pe,{value:H.value,children:H.label},H.value))]})]})]})]}),e.jsx(F,{children:v?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(ot,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):z.length===0?e.jsxs("div",{className:"text-center py-12 text-muted-foreground","data-testid":"text-no-partners",children:[e.jsx(br,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"No affiliate partners found"}),e.jsx("p",{className:"text-sm mt-1",children:"Add a partner to start scraping products"})]}):e.jsxs(mx,{children:[e.jsx(hx,{children:e.jsxs(Ji,{children:[e.jsx(ga,{children:"Partner"}),e.jsx(ga,{children:"Category"}),e.jsx(ga,{children:"Status"}),e.jsx(ga,{children:"Last Scraped"}),e.jsx(ga,{children:"Commission"}),e.jsx(ga,{className:"text-right",children:"Actions"})]})}),e.jsx(xx,{children:z.map(H=>e.jsxs(Ji,{"data-testid":`row-partner-${H.id}`,children:[e.jsx(ea,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 rounded-md bg-muted flex items-center justify-center",children:H.logoUrl?e.jsx("img",{src:H.logoUrl,alt:H.name,className:"h-8 w-8 object-contain rounded"}):e.jsx(Nr,{className:"h-5 w-5 text-muted-foreground"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium","data-testid":`text-partner-name-${H.id}`,children:H.name}),e.jsxs("a",{href:H.websiteUrl,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-muted-foreground hover:underline flex items-center gap-1",children:[new URL(H.websiteUrl).hostname,e.jsx(er,{className:"h-3 w-3"})]})]})]})}),e.jsx(ea,{children:e.jsx(O,{variant:"secondary","data-testid":`badge-category-${H.id}`,children:A(H.category)})}),e.jsx(ea,{children:H.isActive?e.jsxs(O,{variant:"default",className:"bg-green-600","data-testid":`badge-status-${H.id}`,children:[e.jsx(Rt,{className:"h-3 w-3 mr-1"}),"Active"]}):e.jsxs(O,{variant:"secondary","data-testid":`badge-status-${H.id}`,children:[e.jsx(ns,{className:"h-3 w-3 mr-1"}),"Inactive"]})}),e.jsx(ea,{children:H.lastScrapedAt?e.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[e.jsx(Je,{className:"h-3 w-3"}),new Date(H.lastScrapedAt).toLocaleDateString()]}):e.jsx("span",{className:"text-sm text-muted-foreground",children:"Never"})}),e.jsx(ea,{children:H.commissionRate?e.jsxs("span",{className:"font-medium",children:[H.commissionRate,"%"]}):e.jsx("span",{className:"text-muted-foreground",children:"-"})}),e.jsx(ea,{className:"text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx(S,{size:"icon",variant:"ghost",onClick:()=>m(H.id),title:"View Products","data-testid":`button-view-products-${H.id}`,children:e.jsx(hi,{className:"h-4 w-4"})}),e.jsx(S,{size:"icon",variant:"ghost",onClick:()=>M.mutate(H.id),disabled:M.isPending,title:"Scrape Website","data-testid":`button-scrape-${H.id}`,children:M.isPending?e.jsx(ot,{className:"h-4 w-4 animate-spin"}):e.jsx(Cn,{className:"h-4 w-4"})}),e.jsx(S,{size:"icon",variant:"ghost",onClick:()=>c(H),title:"Edit Partner","data-testid":`button-edit-${H.id}`,children:e.jsx(ii,{className:"h-4 w-4"})}),e.jsx(S,{size:"icon",variant:"ghost",onClick:()=>{confirm("Are you sure you want to delete this partner?")&&_.mutate(H.id)},title:"Delete Partner","data-testid":`button-delete-${H.id}`,children:e.jsx(pi,{className:"h-4 w-4 text-destructive"})})]})})]},H.id))})]})})]}),e.jsx(rn,{open:!!l,onOpenChange:H=>!H&&c(null),children:e.jsxs(zr,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(Vr,{children:[e.jsx(Ur,{children:"Edit Partner"}),e.jsx(nn,{children:"Update affiliate partner details."})]}),l&&e.jsx(b3,{categories:R,initialData:l,onSubmit:H=>C.mutate({id:l.id,data:H}),isSubmitting:C.isPending})]})}),e.jsx(rn,{open:!!u,onOpenChange:H=>!H&&m(null),children:e.jsxs(zr,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(Vr,{children:[e.jsx(Ur,{children:"Scraped Products"}),e.jsxs(nn,{children:["Products scraped from"," ",E.find(H=>H.id===u)?.name||"partner"]})]}),w?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(ot,{className:"h-8 w-8 animate-spin"})}):(y?.products?.length||0)===0?e.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[e.jsx(br,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"No products scraped yet"}),e.jsx("p",{className:"text-sm mt-1",children:"Click the refresh button to scrape products from this partner"})]}):e.jsx("div",{className:"grid gap-4",children:y?.products.map(H=>e.jsx(P,{"data-testid":`card-product-${H.id}`,children:e.jsx(F,{className:"p-4",children:e.jsxs("div",{className:"flex gap-4",children:[H.imageUrl&&e.jsx("img",{src:H.imageUrl,alt:H.name,className:"w-20 h-20 object-cover rounded-md"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium",children:H.name}),e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:H.shortDescription||H.description}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-2",children:[H.price&&e.jsxs(O,{variant:"secondary",children:["$",H.price," ",H.currency]}),H.city&&e.jsx(O,{variant:"outline",children:H.city}),H.rating&&e.jsxs(O,{variant:"outline",children:["Rating: ",H.rating]})]})]}),e.jsx("a",{href:H.affiliateUrl||H.productUrl,target:"_blank",rel:"noopener noreferrer",className:"shrink-0",children:e.jsxs(S,{size:"sm",variant:"outline",children:[e.jsx(er,{className:"h-4 w-4 mr-1"}),"View"]})})]})})},H.id))})]})})]})})}function b3({categories:t,initialData:s,onSubmit:a,isSubmitting:r}){const n=H0({defaultValues:{name:s?.name||"",websiteUrl:s?.websiteUrl||"",category:s?.category||"",affiliateTrackingId:s?.affiliateTrackingId||"",affiliateLinkTemplate:s?.affiliateLinkTemplate||"",description:s?.description||"",logoUrl:s?.logoUrl||"",commissionRate:s?.commissionRate?parseFloat(s.commissionRate):void 0}});return e.jsx(W0,{...n,children:e.jsxs("form",{onSubmit:n.handleSubmit(a),className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(_s,{control:n.control,name:"name",rules:{required:"Name is required"},render:({field:i})=>e.jsxs(Cs,{children:[e.jsx(Ss,{children:"Partner Name"}),e.jsx(Es,{children:e.jsx(Ne,{...i,placeholder:"e.g., GetYourGuide","data-testid":"input-partner-name"})}),e.jsx(Ms,{})]})}),e.jsx(_s,{control:n.control,name:"websiteUrl",rules:{required:"Website URL is required",pattern:{value:/^https?:\/\/.+/,message:"Must be a valid URL starting with http:// or https://"}},render:({field:i})=>e.jsxs(Cs,{children:[e.jsx(Ss,{children:"Website URL"}),e.jsx(Es,{children:e.jsx(Ne,{...i,placeholder:"https://example.com","data-testid":"input-website-url"})}),e.jsx(Ms,{})]})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(_s,{control:n.control,name:"category",rules:{required:"Category is required"},render:({field:i})=>e.jsxs(Cs,{children:[e.jsx(Ss,{children:"Category"}),e.jsxs(Wt,{value:i.value,onValueChange:i.onChange,children:[e.jsx(Es,{children:e.jsx(Vt,{"data-testid":"select-partner-category",children:e.jsx(Gt,{placeholder:"Select category"})})}),e.jsx(Ut,{children:t.map(l=>e.jsx(Pe,{value:l.value,children:l.label},l.value))})]}),e.jsx(Ms,{})]})}),e.jsx(_s,{control:n.control,name:"commissionRate",render:({field:i})=>e.jsxs(Cs,{children:[e.jsx(Ss,{children:"Commission Rate (%)"}),e.jsx(Es,{children:e.jsx(Ne,{type:"number",step:"0.01",min:"0",max:"100",placeholder:"e.g., 5.5",...i,onChange:l=>i.onChange(l.target.value?parseFloat(l.target.value):void 0),"data-testid":"input-commission-rate"})}),e.jsx(Ms,{})]})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(_s,{control:n.control,name:"affiliateTrackingId",render:({field:i})=>e.jsxs(Cs,{children:[e.jsx(Ss,{children:"Affiliate Tracking ID"}),e.jsx(Es,{children:e.jsx(Ne,{...i,placeholder:"Your affiliate ID","data-testid":"input-tracking-id"})}),e.jsx(Ms,{})]})}),e.jsx(_s,{control:n.control,name:"logoUrl",render:({field:i})=>e.jsxs(Cs,{children:[e.jsx(Ss,{children:"Logo URL"}),e.jsx(Es,{children:e.jsx(Ne,{...i,placeholder:"https://example.com/logo.png","data-testid":"input-logo-url"})}),e.jsx(Ms,{})]})})]}),e.jsx(_s,{control:n.control,name:"affiliateLinkTemplate",render:({field:i})=>e.jsxs(Cs,{children:[e.jsx(Ss,{children:"Affiliate Link Template"}),e.jsx(Es,{children:e.jsx(Ne,{...i,placeholder:"https://partner.com/redirect?url={url}&ref={tracking_id}","data-testid":"input-link-template"})}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Use ","{url}",", ","{tracking_id}",", ","{product_url}"," as placeholders"]}),e.jsx(Ms,{})]})}),e.jsx(_s,{control:n.control,name:"description",render:({field:i})=>e.jsxs(Cs,{children:[e.jsx(Ss,{children:"Description"}),e.jsx(Es,{children:e.jsx(Ks,{...i,placeholder:"Brief description of the partner...",rows:3,"data-testid":"textarea-description"})}),e.jsx(Ms,{})]})}),e.jsx("div",{className:"flex justify-end gap-2",children:e.jsxs(S,{type:"submit",disabled:r,"data-testid":"button-submit-partner",children:[r&&e.jsx(ot,{className:"h-4 w-4 mr-2 animate-spin"}),s?"Update Partner":"Add Partner"]})})]})})}const Wj={draft:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",pending_review:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300",published:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",flagged:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300",under_review:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-300",suspended:"bg-red-200 text-red-900 dark:bg-red-800 dark:text-red-200",archived:"bg-gray-200 text-gray-700 dark:bg-gray-600 dark:text-gray-200",deleted:"bg-gray-300 text-gray-600 dark:bg-gray-500 dark:text-gray-300"},ff={trip:"Trip",itinerary:"Itinerary",service:"Service",review:"Review",chat_message:"Chat Message",expert_profile:"Expert Profile",provider_profile:"Provider Profile",template:"Template",booking:"Booking",vendor:"Vendor",experience:"Experience",custom_venue:"Custom Venue",contract:"Contract",media:"Media",other:"Other"};function Soe(){const{toast:t}=Bs(),s=bo(),[a,r]=h.useState(""),[n,i]=h.useState("all"),[l,c]=h.useState("all"),[u,m]=h.useState(null),[x,f]=h.useState(!1),[g,b]=h.useState("approve"),[v,y]=h.useState(""),{data:w,isLoading:k}=Le({queryKey:["/api/admin/content/summary"]}),{data:C,isLoading:_}=Le({queryKey:["/api/admin/content/registry",n,l],queryFn:async()=>{const V=new URLSearchParams;n!=="all"&&V.append("status",n),l!=="all"&&V.append("contentType",l);const H=await fetch(`/api/admin/content/registry?${V.toString()}`,{credentials:"include"});if(!H.ok)throw new Error("Failed to fetch content");return H.json()}}),{data:M}=Le({queryKey:["/api/admin/content/flags/pending"]}),E=Ot({mutationFn:async({trackingNumber:V,action:H,notes:I})=>Ft(`/api/admin/content/${V}/moderate`,{method:"POST",body:JSON.stringify({action:H,notes:I}),headers:{"Content-Type":"application/json"}}),onSuccess:()=>{t({title:"Content moderated successfully"}),s.invalidateQueries({queryKey:["/api/admin/content"]}),f(!1),m(null),y("")},onError:()=>{t({title:"Failed to moderate content",variant:"destructive"})}}),R=()=>{u&&E.mutate({trackingNumber:u.trackingNumber,action:g,notes:v})},z=C?.filter(V=>a===""||V.trackingNumber.toLowerCase().includes(a.toLowerCase())||V.title?.toLowerCase().includes(a.toLowerCase()));if(k)return e.jsx(wr,{title:"Content Tracking",children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(ot,{className:"w-8 h-8 animate-spin text-gray-600"})})});const A=[{label:"Total Content",value:w?.totalContent||0,icon:oa,color:"text-blue-600"},{label:"Published",value:w?.byStatus?.published||0,icon:Rt,color:"text-green-600"},{label:"Flagged",value:w?.flaggedCount||0,icon:c$,color:"text-red-600"},{label:"Pending Review",value:w?.byStatus?.pending_review||0,icon:Je,color:"text-amber-600"}];return e.jsx(wr,{title:"Content Tracking",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:A.map(V=>e.jsx(P,{"data-testid":`card-stat-${V.label.toLowerCase().replace(/\s+/g,"-")}`,children:e.jsx(F,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:V.label}),e.jsx("p",{className:"text-2xl font-bold",children:V.value})]}),e.jsx(V.icon,{className:`w-8 h-8 ${V.color}`})]})})},V.label))}),e.jsxs(Na,{defaultValue:"registry",className:"space-y-4",children:[e.jsxs(ca,{children:[e.jsxs(it,{value:"registry","data-testid":"tab-registry",children:[e.jsx(oa,{className:"w-4 h-4 mr-2"}),"Content Registry"]}),e.jsxs(it,{value:"moderation","data-testid":"tab-moderation",children:[e.jsx(sr,{className:"w-4 h-4 mr-2"}),"Moderation Queue",(M?.length||0)>0&&e.jsx(O,{variant:"destructive",className:"ml-2",children:M?.length})]}),e.jsxs(it,{value:"invoices","data-testid":"tab-invoices",children:[e.jsx(Mf,{className:"w-4 h-4 mr-2"}),"Invoices"]}),e.jsxs(it,{value:"analytics","data-testid":"tab-analytics",children:[e.jsx(hi,{className:"w-4 h-4 mr-2"}),"Analytics"]})]}),e.jsx(xt,{value:"registry",className:"space-y-4",children:e.jsxs(P,{children:[e.jsx(Q,{children:e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(oa,{className:"w-5 h-5"}),"Content Registry"]})}),e.jsxs(F,{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(ws,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.jsx(Ne,{placeholder:"Search by tracking number or title...",className:"pl-10",value:a,onChange:V=>r(V.target.value),"data-testid":"input-search-content"})]}),e.jsxs(Wt,{value:n,onValueChange:i,children:[e.jsx(Vt,{className:"w-[180px]","data-testid":"select-status-filter",children:e.jsx(Gt,{placeholder:"Status"})}),e.jsxs(Ut,{children:[e.jsx(Pe,{value:"all",children:"All Status"}),e.jsx(Pe,{value:"published",children:"Published"}),e.jsx(Pe,{value:"flagged",children:"Flagged"}),e.jsx(Pe,{value:"pending_review",children:"Pending Review"}),e.jsx(Pe,{value:"suspended",children:"Suspended"}),e.jsx(Pe,{value:"archived",children:"Archived"})]})]}),e.jsxs(Wt,{value:l,onValueChange:c,children:[e.jsx(Vt,{className:"w-[180px]","data-testid":"select-type-filter",children:e.jsx(Gt,{placeholder:"Content Type"})}),e.jsxs(Ut,{children:[e.jsx(Pe,{value:"all",children:"All Types"}),Object.entries(ff).map(([V,H])=>e.jsx(Pe,{value:V,children:H},V))]})]})]}),_?e.jsx("div",{className:"flex items-center justify-center h-32",children:e.jsx(ot,{className:"w-6 h-6 animate-spin"})}):e.jsxs(mx,{children:[e.jsx(hx,{children:e.jsxs(Ji,{children:[e.jsx(ga,{children:"Tracking #"}),e.jsx(ga,{children:"Type"}),e.jsx(ga,{children:"Title"}),e.jsx(ga,{children:"Status"}),e.jsx(ga,{children:"Views"}),e.jsx(ga,{children:"Created"}),e.jsx(ga,{children:"Actions"})]})}),e.jsxs(xx,{children:[z?.map(V=>e.jsxs(Ji,{"data-testid":`row-content-${V.trackingNumber}`,children:[e.jsx(ea,{className:"font-mono text-sm",children:V.trackingNumber}),e.jsx(ea,{children:ff[V.contentType]||V.contentType}),e.jsx(ea,{className:"max-w-[200px] truncate",children:V.title||"-"}),e.jsx(ea,{children:e.jsx(O,{className:Wj[V.status]||"",children:V.status.replace("_"," ")})}),e.jsx(ea,{children:V.viewCount}),e.jsx(ea,{children:new Date(V.createdAt).toLocaleDateString()}),e.jsx(ea,{children:e.jsx("div",{className:"flex gap-1",children:e.jsx(S,{size:"icon",variant:"ghost",onClick:()=>{m(V),f(!0)},"data-testid":`button-moderate-${V.trackingNumber}`,children:e.jsx(Er,{className:"w-4 h-4"})})})})]},V.id)),(!z||z.length===0)&&e.jsx(Ji,{children:e.jsx(ea,{colSpan:7,className:"text-center text-muted-foreground py-8",children:"No content found"})})]})]})]})]})}),e.jsx(xt,{value:"moderation",className:"space-y-4",children:e.jsxs(P,{children:[e.jsx(Q,{children:e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(sr,{className:"w-5 h-5 text-red-600"}),"Moderation Queue"]})}),e.jsx(F,{children:M&&M.length>0?e.jsxs(mx,{children:[e.jsx(hx,{children:e.jsxs(Ji,{children:[e.jsx(ga,{children:"Tracking #"}),e.jsx(ga,{children:"Flag Type"}),e.jsx(ga,{children:"Severity"}),e.jsx(ga,{children:"Description"}),e.jsx(ga,{children:"Reported"}),e.jsx(ga,{children:"Actions"})]})}),e.jsx(xx,{children:M.map(V=>e.jsxs(Ji,{"data-testid":`row-flag-${V.id}`,children:[e.jsx(ea,{className:"font-mono text-sm",children:V.trackingNumber}),e.jsx(ea,{children:e.jsx(O,{variant:"outline",children:V.flagType})}),e.jsx(ea,{children:e.jsx(O,{className:V.severity==="critical"?"bg-red-600 text-white":V.severity==="high"?"bg-orange-600 text-white":V.severity==="medium"?"bg-yellow-600 text-white":"bg-gray-600 text-white",children:V.severity})}),e.jsx(ea,{className:"max-w-[300px] truncate",children:V.description||"-"}),e.jsx(ea,{children:new Date(V.createdAt).toLocaleDateString()}),e.jsx(ea,{children:e.jsx(S,{size:"sm",variant:"outline","data-testid":`button-review-flag-${V.id}`,children:"Review"})})]},V.id))})]}):e.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[e.jsx(Rt,{className:"w-12 h-12 mx-auto mb-4 text-green-600"}),e.jsx("p",{children:"No pending flags. All clear!"})]})})]})}),e.jsx(xt,{value:"invoices",className:"space-y-4",children:e.jsxs(P,{children:[e.jsx(Q,{children:e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(Mf,{className:"w-5 h-5"}),"Content Invoices"]})}),e.jsx(F,{children:e.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[e.jsx(Mf,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"Invoice management coming soon"}),e.jsx("p",{className:"text-sm",children:"Link invoices to content tracking numbers"})]})})]})}),e.jsx(xt,{value:"analytics",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs(P,{children:[e.jsx(Q,{children:e.jsx(X,{className:"text-base",children:"Content by Type"})}),e.jsxs(F,{className:"space-y-2",children:[w?.byType&&Object.entries(w.byType).map(([V,H])=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:ff[V]||V}),e.jsx(O,{variant:"secondary",children:H})]},V)),(!w?.byType||Object.keys(w.byType).length===0)&&e.jsx("p",{className:"text-sm text-muted-foreground",children:"No content data available"})]})]}),e.jsxs(P,{children:[e.jsx(Q,{children:e.jsx(X,{className:"text-base",children:"Content by Status"})}),e.jsxs(F,{className:"space-y-2",children:[w?.byStatus&&Object.entries(w.byStatus).map(([V,H])=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(O,{className:Wj[V]||"",children:V.replace("_"," ")}),e.jsx("span",{className:"font-medium",children:H})]},V)),(!w?.byStatus||Object.keys(w.byStatus).length===0)&&e.jsx("p",{className:"text-sm text-muted-foreground",children:"No content data available"})]})]})]})})]}),e.jsx(rn,{open:x,onOpenChange:f,children:e.jsxs(zr,{className:"max-w-lg",children:[e.jsxs(Vr,{children:[e.jsx(Ur,{children:"Moderate Content"}),e.jsxs(nn,{children:["Review and take action on content: ",u?.trackingNumber]})]}),u&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Type:"}),e.jsx("p",{className:"font-medium",children:ff[u.contentType]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Status:"}),e.jsx(O,{className:Wj[u.status],children:u.status})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("span",{className:"text-muted-foreground",children:"Title:"}),e.jsx("p",{className:"font-medium",children:u.title||"-"})]}),u.flagReason&&e.jsxs("div",{className:"col-span-2",children:[e.jsx("span",{className:"text-muted-foreground",children:"Flag Reason:"}),e.jsx("p",{className:"text-red-600",children:u.flagReason})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Action"}),e.jsxs(Wt,{value:g,onValueChange:V=>b(V),children:[e.jsx(Vt,{"data-testid":"select-moderation-action",children:e.jsx(Gt,{})}),e.jsxs(Ut,{children:[e.jsx(Pe,{value:"approve",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Rt,{className:"w-4 h-4 text-green-600"}),"Approve"]})}),e.jsx(Pe,{value:"suspend",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(_l,{className:"w-4 h-4 text-orange-600"}),"Suspend"]})}),e.jsx(Pe,{value:"delete",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(po,{className:"w-4 h-4 text-red-600"}),"Delete"]})})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Notes"}),e.jsx(Ks,{placeholder:"Add moderation notes...",value:v,onChange:V=>y(V.target.value),"data-testid":"textarea-moderation-notes"})]})]}),e.jsxs(jo,{children:[e.jsx(S,{variant:"outline",onClick:()=>f(!1),children:"Cancel"}),e.jsxs(S,{onClick:R,disabled:E.isPending,"data-testid":"button-submit-moderation",children:[E.isPending?e.jsx(ot,{className:"w-4 h-4 mr-2 animate-spin"}):null,"Submit"]})]})]})})]})})}function gf(t){return`$${(t/100).toFixed(4)}`}function ou(t){return`$${(t/1e3).toFixed(4)}`}function vf(t){return t>=1e6?`${(t/1e6).toFixed(2)}M`:t>=1e3?`${(t/1e3).toFixed(1)}K`:t.toString()}function N3(t){return new Date(t).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}function Toe(){const{data:t,isLoading:s}=Le({queryKey:["/api/admin/ai-usage/summary"]}),{data:a,isLoading:r}=Le({queryKey:["/api/admin/ai-usage/daily"]}),{data:n,isLoading:i}=Le({queryKey:["/api/admin/ai-usage/logs"]}),{data:l}=Le({queryKey:["/api/admin/ai-usage/pricing"]}),{data:c,isLoading:u}=Le({queryKey:["/api/admin/api-usage/summary"]}),{data:m,isLoading:x}=Le({queryKey:["/api/admin/api-usage/daily"]}),{data:f,isLoading:g}=Le({queryKey:["/api/admin/api-usage/logs"]}),{data:b}=Le({queryKey:["/api/admin/api-usage/pricing"]}),v=()=>{_t.invalidateQueries({queryKey:["/api/admin/ai-usage/summary"]}),_t.invalidateQueries({queryKey:["/api/admin/ai-usage/daily"]}),_t.invalidateQueries({queryKey:["/api/admin/ai-usage/logs"]}),_t.invalidateQueries({queryKey:["/api/admin/ai-usage/pricing"]}),_t.invalidateQueries({queryKey:["/api/admin/api-usage/summary"]}),_t.invalidateQueries({queryKey:["/api/admin/api-usage/daily"]}),_t.invalidateQueries({queryKey:["/api/admin/api-usage/logs"]}),_t.invalidateQueries({queryKey:["/api/admin/api-usage/pricing"]})},y=(t?.totalCostCents||0)*10,w=c?.totalCostCents||0,k=y+w,C=(t?.totalCalls||0)+(c?.totalCalls||0);return s&&u?e.jsx(wr,{title:"API Cost Tracking",children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(ot,{className:"w-8 h-8 animate-spin text-muted-foreground"})})}):e.jsx(wr,{title:"API Cost Tracking",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-page-title",children:"External API Cost Tracking"}),e.jsx("p",{className:"text-muted-foreground",children:"Monitor AI and external API usage and costs"})]}),e.jsxs(S,{onClick:v,variant:"outline","data-testid":"button-refresh",children:[e.jsx(Cn,{className:"w-4 h-4 mr-2"}),"Refresh"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(P,{"data-testid":"card-stat-total-cost",children:e.jsx(F,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Cost (All APIs)"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:ou(k)}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[C," total API calls"]})]}),e.jsx(bt,{className:"w-8 h-8 text-green-600 opacity-80"})]})})}),e.jsx(P,{"data-testid":"card-stat-ai-cost",children:e.jsx(F,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"AI Costs"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:gf(t?.totalCostCents||0)}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[vf(t?.totalTokens||0)," tokens"]})]}),e.jsx(Ff,{className:"w-8 h-8 text-blue-600 opacity-80"})]})})}),e.jsx(P,{"data-testid":"card-stat-amadeus-cost",children:e.jsx(F,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Amadeus Costs"}),e.jsx("p",{className:"text-2xl font-bold text-amber-600",children:ou(c?.totalCostCents||0)}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[c?.totalCalls||0," API calls"]})]}),e.jsx(Pt,{className:"w-8 h-8 text-amber-600 opacity-80"})]})})}),e.jsx(P,{"data-testid":"card-stat-success-rate",children:e.jsx(F,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Overall Success Rate"}),e.jsxs("p",{className:"text-2xl font-bold text-emerald-600",children:[Math.round(((t?.successRate||100)+(c?.successRate||100))/2),"%"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"API reliability"})]}),e.jsx(Rt,{className:"w-8 h-8 text-emerald-600 opacity-80"})]})})})]}),e.jsxs(Na,{defaultValue:"ai",className:"w-full",children:[e.jsxs(ca,{className:"grid w-full grid-cols-2 max-w-md",children:[e.jsxs(it,{value:"ai","data-testid":"tab-ai",children:[e.jsx(Ff,{className:"w-4 h-4 mr-2"}),"AI APIs (Grok, Claude)"]}),e.jsxs(it,{value:"external","data-testid":"tab-external",children:[e.jsx(Nr,{className:"w-4 h-4 mr-2"}),"External APIs (Amadeus)"]})]}),e.jsxs(xt,{value:"ai",className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(P,{"data-testid":"card-ai-by-provider",children:[e.jsxs(Q,{children:[e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(Ff,{className:"w-5 h-5"}),"AI Usage by Provider"]}),e.jsx(Tt,{children:"Cost breakdown by AI provider"})]}),e.jsx(F,{children:t?.byProvider&&Object.keys(t.byProvider).length>0?e.jsx("div",{className:"space-y-3",children:Object.entries(t.byProvider).map(([_,M])=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/50",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(O,{variant:"outline",className:"capitalize",children:_}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[M.calls," calls"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-semibold text-green-600",children:gf(M.costCents)}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[vf(M.tokens)," tokens"]})]})]},_))}):e.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No AI usage data yet"})})]}),e.jsxs(P,{"data-testid":"card-ai-by-operation",children:[e.jsxs(Q,{children:[e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(Ai,{className:"w-5 h-5"}),"AI Usage by Operation"]}),e.jsx(Tt,{children:"Cost breakdown by operation type"})]}),e.jsx(F,{children:t?.byOperation&&Object.keys(t.byOperation).length>0?e.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:Object.entries(t.byOperation).sort((_,M)=>M[1].costCents-_[1].costCents).map(([_,M])=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/50",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("code",{className:"text-xs bg-background px-2 py-1 rounded",children:_}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[M.calls," calls"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-semibold text-green-600",children:gf(M.costCents)}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[vf(M.tokens)," tokens"]})]})]},_))}):e.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No AI usage data yet"})})]})]}),e.jsxs(P,{"data-testid":"card-ai-logs",children:[e.jsxs(Q,{children:[e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(Xt,{className:"w-5 h-5"}),"Recent AI API Calls"]}),e.jsx(Tt,{children:"Latest AI API requests"})]}),e.jsx(F,{children:i?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx(ot,{className:"w-6 h-6 animate-spin"})}):n&&n.length>0?e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"grid grid-cols-6 text-xs font-medium text-muted-foreground pb-2 border-b",children:[e.jsx("span",{children:"Time"}),e.jsx("span",{children:"Provider"}),e.jsx("span",{children:"Operation"}),e.jsx("span",{className:"text-right",children:"Tokens"}),e.jsx("span",{className:"text-right",children:"Cost"}),e.jsx("span",{className:"text-right",children:"Status"})]}),e.jsx("div",{className:"max-h-64 overflow-y-auto space-y-1",children:n.slice(0,50).map(_=>e.jsxs("div",{className:"grid grid-cols-6 text-sm py-2 hover:bg-muted/50 rounded items-center",children:[e.jsx("span",{className:"text-muted-foreground text-xs",children:N3(_.createdAt)}),e.jsx(O,{variant:"outline",className:"w-fit capitalize",children:_.provider}),e.jsx("code",{className:"text-xs truncate",children:_.operation}),e.jsx("span",{className:"text-right",children:vf(_.totalTokens)}),e.jsx("span",{className:"text-right font-medium text-green-600",children:gf(_.estimatedCostCents)}),e.jsx("div",{className:"flex justify-end",children:_.success?e.jsx(Rt,{className:"w-4 h-4 text-green-500"}):e.jsx(po,{className:"w-4 h-4 text-red-500"})})]},_.id))})]}):e.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No AI calls logged yet"})})]}),e.jsxs(P,{"data-testid":"card-ai-pricing",children:[e.jsxs(Q,{children:[e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(bt,{className:"w-5 h-5"}),"AI Pricing"]}),e.jsxs(Tt,{children:["AI API pricing rates (last updated: ",l?.lastUpdated||"N/A",")"]})]}),e.jsx(F,{children:l?.providers?e.jsx("div",{className:"space-y-4",children:Object.entries(l.providers).map(([_,M])=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("h4",{className:"font-semibold capitalize flex items-center gap-2",children:[_,e.jsxs("span",{className:"text-xs text-muted-foreground font-normal",children:["(",M.note,")"]})]}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:Object.entries(M.models).map(([E,R])=>e.jsxs("div",{className:"p-3 rounded-lg bg-muted/50",children:[e.jsx("code",{className:"text-xs",children:E}),e.jsxs("div",{className:"mt-1 text-sm",children:[e.jsxs("span",{className:"text-blue-600",children:["$",(R.input/100).toFixed(2)]}),e.jsx("span",{className:"text-muted-foreground",children:" / "}),e.jsxs("span",{className:"text-green-600",children:["$",(R.output/100).toFixed(2)]})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"in / out per 1M"})]},E))})]},_))}):e.jsx("p",{className:"text-muted-foreground text-center py-4",children:"Loading pricing info..."})})]})]}),e.jsxs(xt,{value:"external",className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(P,{"data-testid":"card-api-by-provider",children:[e.jsxs(Q,{children:[e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(Nr,{className:"w-5 h-5"}),"External API by Provider"]}),e.jsx(Tt,{children:"Cost breakdown by API provider"})]}),e.jsx(F,{children:c?.byProvider&&Object.keys(c.byProvider).length>0?e.jsx("div",{className:"space-y-3",children:Object.entries(c.byProvider).map(([_,M])=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/50",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(O,{variant:"outline",className:"capitalize",children:_}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[M.calls," calls"]})]}),e.jsx("div",{className:"text-right",children:e.jsx("p",{className:"font-semibold text-amber-600",children:ou(M.costCents)})})]},_))}):e.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No external API usage data yet"})})]}),e.jsxs(P,{"data-testid":"card-api-by-endpoint",children:[e.jsxs(Q,{children:[e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(Ai,{className:"w-5 h-5"}),"Usage by Endpoint"]}),e.jsx(Tt,{children:"Cost breakdown by API endpoint"})]}),e.jsx(F,{children:c?.byEndpoint&&Object.keys(c.byEndpoint).length>0?e.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:Object.entries(c.byEndpoint).sort((_,M)=>M[1].costCents-_[1].costCents).map(([_,M])=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/50",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("code",{className:"text-xs bg-background px-2 py-1 rounded",children:_}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[M.calls," calls"]})]}),e.jsx("div",{className:"text-right",children:e.jsx("p",{className:"font-semibold text-amber-600",children:ou(M.costCents)})})]},_))}):e.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No endpoint usage data yet"})})]})]}),e.jsxs(P,{"data-testid":"card-api-daily",children:[e.jsxs(Q,{children:[e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(hi,{className:"w-5 h-5"}),"Daily API Usage (Last 30 Days)"]}),e.jsx(Tt,{children:"Daily Amadeus API calls and costs"})]}),e.jsx(F,{children:x?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx(ot,{className:"w-6 h-6 animate-spin"})}):m&&m.length>0?e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"grid grid-cols-3 text-xs font-medium text-muted-foreground pb-2 border-b",children:[e.jsx("span",{children:"Date"}),e.jsx("span",{className:"text-right",children:"Calls"}),e.jsx("span",{className:"text-right",children:"Cost"})]}),e.jsx("div",{className:"max-h-64 overflow-y-auto space-y-1",children:m.slice().reverse().map(_=>e.jsxs("div",{className:"grid grid-cols-3 text-sm py-2 hover:bg-muted/50 rounded",children:[e.jsx("span",{children:_.date}),e.jsx("span",{className:"text-right",children:_.calls}),e.jsx("span",{className:"text-right font-medium text-amber-600",children:ou(_.costCents)})]},_.date))})]}):e.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No daily API usage data yet"})})]}),e.jsxs(P,{"data-testid":"card-api-logs",children:[e.jsxs(Q,{children:[e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(Xt,{className:"w-5 h-5"}),"Recent External API Calls"]}),e.jsx(Tt,{children:"Latest Amadeus and other API requests"})]}),e.jsx(F,{children:g?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx(ot,{className:"w-6 h-6 animate-spin"})}):f&&f.length>0?e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"grid grid-cols-6 text-xs font-medium text-muted-foreground pb-2 border-b",children:[e.jsx("span",{children:"Time"}),e.jsx("span",{children:"Provider"}),e.jsx("span",{children:"Endpoint"}),e.jsx("span",{className:"text-right",children:"Results"}),e.jsx("span",{className:"text-right",children:"Cost"}),e.jsx("span",{className:"text-right",children:"Status"})]}),e.jsx("div",{className:"max-h-64 overflow-y-auto space-y-1",children:f.slice(0,50).map(_=>e.jsxs("div",{className:"grid grid-cols-6 text-sm py-2 hover:bg-muted/50 rounded items-center",children:[e.jsx("span",{className:"text-muted-foreground text-xs",children:N3(_.createdAt)}),e.jsx(O,{variant:"outline",className:"w-fit capitalize",children:_.provider}),e.jsx("code",{className:"text-xs truncate",children:_.endpoint}),e.jsx("span",{className:"text-right",children:_.resultCount}),e.jsx("span",{className:"text-right font-medium text-amber-600",children:ou(_.estimatedCostCents)}),e.jsx("div",{className:"flex justify-end",children:_.success?e.jsx(Rt,{className:"w-4 h-4 text-green-500"}):e.jsx(po,{className:"w-4 h-4 text-red-500"})})]},_.id))})]}):e.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No external API calls logged yet. Amadeus usage will appear here."})})]}),e.jsxs(P,{"data-testid":"card-api-pricing",children:[e.jsxs(Q,{children:[e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(bt,{className:"w-5 h-5"}),"Amadeus Pricing"]}),e.jsxs(Tt,{children:["External API pricing rates (last updated: ",b?.lastUpdated||"N/A",")"]})]}),e.jsx(F,{children:b?.providers?e.jsx("div",{className:"space-y-4",children:Object.entries(b.providers).map(([_,M])=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("h4",{className:"font-semibold capitalize flex items-center gap-2",children:[_,e.jsxs("span",{className:"text-xs text-muted-foreground font-normal",children:["(",M.note,")"]})]}),e.jsx("div",{className:"grid grid-cols-4 gap-2",children:Object.entries(M.endpoints).map(([E,R])=>e.jsxs("div",{className:"p-3 rounded-lg bg-muted/50",children:[e.jsx("code",{className:"text-xs",children:E}),e.jsx("div",{className:"mt-1 text-sm",children:e.jsxs("span",{className:"text-amber-600",children:["$",(R/1e3).toFixed(4)]})}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"per call"})]},E))})]},_))}):e.jsx("p",{className:"text-muted-foreground text-center py-4",children:"Loading pricing info..."})})]})]})]})]})})}var j2="Radio",[_oe,SM]=kr(j2),[Eoe,Poe]=_oe(j2),TM=h.forwardRef((t,s)=>{const{__scopeRadio:a,name:r,checked:n=!1,required:i,disabled:l,value:c="on",onCheck:u,form:m,...x}=t,[f,g]=h.useState(null),b=zt(s,w=>g(w)),v=h.useRef(!1),y=f?m||!!f.closest("form"):!0;return e.jsxs(Eoe,{scope:a,checked:n,disabled:l,children:[e.jsx(lt.button,{type:"button",role:"radio","aria-checked":n,"data-state":AM(n),"data-disabled":l?"":void 0,disabled:l,value:c,...x,ref:b,onClick:Ye(t.onClick,w=>{n||u?.(),y&&(v.current=w.isPropagationStopped(),v.current||w.stopPropagation())})}),y&&e.jsx(PM,{control:f,bubbles:!v.current,name:r,value:c,checked:n,required:i,disabled:l,form:m,style:{transform:"translateX(-100%)"}})]})});TM.displayName=j2;var _M="RadioIndicator",EM=h.forwardRef((t,s)=>{const{__scopeRadio:a,forceMount:r,...n}=t,i=Poe(_M,a);return e.jsx(xr,{present:r||i.checked,children:e.jsx(lt.span,{"data-state":AM(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:s})})});EM.displayName=_M;var Aoe="RadioBubbleInput",PM=h.forwardRef(({__scopeRadio:t,control:s,checked:a,bubbles:r=!0,...n},i)=>{const l=h.useRef(null),c=zt(l,i),u=Ux(a),m=wx(s);return h.useEffect(()=>{const x=l.current;if(!x)return;const f=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(f,"checked").set;if(u!==a&&b){const v=new Event("click",{bubbles:r});b.call(x,a),x.dispatchEvent(v)}},[u,a,r]),e.jsx(lt.input,{type:"radio","aria-hidden":!0,defaultChecked:a,...n,tabIndex:-1,ref:c,style:{...n.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});PM.displayName=Aoe;function AM(t){return t?"checked":"unchecked"}var Doe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],sv="RadioGroup",[Foe]=kr(sv,[gm,SM]),DM=gm(),FM=SM(),[Moe,Ioe]=Foe(sv),MM=h.forwardRef((t,s)=>{const{__scopeRadioGroup:a,name:r,defaultValue:n,value:i,required:l=!1,disabled:c=!1,orientation:u,dir:m,loop:x=!0,onValueChange:f,...g}=t,b=DM(a),v=xc(m),[y,w]=ln({prop:i,defaultProp:n??null,onChange:f,caller:sv});return e.jsx(Moe,{scope:a,name:r,required:l,disabled:c,value:y,onValueChange:w,children:e.jsx(n1,{asChild:!0,...b,orientation:u,dir:v,loop:x,children:e.jsx(lt.div,{role:"radiogroup","aria-required":l,"aria-orientation":u,"data-disabled":c?"":void 0,dir:v,...g,ref:s})})})});MM.displayName=sv;var IM="RadioGroupItem",RM=h.forwardRef((t,s)=>{const{__scopeRadioGroup:a,disabled:r,...n}=t,i=Ioe(IM,a),l=i.disabled||r,c=DM(a),u=FM(a),m=h.useRef(null),x=zt(s,m),f=i.value===n.value,g=h.useRef(!1);return h.useEffect(()=>{const b=y=>{Doe.includes(y.key)&&(g.current=!0)},v=()=>g.current=!1;return document.addEventListener("keydown",b),document.addEventListener("keyup",v),()=>{document.removeEventListener("keydown",b),document.removeEventListener("keyup",v)}},[]),e.jsx(i1,{asChild:!0,...c,focusable:!l,active:f,children:e.jsx(TM,{disabled:l,required:i.required,checked:f,...u,...n,name:i.name,ref:x,onCheck:()=>i.onValueChange(n.value),onKeyDown:Ye(b=>{b.key==="Enter"&&b.preventDefault()}),onFocus:Ye(n.onFocus,()=>{g.current&&m.current?.click()})})})});RM.displayName=IM;var Roe="RadioGroupIndicator",LM=h.forwardRef((t,s)=>{const{__scopeRadioGroup:a,...r}=t,n=FM(a);return e.jsx(EM,{...n,...r,ref:s})});LM.displayName=Roe;var OM=MM,$M=RM,Loe=LM;const av=h.forwardRef(({className:t,...s},a)=>e.jsx(OM,{className:te("grid gap-2",t),...s,ref:a}));av.displayName=OM.displayName;const rv=h.forwardRef(({className:t,...s},a)=>e.jsx($M,{ref:a,className:te("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...s,children:e.jsx(Loe,{className:"flex items-center justify-center",children:e.jsx(w_,{className:"h-2.5 w-2.5 fill-current text-current"})})}));rv.displayName=$M.displayName;const yf=[{id:"your-cart",name:"Your Cart",tagline:"Original selections",totalCost:2112,perPerson:1056,activities:[{name:"Eiffel Tower",price:178},{name:"Louvre",price:130},{name:"Food tour",price:238}],hotel:{name:"Hotel Monge (Latin Q.)",price:1330},services:[{name:"Airport transfer",price:75},{name:"Metro pass",price:108},{name:"Museum pass",price:134}],whyDifferent:[]},{id:"cost-saver",name:"Cost Saver",tagline:"Maximum savings",totalCost:1785,perPerson:893,savings:327,popular:!0,activities:[{name:"Paris Pass (includes all)",price:145},{name:"Free museums (4+ with pass)",price:0},{name:"Local food walk (free)",price:0},{name:"Walking tour",price:45}],hotel:{name:"Same hotel (Sun-Thur dates)",price:1050,note:"Shifted to cheaper days"},services:[{name:"RER train ticket",price:15},{name:"Metro pass",price:108},{name:"Paris Pass (included)",price:0}],whyDifferent:["Shifted hotel dates (Sun-Thurs cheaper than Fri-Sat)","Paris Pass bundles multiple attractions at discount","Public transport vs private (saves $60)","Free self-guided food walk vs paid tour"]},{id:"time-saver",name:"Time Saver",tagline:"Maximum efficiency",totalCost:2240,perPerson:1120,timeSaved:8,activities:[{name:"Skip-lines bundled",price:420},{name:"VIP combo tour",price:195},{name:"Private food tour",price:280}],hotel:{name:"Upgraded to Marais (central)",price:1540},services:[{name:"Private driver entire trip",price:380},{name:"Skip metro (driver handles)",price:0}],whyDifferent:["Hotel in Marais (center of action, less commute)","Skip-the-line bundled with VIP tour","Private driver eliminates metro waits","All activities within 15 min of hotel"]},{id:"local-expert",name:"Local Expert",tagline:"Authentic experience",totalCost:1950,perPerson:975,hiddenGems:5,recommended:!0,activities:[{name:"Eiffel @ sunrise",price:178},{name:"Secret Louvre entrance",price:95},{name:"Market food tour",price:85},{name:"Hidden bistro (free rec)",price:0}],hotel:{name:"Local B&B in Marais",price:980,note:"+ breakfast included"},services:[{name:"Airport transfer",price:75},{name:"Metro pass",price:108},{name:"Museum pass",price:134}],whyDifferent:["Local B&B run by Parisian family (authentic + breakfast)","Sunrise Eiffel Tower (no crowds, better photos)","Secret Louvre entrance (locals' tip, faster)","Market food tour (where Parisians actually eat)","Hidden bistro recommendation (not in guidebooks)"]}],w3=[{id:"ai-only",name:"AI Optimization Only",price:19.99,description:"Get 2-3 optimized plans, choose one, book yourself"},{id:"ai-expert",name:"AI Optimization + Expert Review",price:49.99,description:"Get optimized plans PLUS have a Paris expert review and customize based on your preferences",recommended:!0},{id:"full-service",name:"Full Expert Service",price:199,description:"Expert handles everything: planning, booking, coordination"}];function Ooe(){const[,t]=La(),[s,a]=h.useState(null),[r,n]=h.useState("ai-expert"),[i,l]=h.useState(!1);return i?e.jsx(Yt,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsx("div",{className:"mb-6",children:e.jsxs(S,{variant:"ghost",onClick:()=>l(!1),"data-testid":"button-back-pricing",children:[e.jsx(la,{className:"w-4 h-4 mr-2"})," Back"]})}),e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"AI-Optimized Plans for Your Paris Trip"}),e.jsx("p",{className:"text-gray-600",children:"We analyzed your cart and created 3 optimized alternatives. Compare and choose the one that works best for you!"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:yf.map(c=>e.jsxs(P,{className:te("relative cursor-pointer transition-all",s===c.id?"ring-2 ring-[#FF385C] border-[#FF385C]":"border-gray-200 hover:border-gray-300"),onClick:()=>a(c.id),"data-testid":`card-plan-${c.id}`,children:[c.recommended&&e.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2",children:e.jsxs(O,{className:"bg-purple-600 text-white",children:[e.jsx(cr,{className:"w-3 h-3 mr-1"})," Recommended"]})}),c.popular&&e.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2",children:e.jsxs(O,{className:"bg-amber-500 text-white",children:[e.jsx(rt,{className:"w-3 h-3 mr-1"})," Popular"]})}),e.jsxs(F,{className:"p-4 pt-6",children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("h3",{className:"font-bold text-gray-900",children:c.name}),e.jsx("p",{className:"text-sm text-gray-500",children:c.tagline})]}),e.jsxs("div",{className:"text-center mb-4",children:[e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",c.totalCost.toLocaleString()]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["(~$",c.perPerson,"/pp)"]}),c.savings&&e.jsxs(O,{className:"bg-green-100 text-green-700 mt-2",children:[e.jsx(uw,{className:"w-3 h-3 mr-1"})," Save $",c.savings]}),c.timeSaved&&e.jsxs(O,{className:"bg-blue-100 text-blue-700 mt-2",children:[e.jsx(qa,{className:"w-3 h-3 mr-1"})," Save ",c.timeSaved,"hrs"]}),c.hiddenGems&&e.jsxs(O,{className:"bg-purple-100 text-purple-700 mt-2",children:[e.jsx(cr,{className:"w-3 h-3 mr-1"})," +",c.hiddenGems," Gems"]})]}),e.jsx(Ja,{className:"my-4"}),e.jsxs("div",{className:"space-y-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-700 mb-2",children:"Activities"}),e.jsx("ul",{className:"space-y-1",children:c.activities.map((u,m)=>e.jsxs("li",{className:"flex justify-between text-gray-600",children:[e.jsx("span",{className:"truncate mr-2",children:u.name}),e.jsx("span",{className:"text-gray-900",children:u.price>0?`$${u.price}`:"Free"})]},m))})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-700 mb-2",children:"Hotel"}),e.jsxs("div",{className:"flex justify-between text-gray-600",children:[e.jsx("span",{className:"truncate mr-2",children:c.hotel.name}),e.jsxs("span",{className:"text-gray-900",children:["$",c.hotel.price.toLocaleString()]})]}),c.hotel.note&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:c.hotel.note})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-700 mb-2",children:"Services"}),e.jsx("ul",{className:"space-y-1",children:c.services.map((u,m)=>e.jsxs("li",{className:"flex justify-between text-gray-600",children:[e.jsx("span",{className:"truncate mr-2",children:u.name}),e.jsx("span",{className:"text-gray-900",children:u.price>0?`$${u.price}`:"Incl."})]},m))})]})]}),e.jsx(S,{className:te("w-full mt-4",s===c.id?"bg-[#FF385C] hover:bg-[#E23350] text-white":"bg-gray-100 hover:bg-gray-200 text-gray-900"),"data-testid":`button-select-${c.id}`,children:s===c.id?"Selected":"Book This"})]})]},c.id))}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:yf.slice(1).map(c=>e.jsxs(P,{className:"border-gray-200",children:[e.jsx(Q,{className:"pb-2",children:e.jsxs(X,{className:"text-base flex items-center gap-2",children:[c.id==="cost-saver"&&e.jsx(bt,{className:"w-5 h-5 text-green-600"}),c.id==="time-saver"&&e.jsx(Je,{className:"w-5 h-5 text-blue-600"}),c.id==="local-expert"&&e.jsx(cr,{className:"w-5 h-5 text-purple-600"}),c.name," Plan"]})}),e.jsxs(F,{children:[e.jsx("ul",{className:"space-y-2 text-sm text-gray-600",children:c.whyDifferent.map((u,m)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(rs,{className:"w-4 h-4 text-green-500 flex-shrink-0 mt-0.5"}),u]},m))}),c.savings&&e.jsxs("p",{className:"mt-4 font-medium text-green-600",children:["Savings: $",c.savings," (15% less)"]}),c.timeSaved&&e.jsxs("p",{className:"mt-4 font-medium text-blue-600",children:["Time Saved: ",c.timeSaved," hours (44% less travel)"]}),c.hiddenGems&&e.jsxs("p",{className:"mt-4 font-medium text-purple-600",children:["Bonus: ",c.hiddenGems," hidden gems, authentic experience"]})]})]},c.id))}),s&&e.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4 z-50",children:e.jsxs("div",{className:"container mx-auto flex items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-gray-900",children:["Selected: ",yf.find(c=>c.id===s)?.name]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Total: $",yf.find(c=>c.id===s)?.totalCost.toLocaleString()]})]}),e.jsx(S,{className:"bg-[#FF385C] hover:bg-[#E23350] text-white px-8","data-testid":"button-proceed-booking",children:"Proceed to Booking"})]})})]})})}):e.jsx(Yt,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"container mx-auto px-4 max-w-3xl",children:[e.jsxs(S,{variant:"ghost",className:"mb-6",onClick:()=>t("/discover"),"data-testid":"button-back-discover",children:[e.jsx(la,{className:"w-4 h-4 mr-2"})," Back to Discover"]}),e.jsxs(P,{className:"border-gray-200",children:[e.jsxs(Q,{className:"text-center pb-4",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-gradient-to-br from-purple-100 to-pink-100 flex items-center justify-center",children:e.jsx(qe,{className:"w-8 h-8 text-purple-600"})}),e.jsx(X,{className:"text-2xl font-bold text-gray-900",children:"Optimize Your Paris Trip with AI"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Our AI has analyzed your selections and can create 2-3 optimized alternatives that could save you money, time, and surface hidden gems."})]}),e.jsxs(F,{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("p",{className:"font-medium text-gray-900 mb-2",children:"Your Current Cart:"}),e.jsxs("ul",{className:"space-y-1 text-sm text-gray-600",children:[e.jsx("li",{children:"Total Cost: $2,112"}),e.jsx("li",{children:"Activities: 3 major attractions"}),e.jsx("li",{children:"Hotel: Boutique hotel in Latin Quarter"}),e.jsx("li",{children:"Travel Time Between Activities: ~18 hours total"})]})]}),e.jsx(Ja,{}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900 mb-4",children:"What AI Optimization Includes:"}),e.jsxs("div",{className:"grid gap-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-green-100 flex items-center justify-center flex-shrink-0",children:e.jsx(rs,{className:"w-4 h-4 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"2-3 Alternative Itineraries"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Compare different approaches to your trip"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-green-100 flex items-center justify-center flex-shrink-0",children:e.jsx(bt,{className:"w-4 h-4 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Cost Optimization"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Find package deals, combo tickets, off-peak savings. Estimated savings: $200-400"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-green-100 flex items-center justify-center flex-shrink-0",children:e.jsx(Je,{className:"w-4 h-4 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Time Efficiency"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Minimize travel time, group by neighborhood. Estimated time saved: 6-10 hours"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-green-100 flex items-center justify-center flex-shrink-0",children:e.jsx(cr,{className:"w-4 h-4 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Hidden Gems"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Local spots tourists don't know about, authentic experiences"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-green-100 flex items-center justify-center flex-shrink-0",children:e.jsx(rt,{className:"w-4 h-4 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Expert Insights"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Cultural context, insider tips, best times to visit"})]})]})]})]}),e.jsx(Ja,{}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900 mb-4",children:"Choose Your Plan:"}),e.jsx(av,{value:r,onValueChange:n,className:"space-y-3",children:w3.map(c=>e.jsxs("div",{className:te("relative flex items-start gap-3 p-4 rounded-lg border transition-colors cursor-pointer",r===c.id?"border-[#FF385C] bg-pink-50":"border-gray-200 hover:border-gray-300"),onClick:()=>n(c.id),"data-testid":`radio-tier-${c.id}`,children:[e.jsx(rv,{value:c.id,id:c.id,className:"mt-1"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ye,{htmlFor:c.id,className:"font-medium text-gray-900 cursor-pointer",children:c.name}),c.recommended&&e.jsx(O,{className:"bg-[#FF385C] text-white",children:"Recommended"})]}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:c.description})]}),e.jsxs("p",{className:"font-semibold text-gray-900",children:["$",c.price]})]},c.id))})]}),e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 flex items-start gap-3",children:[e.jsx(lg,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-green-900",children:"Money-Back Guarantee"}),e.jsx("p",{className:"text-sm text-green-700",children:"If our optimized plan doesn't save you at least $100 or show meaningful time/value improvements, get a full refund."})]})]}),e.jsx("div",{className:"flex gap-3",children:e.jsxs(S,{className:"flex-1 bg-[#FF385C] hover:bg-[#E23350] text-white h-12 text-lg font-semibold",onClick:()=>l(!0),"data-testid":"button-unlock-optimization",children:[e.jsx(qe,{className:"w-5 h-5 mr-2"}),"Unlock AI Optimization - $",w3.find(c=>c.id===r)?.price]})}),e.jsx(S,{variant:"ghost",className:"w-full text-gray-500",onClick:()=>t("/discover"),"data-testid":"button-no-thanks",children:"No Thanks, I'll Book As-Is"})]})]})]})})})}const vd=mM,yd=m2,jd=x2;function $oe({expert:t,showServices:s=!0,experienceTypeFilter:a}){const[r,n]=h.useState(!1),i=`${t.firstName||""} ${t.lastName||""}`.trim()||"Travel Expert",l=`${t.firstName?.[0]||"T"}${t.lastName?.[0]||"E"}`,c=t.selectedServices?.length?Math.min(...t.selectedServices.map(k=>parseFloat(k.offering?.price||"0"))):null,u=t.expertForm?.city&&t.expertForm?.country?`${t.expertForm.city}, ${t.expertForm.country}`:t.expertForm?.destinations?.[0]||null,m=t.expertForm?.languages||[],x=t.responseTime||t.expertForm?.responseTime||null,f=t.reviewsCount||null,g=t.tripsCount||null,b=4.9,v=t.verified!==!1,y=t.superExpert||!1,w=t.specialties||t.specializations?.slice(0,2)||[];return e.jsx(P,{className:"hover-elevate transition-all duration-200 overflow-visible group","data-testid":`card-expert-${t.id}`,children:e.jsxs(F,{className:"p-3",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("div",{className:"relative shrink-0",children:[e.jsxs(Ls,{className:"w-12 h-12 border border-white shadow-sm",children:[e.jsx(Br,{src:t.profileImageUrl||void 0,alt:i}),e.jsx(Os,{className:"bg-gradient-to-br from-[#FF385C] to-[#E23350] text-white font-semibold text-sm",children:l})]}),y&&e.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 bg-amber-500 rounded-full p-0.5",children:e.jsx(jr,{className:"w-2.5 h-2.5 text-white"})})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-1",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-1.5 flex-wrap",children:[e.jsx("h3",{className:"font-semibold text-[#111827] dark:text-white text-sm truncate","data-testid":"text-expert-name",children:i}),v&&e.jsx(Rt,{className:"w-3.5 h-3.5 text-blue-500 fill-blue-500 shrink-0"}),y&&e.jsx(O,{className:"bg-amber-500 text-white text-[10px] px-1 py-0 border-0 shrink-0",children:"Super"})]}),u&&e.jsxs("div",{className:"flex items-center gap-1 text-[#6B7280] text-xs",children:[e.jsx(Me,{className:"w-3 h-3 shrink-0"}),e.jsx("span",{className:"truncate",children:u})]})]}),e.jsx("button",{onClick:()=>n(!r),className:"p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors shrink-0","data-testid":"button-favorite",children:e.jsx(Qt,{className:te("w-4 h-4 transition-colors",r?"fill-[#FF385C] text-[#FF385C]":"text-gray-400")})})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-1 flex-wrap text-xs",children:[e.jsxs("div",{className:"flex items-center text-amber-500",children:[e.jsx(rt,{className:"w-3 h-3 fill-amber-500"}),e.jsx("span",{className:"ml-0.5 font-semibold",children:b.toFixed(1)}),f!==null?e.jsxs("span",{className:"text-[#6B7280] ml-0.5",children:["(",f,")"]}):e.jsx("span",{className:"text-[#6B7280] ml-0.5",children:"(New)"})]}),g!==null&&e.jsxs("div",{className:"flex items-center gap-0.5 text-[#6B7280]",children:[e.jsx(Ta,{className:"w-3 h-3"}),e.jsxs("span",{children:[g," trips"]})]}),x&&e.jsxs("div",{className:"flex items-center gap-0.5 text-[#6B7280]",children:[e.jsx(Je,{className:"w-3 h-3"}),e.jsx("span",{children:x})]})]})]}),c&&e.jsxs("div",{className:"text-right shrink-0",children:[e.jsx("p",{className:"text-[10px] text-[#6B7280]",children:"From"}),e.jsxs("p",{className:"text-lg font-bold text-[#FF385C]","data-testid":"text-price",children:["$",c]})]})]}),(w.length>0||m.length>0)&&e.jsxs("div",{className:"flex flex-wrap items-center gap-1 mt-2",children:[w.slice(0,3).map((k,C)=>e.jsx(O,{variant:"secondary",className:"text-[10px] px-1.5 py-0 bg-[#F3F4F6] dark:bg-gray-800 text-[#374151] dark:text-gray-300 border-0","data-testid":`badge-specialty-${C}`,children:k},C)),m.length>0&&e.jsxs("span",{className:"text-[10px] text-[#6B7280] flex items-center gap-0.5",children:[e.jsx(No,{className:"w-3 h-3"}),m.slice(0,2).join(", ")]})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-2 pt-2 border-t border-[#E5E7EB] dark:border-gray-700",children:[e.jsxs(S,{variant:"outline",size:"sm",className:"flex-1 gap-1 h-7 text-xs","data-testid":"button-message",children:[e.jsx(Qi,{className:"w-3 h-3"}),"Message"]}),e.jsx(Ce,{href:`/experts/${t.id}`,className:"flex-1",children:e.jsx(S,{size:"sm",className:"w-full bg-[#FF385C] hover:bg-[#E23350] h-7 text-xs","data-testid":"button-view-profile",children:"View Profile"})})]})]})})}function k3(t){return t>=90?"text-emerald-600 dark:text-emerald-400":t>=75?"text-blue-600 dark:text-blue-400":t>=60?"text-amber-600 dark:text-amber-400":"text-gray-600 dark:text-gray-400"}function Boe(t){return t>=90?"Excellent Match":t>=75?"Great Match":t>=60?"Good Match":"Potential Match"}function zoe(t){return t>=90?"bg-emerald-500":t>=75?"bg-blue-500":t>=60?"bg-amber-500":"bg-gray-400"}function BM({expert:t,matchScore:s,matchBreakdown:a,matchReasons:r,matchStrengths:n,showDetails:i=!1,onRequestMatch:l,isLoading:c=!1}){const[u,m]=h.useState(!1),[x,f]=h.useState(!1),g=`${t.firstName||""} ${t.lastName||""}`.trim()||"Travel Expert",b=`${t.firstName?.[0]||"T"}${t.lastName?.[0]||"E"}`,v=t.selectedServices?.length?Math.min(...t.selectedServices.map(A=>parseFloat(A.offering?.price||"0"))):null,y=t.expertForm?.city&&t.expertForm?.country?`${t.expertForm.city}, ${t.expertForm.country}`:t.expertForm?.destinations?.[0]||null,w=t.expertForm?.languages||[];t.responseTime||t.expertForm?.responseTime;const k=t.reviewsCount||null,C=t.tripsCount||null,_=4.9,M=t.verified!==!1,E=t.superExpert||!1,R=t.specialties||t.specializations?.slice(0,2)||[],z=a?[{label:"Destination Expertise",value:a.destinationExpertise},{label:"Style Alignment",value:a.styleAlignment},{label:"Budget Fit",value:a.budgetFit},{label:"Experience Relevance",value:a.experienceRelevance},{label:"Availability",value:a.availability}]:[];return e.jsx(P,{className:"hover-elevate transition-all overflow-visible group","data-testid":`card-expert-match-${t.id}`,children:e.jsxs(F,{className:"p-3",children:[e.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[e.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 rounded-full bg-gradient-to-r from-purple-50 to-indigo-50 dark:from-purple-900/20 dark:to-indigo-900/20",children:[e.jsx(qe,{className:"w-3 h-3 text-purple-600 dark:text-purple-400"}),e.jsxs("span",{className:te("text-xs font-bold",k3(s)),"data-testid":"text-match-score",children:[s,"% Match"]})]}),e.jsx(O,{variant:"outline",className:te("text-[10px] px-1.5 py-0",s>=90&&"border-emerald-500 text-emerald-600 dark:text-emerald-400",s>=75&&s<90&&"border-blue-500 text-blue-600 dark:text-blue-400",s>=60&&s<75&&"border-amber-500 text-amber-600 dark:text-amber-400",s<60&&"border-gray-400 text-gray-600 dark:text-gray-400"),"data-testid":"badge-match-label",children:Boe(s)})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("div",{className:"relative shrink-0",children:[e.jsxs(Ls,{className:"w-12 h-12 border border-white shadow-sm",children:[e.jsx(Br,{src:t.profileImageUrl||void 0,alt:g}),e.jsx(Os,{className:"bg-gradient-to-br from-[#FF385C] to-[#E23350] text-white font-semibold text-sm",children:b})]}),E&&e.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 bg-amber-500 rounded-full p-0.5",children:e.jsx(jr,{className:"w-2.5 h-2.5 text-white"})})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-1",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-1.5 flex-wrap",children:[e.jsx("h3",{className:"font-semibold text-[#111827] dark:text-white text-sm truncate","data-testid":"text-expert-name",children:g}),M&&e.jsx(Rt,{className:"w-3.5 h-3.5 text-blue-500 fill-blue-500 shrink-0"}),E&&e.jsx(O,{className:"bg-amber-500 text-white text-[10px] px-1 py-0 border-0 shrink-0",children:"Super"})]}),y&&e.jsxs("div",{className:"flex items-center gap-1 text-[#6B7280] text-xs",children:[e.jsx(Me,{className:"w-3 h-3 shrink-0"}),e.jsx("span",{className:"truncate",children:y})]})]}),e.jsx("button",{onClick:()=>m(!u),className:"p-1 rounded-full hover-elevate shrink-0","aria-label":u?"Remove from favorites":"Add to favorites","data-testid":"button-favorite",children:e.jsx(Qt,{className:te("w-4 h-4 transition-colors",u?"fill-[#FF385C] text-[#FF385C]":"text-gray-400")})})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-1 flex-wrap text-xs",children:[e.jsxs("div",{className:"flex items-center text-amber-500",children:[e.jsx(rt,{className:"w-3 h-3 fill-amber-500"}),e.jsx("span",{className:"ml-0.5 font-semibold",children:_.toFixed(1)}),k!==null?e.jsxs("span",{className:"text-[#6B7280] ml-0.5",children:["(",k,")"]}):e.jsx("span",{className:"text-[#6B7280] ml-0.5",children:"(New)"})]}),C!==null&&e.jsxs("div",{className:"flex items-center gap-0.5 text-[#6B7280]",children:[e.jsx(Ta,{className:"w-3 h-3"}),e.jsxs("span",{children:[C," trips"]})]})]})]}),v&&e.jsxs("div",{className:"text-right shrink-0",children:[e.jsx("p",{className:"text-[10px] text-[#6B7280]",children:"From"}),e.jsxs("p",{className:"text-lg font-bold text-[#FF385C]","data-testid":"text-price",children:["$",v]})]})]}),n&&n.length>0&&e.jsxs("div",{className:"mt-2",children:[e.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[e.jsx(oi,{className:"w-3 h-3 text-emerald-600 dark:text-emerald-400"}),e.jsx("span",{className:"text-[10px] font-medium text-[#374151] dark:text-gray-300",children:"Why this match:"})]}),e.jsx("div",{className:"flex flex-wrap gap-1",children:n.slice(0,3).map((A,V)=>e.jsx(O,{variant:"secondary",className:"text-[10px] px-1.5 py-0 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-700 dark:text-emerald-400 border-0","data-testid":`badge-strength-${V}`,children:A},V))})]}),(R.length>0||w.length>0)&&e.jsxs("div",{className:"flex flex-wrap items-center gap-1 mt-2",children:[R.slice(0,3).map((A,V)=>e.jsx(O,{variant:"secondary",className:"text-[10px] px-1.5 py-0 bg-[#F3F4F6] dark:bg-gray-800 text-[#374151] dark:text-gray-300 border-0","data-testid":`badge-specialty-${V}`,children:A},V)),w.length>0&&e.jsxs("span",{className:"text-[10px] text-[#6B7280] flex items-center gap-0.5",children:[e.jsx(No,{className:"w-3 h-3"}),w.slice(0,2).join(", ")]})]}),i&&a&&e.jsxs("div",{className:"mt-2",children:[e.jsxs("button",{onClick:()=>f(!x),className:"flex items-center gap-1 text-[10px] text-[#6B7280] hover:text-[#374151] dark:hover:text-gray-300 transition-colors","data-testid":"button-toggle-breakdown",children:[e.jsx(Xt,{className:"w-3 h-3"}),e.jsx("span",{children:"Match Breakdown"}),x?e.jsx(nl,{className:"w-3 h-3"}):e.jsx(qs,{className:"w-3 h-3"})]}),x&&e.jsx("div",{className:"mt-2 space-y-1.5 p-2 rounded-md bg-gray-50 dark:bg-gray-800/50",children:z.map(A=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-[10px] text-[#6B7280] w-28 truncate",children:A.label}),e.jsx("div",{className:"flex-1 h-1.5 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:e.jsx("div",{className:te("h-full rounded-full transition-all",zoe(A.value)),style:{width:`${A.value}%`}})}),e.jsxs("span",{className:te("text-[10px] font-medium w-8 text-right",k3(A.value)),children:[A.value,"%"]})]},A.label))})]}),r&&r.length>0&&x&&e.jsx("div",{className:"mt-2 p-2 rounded-md bg-blue-50 dark:bg-blue-900/20",children:e.jsx("p",{className:"text-[10px] text-blue-700 dark:text-blue-300 leading-relaxed",children:r[0]})}),e.jsxs("div",{className:"flex items-center gap-2 mt-2 pt-2 border-t border-[#E5E7EB] dark:border-gray-700",children:[e.jsxs(S,{variant:"outline",size:"sm",className:"flex-1 gap-1 h-7 text-xs","data-testid":"button-message",children:[e.jsx(Qi,{className:"w-3 h-3"}),"Message"]}),l?e.jsxs(S,{size:"sm",className:"flex-1 bg-[#FF385C] hover:bg-[#E23350] h-7 text-xs gap-1",onClick:()=>l(t.id),disabled:c,"data-testid":"button-request-match",children:[e.jsx(qe,{className:"w-3 h-3"}),c?"Matching...":"Request Expert"]}):e.jsx(Ce,{href:`/experts/${t.id}`,className:"flex-1",children:e.jsx(S,{size:"sm",className:"w-full bg-[#FF385C] hover:bg-[#E23350] h-7 text-xs","data-testid":"button-view-profile",children:"View Profile"})})]})]})})}const Voe=["All Destinations","Paris, France","Tokyo, Japan","Barcelona, Spain","Bali, Indonesia","New York, USA","Rome, Italy","Mumbai, India","Sydney, Australia"],Uoe=["All Languages","English","Spanish","French","Japanese","Mandarin","Hindi","Portuguese","German","Italian"];function qoe(){const[t,s]=h.useState(""),[a,r]=h.useState("All Destinations"),[n,i]=h.useState("All Specialties"),[l,c]=h.useState("All Languages"),[u,m]=h.useState(""),[x,f]=h.useState("recommended"),[g,b]=h.useState([]),[v,y]=h.useState(!1),[w,k]=h.useState(""),[C,_]=h.useState(void 0),[M,E]=h.useState(void 0),[R,z]=h.useState("2"),[A,V]=h.useState([]),[H,I]=h.useState(!1),q=Ot({mutationFn:async()=>(await(await Ft("POST","/api/grok/match-experts",{tripDetails:{destination:w,dates:{start:C?.toISOString(),end:M?.toISOString()},travelers:parseInt(R)||2,experienceType:u||void 0,preferences:[]}})).json()).matches||[],onSuccess:B=>{V(B),I(!0)}}),{data:fe=[]}=Le({queryKey:["/api/experience-types"]}),{data:oe=[],isLoading:Ee}=Le({queryKey:["/api/experts",u],queryFn:async()=>{const B=u?`/api/experts?experienceTypeId=${u}`:"/api/experts",ae=await fetch(B);if(!ae.ok)throw new Error("Failed to fetch experts");return ae.json()}}),ie=[...oe.filter(B=>{const ae=`${B.firstName||""} ${B.lastName||""}`.toLowerCase(),ke=t===""||ae.includes(t.toLowerCase())||B.specializations?.some(W=>W.toLowerCase().includes(t.toLowerCase())),$=a==="All Destinations"||B.expertForm?.destinations?.includes(a),L=l==="All Languages"||B.expertForm?.languages?.includes(l);return ke&&$&&L})].sort((B,ae)=>{switch(x){case"price-low":const ke=B.selectedServices?.[0]?.offering?.price||0,$=ae.selectedServices?.[0]?.offering?.price||0;return parseFloat(ke)-parseFloat($);case"price-high":const L=B.selectedServices?.[0]?.offering?.price||0,W=ae.selectedServices?.[0]?.offering?.price||0;return parseFloat(W)-parseFloat(L);default:return ae.superExpert?1:-1}});return e.jsxs("div",{className:"min-h-screen bg-[#F9FAFB]",children:[e.jsx("section",{className:"bg-gradient-to-br from-[#111827] to-[#1F2937] text-white py-16",children:e.jsxs("div",{className:"container mx-auto px-4 max-w-6xl",children:[e.jsxs(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Find Your Perfect Travel Expert"}),e.jsx("p",{className:"text-lg text-gray-300 max-w-2xl mx-auto",children:"Connect with verified local experts who know their destinations inside out. Get personalized recommendations and insider access."})]}),e.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl p-4 shadow-xl max-w-4xl mx-auto",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(ws,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx(Ne,{placeholder:"Search by name, destination, or specialty...",value:t,onChange:B=>s(B.target.value),className:"pl-10 h-12 border-[#E5E7EB] text-[#111827]","data-testid":"input-search-experts"})]}),e.jsxs(Wt,{value:a,onValueChange:r,children:[e.jsxs(Vt,{className:"w-full md:w-48 h-12 border-[#E5E7EB]","data-testid":"select-destination",children:[e.jsx(Me,{className:"w-4 h-4 mr-2 text-gray-400"}),e.jsx(Gt,{})]}),e.jsx(Ut,{children:Voe.map(B=>e.jsx(Pe,{value:B,children:B},B))})]}),e.jsx(S,{className:"h-12 px-8 bg-[#FF385C] hover:bg-[#E23350] text-white","data-testid":"button-search-experts",children:"Search Experts"})]})})]})}),e.jsx("section",{className:"py-4 bg-gradient-to-r from-purple-50 to-indigo-50 dark:from-purple-900/10 dark:to-indigo-900/10 border-b",children:e.jsx("div",{className:"container mx-auto px-4 max-w-6xl",children:e.jsxs(vd,{open:v,onOpenChange:y,children:[e.jsx(yd,{asChild:!0,children:e.jsxs(S,{variant:"ghost",className:"w-full flex items-center justify-between p-4 h-auto","data-testid":"button-toggle-ai-match",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-br from-purple-500 to-indigo-500",children:e.jsx(eg,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"text-left",children:[e.jsxs("div",{className:"font-semibold text-[#111827] dark:text-white flex items-center gap-2",children:["AI Expert Matching",e.jsx(O,{variant:"secondary",className:"bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 text-[10px]",children:"Powered by Grok"})]}),e.jsx("p",{className:"text-xs text-[#6B7280]",children:"Let our AI find the perfect experts based on your specific trip details"})]})]}),v?e.jsx(nl,{className:"w-5 h-5 text-[#6B7280]"}):e.jsx(qs,{className:"w-5 h-5 text-[#6B7280]"})]})}),e.jsxs(jd,{children:[e.jsx(P,{className:"mt-3 border-purple-200 dark:border-purple-800",children:e.jsxs(F,{className:"p-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx(ye,{className:"text-sm font-medium",children:"Where are you going?"}),e.jsx(Ne,{placeholder:"e.g., Tokyo, Japan",value:w,onChange:B=>k(B.target.value),className:"mt-1","data-testid":"input-ai-destination"})]}),e.jsxs("div",{children:[e.jsx(ye,{className:"text-sm font-medium",children:"Start Date"}),e.jsxs(yn,{children:[e.jsx(jn,{asChild:!0,children:e.jsxs(S,{variant:"outline",className:te("w-full mt-1 justify-start text-left font-normal",!C&&"text-muted-foreground"),"data-testid":"button-ai-start-date",children:[e.jsx(Ge,{className:"mr-2 h-4 w-4"}),C?Et(C,"MMM d, yyyy"):"Select date"]})}),e.jsx(tn,{className:"w-auto p-0",children:e.jsx(Tl,{mode:"single",selected:C,onSelect:_,initialFocus:!0})})]})]}),e.jsxs("div",{children:[e.jsx(ye,{className:"text-sm font-medium",children:"End Date"}),e.jsxs(yn,{children:[e.jsx(jn,{asChild:!0,children:e.jsxs(S,{variant:"outline",className:te("w-full mt-1 justify-start text-left font-normal",!M&&"text-muted-foreground"),"data-testid":"button-ai-end-date",children:[e.jsx(Ge,{className:"mr-2 h-4 w-4"}),M?Et(M,"MMM d, yyyy"):"Select date"]})}),e.jsx(tn,{className:"w-auto p-0",children:e.jsx(Tl,{mode:"single",selected:M,onSelect:E,disabled:B=>C?B<C:!1,initialFocus:!0})})]})]}),e.jsxs("div",{children:[e.jsx(ye,{className:"text-sm font-medium",children:"Travelers"}),e.jsxs(Wt,{value:R,onValueChange:z,children:[e.jsxs(Vt,{className:"mt-1","data-testid":"select-ai-travelers",children:[e.jsx(et,{className:"w-4 h-4 mr-2"}),e.jsx(Gt,{})]}),e.jsx(Ut,{children:[1,2,3,4,5,6,7,8].map(B=>e.jsxs(Pe,{value:String(B),children:[B," ",B===1?"traveler":"travelers"]},B))})]})]})]}),e.jsx("div",{className:"flex justify-end mt-4",children:e.jsx(S,{onClick:()=>q.mutate(),disabled:!w||q.isPending,className:"bg-purple-600 text-white gap-2","data-testid":"button-find-ai-matches",children:q.isPending?e.jsxs(e.Fragment,{children:[e.jsx(ot,{className:"w-4 h-4 animate-spin"}),"Finding Matches..."]}):e.jsxs(e.Fragment,{children:[e.jsx(qe,{className:"w-4 h-4"}),"Find My Perfect Experts"]})})})]})}),q.isError&&e.jsx(P,{className:"mt-3 border-red-200 dark:border-red-800 bg-red-50 dark:bg-red-900/10",children:e.jsxs(F,{className:"p-4 flex items-center justify-between",children:[e.jsx("p",{className:"text-sm text-red-700 dark:text-red-400",children:"Unable to find expert matches. Please try again."}),e.jsx(S,{variant:"outline",size:"sm",onClick:()=>q.mutate(),className:"text-xs","data-testid":"button-retry-match",children:"Try Again"})]})}),H&&A.length>0&&e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(oi,{className:"w-4 h-4 text-purple-600"}),e.jsxs("span",{className:"font-medium text-sm",children:[A.length," AI-Matched Experts for ",w]})]}),e.jsx(S,{variant:"ghost",size:"sm",onClick:()=>I(!1),className:"text-xs",children:"Show All Experts"})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:A.map((B,ae)=>e.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:ae*.05},children:e.jsx(BM,{expert:B.expert,matchScore:B.score,matchBreakdown:B.breakdown,matchReasons:[B.reasoning],matchStrengths:B.strengths,showDetails:ae<3})},B.expert.id))})]})]})]})})}),e.jsx("section",{className:"py-8",children:e.jsxs("div",{className:"container mx-auto px-4 max-w-6xl",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-6",children:[e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs(Wt,{value:u||"all",onValueChange:B=>m(B==="all"?"":B),children:[e.jsxs(Vt,{className:"w-48 border-[#E5E7EB] bg-white","data-testid":"select-experience-type",children:[e.jsx(Ge,{className:"w-4 h-4 mr-2 text-gray-400"}),e.jsx(Gt,{placeholder:"Experience Type"})]}),e.jsxs(Ut,{children:[e.jsx(Pe,{value:"all",children:"All Experience Types"}),fe.map(B=>e.jsx(Pe,{value:B.id,children:B.name},B.id))]})]}),e.jsxs(Wt,{value:l,onValueChange:c,children:[e.jsxs(Vt,{className:"w-40 border-[#E5E7EB] bg-white","data-testid":"select-language",children:[e.jsx(No,{className:"w-4 h-4 mr-2 text-gray-400"}),e.jsx(Gt,{placeholder:"Language"})]}),e.jsx(Ut,{children:Uoe.map(B=>e.jsx(Pe,{value:B,children:B},B))})]}),e.jsxs(S,{variant:"outline",className:"border-[#E5E7EB]","data-testid":"button-more-filters",children:[e.jsx(Di,{className:"w-4 h-4 mr-2"}),"More Filters"]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"text-sm text-[#6B7280]",children:[ie.length," experts found"]}),e.jsxs(Wt,{value:x,onValueChange:f,children:[e.jsx(Vt,{className:"w-44 border-[#E5E7EB] bg-white","data-testid":"select-sort",children:e.jsx(Gt,{placeholder:"Sort by"})}),e.jsxs(Ut,{children:[e.jsx(Pe,{value:"recommended",children:"Recommended"}),e.jsx(Pe,{value:"rating",children:"Highest Rated"}),e.jsx(Pe,{value:"reviews",children:"Most Reviews"}),e.jsx(Pe,{value:"price-low",children:"Price: Low to High"}),e.jsx(Pe,{value:"price-high",children:"Price: High to Low"})]})]})]})]}),Ee?e.jsxs("div",{className:"flex items-center justify-center py-16",children:[e.jsx(ot,{className:"w-8 h-8 animate-spin text-[#FF385C]"}),e.jsx("span",{className:"ml-2 text-[#6B7280]",children:"Loading experts..."})]}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:ie.map((B,ae)=>e.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:ae*.05},children:e.jsx($oe,{expert:B,showServices:!0,experienceTypeFilter:u||void 0})},B.id))}),ie.length===0&&e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-[#F3F4F6] flex items-center justify-center",children:e.jsx(ws,{className:"w-8 h-8 text-[#9CA3AF]"})}),e.jsx("h3",{className:"text-lg font-semibold text-[#111827] mb-2",children:"No experts found"}),e.jsx("p",{className:"text-[#6B7280] mb-4",children:"Try adjusting your filters or search terms"}),e.jsx(S,{variant:"outline",onClick:()=>{s(""),r("All Destinations"),c("All Languages"),m("")},"data-testid":"button-clear-filters",children:"Clear All Filters"})]}),ie.length>0&&e.jsx("div",{className:"text-center mt-8",children:e.jsxs(S,{variant:"outline",size:"lg",className:"border-[#E5E7EB]","data-testid":"button-load-more",children:["Load More Experts",e.jsx(qs,{className:"w-4 h-4 ml-2"})]})})]})}),e.jsx("section",{className:"py-16 bg-white border-t border-[#E5E7EB]",children:e.jsxs("div",{className:"container mx-auto px-4 max-w-4xl text-center",children:[e.jsx("h2",{className:"text-3xl font-bold text-[#111827] mb-4",children:"Are You a Local Expert?"}),e.jsx("p",{className:"text-lg text-[#6B7280] mb-8 max-w-2xl mx-auto",children:"Share your knowledge, earn money, and help travelers discover the best of your destination. Join our growing community of travel experts."}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[e.jsx(Ce,{href:"/become-expert",children:e.jsx(S,{size:"lg",className:"bg-[#FF385C] hover:bg-[#E23350] text-white px-8","data-testid":"button-become-expert",children:"Become an Expert"})}),e.jsx(Ce,{href:"/partner-with-us",children:e.jsx(S,{size:"lg",variant:"outline",className:"border-[#E5E7EB] px-8","data-testid":"button-learn-more",children:"Learn More"})})]})]})})]})}const Hoe={"photography-videography":Rs,"transportation-logistics":zs,"food-culinary":i0,"childcare-family":uc,"tours-experiences":dr,"personal-assistance":Ta,"taskrabbit-services":Js,"health-wellness":Qt,"beauty-styling":qe,"pets-animals":sw,"events-celebrations":ya,"technology-connectivity":a0,"language-translation":No,"specialty-services":jr,"custom-other":xi};function Woe({service:t}){const s=parseFloat(t.rating)||0,a=parseFloat(t.basePrice)||0;return e.jsx(Ce,{href:`/services/${t.id}`,"data-testid":`link-service-${t.id}`,children:e.jsx(P,{className:"hover-elevate cursor-pointer h-full",children:e.jsxs(F,{className:"p-4",children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsxs(Ls,{className:"w-16 h-16 rounded-md",children:[e.jsx(Br,{src:""}),e.jsx(Os,{className:"rounded-md bg-muted",children:t.name.slice(0,2).toUpperCase()})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold text-foreground truncate","data-testid":`text-service-name-${t.id}`,children:t.name}),e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mt-1",children:t.description}),e.jsxs("div",{className:"flex items-center gap-3 mt-2 text-sm text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Me,{className:"w-3 h-3"}),e.jsx("span",{children:t.location||"Remote"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Je,{className:"w-3 h-3"}),e.jsxs("span",{children:[t.duration," min"]})]})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between mt-4 pt-3 border-t",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(rt,{className:"w-4 h-4 text-amber-500 fill-amber-500"}),e.jsx("span",{className:"font-medium",children:s.toFixed(1)}),e.jsxs("span",{className:"text-muted-foreground text-sm",children:["(",t.totalReviews||0,")"]})]}),e.jsxs("div",{className:"flex items-center gap-1 font-semibold",children:[e.jsx(bt,{className:"w-4 h-4"}),e.jsxs("span",{children:["$",a]})]})]})]})})})}function Goe({category:t,isSelected:s,onClick:a}){const r=Hoe[t.slug]||xi;return e.jsxs("button",{onClick:a,className:`flex items-center gap-3 p-3 rounded-md transition-colors text-left w-full ${s?"bg-primary/10 border border-primary":"hover-elevate border border-transparent"}`,"data-testid":`button-category-${t.slug}`,children:[e.jsx("div",{className:`w-10 h-10 rounded-md flex items-center justify-center ${s?"bg-primary text-primary-foreground":"bg-muted"}`,children:e.jsx(r,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:`font-medium truncate ${s?"text-primary":""}`,children:t.name}),t.priceRange&&t.priceRange.min>0&&e.jsxs("p",{className:"text-xs text-muted-foreground",children:["$",t.priceRange.min," - $",t.priceRange.max]})]}),e.jsx($s,{className:"w-4 h-4 text-muted-foreground flex-shrink-0"})]})}function Koe(){const[t,s]=h.useState(null),[a,r]=h.useState(""),[n,i]=h.useState(""),[l,c]=h.useState("rating"),{data:u,isLoading:m}=Le({queryKey:["/api/service-categories"]}),{data:x,isLoading:f}=Le({queryKey:["/api/services",t,n]}),b=[...x?.filter(y=>{if(a){const w=a.toLowerCase();if(!y.name.toLowerCase().includes(w)&&!y.description?.toLowerCase().includes(w))return!1}if(t&&y.categoryId!==t)return!1;if(n){const w=n.toLowerCase();if(!y.location?.toLowerCase().includes(w))return!1}return!0})||[]].sort((y,w)=>{switch(l){case"rating":return parseFloat(w.rating)-parseFloat(y.rating);case"price_low":return parseFloat(y.basePrice)-parseFloat(w.basePrice);case"price_high":return parseFloat(w.basePrice)-parseFloat(y.basePrice);case"reviews":return(w.totalReviews||0)-(y.totalReviews||0);default:return 0}}),v=u?.find(y=>y.id===t);return e.jsx(Yt,{children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground","data-testid":"text-page-title",children:"Browse Service Providers"}),e.jsx("p",{className:"text-muted-foreground mt-2",children:"Find trusted local professionals for your travel needs"})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[e.jsx("aside",{className:"lg:w-72 flex-shrink-0",children:e.jsxs(P,{children:[e.jsx(Q,{className:"pb-3",children:e.jsxs(X,{className:"text-lg flex items-center gap-2",children:[e.jsx(Di,{className:"w-4 h-4"}),"Categories"]})}),e.jsxs(F,{className:"space-y-1",children:[e.jsxs("button",{onClick:()=>s(null),className:`flex items-center gap-3 p-3 rounded-md transition-colors text-left w-full ${t?"hover-elevate border border-transparent":"bg-primary/10 border border-primary"}`,"data-testid":"button-category-all",children:[e.jsx("div",{className:`w-10 h-10 rounded-md flex items-center justify-center ${t?"bg-muted":"bg-primary text-primary-foreground"}`,children:e.jsx(dr,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:`font-medium ${t?"":"text-primary"}`,children:"All Categories"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[x?.length||0," services"]})]})]}),m?e.jsx("div",{className:"space-y-2",children:[1,2,3,4,5].map(y=>e.jsx(_e,{className:"h-16 w-full"},y))}):u?.map(y=>e.jsx(Goe,{category:y,isSelected:t===y.id,onClick:()=>s(t===y.id?null:y.id)},y.id))]})]})}),e.jsxs("main",{className:"flex-1",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(ws,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.jsx(Ne,{placeholder:"Search services...",value:a,onChange:y=>r(y.target.value),className:"pl-10","data-testid":"input-search"})]}),e.jsxs("div",{className:"relative sm:w-48",children:[e.jsx(Me,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.jsx(Ne,{placeholder:"Location",value:n,onChange:y=>i(y.target.value),className:"pl-10","data-testid":"input-location"})]}),e.jsxs(Wt,{value:l,onValueChange:c,children:[e.jsx(Vt,{className:"sm:w-44","data-testid":"select-sort",children:e.jsx(Gt,{placeholder:"Sort by"})}),e.jsxs(Ut,{children:[e.jsx(Pe,{value:"rating",children:"Top Rated"}),e.jsx(Pe,{value:"reviews",children:"Most Reviews"}),e.jsx(Pe,{value:"price_low",children:"Price: Low to High"}),e.jsx(Pe,{value:"price_high",children:"Price: High to Low"})]})]})]}),v&&e.jsxs("div",{className:"mb-6 p-4 bg-muted/50 rounded-md",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(O,{variant:"secondary",children:v.name}),e.jsx(S,{variant:"ghost",size:"sm",onClick:()=>s(null),"data-testid":"button-clear-category",children:"Clear filter"})]}),v.description&&e.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:v.description})]}),f?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[1,2,3,4,5,6].map(y=>e.jsx(P,{children:e.jsx(F,{className:"p-4",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx(_e,{className:"w-16 h-16 rounded-md"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx(_e,{className:"h-5 w-3/4"}),e.jsx(_e,{className:"h-4 w-full"}),e.jsx(_e,{className:"h-4 w-1/2"})]})]})})},y))}):b&&b.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:b.map(y=>e.jsx(Woe,{service:y},y.id))}):e.jsx(P,{children:e.jsxs(F,{className:"py-12 text-center",children:[e.jsx(dr,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),e.jsx("h3",{className:"font-semibold text-lg mb-2",children:"No services found"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:t?"No services available in this category yet.":"Be the first to offer a service in this marketplace."}),e.jsx(Ce,{href:"/become-provider",children:e.jsx(S,{"data-testid":"button-become-provider",children:"Become a Provider"})})]})}),b&&b.length>0&&e.jsxs("div",{className:"mt-6 text-center text-sm text-muted-foreground",children:["Showing ",b.length," service",b.length!==1?"s":"",t&&v&&e.jsxs("span",{children:[" in ",v.name]})]})]})]})]})})}var zM=["PageUp","PageDown"],VM=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],UM={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Nm="Slider",[SN,Yoe,Qoe]=lm(Nm),[qM]=kr(Nm,[Qoe]),[Xoe,nv]=qM(Nm),HM=h.forwardRef((t,s)=>{const{name:a,min:r=0,max:n=100,step:i=1,orientation:l="horizontal",disabled:c=!1,minStepsBetweenThumbs:u=0,defaultValue:m=[r],value:x,onValueChange:f=()=>{},onValueCommit:g=()=>{},inverted:b=!1,form:v,...y}=t,w=h.useRef(new Set),k=h.useRef(0),_=l==="horizontal"?Zoe:Joe,[M=[],E]=ln({prop:x,defaultProp:m,onChange:I=>{[...w.current][k.current]?.focus(),f(I)}}),R=h.useRef(M);function z(I){const q=rce(M,I);H(I,q)}function A(I){H(I,k.current)}function V(){const I=R.current[k.current];M[k.current]!==I&&g(M)}function H(I,q,{commit:fe}={commit:!1}){const oe=oce(i),Ee=cce(Math.round((I-r)/i)*i+r,oe),me=Wh(Ee,[r,n]);E((ie=[])=>{const B=sce(ie,me,q);if(lce(B,u*i)){k.current=B.indexOf(me);const ae=String(B)!==String(ie);return ae&&fe&&g(B),ae?B:ie}else return ie})}return e.jsx(Xoe,{scope:t.__scopeSlider,name:a,disabled:c,min:r,max:n,valueIndexToChangeRef:k,thumbs:w.current,values:M,orientation:l,form:v,children:e.jsx(SN.Provider,{scope:t.__scopeSlider,children:e.jsx(SN.Slot,{scope:t.__scopeSlider,children:e.jsx(_,{"aria-disabled":c,"data-disabled":c?"":void 0,...y,ref:s,onPointerDown:Ye(y.onPointerDown,()=>{c||(R.current=M)}),min:r,max:n,inverted:b,onSlideStart:c?void 0:z,onSlideMove:c?void 0:A,onSlideEnd:c?void 0:V,onHomeKeyDown:()=>!c&&H(r,0,{commit:!0}),onEndKeyDown:()=>!c&&H(n,M.length-1,{commit:!0}),onStepKeyDown:({event:I,direction:q})=>{if(!c){const Ee=zM.includes(I.key)||I.shiftKey&&VM.includes(I.key)?10:1,me=k.current,ie=M[me],B=i*Ee*q;H(ie+B,me,{commit:!0})}}})})})})});HM.displayName=Nm;var[WM,GM]=qM(Nm,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Zoe=h.forwardRef((t,s)=>{const{min:a,max:r,dir:n,inverted:i,onSlideStart:l,onSlideMove:c,onSlideEnd:u,onStepKeyDown:m,...x}=t,[f,g]=h.useState(null),b=zt(s,_=>g(_)),v=h.useRef(void 0),y=xc(n),w=y==="ltr",k=w&&!i||!w&&i;function C(_){const M=v.current||f.getBoundingClientRect(),E=[0,M.width],z=b2(E,k?[a,r]:[r,a]);return v.current=M,z(_-M.left)}return e.jsx(WM,{scope:t.__scopeSlider,startEdge:k?"left":"right",endEdge:k?"right":"left",direction:k?1:-1,size:"width",children:e.jsx(KM,{dir:y,"data-orientation":"horizontal",...x,ref:b,style:{...x.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:_=>{const M=C(_.clientX);l?.(M)},onSlideMove:_=>{const M=C(_.clientX);c?.(M)},onSlideEnd:()=>{v.current=void 0,u?.()},onStepKeyDown:_=>{const E=UM[k?"from-left":"from-right"].includes(_.key);m?.({event:_,direction:E?-1:1})}})})}),Joe=h.forwardRef((t,s)=>{const{min:a,max:r,inverted:n,onSlideStart:i,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...m}=t,x=h.useRef(null),f=zt(s,x),g=h.useRef(void 0),b=!n;function v(y){const w=g.current||x.current.getBoundingClientRect(),k=[0,w.height],_=b2(k,b?[r,a]:[a,r]);return g.current=w,_(y-w.top)}return e.jsx(WM,{scope:t.__scopeSlider,startEdge:b?"bottom":"top",endEdge:b?"top":"bottom",size:"height",direction:b?1:-1,children:e.jsx(KM,{"data-orientation":"vertical",...m,ref:f,style:{...m.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:y=>{const w=v(y.clientY);i?.(w)},onSlideMove:y=>{const w=v(y.clientY);l?.(w)},onSlideEnd:()=>{g.current=void 0,c?.()},onStepKeyDown:y=>{const k=UM[b?"from-bottom":"from-top"].includes(y.key);u?.({event:y,direction:k?-1:1})}})})}),KM=h.forwardRef((t,s)=>{const{__scopeSlider:a,onSlideStart:r,onSlideMove:n,onSlideEnd:i,onHomeKeyDown:l,onEndKeyDown:c,onStepKeyDown:u,...m}=t,x=nv(Nm,a);return e.jsx(lt.span,{...m,ref:s,onKeyDown:Ye(t.onKeyDown,f=>{f.key==="Home"?(l(f),f.preventDefault()):f.key==="End"?(c(f),f.preventDefault()):zM.concat(VM).includes(f.key)&&(u(f),f.preventDefault())}),onPointerDown:Ye(t.onPointerDown,f=>{const g=f.target;g.setPointerCapture(f.pointerId),f.preventDefault(),x.thumbs.has(g)?g.focus():r(f)}),onPointerMove:Ye(t.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&n(f)}),onPointerUp:Ye(t.onPointerUp,f=>{const g=f.target;g.hasPointerCapture(f.pointerId)&&(g.releasePointerCapture(f.pointerId),i(f))})})}),YM="SliderTrack",QM=h.forwardRef((t,s)=>{const{__scopeSlider:a,...r}=t,n=nv(YM,a);return e.jsx(lt.span,{"data-disabled":n.disabled?"":void 0,"data-orientation":n.orientation,...r,ref:s})});QM.displayName=YM;var TN="SliderRange",XM=h.forwardRef((t,s)=>{const{__scopeSlider:a,...r}=t,n=nv(TN,a),i=GM(TN,a),l=h.useRef(null),c=zt(s,l),u=n.values.length,m=n.values.map(g=>eI(g,n.min,n.max)),x=u>1?Math.min(...m):0,f=100-Math.max(...m);return e.jsx(lt.span,{"data-orientation":n.orientation,"data-disabled":n.disabled?"":void 0,...r,ref:c,style:{...t.style,[i.startEdge]:x+"%",[i.endEdge]:f+"%"}})});XM.displayName=TN;var _N="SliderThumb",ZM=h.forwardRef((t,s)=>{const a=Yoe(t.__scopeSlider),[r,n]=h.useState(null),i=zt(s,c=>n(c)),l=h.useMemo(()=>r?a().findIndex(c=>c.ref.current===r):-1,[a,r]);return e.jsx(ece,{...t,ref:i,index:l})}),ece=h.forwardRef((t,s)=>{const{__scopeSlider:a,index:r,name:n,...i}=t,l=nv(_N,a),c=GM(_N,a),[u,m]=h.useState(null),x=zt(s,C=>m(C)),f=u?l.form||!!u.closest("form"):!0,g=wx(u),b=l.values[r],v=b===void 0?0:eI(b,l.min,l.max),y=ace(r,l.values.length),w=g?.[c.size],k=w?nce(w,v,c.direction):0;return h.useEffect(()=>{if(u)return l.thumbs.add(u),()=>{l.thumbs.delete(u)}},[u,l.thumbs]),e.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[c.startEdge]:`calc(${v}% + ${k}px)`},children:[e.jsx(SN.ItemSlot,{scope:t.__scopeSlider,children:e.jsx(lt.span,{role:"slider","aria-label":t["aria-label"]||y,"aria-valuemin":l.min,"aria-valuenow":b,"aria-valuemax":l.max,"aria-orientation":l.orientation,"data-orientation":l.orientation,"data-disabled":l.disabled?"":void 0,tabIndex:l.disabled?void 0:0,...i,ref:x,style:b===void 0?{display:"none"}:t.style,onFocus:Ye(t.onFocus,()=>{l.valueIndexToChangeRef.current=r})})}),f&&e.jsx(JM,{name:n??(l.name?l.name+(l.values.length>1?"[]":""):void 0),form:l.form,value:b},r)]})});ZM.displayName=_N;var tce="RadioBubbleInput",JM=h.forwardRef(({__scopeSlider:t,value:s,...a},r)=>{const n=h.useRef(null),i=zt(n,r),l=Ux(s);return h.useEffect(()=>{const c=n.current;if(!c)return;const u=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(u,"value").set;if(l!==s&&x){const f=new Event("input",{bubbles:!0});x.call(c,s),c.dispatchEvent(f)}},[l,s]),e.jsx(lt.input,{style:{display:"none"},...a,ref:i,defaultValue:s})});JM.displayName=tce;function sce(t=[],s,a){const r=[...t];return r[a]=s,r.sort((n,i)=>n-i)}function eI(t,s,a){const i=100/(a-s)*(t-s);return Wh(i,[0,100])}function ace(t,s){return s>2?`Value ${t+1} of ${s}`:s===2?["Minimum","Maximum"][t]:void 0}function rce(t,s){if(t.length===1)return 0;const a=t.map(n=>Math.abs(n-s)),r=Math.min(...a);return a.indexOf(r)}function nce(t,s,a){const r=t/2,i=b2([0,50],[0,r]);return(r-i(s)*a)*a}function ice(t){return t.slice(0,-1).map((s,a)=>t[a+1]-s)}function lce(t,s){if(s>0){const a=ice(t);return Math.min(...a)>=s}return!0}function b2(t,s){return a=>{if(t[0]===t[1]||s[0]===s[1])return s[0];const r=(s[1]-s[0])/(t[1]-t[0]);return s[0]+r*(a-t[0])}}function oce(t){return(String(t).split(".")[1]||"").length}function cce(t,s){const a=Math.pow(10,s);return Math.round(t*a)/a}var tI=HM,dce=QM,uce=XM,mce=ZM;const co=h.forwardRef(({className:t,...s},a)=>e.jsxs(tI,{ref:a,className:te("relative flex w-full touch-none select-none items-center",t),...s,children:[e.jsx(dce,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:e.jsx(uce,{className:"absolute h-full bg-primary"})}),e.jsx(mce,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));co.displayName=tI.displayName;const{entries:sI,setPrototypeOf:C3,isFrozen:hce,getPrototypeOf:xce,getOwnPropertyDescriptor:pce}=Object;let{freeze:Tn,seal:Fi,create:EN}=Object,{apply:PN,construct:AN}=typeof Reflect<"u"&&Reflect;Tn||(Tn=function(s){return s});Fi||(Fi=function(s){return s});PN||(PN=function(s,a){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];return s.apply(a,n)});AN||(AN=function(s){for(var a=arguments.length,r=new Array(a>1?a-1:0),n=1;n<a;n++)r[n-1]=arguments[n];return new s(...r)});const jf=_n(Array.prototype.forEach),fce=_n(Array.prototype.lastIndexOf),S3=_n(Array.prototype.pop),uh=_n(Array.prototype.push),gce=_n(Array.prototype.splice),Wf=_n(String.prototype.toLowerCase),Gj=_n(String.prototype.toString),Kj=_n(String.prototype.match),mh=_n(String.prototype.replace),vce=_n(String.prototype.indexOf),yce=_n(String.prototype.trim),Ki=_n(Object.prototype.hasOwnProperty),pn=_n(RegExp.prototype.test),hh=jce(TypeError);function _n(t){return function(s){s instanceof RegExp&&(s.lastIndex=0);for(var a=arguments.length,r=new Array(a>1?a-1:0),n=1;n<a;n++)r[n-1]=arguments[n];return PN(t,s,r)}}function jce(t){return function(){for(var s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];return AN(t,a)}}function bs(t,s){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Wf;C3&&C3(t,null);let r=s.length;for(;r--;){let n=s[r];if(typeof n=="string"){const i=a(n);i!==n&&(hce(s)||(s[r]=i),n=i)}t[n]=!0}return t}function bce(t){for(let s=0;s<t.length;s++)Ki(t,s)||(t[s]=null);return t}function kl(t){const s=EN(null);for(const[a,r]of sI(t))Ki(t,a)&&(Array.isArray(r)?s[a]=bce(r):r&&typeof r=="object"&&r.constructor===Object?s[a]=kl(r):s[a]=r);return s}function xh(t,s){for(;t!==null;){const r=pce(t,s);if(r){if(r.get)return _n(r.get);if(typeof r.value=="function")return _n(r.value)}t=xce(t)}function a(){return null}return a}const T3=Tn(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Yj=Tn(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Qj=Tn(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Nce=Tn(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Xj=Tn(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),wce=Tn(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),_3=Tn(["#text"]),E3=Tn(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Zj=Tn(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),P3=Tn(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),bf=Tn(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),kce=Fi(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Cce=Fi(/<%[\w\W]*|[\w\W]*%>/gm),Sce=Fi(/\$\{[\w\W]*/gm),Tce=Fi(/^data-[\-\w.\u00B7-\uFFFF]+$/),_ce=Fi(/^aria-[\-\w]+$/),aI=Fi(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Ece=Fi(/^(?:\w+script|data):/i),Pce=Fi(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),rI=Fi(/^html$/i),Ace=Fi(/^[a-z][.\w]*(-[.\w]+)+$/i);var A3=Object.freeze({__proto__:null,ARIA_ATTR:_ce,ATTR_WHITESPACE:Pce,CUSTOM_ELEMENT:Ace,DATA_ATTR:Tce,DOCTYPE_NAME:rI,ERB_EXPR:Cce,IS_ALLOWED_URI:aI,IS_SCRIPT_OR_DATA:Ece,MUSTACHE_EXPR:kce,TMPLIT_EXPR:Sce});const ph={element:1,text:3,progressingInstruction:7,comment:8,document:9},Dce=function(){return typeof window>"u"?null:window},Fce=function(s,a){if(typeof s!="object"||typeof s.createPolicy!="function")return null;let r=null;const n="data-tt-policy-suffix";a&&a.hasAttribute(n)&&(r=a.getAttribute(n));const i="dompurify"+(r?"#"+r:"");try{return s.createPolicy(i,{createHTML(l){return l},createScriptURL(l){return l}})}catch{return console.warn("TrustedTypes policy "+i+" could not be created."),null}},D3=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function nI(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Dce();const s=Dt=>nI(Dt);if(s.version="3.3.1",s.removed=[],!t||!t.document||t.document.nodeType!==ph.document||!t.Element)return s.isSupported=!1,s;let{document:a}=t;const r=a,n=r.currentScript,{DocumentFragment:i,HTMLTemplateElement:l,Node:c,Element:u,NodeFilter:m,NamedNodeMap:x=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:f,DOMParser:g,trustedTypes:b}=t,v=u.prototype,y=xh(v,"cloneNode"),w=xh(v,"remove"),k=xh(v,"nextSibling"),C=xh(v,"childNodes"),_=xh(v,"parentNode");if(typeof l=="function"){const Dt=a.createElement("template");Dt.content&&Dt.content.ownerDocument&&(a=Dt.content.ownerDocument)}let M,E="";const{implementation:R,createNodeIterator:z,createDocumentFragment:A,getElementsByTagName:V}=a,{importNode:H}=r;let I=D3();s.isSupported=typeof sI=="function"&&typeof _=="function"&&R&&R.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:q,ERB_EXPR:fe,TMPLIT_EXPR:oe,DATA_ATTR:Ee,ARIA_ATTR:me,IS_SCRIPT_OR_DATA:ie,ATTR_WHITESPACE:B,CUSTOM_ELEMENT:ae}=A3;let{IS_ALLOWED_URI:ke}=A3,$=null;const L=bs({},[...T3,...Yj,...Qj,...Xj,..._3]);let W=null;const re=bs({},[...E3,...Zj,...P3,...bf]);let se=Object.seal(EN(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ge=null,K=null;const J=Object.seal(EN(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let je=!0,ze=!0,ft=!1,Nt=!0,ht=!1,Lt=!0,gs=!1,ks=!1,Ys=!1,cs=!1,ce=!1,at=!1,Z=!0,xe=!1;const Ae="user-content-";let Qe=!0,Ue=!1,Ve={},ut=null;const $t=bs({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let ss=null;const Ds=bs({},["audio","video","img","source","image","track"]);let Hs=null;const sa=bs({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),pr="http://www.w3.org/1998/Math/MathML",ar="http://www.w3.org/2000/svg",wa="http://www.w3.org/1999/xhtml";let Re=wa,Ct=!1,ls=null;const aa=bs({},[pr,ar,wa],Gj);let Zs=bs({},["mi","mo","mn","ms","mtext"]),Ga=bs({},["annotation-xml"]);const Cr=bs({},["title","style","font","a","script"]);let rr=null;const Hr=["application/xhtml+xml","text/html"],gi="text/html";let vs=null,Ka=null;const dn=a.createElement("form"),Fr=function(le){return le instanceof RegExp||le instanceof Function},Pn=function(){let le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Ka&&Ka===le)){if((!le||typeof le!="object")&&(le={}),le=kl(le),rr=Hr.indexOf(le.PARSER_MEDIA_TYPE)===-1?gi:le.PARSER_MEDIA_TYPE,vs=rr==="application/xhtml+xml"?Gj:Wf,$=Ki(le,"ALLOWED_TAGS")?bs({},le.ALLOWED_TAGS,vs):L,W=Ki(le,"ALLOWED_ATTR")?bs({},le.ALLOWED_ATTR,vs):re,ls=Ki(le,"ALLOWED_NAMESPACES")?bs({},le.ALLOWED_NAMESPACES,Gj):aa,Hs=Ki(le,"ADD_URI_SAFE_ATTR")?bs(kl(sa),le.ADD_URI_SAFE_ATTR,vs):sa,ss=Ki(le,"ADD_DATA_URI_TAGS")?bs(kl(Ds),le.ADD_DATA_URI_TAGS,vs):Ds,ut=Ki(le,"FORBID_CONTENTS")?bs({},le.FORBID_CONTENTS,vs):$t,ge=Ki(le,"FORBID_TAGS")?bs({},le.FORBID_TAGS,vs):kl({}),K=Ki(le,"FORBID_ATTR")?bs({},le.FORBID_ATTR,vs):kl({}),Ve=Ki(le,"USE_PROFILES")?le.USE_PROFILES:!1,je=le.ALLOW_ARIA_ATTR!==!1,ze=le.ALLOW_DATA_ATTR!==!1,ft=le.ALLOW_UNKNOWN_PROTOCOLS||!1,Nt=le.ALLOW_SELF_CLOSE_IN_ATTR!==!1,ht=le.SAFE_FOR_TEMPLATES||!1,Lt=le.SAFE_FOR_XML!==!1,gs=le.WHOLE_DOCUMENT||!1,cs=le.RETURN_DOM||!1,ce=le.RETURN_DOM_FRAGMENT||!1,at=le.RETURN_TRUSTED_TYPE||!1,Ys=le.FORCE_BODY||!1,Z=le.SANITIZE_DOM!==!1,xe=le.SANITIZE_NAMED_PROPS||!1,Qe=le.KEEP_CONTENT!==!1,Ue=le.IN_PLACE||!1,ke=le.ALLOWED_URI_REGEXP||aI,Re=le.NAMESPACE||wa,Zs=le.MATHML_TEXT_INTEGRATION_POINTS||Zs,Ga=le.HTML_INTEGRATION_POINTS||Ga,se=le.CUSTOM_ELEMENT_HANDLING||{},le.CUSTOM_ELEMENT_HANDLING&&Fr(le.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(se.tagNameCheck=le.CUSTOM_ELEMENT_HANDLING.tagNameCheck),le.CUSTOM_ELEMENT_HANDLING&&Fr(le.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(se.attributeNameCheck=le.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),le.CUSTOM_ELEMENT_HANDLING&&typeof le.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(se.allowCustomizedBuiltInElements=le.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ht&&(ze=!1),ce&&(cs=!0),Ve&&($=bs({},_3),W=[],Ve.html===!0&&(bs($,T3),bs(W,E3)),Ve.svg===!0&&(bs($,Yj),bs(W,Zj),bs(W,bf)),Ve.svgFilters===!0&&(bs($,Qj),bs(W,Zj),bs(W,bf)),Ve.mathMl===!0&&(bs($,Xj),bs(W,P3),bs(W,bf))),le.ADD_TAGS&&(typeof le.ADD_TAGS=="function"?J.tagCheck=le.ADD_TAGS:($===L&&($=kl($)),bs($,le.ADD_TAGS,vs))),le.ADD_ATTR&&(typeof le.ADD_ATTR=="function"?J.attributeCheck=le.ADD_ATTR:(W===re&&(W=kl(W)),bs(W,le.ADD_ATTR,vs))),le.ADD_URI_SAFE_ATTR&&bs(Hs,le.ADD_URI_SAFE_ATTR,vs),le.FORBID_CONTENTS&&(ut===$t&&(ut=kl(ut)),bs(ut,le.FORBID_CONTENTS,vs)),le.ADD_FORBID_CONTENTS&&(ut===$t&&(ut=kl(ut)),bs(ut,le.ADD_FORBID_CONTENTS,vs)),Qe&&($["#text"]=!0),gs&&bs($,["html","head","body"]),$.table&&(bs($,["tbody"]),delete ge.tbody),le.TRUSTED_TYPES_POLICY){if(typeof le.TRUSTED_TYPES_POLICY.createHTML!="function")throw hh('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof le.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw hh('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');M=le.TRUSTED_TYPES_POLICY,E=M.createHTML("")}else M===void 0&&(M=Fce(b,n)),M!==null&&typeof E=="string"&&(E=M.createHTML(""));Tn&&Tn(le),Ka=le}},xl=bs({},[...Yj,...Qj,...Nce]),Kn=bs({},[...Xj,...wce]),Ri=function(le){let Xe=_(le);(!Xe||!Xe.tagName)&&(Xe={namespaceURI:Re,tagName:"template"});const gt=Wf(le.tagName),Qs=Wf(Xe.tagName);return ls[le.namespaceURI]?le.namespaceURI===ar?Xe.namespaceURI===wa?gt==="svg":Xe.namespaceURI===pr?gt==="svg"&&(Qs==="annotation-xml"||Zs[Qs]):!!xl[gt]:le.namespaceURI===pr?Xe.namespaceURI===wa?gt==="math":Xe.namespaceURI===ar?gt==="math"&&Ga[Qs]:!!Kn[gt]:le.namespaceURI===wa?Xe.namespaceURI===ar&&!Ga[Qs]||Xe.namespaceURI===pr&&!Zs[Qs]?!1:!Kn[gt]&&(Cr[gt]||!xl[gt]):!!(rr==="application/xhtml+xml"&&ls[le.namespaceURI]):!1},fr=function(le){uh(s.removed,{element:le});try{_(le).removeChild(le)}catch{w(le)}},Wr=function(le,Xe){try{uh(s.removed,{attribute:Xe.getAttributeNode(le),from:Xe})}catch{uh(s.removed,{attribute:null,from:Xe})}if(Xe.removeAttribute(le),le==="is")if(cs||ce)try{fr(Xe)}catch{}else try{Xe.setAttribute(le,"")}catch{}},Li=function(le){let Xe=null,gt=null;if(Ys)le="<remove></remove>"+le;else{const ma=Kj(le,/^[\r\n\t ]+/);gt=ma&&ma[0]}rr==="application/xhtml+xml"&&Re===wa&&(le='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+le+"</body></html>");const Qs=M?M.createHTML(le):le;if(Re===wa)try{Xe=new g().parseFromString(Qs,rr)}catch{}if(!Xe||!Xe.documentElement){Xe=R.createDocument(Re,"template",null);try{Xe.documentElement.innerHTML=Ct?E:Qs}catch{}}const hs=Xe.body||Xe.documentElement;return le&&gt&&hs.insertBefore(a.createTextNode(gt),hs.childNodes[0]||null),Re===wa?V.call(Xe,gs?"html":"body")[0]:gs?Xe.documentElement:hs},yc=function(le){return z.call(le.ownerDocument||le,le,m.SHOW_ELEMENT|m.SHOW_COMMENT|m.SHOW_TEXT|m.SHOW_PROCESSING_INSTRUCTION|m.SHOW_CDATA_SECTION,null)},Dd=function(le){return le instanceof f&&(typeof le.nodeName!="string"||typeof le.textContent!="string"||typeof le.removeChild!="function"||!(le.attributes instanceof x)||typeof le.removeAttribute!="function"||typeof le.setAttribute!="function"||typeof le.namespaceURI!="string"||typeof le.insertBefore!="function"||typeof le.hasChildNodes!="function")},jc=function(le){return typeof c=="function"&&le instanceof c};function An(Dt,le,Xe){jf(Dt,gt=>{gt.call(s,le,Xe,Ka)})}const vi=function(le){let Xe=null;if(An(I.beforeSanitizeElements,le,null),Dd(le))return fr(le),!0;const gt=vs(le.nodeName);if(An(I.uponSanitizeElement,le,{tagName:gt,allowedTags:$}),Lt&&le.hasChildNodes()&&!jc(le.firstElementChild)&&pn(/<[/\w!]/g,le.innerHTML)&&pn(/<[/\w!]/g,le.textContent)||le.nodeType===ph.progressingInstruction||Lt&&le.nodeType===ph.comment&&pn(/<[/\w]/g,le.data))return fr(le),!0;if(!(J.tagCheck instanceof Function&&J.tagCheck(gt))&&(!$[gt]||ge[gt])){if(!ge[gt]&&ko(gt)&&(se.tagNameCheck instanceof RegExp&&pn(se.tagNameCheck,gt)||se.tagNameCheck instanceof Function&&se.tagNameCheck(gt)))return!1;if(Qe&&!ut[gt]){const Qs=_(le)||le.parentNode,hs=C(le)||le.childNodes;if(hs&&Qs){const ma=hs.length;for(let ra=ma-1;ra>=0;--ra){const un=y(hs[ra],!0);un.__removalCount=(le.__removalCount||0)+1,Qs.insertBefore(un,k(le))}}}return fr(le),!0}return le instanceof u&&!Ri(le)||(gt==="noscript"||gt==="noembed"||gt==="noframes")&&pn(/<\/no(script|embed|frames)/i,le.innerHTML)?(fr(le),!0):(ht&&le.nodeType===ph.text&&(Xe=le.textContent,jf([q,fe,oe],Qs=>{Xe=mh(Xe,Qs," ")}),le.textContent!==Xe&&(uh(s.removed,{element:le.cloneNode()}),le.textContent=Xe)),An(I.afterSanitizeElements,le,null),!1)},wo=function(le,Xe,gt){if(Z&&(Xe==="id"||Xe==="name")&&(gt in a||gt in dn))return!1;if(!(ze&&!K[Xe]&&pn(Ee,Xe))){if(!(je&&pn(me,Xe))){if(!(J.attributeCheck instanceof Function&&J.attributeCheck(Xe,le))){if(!W[Xe]||K[Xe]){if(!(ko(le)&&(se.tagNameCheck instanceof RegExp&&pn(se.tagNameCheck,le)||se.tagNameCheck instanceof Function&&se.tagNameCheck(le))&&(se.attributeNameCheck instanceof RegExp&&pn(se.attributeNameCheck,Xe)||se.attributeNameCheck instanceof Function&&se.attributeNameCheck(Xe,le))||Xe==="is"&&se.allowCustomizedBuiltInElements&&(se.tagNameCheck instanceof RegExp&&pn(se.tagNameCheck,gt)||se.tagNameCheck instanceof Function&&se.tagNameCheck(gt))))return!1}else if(!Hs[Xe]){if(!pn(ke,mh(gt,B,""))){if(!((Xe==="src"||Xe==="xlink:href"||Xe==="href")&&le!=="script"&&vce(gt,"data:")===0&&ss[le])){if(!(ft&&!pn(ie,mh(gt,B,"")))){if(gt)return!1}}}}}}}return!0},ko=function(le){return le!=="annotation-xml"&&Kj(le,ae)},Fd=function(le){An(I.beforeSanitizeAttributes,le,null);const{attributes:Xe}=le;if(!Xe||Dd(le))return;const gt={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:W,forceKeepAttr:void 0};let Qs=Xe.length;for(;Qs--;){const hs=Xe[Qs],{name:ma,namespaceURI:ra,value:un}=hs,Dn=vs(ma),Vl=un;let _a=ma==="value"?Vl:yce(Vl);if(gt.attrName=Dn,gt.attrValue=_a,gt.keepAttr=!0,gt.forceKeepAttr=void 0,An(I.uponSanitizeAttribute,le,gt),_a=gt.attrValue,xe&&(Dn==="id"||Dn==="name")&&(Wr(ma,le),_a=Ae+_a),Lt&&pn(/((--!?|])>)|<\/(style|title|textarea)/i,_a)){Wr(ma,le);continue}if(Dn==="attributename"&&Kj(_a,"href")){Wr(ma,le);continue}if(gt.forceKeepAttr)continue;if(!gt.keepAttr){Wr(ma,le);continue}if(!Nt&&pn(/\/>/i,_a)){Wr(ma,le);continue}ht&&jf([q,fe,oe],mn=>{_a=mh(_a,mn," ")});const Ul=vs(le.nodeName);if(!wo(Ul,Dn,_a)){Wr(ma,le);continue}if(M&&typeof b=="object"&&typeof b.getAttributeType=="function"&&!ra)switch(b.getAttributeType(Ul,Dn)){case"TrustedHTML":{_a=M.createHTML(_a);break}case"TrustedScriptURL":{_a=M.createScriptURL(_a);break}}if(_a!==Vl)try{ra?le.setAttributeNS(ra,ma,_a):le.setAttribute(ma,_a),Dd(le)?fr(le):S3(s.removed)}catch{Wr(ma,le)}}An(I.afterSanitizeAttributes,le,null)},bc=function Dt(le){let Xe=null;const gt=yc(le);for(An(I.beforeSanitizeShadowDOM,le,null);Xe=gt.nextNode();)An(I.uponSanitizeShadowNode,Xe,null),vi(Xe),Fd(Xe),Xe.content instanceof i&&Dt(Xe.content);An(I.afterSanitizeShadowDOM,le,null)};return s.sanitize=function(Dt){let le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Xe=null,gt=null,Qs=null,hs=null;if(Ct=!Dt,Ct&&(Dt="<!-->"),typeof Dt!="string"&&!jc(Dt))if(typeof Dt.toString=="function"){if(Dt=Dt.toString(),typeof Dt!="string")throw hh("dirty is not a string, aborting")}else throw hh("toString is not a function");if(!s.isSupported)return Dt;if(ks||Pn(le),s.removed=[],typeof Dt=="string"&&(Ue=!1),Ue){if(Dt.nodeName){const un=vs(Dt.nodeName);if(!$[un]||ge[un])throw hh("root node is forbidden and cannot be sanitized in-place")}}else if(Dt instanceof c)Xe=Li("<!---->"),gt=Xe.ownerDocument.importNode(Dt,!0),gt.nodeType===ph.element&&gt.nodeName==="BODY"||gt.nodeName==="HTML"?Xe=gt:Xe.appendChild(gt);else{if(!cs&&!ht&&!gs&&Dt.indexOf("<")===-1)return M&&at?M.createHTML(Dt):Dt;if(Xe=Li(Dt),!Xe)return cs?null:at?E:""}Xe&&Ys&&fr(Xe.firstChild);const ma=yc(Ue?Dt:Xe);for(;Qs=ma.nextNode();)vi(Qs),Fd(Qs),Qs.content instanceof i&&bc(Qs.content);if(Ue)return Dt;if(cs){if(ce)for(hs=A.call(Xe.ownerDocument);Xe.firstChild;)hs.appendChild(Xe.firstChild);else hs=Xe;return(W.shadowroot||W.shadowrootmode)&&(hs=H.call(r,hs,!0)),hs}let ra=gs?Xe.outerHTML:Xe.innerHTML;return gs&&$["!doctype"]&&Xe.ownerDocument&&Xe.ownerDocument.doctype&&Xe.ownerDocument.doctype.name&&pn(rI,Xe.ownerDocument.doctype.name)&&(ra="<!DOCTYPE "+Xe.ownerDocument.doctype.name+`>
`+ra),ht&&jf([q,fe,oe],un=>{ra=mh(ra,un," ")}),M&&at?M.createHTML(ra):ra},s.setConfig=function(){let Dt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Pn(Dt),ks=!0},s.clearConfig=function(){Ka=null,ks=!1},s.isValidAttribute=function(Dt,le,Xe){Ka||Pn({});const gt=vs(Dt),Qs=vs(le);return wo(gt,Qs,Xe)},s.addHook=function(Dt,le){typeof le=="function"&&uh(I[Dt],le)},s.removeHook=function(Dt,le){if(le!==void 0){const Xe=fce(I[Dt],le);return Xe===-1?void 0:gce(I[Dt],Xe,1)[0]}return S3(I[Dt])},s.removeHooks=function(Dt){I[Dt]=[]},s.removeAllHooks=function(){I=D3()},s}var F3=nI();const Mce=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],M3=["January","February","March","April","May","June","July","August","September","October","November","December"],I3={excellent:{bg:"bg-green-500/20",text:"text-green-700 dark:text-green-400",border:"border-green-500/30"},good:{bg:"bg-blue-500/20",text:"text-blue-700 dark:text-blue-400",border:"border-blue-500/30"},average:{bg:"bg-amber-500/20",text:"text-amber-700 dark:text-amber-400",border:"border-amber-500/30"},poor:{bg:"bg-red-500/20",text:"text-red-700 dark:text-red-400",border:"border-red-500/30"}},Ice={festival:ya,holiday:qe,sports:et,cultural:qe,music:qe},Rce=t=>{if(!t)return Ml;const s=t.toLowerCase();return s.includes("rain")||s.includes("wet")?ew:s.includes("snow")||s.includes("cold")||s.includes("winter")?dw:s.includes("cloud")||s.includes("overcast")?t0:Ml};function Lce({cityName:t,country:s}){const{data:a,isLoading:r,error:n}=Le({queryKey:["/api/travelpulse/destination-calendar",t,s],queryFn:async()=>{const g=await fetch(`/api/travelpulse/destination-calendar/${encodeURIComponent(t)}/${encodeURIComponent(s)}`);if(!g.ok)throw new Error("Failed to fetch calendar data");return g.json()},enabled:!!t&&!!s});if(r)return e.jsxs(P,{"data-testid":"calendar-loading",children:[e.jsx(Q,{className:"pb-2",children:e.jsxs(X,{className:"text-sm flex items-center gap-2",children:[e.jsx(Ge,{className:"h-4 w-4"}),"Destination Calendar"]})}),e.jsx(F,{children:e.jsx("div",{className:"grid grid-cols-4 gap-2",children:Array.from({length:12}).map((g,b)=>e.jsx(_e,{className:"h-20 w-full"},b))})})]});if(n||!a)return e.jsxs(P,{"data-testid":"calendar-error",children:[e.jsx(Q,{className:"pb-2",children:e.jsxs(X,{className:"text-sm flex items-center gap-2",children:[e.jsx(Ge,{className:"h-4 w-4"}),"Destination Calendar"]})}),e.jsx(F,{children:e.jsx("p",{className:"text-sm text-muted-foreground",children:"Calendar data not available yet."})})]});const{seasons:i,events:l,bestTimeToVisit:c,lastUpdated:u}=a,m=i.reduce((g,b)=>(g[b.month]=b,g),{}),x=l.reduce((g,b)=>{const v=b.startMonth||1;return g[v]||(g[v]=[]),g[v].push(b),g},{}),f=new Date().getMonth()+1;return e.jsxs(P,{"data-testid":"destination-calendar",children:[e.jsxs(Q,{className:"pb-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(X,{className:"text-sm flex items-center gap-2",children:[e.jsx(Ge,{className:"h-4 w-4 text-primary"}),"Destination Calendar"]}),u&&e.jsxs("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[e.jsx(Je,{className:"h-3 w-3"}),"Updated ",rc(new Date(u),{addSuffix:!0})]})]}),c&&e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[e.jsx(qe,{className:"h-3 w-3 inline mr-1 text-primary"}),"Best time: ",c]})]}),e.jsxs(F,{children:[e.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-6 lg:grid-cols-12 gap-1.5","data-testid":"calendar-grid",children:Array.from({length:12},(g,b)=>b+1).map(g=>{const b=m[g],v=x[g]||[],y=b?.rating||"average",w=I3[y]||I3.average,k=Rce(b?.weatherDescription||null),C=g===f;return e.jsxs("div",{className:`
                  relative p-2 rounded-lg border transition-all
                  ${w.bg} ${w.border}
                  ${C?"ring-2 ring-primary ring-offset-1":""}
                  hover:scale-105 cursor-default
                `,"data-testid":`calendar-month-${g}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:`text-xs font-semibold ${w.text}`,children:Mce[g-1]}),e.jsx(k,{className:`h-3 w-3 ${w.text}`})]}),e.jsx(O,{variant:"outline",className:`text-[10px] px-1 py-0 ${w.text} ${w.border} capitalize`,children:y}),b?.crowdLevel&&e.jsxs("div",{className:"flex items-center gap-0.5 mt-1",children:[e.jsx(et,{className:"h-2.5 w-2.5 text-muted-foreground"}),e.jsx("span",{className:"text-[9px] text-muted-foreground capitalize",children:b.crowdLevel})]}),b?.priceLevel&&e.jsxs("div",{className:"flex items-center gap-0.5",children:[e.jsx(bt,{className:"h-2.5 w-2.5 text-muted-foreground"}),e.jsx("span",{className:"text-[9px] text-muted-foreground capitalize",children:b.priceLevel})]}),v.length>0&&e.jsx("div",{className:"absolute -top-1 -right-1",children:e.jsx(O,{className:"h-4 w-4 p-0 flex items-center justify-center text-[9px] bg-primary",children:v.length})})]},g)})}),l.length>0&&e.jsxs("div",{className:"mt-4 border-t pt-3","data-testid":"calendar-events",children:[e.jsxs("h4",{className:"text-xs font-semibold text-muted-foreground mb-2 flex items-center gap-1",children:[e.jsx(ya,{className:"h-3 w-3"}),"Upcoming Events & Festivals"]}),e.jsx("div",{className:"space-y-2",children:l.slice(0,5).map(g=>{const b=Ice[g.eventType||""]||ya;return e.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted/50 rounded-lg","data-testid":`calendar-event-${g.id}`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(b,{className:"h-4 w-4 text-primary"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:g.title}),g.startMonth&&e.jsxs("p",{className:"text-xs text-muted-foreground",children:[M3[g.startMonth-1],g.endMonth&&g.endMonth!==g.startMonth&&e.jsxs(e.Fragment,{children:[" - ",M3[g.endMonth-1]]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[g.seasonRating&&e.jsx(O,{variant:"outline",className:"text-xs capitalize",children:g.seasonRating}),e.jsx(O,{variant:"secondary",className:"text-xs capitalize",children:g.eventType})]})]},g.id)})})]}),e.jsxs("div",{className:"mt-3 flex items-center gap-3 text-[10px] text-muted-foreground","data-testid":"calendar-legend",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500/50"}),e.jsx("span",{children:"Excellent"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500/50"}),e.jsx("span",{children:"Good"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-amber-500/50"}),e.jsx("span",{children:"Average"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500/50"}),e.jsx("span",{children:"Poor"})]})]})]})]})}function R3({aiScore:t,aiReasons:s=[],seasonalMatch:a,eventNearby:r,eventRelated:n,budgetMatch:i,bestTimeMatch:l,preferenceMatch:c,showScore:u=!1,compact:m=!1}){const x=[];return l&&x.push({icon:Ml,label:m?"":"Best Time",tooltip:"Perfect timing to visit - excellent season",variant:"default",color:"bg-green-500/90 hover:bg-green-500 text-white"}),(r||n)&&x.push({icon:ya,label:m?"":"Event",tooltip:n?"Related to upcoming local event or festival":"Near upcoming local event or festival",variant:"secondary",color:"bg-purple-500/90 hover:bg-purple-500 text-white"}),a&&!l&&x.push({icon:Ge,label:m?"":"In Season",tooltip:"Good time to visit this destination",variant:"outline",color:"bg-blue-500/20 text-blue-700 dark:text-blue-400 border-blue-500/30"}),i&&x.push({icon:bt,label:m?"":"Value",tooltip:"Matches your budget preference",variant:"outline",color:"bg-emerald-500/20 text-emerald-700 dark:text-emerald-400 border-emerald-500/30"}),c&&x.push({icon:I_,label:m?"":"For You",tooltip:"Matches your travel preferences",variant:"outline",color:"bg-amber-500/20 text-amber-700 dark:text-amber-400 border-amber-500/30"}),x.length===0&&(!t||t<60)?null:e.jsxs("div",{className:"flex flex-wrap items-center gap-1","data-testid":"ai-recommendation-badges",children:[u&&t!==void 0&&t>=60&&e.jsxs($b,{children:[e.jsx(Bb,{asChild:!0,children:e.jsxs(O,{variant:"default",className:"bg-primary/90 hover:bg-primary text-white text-xs gap-1","data-testid":"badge-ai-score",children:[e.jsx(qe,{className:"h-3 w-3"}),t,"%"]})}),e.jsx(mg,{side:"top",className:"max-w-xs",children:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("p",{className:"font-medium",children:["AI Match Score: ",t,"%"]}),s.length>0&&e.jsx("ul",{className:"text-xs space-y-0.5",children:s.slice(0,3).map((f,g)=>e.jsxs("li",{className:"flex items-start gap-1",children:[e.jsx(rt,{className:"h-2.5 w-2.5 mt-0.5 flex-shrink-0"}),f]},g))})]})})]}),x.map((f,g)=>e.jsxs($b,{children:[e.jsx(Bb,{asChild:!0,children:e.jsxs(O,{variant:f.variant,className:`text-xs gap-1 ${f.color}`,"data-testid":`badge-${f.label.toLowerCase().replace(/\s/g,"-")||g}`,children:[e.jsx(f.icon,{className:"h-3 w-3"}),f.label]})}),e.jsx(mg,{side:"top",children:e.jsx("p",{className:"text-xs",children:f.tooltip})})]},g))]})}function Oce({rating:t,weatherDescription:s,events:a,bestTimeToVisit:r}){const n={excellent:"bg-green-50 dark:bg-green-950/30 border-green-200 dark:border-green-800",good:"bg-blue-50 dark:bg-blue-950/30 border-blue-200 dark:border-blue-800",average:"bg-amber-50 dark:bg-amber-950/30 border-amber-200 dark:border-amber-800",poor:"bg-red-50 dark:bg-red-950/30 border-red-200 dark:border-red-800"},i={excellent:"text-green-700 dark:text-green-400",good:"text-blue-700 dark:text-blue-400",average:"text-amber-700 dark:text-amber-400",poor:"text-red-700 dark:text-red-400"};return e.jsx("div",{className:`p-3 rounded-lg border ${n[t]||n.average}`,"data-testid":"seasonal-insight-banner",children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(Xt,{className:`h-4 w-4 ${i[t]||i.average}`}),e.jsxs("span",{className:`font-medium capitalize ${i[t]||i.average}`,children:[t," Time to Visit"]})]}),s&&e.jsx("p",{className:"text-sm text-muted-foreground",children:s}),r&&e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[e.jsx(qe,{className:"h-3 w-3 inline mr-1"}),"Best time: ",r]})]}),a&&a.length>0&&e.jsx("div",{className:"flex-shrink-0",children:e.jsxs(O,{variant:"secondary",className:"text-xs gap-1",children:[e.jsx(ya,{className:"h-3 w-3"}),a.length," event",a.length>1?"s":""]})})]})})}const $ce={romantic:"bg-pink-100 text-pink-700 dark:bg-pink-900/30 dark:text-pink-400",adventure:"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-400",foodie:"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400",nightlife:"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400",cultural:"bg-indigo-100 text-indigo-700 dark:bg-indigo-900/30 dark:text-indigo-400",relaxation:"bg-cyan-100 text-cyan-700 dark:bg-cyan-900/30 dark:text-cyan-400",family:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",budget:"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400",luxury:"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400",nature:"bg-teal-100 text-teal-700 dark:bg-teal-900/30 dark:text-teal-400"};function Bce(t){switch(t){case"critical":return e.jsx(_l,{className:"h-4 w-4 text-red-500"});case"warning":return e.jsx(ns,{className:"h-4 w-4 text-yellow-500"});default:return e.jsx(nw,{className:"h-4 w-4 text-blue-500"})}}function zce(t){switch(t){case"critical":return"bg-red-50 dark:bg-red-900/20";case"warning":return"bg-yellow-50 dark:bg-yellow-900/20";default:return"bg-blue-50 dark:bg-blue-900/20"}}function Vce(t,s){switch(t){case"hidden":return e.jsxs(O,{className:"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400",children:[e.jsx(C_,{className:"h-3 w-3 mr-1"}),"Hidden",s&&e.jsxs("span",{className:"ml-1",children:["(",s,"d left)"]})]});case"emerging":return e.jsxs(O,{className:"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-400",children:[e.jsx(Xt,{className:"h-3 w-3 mr-1"}),"Emerging"]});case"discovered":return e.jsxs(O,{className:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",children:[e.jsx(Er,{className:"h-3 w-3 mr-1"}),"Discovered"]});default:return null}}function Uce(t){switch(t){case"check_in":return e.jsx(Me,{className:"h-4 w-4 text-blue-500"});case"discovery":return e.jsx(qe,{className:"h-4 w-4 text-purple-500"});case"photo":return e.jsx(Rs,{className:"h-4 w-4 text-pink-500"});case"review":return e.jsx(rt,{className:"h-4 w-4 text-yellow-500"});case"booking":return e.jsx(Ge,{className:"h-4 w-4 text-green-500"});default:return e.jsx(Ai,{className:"h-4 w-4 text-muted-foreground"})}}function qce({cityName:t,country:s}){const a=new Date().getMonth()+1,{data:r,isLoading:n,error:i}=Le({queryKey:["/api/travelpulse/ai-recommendations",t,s,a],queryFn:async()=>{const x=await fetch(`/api/travelpulse/ai-recommendations/${encodeURIComponent(t)}/${encodeURIComponent(s)}?month=${a}&limit=10`);if(!x.ok)throw new Error("Failed to fetch AI recommendations");return x.json()},enabled:!!t&&!!s});if(n)return e.jsxs("div",{className:"space-y-4",children:[e.jsx(_e,{className:"h-20 w-full"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Array.from({length:4}).map((x,f)=>e.jsx(_e,{className:"h-40 w-full"},f))})]});if(i||!r)return e.jsxs(P,{className:"p-8 text-center",children:[e.jsx(qe,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsxs("p",{className:"text-muted-foreground",children:["AI recommendations not available yet for ",t]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Check back after the next data refresh"})]});const{hotels:l,activities:c,seasonalInsight:u,bestTimeToVisit:m}=r;return e.jsxs("div",{className:"space-y-6","data-testid":"ai-recommendations-section",children:[u&&e.jsx(Oce,{rating:u.rating,weatherDescription:u.weatherDescription,events:u.events,bestTimeToVisit:m}),l.length>0&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[e.jsx(Me,{className:"h-5 w-5 text-primary"}),"Recommended Places to Stay"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:l.slice(0,6).map(x=>e.jsx(P,{className:"overflow-hidden","data-testid":`rec-hotel-${x.id}`,children:e.jsxs(F,{className:"p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-sm line-clamp-1",children:x.name}),x.address&&e.jsx("p",{className:"text-xs text-muted-foreground line-clamp-1",children:x.address})]}),x.starRating&&e.jsx("div",{className:"flex items-center gap-0.5 ml-2",children:Array.from({length:x.starRating}).map((f,g)=>e.jsx(rt,{className:"h-3 w-3 text-yellow-500 fill-yellow-500"},g))})]}),e.jsx(R3,{aiScore:x.aiScore,aiReasons:x.aiReasons,seasonalMatch:x.seasonalMatch,eventNearby:x.eventNearby,budgetMatch:x.budgetMatch,bestTimeMatch:x.bestTimeMatch,showScore:!0}),x.price&&e.jsxs("p",{className:"text-sm font-semibold mt-2",children:["$",typeof x.price=="string"?x.price:x.price.toFixed(0),e.jsx("span",{className:"text-xs text-muted-foreground font-normal",children:"/night"})]})]})},x.id))})]}),c.length>0&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[e.jsx(dr,{className:"h-5 w-5 text-primary"}),"Recommended Activities"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:c.slice(0,6).map(x=>e.jsx(P,{className:"overflow-hidden","data-testid":`rec-activity-${x.id}`,children:e.jsxs(F,{className:"p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-sm line-clamp-2",children:x.title||x.name}),x.category&&e.jsx(O,{variant:"outline",className:"text-xs mt-1 capitalize",children:x.category})]}),x.rating&&e.jsxs("div",{className:"flex items-center gap-1 ml-2",children:[e.jsx(rt,{className:"h-3 w-3 text-yellow-500 fill-yellow-500"}),e.jsx("span",{className:"text-xs font-medium",children:x.rating})]})]}),e.jsx(R3,{aiScore:x.aiScore,aiReasons:x.aiReasons,seasonalMatch:x.seasonalMatch,eventRelated:x.eventRelated,budgetMatch:x.budgetMatch,bestTimeMatch:x.bestTimeMatch,preferenceMatch:x.preferenceMatch,showScore:!0}),x.price&&e.jsxs("p",{className:"text-sm font-semibold mt-2",children:["$",typeof x.price=="string"?x.price:Number(x.price).toFixed(0)]})]})},x.id))})]}),l.length===0&&c.length===0&&e.jsxs(P,{className:"p-8 text-center",children:[e.jsx(qe,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsxs("p",{className:"text-muted-foreground",children:["No cached recommendations yet for ",t]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Search for hotels or activities to populate recommendations"})]})]})}function fh({rec:t,idx:s}){return e.jsxs(P,{className:"overflow-hidden","data-testid":`enriched-rec-${s}`,children:[t.thumbnail&&e.jsx("div",{className:"h-32 overflow-hidden",children:e.jsx("img",{src:t.thumbnail,alt:t.name,className:"w-full h-full object-cover"})}),e.jsxs(F,{className:"p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-sm line-clamp-1","data-testid":`rec-name-${s}`,children:t.name}),t.address&&e.jsxs("p",{className:"text-xs text-muted-foreground line-clamp-1",children:[e.jsx(Me,{className:"h-3 w-3 inline mr-1"}),t.address]})]}),t.rating&&e.jsxs("div",{className:"flex items-center gap-1 ml-2",children:[e.jsx(rt,{className:"h-3 w-3 text-yellow-500 fill-yellow-500"}),e.jsx("span",{className:"text-xs font-medium",children:t.rating}),t.reviewCount&&e.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",t.reviewCount,")"]})]})]}),t.aiReason&&e.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2 mb-2",children:t.aiReason}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-3",children:[t.type&&e.jsx(O,{variant:"secondary",className:"text-xs capitalize",children:t.type}),t.priceLevel&&e.jsx(O,{variant:"outline",className:"text-xs",children:t.priceLevel}),t.openNow!==void 0&&e.jsx(O,{variant:t.openNow?"default":"secondary",className:te("text-xs",t.openNow&&"bg-green-500"),children:t.openNow?"Open Now":"Closed"}),t.matchConfidence==="high"&&e.jsxs(O,{className:"text-xs bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400",children:[e.jsx(qe,{className:"h-3 w-3 mr-1"}),"Top Pick"]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.bookingOptions?.slice(0,3).map((a,r)=>e.jsxs(S,{size:"sm",variant:"outline",onClick:()=>window.open(a.url,"_blank"),"data-testid":`booking-btn-${s}-${r}`,children:[e.jsx(er,{className:"h-3 w-3 mr-1"}),a.platform]},r)),t.googleMapsUrl&&e.jsxs(S,{size:"sm",variant:"ghost",onClick:()=>window.open(t.googleMapsUrl,"_blank"),"data-testid":`maps-btn-${s}`,children:[e.jsx(Me,{className:"h-3 w-3 mr-1"}),"Map"]})]})]})]})}function Hce({cityName:t}){const{data:s,isLoading:a,error:r}=Le({queryKey:["/api/travelpulse/enriched",t],enabled:!!t,staleTime:3e5});return a?e.jsxs("div",{className:"space-y-4 mt-6",children:[e.jsx(_e,{className:"h-8 w-48"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Array.from({length:4}).map((i,l)=>e.jsx(_e,{className:"h-48 w-full"},l))})]}):r||!s||!(s.restaurants.length>0||s.attractions.length>0||s.nightlife.length>0||s.hiddenGems.length>0||s.trendingNow.length>0)?null:e.jsxs("div",{className:"space-y-6 mt-6","data-testid":"enriched-recommendations-section",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(er,{className:"h-5 w-5 text-muted-foreground"}),e.jsx("h3",{className:"text-lg font-semibold",children:"Book Experiences"}),e.jsx(O,{variant:"outline",className:"text-xs",children:"AI + Booking"})]}),s.trendingNow.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm font-medium mb-3 flex items-center gap-2",children:[e.jsx(Xt,{className:"h-4 w-4 text-orange-500"}),"Trending Now"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.trendingNow.slice(0,2).map((i,l)=>e.jsx(fh,{rec:i,idx:l},`trending-${l}`))})]}),s.attractions.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm font-medium mb-3 flex items-center gap-2",children:[e.jsx(Me,{className:"h-4 w-4 text-blue-500"}),"Top Attractions"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.attractions.slice(0,4).map((i,l)=>e.jsx(fh,{rec:i,idx:100+l},`attraction-${l}`))})]}),s.restaurants.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm font-medium mb-3 flex items-center gap-2",children:[e.jsx(rt,{className:"h-4 w-4 text-amber-500"}),"Restaurants & Dining"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.restaurants.slice(0,4).map((i,l)=>e.jsx(fh,{rec:i,idx:200+l},`restaurant-${l}`))})]}),s.hiddenGems.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm font-medium mb-3 flex items-center gap-2",children:[e.jsx(cr,{className:"h-4 w-4 text-purple-500"}),"Hidden Gems"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.hiddenGems.slice(0,4).map((i,l)=>e.jsx(fh,{rec:i,idx:300+l},`gem-${l}`))})]}),s.nightlife.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm font-medium mb-3 flex items-center gap-2",children:[e.jsx(Ai,{className:"h-4 w-4 text-pink-500"}),"Nightlife"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.nightlife.slice(0,4).map((i,l)=>e.jsx(fh,{rec:i,idx:400+l},`nightlife-${l}`))})]})]})}function Wce(){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(_e,{className:"h-10 w-10"}),e.jsxs("div",{children:[e.jsx(_e,{className:"h-8 w-48 mb-2"}),e.jsx(_e,{className:"h-4 w-32"})]})]}),e.jsx(_e,{className:"h-64 w-full rounded-lg"}),e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsx(_e,{className:"h-24"}),e.jsx(_e,{className:"h-24"}),e.jsx(_e,{className:"h-24"}),e.jsx(_e,{className:"h-24"})]})]})}function iI({cityName:t,onBack:s}){const{data:a,isLoading:r,error:n}=Le({queryKey:["/api/travelpulse/cities",t]}),{data:i}=Le({queryKey:["/api/travelpulse/media",t,a?.city?.country],enabled:!!a?.city?.country}),l=h.useRef(new Set);if(h.useEffect(()=>{if(!i)return;[...i.hero&&i.hero.source==="unsplash"&&i.hero.downloadLocationUrl?[i.hero]:[],...i.gallery.filter(y=>y.source==="unsplash"&&y.downloadLocationUrl)].forEach(y=>{y.downloadLocationUrl&&!l.current.has(y.downloadLocationUrl)&&(l.current.add(y.downloadLocationUrl),fetch("/api/travelpulse/media/track-download",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({downloadLocationUrl:y.downloadLocationUrl})}).catch(()=>{}))})},[i]),r)return e.jsx(Wce,{});if(n||!a)return e.jsxs(P,{className:"p-8 text-center",children:[e.jsxs(S,{variant:"ghost",onClick:s,className:"mb-4","data-testid":"button-back",children:[e.jsx(la,{className:"h-4 w-4 mr-2"}),"Back to Cities"]}),e.jsx("p",{className:"text-muted-foreground",children:"Failed to load city intelligence. Please try again."})]});const{city:c,hiddenGems:u,alerts:m,happeningNow:x,liveActivity:f}=a,g=Array.isArray(c.vibeTags)?c.vibeTags:[],b=parseFloat(c.priceChange||"0");return e.jsxs(He.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[e.jsxs(S,{variant:"ghost",onClick:s,className:"mb-2","data-testid":"button-back-to-cities",children:[e.jsx(la,{className:"h-4 w-4 mr-2"}),"Back to Cities"]}),e.jsxs("div",{className:"relative h-64 rounded-xl overflow-hidden",children:[c.imageUrl?e.jsx("img",{src:c.imageUrl,alt:c.cityName,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-primary/20 to-primary/5 flex items-center justify-center",children:e.jsx(Me,{className:"h-16 w-16 text-primary/30"})}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/30 to-transparent"}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:c.cityName}),e.jsxs("div",{className:"flex items-center gap-3 text-white/80",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Me,{className:"h-4 w-4"}),c.country]}),c.region&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-white/50",children:""}),e.jsx("span",{children:c.region})]})]})]}),e.jsx("div",{className:"text-right",children:e.jsxs(O,{className:"bg-gradient-to-r from-rose-500 to-orange-500 text-white border-0 text-lg px-4 py-1",children:[e.jsx(qa,{className:"h-4 w-4 mr-1"}),c.pulseScore]})})]})})]}),m.length>0&&e.jsx("div",{className:"space-y-2","data-testid":"alerts-section",children:m.map(v=>e.jsxs("div",{className:te("rounded-md p-4 flex items-center gap-3",zce(v.severity)),"data-testid":`alert-item-${v.id}`,children:[Bce(v.severity),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("span",{className:"font-medium","data-testid":`alert-title-${v.id}`,children:v.title})}),e.jsx("p",{className:"text-sm text-muted-foreground","data-testid":`alert-message-${v.id}`,children:v.message})]})]},v.id))}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4","data-testid":"stats-grid",children:[e.jsx(P,{"data-testid":"stat-active-travelers",children:e.jsxs(F,{className:"py-4 text-center",children:[e.jsx(et,{className:"h-6 w-6 mx-auto mb-2 text-primary"}),e.jsx("p",{className:"text-2xl font-bold","data-testid":"value-active-travelers",children:c.activeTravelers.toLocaleString()}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Active Travelers"})]})}),e.jsx(P,{"data-testid":"stat-trending-spots",children:e.jsxs(F,{className:"py-4 text-center",children:[e.jsx(Xt,{className:"h-6 w-6 mx-auto mb-2 text-primary"}),e.jsx("p",{className:"text-2xl font-bold","data-testid":"value-trending-spots",children:c.totalTrendingSpots}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Trending Spots"})]})}),e.jsx(P,{"data-testid":"stat-hidden-gems",children:e.jsxs(F,{className:"py-4 text-center",children:[e.jsx(cr,{className:"h-6 w-6 mx-auto mb-2 text-primary"}),e.jsx("p",{className:"text-2xl font-bold","data-testid":"value-hidden-gems",children:c.totalHiddenGems}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Hidden Gems"})]})}),e.jsx(P,{"data-testid":"stat-avg-price",children:e.jsxs(F,{className:"py-4 text-center",children:[e.jsx(bt,{className:"h-6 w-6 mx-auto mb-2 text-primary"}),e.jsxs("div",{className:"flex items-center justify-center gap-1",children:[e.jsxs("p",{className:"text-2xl font-bold","data-testid":"value-avg-price",children:["$",c.avgHotelPrice||"N/A"]}),b!==0&&e.jsx("span",{className:te("flex items-center text-sm",b<0?"text-green-500":"text-red-500"),"data-testid":"price-change-indicator",children:b<0?e.jsx(uw,{className:"h-4 w-4"}):e.jsx(Xt,{className:"h-4 w-4"})})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Avg Hotel/Night"})]})})]}),c.currentHighlight&&e.jsx(P,{className:"bg-gradient-to-r from-primary/10 to-primary/5 border-primary/20","data-testid":"highlight-card",children:e.jsxs(F,{className:"py-4 flex items-center gap-3",children:[e.jsx(qe,{className:"h-8 w-8 text-primary"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-primary",children:"What's Happening Now"}),e.jsx("p",{className:"text-lg","data-testid":"highlight-text",children:c.currentHighlight})]})]})}),c.dealAlert&&e.jsx(P,{className:"bg-gradient-to-r from-green-500/10 to-emerald-500/10 border-green-500/20","data-testid":"deal-alert-card",children:e.jsxs(F,{className:"py-4 flex items-center gap-3",children:[e.jsx(bt,{className:"h-6 w-6 text-green-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-green-600 dark:text-green-400",children:"Deal Alert"}),e.jsx("p",{"data-testid":"deal-alert-text",children:c.dealAlert})]})]})}),e.jsx("div",{className:"flex flex-wrap gap-2",children:g.map(v=>e.jsx(O,{variant:"secondary",className:te("capitalize",$ce[v]||""),children:v},v))}),e.jsxs(Na,{defaultValue:"hidden-gems",className:"w-full",children:[e.jsxs(ca,{className:"w-full grid grid-cols-6",children:[e.jsxs(it,{value:"hidden-gems","data-testid":"tab-hidden-gems",children:[e.jsx(cr,{className:"h-4 w-4 mr-2"}),"Hidden Gems"]}),e.jsxs(it,{value:"recommendations","data-testid":"tab-recommendations",children:[e.jsx(qe,{className:"h-4 w-4 mr-2"}),"For You"]}),e.jsxs(it,{value:"happening-now","data-testid":"tab-happening-now",children:[e.jsx(Ge,{className:"h-4 w-4 mr-2"}),"Happening Now"]}),e.jsxs(it,{value:"activity","data-testid":"tab-activity",children:[e.jsx(Ai,{className:"h-4 w-4 mr-2"}),"Live Feed"]}),e.jsxs(it,{value:"media","data-testid":"tab-media",children:[e.jsx(Eu,{className:"h-4 w-4 mr-2"}),"Photos & Videos"]}),e.jsxs(it,{value:"ai-insights","data-testid":"tab-ai-insights",children:[e.jsx(eg,{className:"h-4 w-4 mr-2"}),"AI Insights"]})]}),e.jsx(xt,{value:"hidden-gems",className:"mt-4",children:u.length===0?e.jsxs(P,{className:"p-8 text-center",children:[e.jsx(cr,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsxs("p",{className:"text-muted-foreground",children:["No hidden gems discovered yet for ",c.cityName]})]}):e.jsx("div",{className:"space-y-4",children:u.map(v=>e.jsx(P,{className:"overflow-hidden","data-testid":`hidden-gem-${v.id}`,children:e.jsxs("div",{className:"flex",children:[v.imageUrl&&e.jsx("div",{className:"w-32 h-32 flex-shrink-0",children:e.jsx("img",{src:v.imageUrl,alt:v.placeName,className:"w-full h-full object-cover"})}),e.jsxs(F,{className:"flex-1 py-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:v.placeName}),v.placeType&&e.jsx(O,{variant:"outline",className:"text-xs capitalize mt-1",children:v.placeType})]}),e.jsxs("div",{className:"flex flex-col items-end gap-1",children:[Vce(v.discoveryStatus,v.daysUntilMainstream),e.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[e.jsx(rt,{className:"h-3 w-3 text-yellow-500 fill-yellow-500"}),e.jsx("span",{className:"font-medium",children:v.localRating}),e.jsx("span",{className:"text-muted-foreground text-xs",children:"by locals"})]})]})]}),v.description&&e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:v.description}),v.whyLocalsLoveIt&&e.jsxs("div",{className:"flex items-start gap-2 text-sm bg-muted/50 rounded p-2",children:[e.jsx(Qt,{className:"h-4 w-4 text-red-500 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:v.whyLocalsLoveIt})]}),e.jsxs("div",{className:"flex items-center gap-4 mt-3 text-xs text-muted-foreground",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(et,{className:"h-3 w-3"}),v.localMentions," local mentions"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Er,{className:"h-3 w-3"}),v.touristMentions," tourist mentions"]}),v.priceRange&&e.jsx("span",{children:v.priceRange})]})]})]})},v.id))})}),e.jsxs(xt,{value:"recommendations",className:"mt-4",children:[e.jsx(qce,{cityName:c.cityName,country:c.country}),e.jsx(Hce,{cityName:c.cityName})]}),e.jsx(xt,{value:"happening-now",className:"mt-4",children:x.length===0?e.jsxs(P,{className:"p-8 text-center",children:[e.jsx(Ge,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsxs("p",{className:"text-muted-foreground",children:["No events happening right now in ",c.cityName]})]}):e.jsx("div",{className:"space-y-4",children:x.map(v=>e.jsx(P,{children:e.jsxs(F,{className:"py-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[v.isLive&&e.jsx(O,{variant:"destructive",className:"text-xs animate-pulse",children:"LIVE"}),e.jsx("h3",{className:"font-semibold",children:v.title})]}),e.jsx(O,{variant:"outline",className:"text-xs capitalize mt-1",children:v.eventType})]}),v.crowdLevel&&e.jsx(O,{variant:"secondary",className:"capitalize",children:v.crowdLevel})]}),v.description&&e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:v.description}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[v.venue&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Me,{className:"h-3 w-3"}),v.venue]}),v.entryFee&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(bt,{className:"h-3 w-3"}),v.entryFee]})]})]})},v.id))})}),e.jsx(xt,{value:"activity",className:"mt-4",children:f.length===0?e.jsxs(P,{className:"p-8 text-center",children:[e.jsx(Ai,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsxs("p",{className:"text-muted-foreground",children:["No recent activity in ",c.cityName]})]}):e.jsx(Ha,{className:"h-96",children:e.jsx("div",{className:"space-y-3",children:f.map(v=>e.jsx(P,{className:"hover-elevate","data-testid":`activity-item-${v.id}`,children:e.jsx(F,{className:"py-3 px-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[Uce(v.activityType),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"flex items-center gap-2 mb-1",children:e.jsx("span",{className:"font-medium",children:v.userName||"Traveler"})}),e.jsx("p",{className:"text-sm text-muted-foreground",children:v.activityText}),v.placeName&&e.jsxs("p",{className:"text-xs text-primary mt-1 flex items-center gap-1",children:[e.jsx(Me,{className:"h-3 w-3"}),v.placeName]})]}),e.jsxs("div",{className:"text-right flex-shrink-0",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:rc(new Date(v.occurredAt),{addSuffix:!0})}),v.likesCount>0&&e.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground mt-1",children:[e.jsx(I_,{className:"h-3 w-3"}),v.likesCount]})]})]})})},v.id))})})}),e.jsx(xt,{value:"media",className:"mt-4",children:!i||i.gallery.length===0&&i.videos.length===0?e.jsxs(P,{className:"p-8 text-center","data-testid":"card-no-media",children:[e.jsx(Eu,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsxs("p",{className:"text-muted-foreground",children:["No media available yet for ",c.cityName]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Photos and videos will be added when AI intelligence is refreshed"})]}):e.jsxs("div",{className:"space-y-6",children:[i.videos.length>0&&e.jsxs("div",{"data-testid":"videos-section",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[e.jsx(ig,{className:"h-5 w-5 text-primary"}),"Destination Videos"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:i.videos.map((v,y)=>e.jsxs(P,{className:"overflow-hidden","data-testid":`video-card-${y}`,children:[e.jsx("div",{className:"relative aspect-video bg-muted",children:e.jsx("video",{src:v.url,poster:v.thumbnailUrl||v.previewUrl||void 0,controls:!0,preload:"metadata",className:"w-full h-full object-cover"})}),e.jsx(F,{className:"p-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[e.jsxs("span",{children:["by ",v.photographerName]}),v.duration&&e.jsxs("span",{children:["(",Math.floor(v.duration/60),":",(v.duration%60).toString().padStart(2,"0"),")"]})]}),e.jsxs("a",{href:v.sourceUrl||"#",target:"_blank",rel:"noopener noreferrer",className:"text-xs text-primary hover:underline flex items-center gap-1",children:[v.sourceName,e.jsx(er,{className:"h-3 w-3"})]})]})})]},v.id))})]}),i.gallery.length>0&&e.jsxs("div",{"data-testid":"gallery-section",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[e.jsx(Rs,{className:"h-5 w-5 text-primary"}),"Photo Gallery",i.gallery.some(v=>v.source==="google_places")&&e.jsx("span",{className:"text-xs text-muted-foreground ml-auto font-medium",children:"Powered by Google"})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:i.gallery.map((v,y)=>e.jsxs(P,{className:"overflow-hidden group","data-testid":`photo-card-${y}`,children:[e.jsxs("div",{className:"relative aspect-[4/3] bg-muted",children:[e.jsx("img",{src:v.thumbnailUrl||v.url,alt:v.attractionName||`${c.cityName} photo`,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105",loading:"lazy"}),v.isPrimary&&e.jsxs(O,{className:"absolute top-2 left-2 bg-primary/90 text-white",children:[e.jsx(rt,{className:"h-3 w-3 mr-1"}),"Featured"]}),v.source==="google_places"&&e.jsx(O,{className:"absolute top-2 right-2 bg-white/90 text-gray-700 text-[10px]",children:"Google"}),v.attractionName&&e.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-2",children:e.jsx("p",{className:"text-xs text-white truncate",children:v.attractionName})})]}),e.jsx(F,{className:"p-2",children:e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[e.jsx("span",{className:"truncate",children:v.photographerName}),e.jsxs("a",{href:v.sourceUrl||"#",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline flex items-center gap-0.5 flex-shrink-0",children:[v.sourceName,e.jsx(er,{className:"h-2.5 w-2.5"})]})]}),v.source==="google_places"&&v.htmlAttributions&&v.htmlAttributions.length>0&&e.jsx("div",{className:"text-[10px] text-muted-foreground truncate",dangerouslySetInnerHTML:{__html:F3.sanitize(v.htmlAttributions.join(" "),{ALLOWED_TAGS:["a"],ALLOWED_ATTR:["href"]})}})]})})]},v.id))})]}),Object.keys(i.byAttraction).length>0&&e.jsxs("div",{"data-testid":"attractions-media-section",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[e.jsx(Me,{className:"h-5 w-5 text-primary"}),"Photos by Attraction",e.jsx("span",{className:"text-xs text-muted-foreground ml-auto",children:"Powered by Google"})]}),e.jsx("div",{className:"space-y-4",children:Object.entries(i.byAttraction).map(([v,y])=>e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium mb-2",children:v}),e.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:y.map((w,k)=>e.jsxs("div",{className:"flex-shrink-0 relative","data-testid":`attraction-photo-${v}-${k}`,children:[e.jsx("div",{className:"w-40 aspect-[4/3] rounded-lg overflow-hidden bg-muted",children:e.jsx("img",{src:w.thumbnailUrl||w.url,alt:v,className:"w-full h-full object-cover",loading:"lazy"})}),w.htmlAttributions&&w.htmlAttributions.length>0&&e.jsx("div",{className:"text-[10px] text-muted-foreground mt-1 max-w-40 truncate",dangerouslySetInnerHTML:{__html:F3.sanitize(w.htmlAttributions.join(" "),{ALLOWED_TAGS:["a"],ALLOWED_ATTR:["href"]})}})]},w.id))})]},v))})]}),e.jsxs("div",{className:"text-center mt-4 space-y-1",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Photos and videos provided by Unsplash, Pexels, and Google Places."}),(i.gallery.some(v=>v.source==="google_places")||Object.values(i.byAttraction).flat().some(v=>v.source==="google_places"))&&e.jsxs("p",{className:"text-xs text-muted-foreground flex items-center justify-center gap-1",children:[e.jsx("span",{children:"Attraction photos"}),e.jsx("span",{className:"font-medium",children:"Powered by Google"})]})]})]})}),e.jsx(xt,{value:"ai-insights",className:"mt-4",children:c.aiGeneratedAt?e.jsxs("div",{className:"space-y-4",children:[e.jsxs(P,{"data-testid":"card-best-time",children:[e.jsx(Q,{className:"pb-2",children:e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsxs(X,{className:"text-sm flex items-center gap-2",children:[e.jsx(Je,{className:"h-4 w-4 text-primary"}),"Best Time to Visit"]}),e.jsxs("p",{className:"text-xs text-muted-foreground","data-testid":"text-ai-updated",children:["Updated ",c.aiGeneratedAt&&rc(new Date(c.aiGeneratedAt),{addSuffix:!0})]})]})}),e.jsx(F,{children:e.jsx("p",{className:"text-sm font-medium","data-testid":"text-best-time",children:c.aiBestTimeToVisit||"Year-round destination"})})]}),c.aiOptimalDuration&&e.jsxs(P,{"data-testid":"card-optimal-duration",children:[e.jsx(Q,{className:"pb-2",children:e.jsxs(X,{className:"text-sm flex items-center gap-2",children:[e.jsx(dr,{className:"h-4 w-4"}),"Recommended Duration"]})}),e.jsx(F,{children:e.jsx("p",{className:"text-sm","data-testid":"text-optimal-duration",children:c.aiOptimalDuration})})]}),c.aiBudgetEstimate&&e.jsxs(P,{"data-testid":"card-budget-estimate",children:[e.jsx(Q,{className:"pb-2",children:e.jsxs(X,{className:"text-sm flex items-center gap-2",children:[e.jsx(Db,{className:"h-4 w-4"}),"Daily Budget Estimate (USD)"]})}),e.jsx(F,{children:e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[e.jsxs("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Budget"}),e.jsxs("p",{className:"text-lg font-semibold text-green-600 dark:text-green-400",children:["$",c.aiBudgetEstimate.budget||50]})]}),e.jsxs("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Mid-Range"}),e.jsxs("p",{className:"text-lg font-semibold text-blue-600 dark:text-blue-400",children:["$",c.aiBudgetEstimate.midRange||150]})]}),e.jsxs("div",{className:"p-3 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Luxury"}),e.jsxs("p",{className:"text-lg font-semibold text-purple-600 dark:text-purple-400",children:["$",c.aiBudgetEstimate.luxury||300]})]})]})})]}),c.aiMustSeeAttractions&&c.aiMustSeeAttractions.length>0&&e.jsxs(P,{"data-testid":"card-must-see",children:[e.jsx(Q,{className:"pb-2",children:e.jsxs(X,{className:"text-sm flex items-center gap-2",children:[e.jsx(rt,{className:"h-4 w-4"}),"Must-See Attractions"]})}),e.jsx(F,{children:e.jsx("div",{className:"flex flex-wrap gap-2",children:c.aiMustSeeAttractions.map((v,y)=>e.jsxs(O,{variant:"outline",className:"bg-yellow-50 dark:bg-yellow-900/20",children:[e.jsx(Me,{className:"h-3 w-3 mr-1"}),v]},y))})})]}),c.aiTravelTips&&c.aiTravelTips.length>0&&e.jsxs(P,{"data-testid":"card-travel-tips",children:[e.jsx(Q,{className:"pb-2",children:e.jsxs(X,{className:"text-sm flex items-center gap-2",children:[e.jsx(zn,{className:"h-4 w-4"}),"Local Tips"]})}),e.jsx(F,{children:e.jsx("ul",{className:"space-y-2",children:c.aiTravelTips.map((v,y)=>e.jsxs("li",{className:"text-sm flex items-start gap-2",children:[e.jsx("span",{className:"text-primary",children:"-"}),v]},y))})})]}),c.aiLocalInsights&&e.jsxs(P,{"data-testid":"card-local-insights",children:[e.jsx(Q,{className:"pb-2",children:e.jsxs(X,{className:"text-sm flex items-center gap-2",children:[e.jsx(Qt,{className:"h-4 w-4"}),"Cultural Insights"]})}),e.jsx(F,{children:e.jsx("p",{className:"text-sm text-muted-foreground","data-testid":"text-local-insights",children:c.aiLocalInsights})})]}),c.aiSafetyNotes&&e.jsxs(P,{className:"bg-yellow-50 dark:bg-yellow-900/20","data-testid":"card-safety-notes",children:[e.jsx(Q,{className:"pb-2",children:e.jsxs(X,{className:"text-sm flex items-center gap-2",children:[e.jsx(sr,{className:"h-4 w-4 text-yellow-600"}),"Safety Notes"]})}),e.jsx(F,{children:e.jsx("p",{className:"text-sm text-muted-foreground","data-testid":"text-safety-notes",children:c.aiSafetyNotes})})]}),c.aiSeasonalHighlights&&c.aiSeasonalHighlights.length>0&&e.jsxs(P,{"data-testid":"card-seasonal-guide",children:[e.jsx(Q,{className:"pb-2",children:e.jsxs(X,{className:"text-sm flex items-center gap-2",children:[e.jsx(Ml,{className:"h-4 w-4"}),"Seasonal Guide"]})}),e.jsx(F,{children:e.jsx(Ha,{className:"h-48",children:e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2",children:c.aiSeasonalHighlights.map(v=>{const y=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],w={excellent:"bg-green-100 dark:bg-green-900/30 border-green-300",good:"bg-blue-100 dark:bg-blue-900/30 border-blue-300",average:"bg-yellow-100 dark:bg-yellow-900/30 border-yellow-300",poor:"bg-red-100 dark:bg-red-900/30 border-red-300"};return e.jsxs("div",{className:te("p-2 rounded-lg border",w[v.rating]||"bg-muted"),"data-testid":`month-${v.month}`,children:[e.jsx("p",{className:"text-xs font-medium",children:y[v.month-1]}),e.jsx("p",{className:"text-xs text-muted-foreground truncate",title:v.highlight,children:v.highlight})]},v.month)})})})})]}),c.aiAvoidDates&&c.aiAvoidDates.length>0&&e.jsxs(P,{className:"bg-red-50 dark:bg-red-900/20","data-testid":"card-avoid-dates",children:[e.jsx(Q,{className:"pb-2",children:e.jsxs(X,{className:"text-sm flex items-center gap-2",children:[e.jsx(n$,{className:"h-4 w-4 text-red-600"}),"Dates to Avoid"]})}),e.jsx(F,{children:e.jsx("ul",{className:"space-y-2",children:c.aiAvoidDates.map((v,y)=>e.jsxs("li",{className:"text-sm","data-testid":`avoid-date-${y}`,children:[e.jsx("span",{className:"font-medium text-red-600 dark:text-red-400",children:v.dateRange}),e.jsxs("span",{className:"text-muted-foreground",children:[" - ",v.reason]})]},y))})})]}),e.jsx(Lce,{cityName:c.cityName,country:c.country})]}):e.jsxs(P,{className:"p-8 text-center",children:[e.jsx(eg,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsxs("p",{className:"text-muted-foreground",children:["AI insights are being generated for ",c.cityName]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Check back soon for personalized travel intelligence"})]})})]})]})}const Gce={romantic:"bg-pink-100 text-pink-700 dark:bg-pink-900/30 dark:text-pink-400",adventure:"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-400",foodie:"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400",nightlife:"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400",cultural:"bg-indigo-100 text-indigo-700 dark:bg-indigo-900/30 dark:text-indigo-400",relaxation:"bg-cyan-100 text-cyan-700 dark:bg-cyan-900/30 dark:text-cyan-400",family:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",budget:"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400",luxury:"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400",nature:"bg-teal-100 text-teal-700 dark:bg-teal-900/30 dark:text-teal-400"};function Kce(t){switch(t){case"quiet":return"text-green-500";case"moderate":return"text-yellow-500";case"busy":return"text-orange-500";case"packed":return"text-red-500";default:return"text-muted-foreground"}}function Yce(t){return t>=90?"from-rose-500 to-orange-500":t>=80?"from-orange-500 to-amber-500":t>=70?"from-amber-500 to-yellow-500":"from-yellow-500 to-lime-500"}function Qce({city:t,onClick:s}){const a=parseFloat(t.priceChange||"0"),r=Array.isArray(t.vibeTags)?t.vibeTags:[];return e.jsx(He.div,{layoutId:`city-${t.id}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},whileHover:{y:-4},transition:{duration:.2},children:e.jsxs(P,{className:"overflow-hidden cursor-pointer hover-elevate group",onClick:s,"data-testid":`card-city-${t.cityName.toLowerCase().replace(/\s+/g,"-")}`,children:[e.jsxs("div",{className:"relative h-40 overflow-hidden",children:[t.imageUrl?e.jsx("img",{src:t.imageUrl,alt:t.cityName,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-110"}):e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-primary/20 to-primary/5 flex items-center justify-center",children:e.jsx(Me,{className:"h-12 w-12 text-primary/30"})}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent"}),e.jsxs("div",{className:"absolute top-3 left-3 flex gap-2",children:[e.jsxs(O,{className:te("bg-gradient-to-r text-white border-0 font-bold",Yce(t.pulseScore)),"data-testid":`pulse-score-${t.cityName.toLowerCase().replace(/\s+/g,"-")}`,children:[e.jsx(qa,{className:"h-3 w-3 mr-1"}),t.pulseScore]}),t.totalAlerts>0&&e.jsxs(O,{variant:"destructive",className:"text-xs","data-testid":`alert-count-${t.cityName.toLowerCase().replace(/\s+/g,"-")}`,children:[e.jsx(mi,{className:"h-3 w-3 mr-1"}),t.totalAlerts]})]}),e.jsxs("div",{className:"absolute bottom-3 left-3 right-3",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-1","data-testid":`city-name-${t.cityName.toLowerCase().replace(/\s+/g,"-")}`,children:t.cityName}),e.jsxs("div",{className:"flex items-center gap-2 text-white/80 text-sm",children:[e.jsx(Me,{className:"h-3 w-3"}),e.jsx("span",{children:t.country}),e.jsx("span",{className:"text-white/50",children:""}),e.jsx(et,{className:"h-3 w-3"}),e.jsxs("span",{children:[t.activeTravelers.toLocaleString()," travelers"]})]})]})]}),e.jsxs(F,{className:"p-4 space-y-3",children:[t.currentHighlight&&e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(qe,{className:"h-4 w-4 text-primary"}),e.jsx("span",{className:"font-medium text-primary",children:t.currentHighlight})]}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[r.slice(0,3).map(n=>e.jsx(O,{variant:"secondary",className:te("text-xs capitalize",Gce[n]||""),children:n},n)),r.length>3&&e.jsxs(O,{variant:"outline",className:"text-xs",children:["+",r.length-3]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[e.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[e.jsx(bt,{className:"h-3 w-3 text-muted-foreground"}),e.jsxs("span",{className:"font-medium",children:["$",t.avgHotelPrice||"N/A"]}),a!==0&&e.jsxs("span",{className:te("flex items-center text-xs",a<0?"text-green-500":"text-red-500"),children:[a<0?e.jsx(uw,{className:"h-3 w-3"}):e.jsx(Xt,{className:"h-3 w-3"}),Math.abs(a),"%"]})]}),e.jsx("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:e.jsx("span",{className:te("capitalize",Kce(t.crowdLevel)),children:t.crowdLevel})})]}),t.dealAlert&&e.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-md bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-400 text-xs","data-testid":`deal-alert-${t.cityName.toLowerCase().replace(/\s+/g,"-")}`,children:[e.jsx(bt,{className:"h-3 w-3"}),e.jsx("span",{className:"font-medium",children:t.dealAlert})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground pt-1",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Xt,{className:"h-3 w-3"}),e.jsxs("span",{children:[t.totalTrendingSpots," trending"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(cr,{className:"h-3 w-3"}),e.jsxs("span",{children:[t.totalHiddenGems," gems"]})]})]})]})]})})}function Xce(){return e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[...Array(8)].map((t,s)=>e.jsxs(P,{className:"overflow-hidden",children:[e.jsx(_e,{className:"h-40 w-full"}),e.jsxs(F,{className:"p-4 space-y-3",children:[e.jsx(_e,{className:"h-5 w-3/4"}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(_e,{className:"h-5 w-16"}),e.jsx(_e,{className:"h-5 w-16"}),e.jsx(_e,{className:"h-5 w-16"})]}),e.jsxs("div",{className:"flex justify-between pt-2",children:[e.jsx(_e,{className:"h-4 w-20"}),e.jsx(_e,{className:"h-4 w-16"})]})]})]},s))})}function Zce({onCitySelect:t}){const[s,a]=h.useState(null),{data:r,isLoading:n,error:i}=Le({queryKey:["/api/travelpulse/cities"]}),l=m=>{a(m),t?.(m)},c=()=>{a(null)};if(n)return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx(_e,{className:"h-8 w-64 mb-2"}),e.jsx(_e,{className:"h-4 w-96"})]})}),e.jsx(Xce,{})]});if(i)return e.jsx(P,{className:"p-8 text-center",children:e.jsx("p",{className:"text-muted-foreground",children:"Failed to load cities. Please try again."})});const u=r?.cities||[];return s?e.jsx(iI,{cityName:s.cityName,onBack:c}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[e.jsx(Ai,{className:"h-6 w-6 text-primary"}),"Trending Cities"]}),e.jsxs("p",{className:"text-muted-foreground mt-1",children:["Real-time intelligence from ",u.reduce((m,x)=>m+x.activeTravelers,0).toLocaleString()," travelers worldwide"]})]}),e.jsxs(O,{variant:"outline",className:"text-sm",children:[e.jsx(Ge,{className:"h-3 w-3 mr-1"}),"Live Updates"]})]}),u.length===0?e.jsxs(P,{className:"p-8 text-center",children:[e.jsx(qe,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-lg font-medium mb-2",children:"No cities available yet"}),e.jsx("p",{className:"text-muted-foreground",children:"Check back soon for trending destinations!"})]}):e.jsx(xm,{mode:"popLayout",children:e.jsx(He.div,{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",layout:!0,children:u.map(m=>e.jsx(Qce,{city:m,onClick:()=>l(m)},m.id))})})]})}function Jce(t,s){const a=new Date(t,s-1,1),n=new Date(t,s,0).getDate(),i=a.getDay(),l=[];let c=[];for(let u=0;u<i;u++)c.push(null);for(let u=1;u<=n;u++)c.push(u),c.length===7&&(l.push(c),c=[]);if(c.length>0){for(;c.length<7;)c.push(null);l.push(c)}return l}function ede({year:t,month:s,eventDays:a=[],onDayClick:r}){const n=Jce(t,s),i=new Date,l=i.getFullYear()===t&&i.getMonth()+1===s,c=i.getDate();return e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{className:"grid grid-cols-7 gap-0.5 text-[9px] text-muted-foreground mb-1",children:["S","M","T","W","T","F","S"].map((u,m)=>e.jsx("div",{className:"text-center font-medium",children:u},m))}),e.jsx("div",{className:"space-y-0.5",children:n.map((u,m)=>e.jsx("div",{className:"grid grid-cols-7 gap-0.5",children:u.map((x,f)=>{const g=x!==null&&a.includes(x),b=l&&x===c;return e.jsx("div",{className:`
                    text-[9px] text-center py-0.5 rounded-sm
                    ${x===null?"":"cursor-pointer hover:bg-muted"}
                    ${b?"bg-primary text-primary-foreground font-bold":""}
                    ${g&&!b?"bg-primary/20 font-medium":""}
                  `,onClick:v=>{x!==null&&r&&(v.stopPropagation(),r(x))},children:x||""},f)})},m))})]})}const tde=["January","February","March","April","May","June","July","August","September","October","November","December"];function sde(t){const s=t.toLowerCase();return s.includes("snow")||s.includes("cold")?e.jsx(dw,{className:"h-4 w-4 text-blue-400"}):s.includes("rain")||s.includes("monsoon")||s.includes("wet")?e.jsx(ew,{className:"h-4 w-4 text-blue-500"}):s.includes("cloud")||s.includes("overcast")?e.jsx(t0,{className:"h-4 w-4 text-gray-400"}):e.jsx(Ml,{className:"h-4 w-4 text-yellow-500"})}function ade(t){const s=t.toLowerCase();return s.includes("high")||s.includes("peak")?e.jsx(et,{className:"h-3.5 w-3.5 text-red-500"}):s.includes("moderate")||s.includes("medium")?e.jsx(et,{className:"h-3.5 w-3.5 text-amber-500"}):e.jsx(et,{className:"h-3.5 w-3.5 text-green-500"})}function rde(t){switch(t){case"best":case"excellent":return"bg-green-500";case"good":return"bg-blue-500";case"average":return"bg-amber-500";case"avoid":case"poor":return"bg-red-500";default:return"bg-gray-400"}}function nde({year:t,monthSummaries:s,onMonthClick:a,onBack:r}){const n=new Date().getMonth();return e.jsxs("div",{className:"space-y-4","data-testid":"year-overview-calendar",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-3",children:[r&&e.jsx(S,{variant:"ghost",size:"icon",onClick:r,"data-testid":"button-back-year",children:e.jsx(hr,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-bold",children:[t," Travel Calendar"]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Click any month to see the best destinations and events"})]})]})}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:tde.map((i,l)=>{const c=s.find(m=>m.month===l+1),u=l===n;return e.jsxs(P,{className:`p-4 cursor-pointer hover-elevate transition-all ${u?"ring-2 ring-primary":""}`,onClick:()=>a(l+1),"data-testid":`month-card-${l+1}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"font-semibold",children:i}),c&&e.jsx("div",{className:`w-2.5 h-2.5 rounded-full ${rde(c.topRating)}`})]}),c?e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex flex-wrap gap-x-4 gap-y-1 text-xs text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[sde(c.avgWeather),e.jsx("span",{className:"truncate",children:c.avgWeather||"Varied"})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[ade(c.avgCrowdLevel),e.jsx("span",{children:c.avgCrowdLevel||"Normal"})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-x-4 gap-y-1 text-xs",children:[c.eventCount>0&&e.jsxs("div",{className:"flex items-center gap-1 text-primary",children:[e.jsx($r,{className:"h-3 w-3"}),e.jsxs("span",{className:"font-medium",children:[c.eventCount," event",c.eventCount!==1?"s":""]})]}),e.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[e.jsx(Xt,{className:"h-3 w-3"}),e.jsxs("span",{children:[c.cityCount," destinations"]})]})]}),e.jsx(ede,{year:t,month:l+1,eventDays:c.eventDays||[],onDayClick:m=>{a(l+1)}}),c.highlights&&c.highlights.length>0&&e.jsx("div",{className:"mt-2 pt-2 border-t border-border/50 space-y-1",children:c.highlights.slice(0,2).map((m,x)=>e.jsxs("div",{className:"text-[10px] text-muted-foreground flex items-start gap-1",children:[e.jsxs("span",{className:"text-primary font-medium shrink-0",children:[m.day,":"]}),e.jsxs("span",{className:"truncate",children:[m.name,m.city&&e.jsxs("span",{className:"text-muted-foreground/70",children:[" (",m.city,")"]})]})]},x))})]}):e.jsx("div",{className:"text-xs text-muted-foreground",children:"Loading..."})]},i)})}),e.jsxs("div",{className:"flex items-center justify-center gap-4 pt-4 text-xs text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-green-500"}),e.jsx("span",{children:"Best time"})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-blue-500"}),e.jsx("span",{children:"Good time"})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-amber-500"}),e.jsx("span",{children:"Average"})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-red-500"}),e.jsx("span",{children:"Off season"})]})]})]})}const ide=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];function lde(t,s){return new Date(t,s,0).getDate()}function ode(t,s){return new Date(t,s-1,1).getDay()}function cde(t,s,a,r){const n=`${s}-${String(a).padStart(2,"0")}-${String(r).padStart(2,"0")}`;return t.filter(i=>i.specificDate?i.specificDate===n:i.startMonth&&i.endMonth?a>=i.startMonth&&a<=i.endMonth:i.startMonth?a===i.startMonth:!1)}function dde(t){switch(t?.toLowerCase()){case"festival":return"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400";case"holiday":return"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400";case"cultural":return"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400";case"sporting":return"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400";case"weather":return"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400";default:return"bg-gray-100 text-gray-700 dark:bg-gray-900/30 dark:text-gray-400"}}function ude({year:t,month:s,monthName:a,events:r,seasonInfo:n,onDateClick:i,onPrevMonth:l,onNextMonth:c,onBack:u,selectedDate:m}){const x=lde(t,s),f=ode(t,s),g=new Date,b=g.getMonth()+1===s&&g.getFullYear()===t,v=[];for(let k=0;k<f;k++)v.push(null);for(let k=1;k<=x;k++)v.push(k);const y=[];for(let k=0;k<v.length;k+=7)y.push(v.slice(k,k+7));for(;y[y.length-1]?.length<7;)y[y.length-1].push(null);const w=()=>{if(n.length===0)return null;const k=n.map(M=>M.rating),C=k.filter(M=>M==="best").length,_=k.filter(M=>M==="good").length;return C>_?"Best time for many destinations":_>0?"Good travel conditions":"Mixed conditions"};return e.jsxs("div",{className:"space-y-4","data-testid":"month-calendar-grid",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(S,{variant:"ghost",size:"icon",onClick:u,"data-testid":"button-back-month",children:e.jsx(hr,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-bold",children:[a," ",t]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:w()||"Click a date to see destinations"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(S,{variant:"outline",size:"icon",onClick:l,"data-testid":"button-prev-month",children:e.jsx(hr,{className:"h-4 w-4"})}),e.jsx(S,{variant:"outline",size:"icon",onClick:c,"data-testid":"button-next-month",children:e.jsx($s,{className:"h-4 w-4"})})]})]}),e.jsxs(P,{className:"p-4",children:[e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:ide.map(k=>e.jsx("div",{className:"text-center text-xs font-medium text-muted-foreground py-2",children:k},k))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:y.flat().map((k,C)=>{if(k===null)return e.jsx("div",{className:"min-h-11"},`empty-${C}`);const _=cde(r,t,s,k),M=b&&k===g.getDate(),E=m&&m.getDate()===k&&m.getMonth()+1===s&&m.getFullYear()===t,R=_.length>0;return e.jsxs("div",{className:"relative flex items-center justify-center",children:[e.jsx(S,{variant:E?"default":"ghost",size:"xl",onClick:()=>i(new Date(t,s-1,k)),className:M?"ring-2 ring-primary font-bold":"","data-testid":`date-cell-${k}`,children:k}),R&&e.jsx("span",{className:"absolute top-0 right-0 flex items-center justify-center w-4 h-4 text-[10px] font-medium bg-primary text-primary-foreground rounded-full pointer-events-none",children:_.length})]},`day-${k}`)})})]}),r.length>0&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h3",{className:"text-sm font-semibold flex items-center gap-2",children:[e.jsx($r,{className:"h-4 w-4 text-muted-foreground"}),"Events this month (",r.length,")"]}),e.jsx(Ha,{className:"max-h-48",children:e.jsx("div",{className:"space-y-2",children:r.slice(0,8).map(k=>e.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-lg bg-muted/50","data-testid":`event-item-${k.id}`,children:[e.jsx(O,{variant:"secondary",className:`text-xs ${dde(k.eventType)}`,children:k.eventType||"Event"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium truncate",children:k.title}),e.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[e.jsx(Me,{className:"h-3 w-3"}),k.city?`${k.city}, `:"",k.country]})]})]},k.id))})})]})]})}const N2=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function mde(t){switch(t){case"best":case"excellent":return"bg-green-500";case"good":return"bg-blue-500";case"average":return"bg-amber-500";case"avoid":case"poor":return"bg-red-500";default:return"bg-gray-400"}}function qg(t,s){const a=new Date(t,s-1,1),n=new Date(t,s,0).getDate(),i=a.getDay(),l=[];let c=[];for(let u=0;u<i;u++)c.push(null);for(let u=1;u<=n;u++)c.push(u),c.length===7&&(l.push(c),c=[]);if(c.length>0){for(;c.length<7;)c.push(null);l.push(c)}return l}function hde({year:t,month:s,eventDays:a=[],selectedWeek:r,selectedDay:n,filterMode:i,onWeekClick:l,onDayClick:c}){const u=qg(t,s),m=new Date,x=m.getFullYear()===t&&m.getMonth()+1===s,f=m.getDate();return e.jsxs("div",{className:"mt-1","data-mini-calendar":!0,children:[e.jsx("div",{className:"grid grid-cols-7 gap-px text-[7px] text-muted-foreground mb-0.5",children:["S","M","T","W","T","F","S"].map((g,b)=>e.jsx("div",{className:"text-center",children:g},b))}),e.jsx("div",{className:"space-y-px",children:u.map((g,b)=>{const v=r===b+1;return e.jsx("div",{className:te("grid grid-cols-7 gap-px rounded-sm transition-colors",i==="week"&&"cursor-pointer hover:bg-primary/20 hover:ring-1 hover:ring-primary/50",v&&"bg-primary/20 ring-1 ring-primary"),onClick:y=>{i==="week"&&l&&(y.stopPropagation(),l(b+1))},"data-testid":`week-row-${b+1}`,children:g.map((y,w)=>{const k=y!==null&&a.includes(y),C=x&&y===f,_=n===y&&y!==null;return e.jsx("div",{className:te("text-[7px] text-center py-px rounded-sm transition-colors",y===null?"":i==="day"?"cursor-pointer hover:bg-primary/20":"",C&&"bg-primary text-primary-foreground font-bold",k&&!C&&!_&&"bg-primary/20",_&&"bg-primary text-primary-foreground ring-1 ring-primary"),onClick:M=>{y!==null&&i==="day"&&c&&(M.stopPropagation(),c(y))},children:y||""},w)})},b)})})]})}function xde({year:t,month:s,week:a,eventDays:r=[],highlights:n=[],selectedDay:i,onDayClick:l,onBack:c,onPrevWeek:u,onNextWeek:m,totalWeeks:x}){const g=qg(t,s)[a-1]||[],b=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],v=n.filter(y=>g.includes(y.day));return e.jsxs("div",{className:"space-y-2","data-testid":"week-zoom-view",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(S,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:c,"data-testid":"button-week-back",children:e.jsx(hr,{className:"h-3 w-3"})}),e.jsxs("span",{className:"text-xs font-medium","data-testid":"text-week-title",children:[N2[s-1]," Week ",a]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(S,{variant:"ghost",size:"icon",className:"h-5 w-5",onClick:u,disabled:s===1&&a===1,"data-testid":"button-week-prev",children:e.jsx(hr,{className:"h-3 w-3"})}),e.jsx(S,{variant:"ghost",size:"icon",className:"h-5 w-5",onClick:m,disabled:s===12&&a===x,"data-testid":"button-week-next",children:e.jsx($s,{className:"h-3 w-3"})})]})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1","data-testid":"week-days-grid",children:g.map((y,w)=>{const k=y!==null&&r.includes(y),C=y===i;return e.jsxs("div",{className:te("flex flex-col items-center p-1 rounded cursor-pointer transition-colors",y===null?"opacity-30":"hover:bg-muted",k&&!C&&"bg-primary/10",C&&"bg-primary text-primary-foreground"),onClick:()=>y&&l(y),"data-testid":y?`week-day-${y}`:`week-day-empty-${w}`,children:[e.jsx("span",{className:"text-[8px] text-muted-foreground",children:b[w]}),e.jsx("span",{className:te("text-sm font-medium",C&&"text-primary-foreground"),children:y||"-"}),k&&e.jsx("div",{className:te("w-1 h-1 rounded-full mt-0.5",C?"bg-primary-foreground":"bg-primary"),"data-testid":`event-dot-${y}`})]},w)})}),v.length>0&&e.jsxs("div",{className:"space-y-1 pt-1 border-t","data-testid":"week-highlights-section",children:[e.jsx("span",{className:"text-[9px] text-muted-foreground font-medium",children:"This week:"}),v.slice(0,3).map((y,w)=>e.jsxs("div",{className:"text-[9px] flex gap-1","data-testid":`week-highlight-${w}`,children:[e.jsxs("span",{className:"text-primary font-medium",children:[y.day,":"]}),e.jsx("span",{className:"truncate",children:y.name})]},w))]})]})}function pde({year:t,month:s,day:a,highlights:r=[],onBack:n,onPrevDay:i,onNextDay:l}){const u=new Date(t,s-1,a).toLocaleDateString("en-US",{weekday:"long"}),m=r.filter(x=>x.day===a);return e.jsxs("div",{className:"space-y-3","data-testid":"day-zoom-view",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(S,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:n,"data-testid":"button-day-back",children:e.jsx(hr,{className:"h-3 w-3"})}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-bold","data-testid":"text-day-number",children:a}),e.jsx("div",{className:"text-[10px] text-muted-foreground","data-testid":"text-day-name",children:u})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(S,{variant:"ghost",size:"icon",className:"h-5 w-5",onClick:i,"data-testid":"button-day-prev",children:e.jsx(hr,{className:"h-3 w-3"})}),e.jsx(S,{variant:"ghost",size:"icon",className:"h-5 w-5",onClick:l,"data-testid":"button-day-next",children:e.jsx($s,{className:"h-3 w-3"})})]})]}),e.jsxs("div",{className:"text-xs text-center text-muted-foreground","data-testid":"text-full-date",children:[N2[s-1]," ",a,", ",t]}),m.length>0?e.jsxs("div",{className:"space-y-2","data-testid":"day-events-section",children:[e.jsx("span",{className:"text-[10px] font-medium text-muted-foreground",children:"Events:"}),m.map((x,f)=>e.jsxs(P,{className:"p-2","data-testid":`day-event-card-${f}`,children:[e.jsx("div",{className:"text-xs font-medium",children:x.name}),x.city&&e.jsx("div",{className:"text-[10px] text-muted-foreground",children:x.city})]},f))]}):e.jsx("div",{className:"text-center py-4 text-xs text-muted-foreground","data-testid":"day-no-events",children:"No specific events on this day"})]})}function fde({year:t,monthSummaries:s,selectedMonth:a,selectedWeek:r,selectedDay:n,filterMode:i,onFilterModeChange:l,onMonthSelect:c,onWeekSelect:u,onDaySelect:m}){const[x,f]=h.useState(null),g=new Date().getMonth()+1,b=x||a,v=s.find(y=>y.month===b);if(i==="day"&&n)return e.jsx(P,{className:"p-3 w-[648px]","data-testid":"compact-calendar-day-view",children:e.jsx(pde,{year:t,month:b,day:n,highlights:v?.highlights,onBack:()=>{f(null),l("month")},onPrevDay:()=>{const y=n-1;y>=1&&m(b,y)},onNextDay:()=>{const y=new Date(t,b,0).getDate(),w=n+1;w<=y&&m(b,w)}})});if(i==="week"&&r){const y=qg(t,b).length,w=()=>{if(r>1)u(b,r-1);else if(b>1){const C=b-1,_=qg(t,C).length;f(C),u(C,_)}},k=()=>{if(r<y)u(b,r+1);else if(b<12){const C=b+1;f(C),u(C,1)}};return e.jsx(P,{className:"p-3 w-[648px]","data-testid":"compact-calendar-week-view",children:e.jsx(xde,{year:t,month:b,week:r,eventDays:v?.eventDays,highlights:v?.highlights,selectedDay:n,totalWeeks:y,onDayClick:C=>{l("day"),m(b,C)},onBack:()=>{f(null),l("month")},onPrevWeek:w,onNextWeek:k})})}return e.jsxs(P,{className:"p-3 w-[648px]","data-testid":"compact-year-calendar",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(Ge,{className:"h-3.5 w-3.5 text-muted-foreground"}),e.jsx("span",{className:"text-xs font-semibold",children:t})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsxs(S,{variant:i==="month"?"default":"outline",size:"sm",onClick:()=>l("month"),"data-testid":"button-filter-month",children:[e.jsx(h$,{className:"h-3 w-3 mr-1"}),"Month"]}),e.jsxs(S,{variant:i==="week"?"default":"outline",size:"sm",onClick:()=>l("week"),"data-testid":"button-filter-week",children:[e.jsx(r$,{className:"h-3 w-3 mr-1"}),"Week"]}),e.jsxs(S,{variant:i==="day"?"default":"outline",size:"sm",onClick:()=>l("day"),"data-testid":"button-filter-day",children:[e.jsx(tg,{className:"h-3 w-3 mr-1"}),"Day"]})]})]}),e.jsx("div",{className:"grid grid-cols-4 gap-1.5",children:N2.map((y,w)=>{const k=w+1,C=s.find(E=>E.month===k),_=k===g,M=k===a;return e.jsxs("div",{className:te("p-1.5 rounded cursor-pointer transition-all border",M?"border-primary bg-primary/5 ring-1 ring-primary":"border-transparent hover:bg-muted",_&&!M&&"border-primary/30"),onClick:E=>{E.target.closest("[data-mini-calendar]")&&i!=="month"||(c(k),i!=="month"&&f(k))},"data-testid":`compact-month-${k}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-0.5",children:[e.jsx("span",{className:te("text-[10px] font-medium",M&&"text-primary"),children:y}),C&&e.jsx("div",{className:te("w-1.5 h-1.5 rounded-full",mde(C.topRating))})]}),C&&e.jsx(hde,{year:t,month:k,eventDays:C.eventDays||[],selectedWeek:M?r:void 0,selectedDay:M?n:void 0,filterMode:i,onWeekClick:E=>{f(k),u(k,E)},onDayClick:E=>{f(k),m(k,E)}}),C&&C.eventCount>0&&e.jsx("div",{className:"mt-1",children:e.jsxs("span",{className:"text-[7px] text-muted-foreground","data-testid":`text-event-count-${k}`,children:[C.eventCount," ",C.eventCount===1?"event":"events"]})}),C&&C.highlights&&C.highlights.length>0&&e.jsx("div",{className:"mt-0.5 text-[7px] text-foreground font-medium truncate",title:C.highlights[0]?.name,"data-testid":`text-highlight-${k}`,children:C.highlights[0]?.name})]},y)})}),e.jsxs("div",{className:"flex items-center justify-center gap-2 pt-2 mt-2 border-t text-[8px] text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-0.5",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-500"}),e.jsx("span",{children:"Best"})]}),e.jsxs("div",{className:"flex items-center gap-0.5",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-500"}),e.jsx("span",{children:"Good"})]}),e.jsxs("div",{className:"flex items-center gap-0.5",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-amber-500"}),e.jsx("span",{children:"Avg"})]})]})]})}const L3=[{id:"all",label:"All Destinations",icon:dr},{id:"romantic",label:"Romantic",icon:Qt},{id:"adventure",label:"Adventure",icon:ld},{id:"cultural",label:"Cultural",icon:uo},{id:"beach",label:"Beach",icon:P$},{id:"foodie",label:"Foodie",icon:Ns},{id:"nightlife",label:"Nightlife",icon:qe},{id:"family",label:"Family",icon:et},{id:"nature",label:"Nature",icon:ld}],Jj=["January","February","March","April","May","June","July","August","September","October","November","December"];function eb(t){if(!t)return e.jsx(Ml,{className:"h-4 w-4 text-yellow-500"});const s=t.toLowerCase();return s.includes("snow")||s.includes("cold")?e.jsx(dw,{className:"h-4 w-4 text-blue-400"}):s.includes("rain")||s.includes("monsoon")||s.includes("wet")?e.jsx(ew,{className:"h-4 w-4 text-blue-500"}):s.includes("cloud")||s.includes("overcast")?e.jsx(t0,{className:"h-4 w-4 text-gray-400"}):e.jsx(Ml,{className:"h-4 w-4 text-yellow-500"})}function gde(t){switch(t){case"best":case"excellent":return"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400 border-green-200 dark:border-green-800";case"good":return"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400 border-blue-200 dark:border-blue-800";case"average":return"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400 border-amber-200 dark:border-amber-800";case"avoid":case"poor":return"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400 border-red-200 dark:border-red-800";default:return"bg-gray-100 text-gray-700 dark:bg-gray-900/30 dark:text-gray-400"}}function vde(t){switch(t){case"best":case"excellent":return"Best Time";case"good":return"Good Time";case"average":return"Average";case"avoid":case"poor":return"Off Season";default:return"Unknown"}}function yde({onCityClick:t}){const s=new Date().getFullYear(),[a,r]=h.useState("month-destinations"),[n,i]=h.useState(new Date().getMonth()+1),[l,c]=h.useState("all"),[u,m]=h.useState(null),[x,f]=h.useState(null),[g,b]=h.useState("month"),[v,y]=h.useState(void 0),[w,k]=h.useState(void 0),[C,_]=h.useState(!0),{data:M,isLoading:E,error:R,refetch:z}=Le({queryKey:[`/api/travelpulse/global-calendar?month=${n}&vibe=${l}&limit=30`]}),{data:A}=Le({queryKey:["/api/travelpulse/year-summary",s],queryFn:async()=>{const L=[];for(let W=1;W<=12;W++){const re=await fetch(`/api/travelpulse/global-calendar?month=${W}&limit=10`);if(re.ok){const se=await re.json(),ge=[...se.grouped.best,...se.grouped.good,...se.grouped.average],K=se.grouped.best.length>0?"best":se.grouped.good.length>0?"good":se.grouped.average.length>0?"average":"avoid",J=ge.length>0&&ge[0].weatherDescription?ge[0].weatherDescription:"Varied",je=ge.length>0&&ge[0].seasonCrowdLevel?ge[0].seasonCrowdLevel:"Normal",ze=[],ft=[];se.allEvents&&se.allEvents.forEach(Nt=>{if(Nt.specificDate){const ht=new Date(Nt.specificDate);if(ht.getMonth()+1===W){const Lt=ht.getDate();ze.push(Lt),ft.length<3&&ft.push({name:Nt.title,day:Lt,city:Nt.city||void 0})}}else if(Nt.startMonth===W||Nt.endMonth===W){for(let ht=1;ht<=28;ht+=7)ze.push(ht);ft.length<3&&ft.push({name:Nt.title,day:Nt.startMonth===W?1:15,city:Nt.city||void 0})}}),L.push({month:W,monthName:Jj[W-1],eventCount:se.allEvents?.length||0,avgWeather:J,avgCrowdLevel:je,topRating:K,cityCount:se.totalCities||ge.length,eventDays:Array.from(new Set(ze)),highlights:ft})}}return{summaries:L}},staleTime:1e3*60*30}),V=(L,W)=>{m({name:L,country:W}),t?.(L,W)},H=()=>{m(null)},I=L=>{i(L),r("month-grid")},q=L=>{f(L),r("month-destinations")},fe=()=>{r("year"),f(null)},oe=()=>{i(L=>L===1?12:L-1),y(void 0),k(void 0)},Ee=()=>{i(L=>L===12?1:L+1),y(void 0),k(void 0)};if(u)return e.jsx(iI,{cityName:u.name,onBack:H});if(E&&a!=="year")return e.jsxs("div",{className:"space-y-4",children:[e.jsx(_e,{className:"h-12 w-full"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Array.from({length:6}).map((L,W)=>e.jsx(_e,{className:"h-40"},W))})]});if(R)return e.jsxs(P,{className:"p-8 text-center",children:[e.jsx(Ge,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Unable to load the global calendar"}),e.jsx(S,{variant:"outline",onClick:()=>z(),className:"mt-4","data-testid":"button-retry",children:"Try Again"})]});if(a==="year")return e.jsx("div",{className:"space-y-4","data-testid":"global-calendar",children:e.jsx(nde,{year:s,monthSummaries:A?.summaries||[],onMonthClick:I})});if(a==="month-grid"){const{allEvents:L,monthName:W}=M||{allEvents:[],monthName:Jj[n-1]};return e.jsxs("div",{className:"space-y-4","data-testid":"global-calendar",children:[e.jsx(ude,{year:s,month:n,monthName:W,events:L.map(re=>({...re,eventType:re.eventType||null})),seasonInfo:[],onDateClick:q,onPrevMonth:oe,onNextMonth:Ee,onBack:fe,selectedDate:x}),e.jsx("div",{className:"flex gap-2",children:e.jsxs(S,{variant:"default",size:"sm",onClick:()=>r("month-destinations"),"data-testid":"button-show-destinations",children:[e.jsx(Me,{className:"h-4 w-4 mr-1"}),"View Destinations for ",W]})})]})}const{grouped:me,allEvents:ie,monthName:B}=M||{grouped:{best:[],good:[],average:[]},allEvents:[],monthName:""},ae=(L,W,re)=>{const J=1-new Date(L,W-1,1).getDay()+(re-1)*7,je=new Date(L,W,0).getDate(),ze=[];for(let ft=0;ft<7;ft++){const Nt=J+ft;Nt>=1&&Nt<=je&&ze.push(Nt)}return ze},$=(L=>g==="month"||!v&&!w?L:L.filter(W=>{if(!W.specificDate)return!0;const re=new Date(W.specificDate),se=re.getDate();return re.getMonth()+1!==n?!1:g==="day"&&w?se===w:g==="week"&&v?ae(s,n,v).includes(se):!0}))(ie);return e.jsxs("div",{"data-testid":"global-calendar",className:"after:block after:clear-both after:content-['']",children:[C&&e.jsxs("div",{className:"hidden lg:block float-right ml-6 mb-4",children:[e.jsx("div",{className:"flex justify-end mb-2",children:e.jsxs(S,{variant:"ghost",size:"sm",onClick:()=>_(!1),"data-testid":"button-toggle-calendar",children:[e.jsx(C_,{className:"h-4 w-4 mr-1"}),"Hide Calendar"]})}),e.jsx(fde,{year:s,monthSummaries:A?.summaries||[],selectedMonth:n,selectedWeek:v,selectedDay:w,filterMode:g,onFilterModeChange:L=>{b(L),L==="month"?(y(void 0),k(void 0)):L==="week"?(k(void 0),g!=="week"&&y(void 0)):L==="day"&&y(void 0)},onMonthSelect:L=>{i(L),y(void 0),k(void 0)},onWeekSelect:(L,W)=>{i(L),y(W),k(void 0)},onDaySelect:(L,W)=>{i(L),k(W)}})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[e.jsx(Ge,{className:"h-5 w-5 text-muted-foreground"}),"Where to Go"]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"AI-powered recommendations based on weather, events, and crowd levels"})]}),!C&&e.jsxs(S,{variant:"outline",size:"sm",onClick:()=>_(!0),className:"hidden lg:flex","data-testid":"button-toggle-calendar",children:[e.jsx(Er,{className:"h-4 w-4 mr-1"}),"Show Calendar"]})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"flex gap-2 flex-wrap",children:L3.slice(0,5).map(L=>e.jsxs(S,{variant:l===L.id?"default":"outline",size:"sm",onClick:()=>c(L.id),"data-testid":`button-vibe-${L.id}`,children:[e.jsx(L.icon,{className:"h-4 w-4 mr-1"}),L.label]},L.id))}),e.jsx("div",{className:"flex gap-2 flex-wrap",children:L3.slice(5).map(L=>e.jsxs(S,{variant:l===L.id?"default":"outline",size:"sm",onClick:()=>c(L.id),"data-testid":`button-vibe-${L.id}`,children:[e.jsx(L.icon,{className:"h-4 w-4 mr-1"}),L.label]},L.id))})]}),me.best.length>0&&e.jsx(sb,{title:"Best Time to Visit",subtitle:"Perfect conditions for travel",cities:me.best,rating:"best",onCityClick:V,calendarVisible:C}),me.good.length>0&&e.jsx(sb,{title:"Good Time to Visit",subtitle:"Favorable conditions overall",cities:me.good,rating:"good",onCityClick:V,calendarVisible:C}),me.average.length>0&&e.jsx(sb,{title:"Average Conditions",subtitle:"Mixed conditions, check details",cities:me.average,rating:"average",onCityClick:V,calendarVisible:C}),$.length>0&&e.jsxs("div",{className:"mt-8",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[e.jsx($r,{className:"h-5 w-5 text-muted-foreground"}),"Events & Festivals",g==="day"&&w?` on ${Jj[n-1]} ${w}`:g==="week"&&v?` in Week ${v}`:` in ${B}`]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:$.slice(0,6).map(L=>e.jsx(P,{className:"hover-elevate","data-testid":`event-card-${L.id}`,children:e.jsx(F,{className:"p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-muted flex items-center justify-center flex-shrink-0",children:e.jsx($r,{className:"h-5 w-5 text-foreground"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx(O,{variant:"secondary",className:"mb-1 text-xs capitalize",children:L.eventType||"event"}),e.jsx("h4",{className:"font-medium text-sm line-clamp-1",children:L.title}),e.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground mt-1",children:[e.jsx(Me,{className:"h-3 w-3"}),L.city?`${L.city}, `:"",L.country]}),e.jsx(Ce,{href:`/experiences/travel?destination=${encodeURIComponent(L.city||L.country)}&event=${encodeURIComponent(L.title)}`,children:e.jsxs(S,{variant:"outline",size:"sm",className:"mt-2","data-testid":`button-plan-event-${L.id}`,children:[e.jsx(Pt,{className:"h-3 w-3 mr-1"}),"Plan This Trip"]})})]})]})})},L.id))})]}),me.best.length===0&&me.good.length===0&&me.average.length===0&&e.jsxs(P,{className:"p-8 text-center",children:[e.jsx(Ge,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsxs("p",{className:"text-muted-foreground",children:["No destination data available for ",B]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Check back after the next AI refresh"})]})]})]})}function tb(t){const s=[],a=t.vibeTags.map(n=>n.toLowerCase());return a.includes("romantic")&&(s.push({label:"Romantic Getaway",slug:"date-night"}),s.push({label:"Plan a Proposal",slug:"proposal"}),s.push({label:"Destination Wedding",slug:"wedding"})),a.includes("adventure")&&s.push({label:"Adventure Trip",slug:"travel"}),a.includes("cultural")&&s.push({label:"Cultural Tour",slug:"travel"}),a.includes("luxury")&&(s.push({label:"Luxury Escape",slug:"travel"}),s.push({label:"Destination Wedding",slug:"wedding"})),a.includes("nightlife")&&(s.push({label:"Nightlife Experience",slug:"date-night"}),s.push({label:"Birthday Celebration",slug:"birthday"})),a.includes("beach")&&(s.push({label:"Beach Vacation",slug:"travel"}),s.push({label:"Destination Wedding",slug:"wedding"})),a.includes("nature")&&(s.push({label:"Nature Retreat",slug:"retreat"}),s.push({label:"Corporate Retreat",slug:"corporate"})),a.includes("foodie")&&(s.push({label:"Food & Wine Tour",slug:"travel"}),s.push({label:"Birthday Celebration",slug:"birthday"})),a.includes("family")&&(s.push({label:"Family Reunion",slug:"reunion"}),s.push({label:"Birthday Celebration",slug:"birthday"})),(a.includes("business")||a.includes("urban")||a.includes("city"))&&s.push({label:"Corporate Event",slug:"corporate"}),(a.includes("celebration")||a.includes("festive")||a.includes("party"))&&(s.push({label:"Birthday Celebration",slug:"birthday"}),s.push({label:"Reunion Trip",slug:"reunion"})),s.length===0&&s.push({label:"Plan a Trip",slug:"travel"}),s.filter((n,i,l)=>i===l.findIndex(c=>c.slug===n.slug)).slice(0,2)}function sb({title:t,subtitle:s,cities:a,rating:r,onCityClick:n,calendarVisible:i=!0}){const l=new Set,c=a.filter(g=>l.has(g.cityName)?!1:(l.add(g.cityName),!0)),u=i?2:4,m=c.slice(0,u),x=c.slice(u,u+4),f=c.slice(u+4,u+8);return e.jsxs("div",{children:[e.jsxs("div",{className:"mb-3",children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(O,{className:`${gde(r)} border`,children:vde(r)}),t]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s})]}),e.jsx("div",{className:`grid grid-cols-1 md:grid-cols-2 ${i?"lg:grid-cols-2":"lg:grid-cols-4"} gap-4 mb-4`,children:m.map(g=>{const b=tb(g),v=encodeURIComponent(`${g.cityName}, ${g.country}`);return e.jsxs(P,{className:"overflow-hidden h-full","data-testid":`city-card-${g.id}`,children:[e.jsxs("div",{className:"cursor-pointer hover-elevate",onClick:()=>n?.(g.cityName,g.country),children:[g.heroImage&&e.jsxs("div",{className:"h-32 relative",children:[e.jsx("img",{src:g.heroImage,alt:g.cityName,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),e.jsxs("div",{className:"absolute bottom-2 left-3 right-3",children:[e.jsx("h4",{className:"font-semibold text-white",children:g.cityName}),e.jsx("p",{className:"text-xs text-white/80",children:g.country})]})]}),e.jsxs(F,{className:g.heroImage?"p-3":"p-4",children:[!g.heroImage&&e.jsxs("div",{className:"mb-2",children:[e.jsx("h4",{className:"font-semibold",children:g.cityName}),e.jsx("p",{className:"text-xs text-muted-foreground",children:g.country})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs",children:[g.weatherDescription&&e.jsxs("span",{className:"flex items-center gap-1",children:[eb(g.weatherDescription),e.jsx("span",{className:"text-muted-foreground",children:g.averageTemp})]}),g.seasonCrowdLevel&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(et,{className:"h-3 w-3 text-muted-foreground"}),e.jsx("span",{className:"text-muted-foreground capitalize",children:g.seasonCrowdLevel})]}),g.pulseScore&&g.pulseScore>70&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Xt,{className:"h-3 w-3 text-green-500"}),e.jsx("span",{className:"text-green-600 dark:text-green-400",children:"Trending"})]})]}),g.events.length>0&&e.jsx("div",{className:"mt-2 pt-2 border-t",children:e.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[e.jsx($r,{className:"h-3 w-3 text-muted-foreground"}),e.jsx("span",{className:"font-medium",children:g.events[0].title})]})}),g.currentHighlight&&e.jsx("div",{className:"mt-2 pt-2 border-t",children:e.jsx("p",{className:"text-xs text-muted-foreground",children:g.currentHighlight})}),g.vibeTags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:g.vibeTags.slice(0,3).map(y=>e.jsx(O,{variant:"outline",className:"text-xs capitalize",children:y},y))})]})]}),e.jsxs("div",{className:"px-3 pb-3 pt-2 border-t bg-muted/30",children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Plan an experience:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:b.map((y,w)=>e.jsx(Ce,{href:`/experiences/${y.slug}?destination=${v}`,onClick:k=>k.stopPropagation(),children:e.jsxs(S,{variant:"outline",size:"sm","data-testid":`button-plan-${g.id}-${y.slug}`,children:[e.jsx(Pt,{className:"h-3 w-3 mr-1"}),y.label]})},w))})]})]},g.id)})}),x.length>0&&e.jsx("div",{className:"clear-both grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:x.map(g=>{const b=tb(g),v=encodeURIComponent(`${g.cityName}, ${g.country}`);return e.jsxs(P,{className:"overflow-hidden h-full","data-testid":`city-card-${g.id}`,children:[e.jsxs("div",{className:"cursor-pointer hover-elevate",onClick:()=>n?.(g.cityName,g.country),children:[g.heroImage&&e.jsxs("div",{className:"h-32 relative",children:[e.jsx("img",{src:g.heroImage,alt:g.cityName,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),e.jsxs("div",{className:"absolute bottom-2 left-3 right-3",children:[e.jsx("h4",{className:"font-semibold text-white",children:g.cityName}),e.jsx("p",{className:"text-xs text-white/80",children:g.country})]})]}),e.jsxs(F,{className:g.heroImage?"p-3":"p-4",children:[!g.heroImage&&e.jsxs("div",{className:"mb-2",children:[e.jsx("h4",{className:"font-semibold",children:g.cityName}),e.jsx("p",{className:"text-xs text-muted-foreground",children:g.country})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs",children:[g.weatherDescription&&e.jsxs("span",{className:"flex items-center gap-1",children:[eb(g.weatherDescription),e.jsx("span",{className:"text-muted-foreground",children:g.averageTemp})]}),g.seasonCrowdLevel&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(et,{className:"h-3 w-3 text-muted-foreground"}),e.jsx("span",{className:"text-muted-foreground capitalize",children:g.seasonCrowdLevel})]}),g.pulseScore&&g.pulseScore>70&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Xt,{className:"h-3 w-3 text-green-500"}),e.jsx("span",{className:"text-green-600 dark:text-green-400",children:"Trending"})]})]}),g.events.length>0&&e.jsx("div",{className:"mt-2 pt-2 border-t",children:e.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[e.jsx($r,{className:"h-3 w-3 text-muted-foreground"}),e.jsx("span",{className:"font-medium",children:g.events[0].title})]})}),g.currentHighlight&&e.jsx("div",{className:"mt-2 pt-2 border-t",children:e.jsx("p",{className:"text-xs text-muted-foreground",children:g.currentHighlight})}),g.vibeTags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:g.vibeTags.slice(0,3).map(y=>e.jsx(O,{variant:"outline",className:"text-xs capitalize",children:y},y))})]})]}),e.jsxs("div",{className:"px-3 pb-3 pt-2 border-t bg-muted/30",children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Plan an experience:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:b.map((y,w)=>e.jsx(Ce,{href:`/experiences/${y.slug}?destination=${v}`,onClick:k=>k.stopPropagation(),children:e.jsxs(S,{variant:"outline",size:"sm","data-testid":`button-plan-${g.id}-${y.slug}`,children:[e.jsx(Pt,{className:"h-3 w-3 mr-1"}),y.label]})},w))})]})]},g.id)})}),f.length>0&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mt-4",children:f.map(g=>{const b=tb(g),v=encodeURIComponent(`${g.cityName}, ${g.country}`);return e.jsxs(P,{className:"overflow-hidden h-full","data-testid":`city-card-${g.id}`,children:[e.jsxs("div",{className:"cursor-pointer hover-elevate",onClick:()=>n?.(g.cityName,g.country),children:[g.heroImage&&e.jsxs("div",{className:"h-32 relative",children:[e.jsx("img",{src:g.heroImage,alt:g.cityName,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),e.jsxs("div",{className:"absolute bottom-2 left-3 right-3",children:[e.jsx("h4",{className:"font-semibold text-white",children:g.cityName}),e.jsx("p",{className:"text-xs text-white/80",children:g.country})]})]}),e.jsxs(F,{className:g.heroImage?"p-3":"p-4",children:[!g.heroImage&&e.jsxs("div",{className:"mb-2",children:[e.jsx("h4",{className:"font-semibold",children:g.cityName}),e.jsx("p",{className:"text-xs text-muted-foreground",children:g.country})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs",children:[g.weatherDescription&&e.jsxs("span",{className:"flex items-center gap-1",children:[eb(g.weatherDescription),e.jsx("span",{className:"text-muted-foreground",children:g.averageTemp})]}),g.seasonCrowdLevel&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(et,{className:"h-3 w-3 text-muted-foreground"}),e.jsx("span",{className:"text-muted-foreground capitalize",children:g.seasonCrowdLevel})]}),g.pulseScore&&g.pulseScore>70&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Xt,{className:"h-3 w-3 text-green-500"}),e.jsx("span",{className:"text-green-600 dark:text-green-400",children:"Trending"})]})]}),g.events.length>0&&e.jsx("div",{className:"mt-2 pt-2 border-t",children:e.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[e.jsx($r,{className:"h-3 w-3 text-muted-foreground"}),e.jsx("span",{className:"font-medium",children:g.events[0].title})]})}),g.currentHighlight&&e.jsx("div",{className:"mt-2 pt-2 border-t",children:e.jsx("p",{className:"text-xs text-muted-foreground",children:g.currentHighlight})}),g.vibeTags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:g.vibeTags.slice(0,3).map(y=>e.jsx(O,{variant:"outline",className:"text-xs capitalize",children:y},y))})]})]}),e.jsxs("div",{className:"px-3 pb-3 pt-2 border-t bg-muted/30",children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Plan an experience:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:b.map((y,w)=>e.jsx(Ce,{href:`/experiences/${y.slug}?destination=${v}`,onClick:k=>k.stopPropagation(),children:e.jsxs(S,{variant:"outline",size:"sm","data-testid":`button-plan-${g.id}-${y.slug}`,children:[e.jsx(Pt,{className:"h-3 w-3 mr-1"}),y.label]})},w))})]})]},g.id)})})]})}const O3={"photography-videography":Rs,"transportation-logistics":zs,"food-culinary":i0,"childcare-family":uc,"tours-experiences":dr,"personal-assistance":Ta,"taskrabbit-services":Js,"health-wellness":Qt,"beauty-styling":qe,"pets-animals":sw,"events-celebrations":ya,"technology-connectivity":a0,"language-translation":No,"specialty-services":jr,"custom-other":xi},jde=[{id:"all",label:"All",icon:Nr},{id:"adventure",label:"Adventure",icon:Xt},{id:"cultural",label:"Cultural",icon:uo},{id:"relaxation",label:"Relaxation",icon:Qt},{id:"romantic",label:"Romantic",icon:Qt},{id:"family",label:"Family",icon:et}],bde=[{id:1,title:"Discover Kyoto's Ancient Temples",destination:"Kyoto, Japan",duration:"7 days",travelers:"2-4",category:"cultural",rating:4.9,reviews:234,price:2499,originalPrice:2999,highlights:["Fushimi Inari Shrine","Traditional Tea Ceremony","Bamboo Grove Walk"],expertPick:!0},{id:2,title:"Amalfi Coast Dream Escape",destination:"Amalfi, Italy",duration:"5 days",travelers:"2",category:"romantic",rating:4.8,reviews:189,price:3299,originalPrice:3899,highlights:["Positano Beach Day","Limoncello Tasting","Sunset Boat Cruise"],expertPick:!0},{id:3,title:"Bali Wellness Retreat",destination:"Ubud, Bali",duration:"6 days",travelers:"1-2",category:"relaxation",rating:4.9,reviews:312,price:1899,originalPrice:2299,highlights:["Yoga Sessions","Rice Terrace Walks","Spa Treatments"],expertPick:!1},{id:4,title:"Costa Rica Adventure Week",destination:"Costa Rica",duration:"8 days",travelers:"2-6",category:"adventure",rating:4.7,reviews:156,price:2199,originalPrice:2699,highlights:["Zip-lining","Volcano Hiking","Wildlife Safari"],expertPick:!1},{id:5,title:"Paris Family Discovery",destination:"Paris, France",duration:"5 days",travelers:"4-6",category:"family",rating:4.8,reviews:278,price:2799,originalPrice:3299,highlights:["Eiffel Tower","Disneyland Paris","Seine River Cruise"],expertPick:!0},{id:6,title:"Moroccan Desert Adventure",destination:"Marrakech, Morocco",duration:"6 days",travelers:"2-4",category:"adventure",rating:4.6,reviews:98,price:1599,originalPrice:1999,highlights:["Sahara Camping","Medina Tour","Camel Trek"],expertPick:!1}],Nde=[{id:1,title:"My Top 10 Hidden Cafes in Bali",category:"Food & Drink",creator:"@wanderlust_sarah",followers:"125K",platform:"instagram"},{id:2,title:"Ultimate Tokyo Street Food Guide",category:"Destinations",creator:"@nomadic_mike",followers:"89K",platform:"youtube"},{id:3,title:"Budget Travel Hacks That Actually Work",category:"Tips",creator:"@thriftytraveler",followers:"250K",platform:"tiktok"},{id:4,title:"Romance in Paris: Local's Guide",category:"Romantic",creator:"@couples_abroad",followers:"180K",platform:"instagram"},{id:5,title:"Best Sunset Spots in Santorini",category:"Photography",creator:"@golden_hour_jen",followers:"95K",platform:"instagram"},{id:6,title:"How I Plan Corporate Retreats",category:"Business",creator:"@eventpro_lisa",followers:"45K",platform:"linkedin"}];function wde({service:t,category:s,onAddToCart:a,isAddingToCart:r,isAdded:n}){const i=parseFloat(t.averageRating||"0")||0,l=parseFloat(t.price||"0")||0,c=t.reviewCount||0,u=s&&O3[s.slug]||dr,m=t.shortDescription||t.description||"No description available",x=t.location||"Remote",f=i>=4.8&&c>=5,g=c>=3,b=i>=4.7&&c>=10,v=C=>({"photography-videography":"https://images.unsplash.com/photo-1452587925148-ce544e77e70d?w=600&q=80","transportation-logistics":"https://images.unsplash.com/photo-1544620347-c4fd4a3d5957?w=600&q=80","food-culinary":"https://images.unsplash.com/photo-1414235077428-338989a2e8c0?w=600&q=80","childcare-family":"https://images.unsplash.com/photo-1476703993599-0035a21b17a9?w=600&q=80","tours-experiences":"https://images.unsplash.com/photo-1476514525535-07fb3b4ae5f1?w=600&q=80","personal-assistance":"https://images.unsplash.com/photo-1521737711867-e3b97375f902?w=600&q=80","health-wellness":"https://images.unsplash.com/photo-1544367567-0f2fcb009e0b?w=600&q=80","beauty-styling":"https://images.unsplash.com/photo-1560066984-138dadb4c035?w=600&q=80","pets-animals":"https://images.unsplash.com/photo-1450778869180-41d0601e046e?w=600&q=80","events-celebrations":"https://images.unsplash.com/photo-1492684223066-81342ee5ff30?w=600&q=80","technology-connectivity":"https://images.unsplash.com/photo-1519389950473-47ba0277781c?w=600&q=80","language-translation":"https://images.unsplash.com/photo-1523289333742-be1143f6b766?w=600&q=80"})[C]||"https://images.unsplash.com/photo-1488646953014-85cb44e25828?w=600&q=80",w=(C=>C>=4.5?{text:"text-orange-500 dark:text-orange-400",bg:"bg-orange-50 dark:bg-orange-900/20"}:C>=4?{text:"text-yellow-500 dark:text-yellow-400",bg:"bg-yellow-50 dark:bg-yellow-900/20"}:{text:"text-green-500 dark:text-green-400",bg:"bg-green-50 dark:bg-green-900/20"})(i),k=Math.round(i*20);return e.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"group",children:e.jsxs("div",{className:"bg-card dark:bg-card rounded-2xl overflow-hidden shadow-card hover:shadow-card-hover transition-all duration-500 border border-border h-full flex flex-col","data-testid":`card-service-${t.id}`,children:[e.jsx(Ce,{href:`/services/${t.id}`,"data-testid":`link-service-${t.id}`,children:e.jsxs("div",{className:"relative h-48 overflow-hidden cursor-pointer",children:[e.jsx("img",{src:v(s?.slug||""),alt:t.serviceName,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent"}),e.jsx("div",{className:"absolute top-3 right-3 w-11 h-11 rounded-xl bg-white/95 dark:bg-white/90 shadow-lg flex items-center justify-center","data-testid":`badge-heat-score-${t.id}`,children:e.jsx("span",{className:te("text-lg font-bold",k>=90?"text-[#FF385C]":k>=80?"text-orange-500 dark:text-orange-400":"text-amber-500 dark:text-amber-400"),children:k})}),e.jsxs("div",{className:"absolute top-3 left-3 flex items-center gap-2",children:[b?e.jsxs("span",{className:"px-2.5 py-1 rounded-lg bg-[#FF385C] text-white text-xs font-bold flex items-center gap-1 shadow-lg","data-testid":`badge-hot-${t.id}`,children:[e.jsx(qa,{className:"w-3 h-3 fill-white"}),"Hot"]}):f?e.jsxs("span",{className:"px-2.5 py-1 rounded-lg bg-amber-500 dark:bg-amber-600 text-white text-xs font-bold flex items-center gap-1 shadow-lg","data-testid":`badge-top-expert-${t.id}`,children:[e.jsx(ed,{className:"w-3 h-3"}),"Top Expert"]}):null,c>0&&e.jsxs("span",{className:"px-2 py-1 rounded-lg bg-white/90 dark:bg-white/80 text-gray-700 text-xs font-medium flex items-center gap-1 shadow-sm","data-testid":`badge-reviews-${t.id}`,children:[e.jsx(et,{className:"w-3 h-3"}),c]})]}),e.jsxs("div",{className:"absolute bottom-3 left-3 right-3 flex items-center gap-3",children:[e.jsx("div",{className:te("w-12 h-12 rounded-xl flex items-center justify-center shadow-lg",s?.slug&&O3[s.slug]?"bg-primary":"bg-muted"),children:e.jsx(u,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-xl font-bold text-white line-clamp-1","data-testid":`text-service-name-${t.id}`,children:t.serviceName}),e.jsxs("div",{className:"flex items-center gap-2 text-white/80 text-sm",children:[e.jsx(Me,{className:"w-3 h-3"}),e.jsx("span",{"data-testid":`text-location-${t.id}`,children:x}),g&&e.jsx(Rt,{className:"w-3 h-3","data-testid":`icon-verified-${t.id}`})]})]})]})]})}),e.jsxs("div",{className:"p-4 flex-1 flex flex-col",children:[e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mb-3",children:m}),e.jsxs("div",{className:"flex flex-wrap gap-1.5 mb-3",children:[s&&e.jsx("span",{className:"px-2.5 py-1 rounded-full text-xs font-medium bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-400",children:s.name}),t.deliveryTimeframe&&e.jsxs("span",{className:"px-2.5 py-1 rounded-full text-xs font-medium bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 flex items-center gap-1",children:[e.jsx(Je,{className:"w-3 h-3"}),t.deliveryTimeframe]})]}),e.jsxs("div",{className:"flex items-center justify-between mb-3 gap-2 flex-wrap",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-lg font-bold text-foreground",children:["$",l.toFixed(0)]}),e.jsx("span",{className:"text-xs text-emerald-600 dark:text-emerald-400",children:"per service"})]}),e.jsx("span",{className:te("text-xs font-medium px-2 py-0.5 rounded-full",w.text,w.bg),children:i>=4.5?"Busy":i>=4?"Moderate":"Available"})]}),i>=4.5&&e.jsx("div",{className:"bg-emerald-50 dark:bg-emerald-900/20 rounded-xl p-3 mb-3",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(qe,{className:"w-4 h-4 text-emerald-500 flex-shrink-0 mt-0.5"}),e.jsx("p",{className:"text-xs text-emerald-700 dark:text-emerald-300 line-clamp-2",children:f?"Highly rated expert with proven track record and excellent reviews.":"Quality service provider with consistent positive feedback from clients."})]})}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground pt-3 border-t border-border mt-auto","data-testid":`stats-footer-${t.id}`,children:[e.jsxs("div",{className:"flex items-center gap-1","data-testid":`stat-rating-${t.id}`,children:[e.jsx(rt,{className:"w-3 h-3 text-amber-500 fill-amber-500"}),e.jsx("span",{className:"font-medium",children:i.toFixed(1)})]}),e.jsxs("div",{className:"flex items-center gap-1","data-testid":`stat-reviews-${t.id}`,children:[e.jsx(et,{className:"w-3 h-3"}),c]}),t.deliveryMethod&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(dr,{className:"w-3 h-3"}),t.deliveryMethod]})]}),a&&e.jsx(S,{size:"sm",className:te("w-full mt-3",n?"bg-green-600 hover:bg-green-700":""),onClick:()=>a(t.id),disabled:r||n,"data-testid":`button-add-to-cart-${t.id}`,children:n?e.jsxs(e.Fragment,{children:[e.jsx(rs,{className:"w-4 h-4 mr-2"}),"Added"]}):e.jsxs(e.Fragment,{children:[e.jsx(Nn,{className:"w-4 h-4 mr-2"}),r?"Adding...":"Add to Cart"]})})]})]})})}function $3({categories:t,selectedCategory:s,setSelectedCategory:a,minPrice:r,setMinPrice:n,maxPrice:i,setMaxPrice:l,minRating:c,setMinRating:u,onClear:m}){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(ye,{className:"text-sm font-medium",children:"Category"}),e.jsxs(Wt,{value:s,onValueChange:a,children:[e.jsx(Vt,{className:"mt-2","data-testid":"select-category",children:e.jsx(Gt,{placeholder:"All categories"})}),e.jsxs(Ut,{children:[e.jsx(Pe,{value:"all",children:"All categories"}),t.map(x=>e.jsx(Pe,{value:x.id,children:x.name},x.id))]})]})]}),e.jsxs("div",{children:[e.jsx(ye,{className:"text-sm font-medium",children:"Price Range"}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx(Ne,{type:"number",placeholder:"Min",value:r||"",onChange:x=>n(Number(x.target.value)||0),className:"w-24","data-testid":"input-min-price"}),e.jsx("span",{className:"text-muted-foreground",children:"-"}),e.jsx(Ne,{type:"number",placeholder:"Max",value:i||"",onChange:x=>l(Number(x.target.value)||0),className:"w-24","data-testid":"input-max-price"})]})]}),e.jsxs("div",{children:[e.jsx(ye,{className:"text-sm font-medium",children:"Minimum Rating"}),e.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[e.jsx(co,{value:[c],onValueChange:([x])=>u(x),max:5,step:.5,className:"flex-1","data-testid":"slider-rating"}),e.jsxs("div",{className:"flex items-center gap-1 min-w-[60px]",children:[e.jsx(rt,{className:"w-4 h-4 text-amber-500 fill-amber-500"}),e.jsxs("span",{className:"font-medium",children:[c.toFixed(1),"+"]})]})]})]}),e.jsxs(S,{variant:"outline",className:"w-full",onClick:m,"data-testid":"button-clear-filters",children:[e.jsx(Ia,{className:"w-4 h-4 mr-2"}),"Clear Filters"]})]})}function kde(){const[,t]=La(),{toast:s}=Bs(),{user:a}=qr(),[r,n]=h.useState(""),[i,l]=h.useState(""),[c,u]=h.useState(""),[m,x]=h.useState("all"),[f,g]=h.useState("rating"),[b,v]=h.useState(0),[y,w]=h.useState(0),[k,C]=h.useState(0),[_,M]=h.useState(0),E=12,[R,z]=h.useState(""),[A,V]=h.useState("all"),[H,I]=h.useState([]),[q,fe]=h.useState(new Set),[oe,Ee]=h.useState(null),[me,ie]=h.useState(!1);h.useEffect(()=>{const ce=setTimeout(()=>{l(r),M(0)},300);return()=>clearTimeout(ce)},[r]);const{data:B}=Le({queryKey:["/api/service-categories"]}),{data:ae,isLoading:ke}=Le({queryKey:["/api/discover",i,m,c,b,y,k,f,_],queryFn:async()=>{const ce=new URLSearchParams;i&&ce.set("q",i),m&&m!=="all"&&ce.set("categoryId",m),c&&ce.set("location",c),b>0&&ce.set("minPrice",String(b)),y>0&&ce.set("maxPrice",String(y)),k>0&&ce.set("minRating",String(k)),f&&ce.set("sortBy",f),ce.set("limit",String(E)),ce.set("offset",String(_*E));const at=await fetch(`/api/discover?${ce.toString()}`);if(!at.ok)throw new Error("Failed to fetch");return at.json()}}),{data:$}=Le({queryKey:["/api/cart"],enabled:!!a}),{data:L,isLoading:W}=Le({queryKey:["/api/expert-templates"]}),re=ce=>B?.find(at=>at.id===ce),[se,ge]=h.useState(!1),[K,J]=h.useState(null),je=Ot({mutationFn:async ce=>(await Ft("POST","/api/discover/recommendations",ce)).json(),onSuccess:ce=>{J(ce),ge(!0)}}),ze=()=>{je.mutate({query:i||void 0,destination:c||void 0})},ft=Ot({mutationFn:async ce=>(Ee(ce),Ft("POST","/api/cart",{serviceId:ce,quantity:1})),onSuccess:(ce,at)=>{fe(Z=>new Set(Z).add(at)),_t.invalidateQueries({queryKey:["/api/cart"]}),s({title:"Added to cart!",description:"Service has been added to your cart."}),Ee(null)},onError:ce=>{s({variant:"destructive",title:"Failed to add to cart",description:ce.message}),Ee(null)}}),Nt=ce=>{if(!a){s({variant:"destructive",title:"Sign in required",description:"Please sign in to add items to your cart"});return}ft.mutate(ce)},ht=async()=>{if(!$||$.items.length===0){s({variant:"destructive",title:"Cart is empty",description:"Add some services first"});return}if(!a){s({title:"Please sign in",description:"Sign in to use AI comparison"});return}ie(!0);const ce=$.items.map(at=>({name:at.service?.serviceName||"Service",category:at.service?.category||"service",price:at.service?.price||"0",provider:at.service?.providerName||"Provider",location:at.service?.location||""}));try{const Z=await(await Ft("POST","/api/itinerary-comparisons",{title:"My Trip",destination:$.items[0]?.service?.location||"Paris, France",startDate:new Date().toISOString().split("T")[0],endDate:new Date(Date.now()+6048e5).toISOString().split("T")[0],budget:$.total,travelers:2})).json();sessionStorage.setItem(`comparison_baseline_${Z.id}`,JSON.stringify(ce)),t(`/itinerary-comparison/${Z.id}`)}catch(at){s({variant:"destructive",title:"Failed to create comparison",description:at?.message||"Please try again"})}finally{ie(!1)}},Lt=()=>{x("all"),v(0),w(0),C(0),u(""),M(0)},gs=m!=="all"||b>0||y>0||k>0||c!=="",ks=ae?Math.ceil(ae.total/E):0,Ys=bde.filter(ce=>{const at=R===""||ce.title.toLowerCase().includes(R.toLowerCase())||ce.destination.toLowerCase().includes(R.toLowerCase()),Z=A==="all"||ce.category===A;return at&&Z}),cs=ce=>{I(at=>at.includes(ce)?at.filter(Z=>Z!==ce):[...at,ce])};return e.jsx(Yt,{children:e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("section",{className:"bg-gradient-to-br from-primary to-primary/80 text-primary-foreground py-16",children:e.jsxs("div",{className:"container mx-auto px-4 max-w-6xl",children:[e.jsxs(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 bg-white/20 px-4 py-2 rounded-full text-sm mb-6",children:[e.jsx(qe,{className:"w-4 h-4"}),"Discover Your Perfect Experience"]}),e.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4","data-testid":"text-page-title",children:"Explore Services & Trip Packages"}),e.jsx("p",{className:"text-lg text-primary-foreground/90 max-w-2xl mx-auto",children:"Browse expert services, curated trip packages, and get AI-powered recommendations for your next adventure."})]}),e.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-card rounded-xl p-4 shadow-xl max-w-3xl mx-auto",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(ws,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),e.jsx(Ne,{placeholder:"Search services, destinations...",value:r,onChange:ce=>n(ce.target.value),className:"pl-10 h-12","data-testid":"input-search"})]}),e.jsxs(S,{className:"h-12 px-8",onClick:ze,disabled:je.isPending,"data-testid":"button-ai-suggestions",children:[je.isPending?e.jsx(ot,{className:"w-4 h-4 mr-2 animate-spin"}):e.jsx(Xo,{className:"w-4 h-4 mr-2"}),"AI Suggestions"]})]})}),e.jsxs(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"flex flex-wrap justify-center gap-3 mt-6",children:[e.jsx(Ce,{href:"/experiences",children:e.jsxs(S,{variant:"outline",className:"bg-white/10 backdrop-blur-sm border-white/30 text-primary-foreground font-medium","data-testid":"button-plan-experience",children:[e.jsx(dr,{className:"w-4 h-4 mr-2"}),"Plan Experience"]})}),e.jsx(Ce,{href:"/spontaneous",children:e.jsxs(S,{variant:"outline",className:"bg-amber-500/20 backdrop-blur-sm border-amber-400/50 text-primary-foreground font-medium","data-testid":"button-live-intel",children:[e.jsx(qa,{className:"w-4 h-4 mr-2"}),"Live Intel"]})})]})]})}),e.jsx("section",{className:"py-12",children:e.jsx("div",{className:"container mx-auto px-4 max-w-[1400px]",children:e.jsxs(Na,{defaultValue:"services",className:"w-full",children:[e.jsxs("div",{className:"relative mb-8",children:[e.jsxs(ca,{className:"bg-card border p-1 w-full overflow-x-auto flex justify-start gap-1 scrollbar-thin scrollbar-thumb-muted scrollbar-track-transparent",children:[e.jsxs(it,{value:"services",className:"data-[state=active]:bg-primary data-[state=active]:text-primary-foreground whitespace-nowrap flex-shrink-0","data-testid":"tab-services",children:[e.jsx(va,{className:"w-4 h-4 mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Browse "}),"Services"]}),e.jsxs(it,{value:"packages",className:"data-[state=active]:bg-primary data-[state=active]:text-primary-foreground whitespace-nowrap flex-shrink-0","data-testid":"tab-packages",children:[e.jsx(Nr,{className:"w-4 h-4 mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Trip "}),"Packages"]}),e.jsxs(it,{value:"articles",className:"data-[state=active]:bg-primary data-[state=active]:text-primary-foreground whitespace-nowrap flex-shrink-0","data-testid":"tab-articles",children:[e.jsx(uo,{className:"w-4 h-4 mr-2"}),e.jsx("span",{className:"hidden md:inline",children:"Influencer "}),"Curated"]}),e.jsxs(it,{value:"events",className:"data-[state=active]:bg-primary data-[state=active]:text-primary-foreground whitespace-nowrap flex-shrink-0","data-testid":"tab-events",children:[e.jsx($r,{className:"w-4 h-4 mr-2"}),e.jsx("span",{className:"hidden lg:inline",children:"Upcoming "}),"Events"]}),e.jsxs(it,{value:"travelpulse",className:"data-[state=active]:bg-primary data-[state=active]:text-primary-foreground whitespace-nowrap flex-shrink-0","data-testid":"tab-travelpulse",children:[e.jsx(Xt,{className:"w-4 h-4 mr-2"}),"TravelPulse"]})]}),e.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-12 bg-gradient-to-l from-background to-transparent pointer-events-none md:hidden"})]}),e.jsxs(xt,{value:"services",children:[$&&$.items.length>0&&e.jsxs("div",{className:"mb-6 p-4 bg-card border rounded-lg flex items-center justify-between gap-4 flex-wrap",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Nn,{className:"w-5 h-5 text-primary"}),e.jsxs("span",{className:"font-medium",children:[$.itemCount," items in cart"]}),e.jsxs("span",{className:"text-muted-foreground",children:["Total: $",$.total]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(Ce,{href:"/cart",children:e.jsx(S,{variant:"outline","data-testid":"button-view-cart",children:"View Cart"})}),e.jsxs(S,{onClick:ht,disabled:me,"data-testid":"button-compare-ai",children:[me?e.jsx(ot,{className:"w-4 h-4 mr-2 animate-spin"}):e.jsx(S_,{className:"w-4 h-4 mr-2"}),"Compare AI Alternatives"]})]})]}),se&&K&&e.jsxs(He.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 p-4 bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-950/20 dark:to-pink-950/20 border border-purple-200 dark:border-purple-800 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Xo,{className:"w-5 h-5 text-purple-600"}),e.jsx("span",{className:"font-medium text-purple-900 dark:text-purple-100",children:"AI Recommendations"})]}),e.jsx(S,{variant:"ghost",size:"sm",onClick:()=>ge(!1),children:e.jsx(Ia,{className:"w-4 h-4"})})]}),e.jsx("p",{className:"text-sm text-purple-700 dark:text-purple-200 mb-3",children:K.suggestions}),K.recommendedCategories.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2",children:K.recommendedCategories.map(ce=>e.jsx(O,{variant:"secondary",className:"cursor-pointer",onClick:()=>{const at=B?.find(Z=>Z.slug===ce.slug);at&&x(at.id)},children:ce.name},ce.slug))})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[e.jsx("aside",{className:"hidden lg:block lg:w-72 flex-shrink-0",children:e.jsxs(P,{children:[e.jsx(Q,{className:"pb-3",children:e.jsxs(X,{className:"text-lg flex items-center gap-2",children:[e.jsx(Di,{className:"w-4 h-4"}),"Filters"]})}),e.jsx(F,{children:B&&e.jsx($3,{categories:B,selectedCategory:m,setSelectedCategory:x,minPrice:b,setMinPrice:v,maxPrice:y,setMaxPrice:w,minRating:k,setMinRating:C,onClear:Lt})})]})}),e.jsxs("main",{className:"flex-1",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[e.jsxs("div",{className:"relative sm:w-48",children:[e.jsx(Me,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.jsx(Ne,{placeholder:"Location",value:c,onChange:ce=>u(ce.target.value),className:"pl-10","data-testid":"input-location"})]}),e.jsxs(Wt,{value:f,onValueChange:g,children:[e.jsx(Vt,{className:"sm:w-44","data-testid":"select-sort",children:e.jsx(Gt,{placeholder:"Sort by"})}),e.jsxs(Ut,{children:[e.jsx(Pe,{value:"rating",children:"Top Rated"}),e.jsx(Pe,{value:"reviews",children:"Most Reviews"}),e.jsx(Pe,{value:"price_low",children:"Price: Low to High"}),e.jsx(Pe,{value:"price_high",children:"Price: High to Low"})]})]}),e.jsxs(Rg,{children:[e.jsx($se,{asChild:!0,children:e.jsxs(S,{variant:"outline",className:"lg:hidden","data-testid":"button-mobile-filters",children:[e.jsx(Uu,{className:"w-4 h-4 mr-2"}),"Filters",gs&&e.jsx(O,{variant:"secondary",className:"ml-2",children:"Active"})]})}),e.jsxs(cx,{side:"left",children:[e.jsxs(dx,{children:[e.jsx(ux,{children:"Filters"}),e.jsx(q1,{children:"Refine your search results"})]}),e.jsx("div",{className:"mt-6",children:B&&e.jsx($3,{categories:B,selectedCategory:m,setSelectedCategory:x,minPrice:b,setMinPrice:v,maxPrice:y,setMaxPrice:w,minRating:k,setMinRating:C,onClear:Lt})})]})]})]}),gs&&e.jsxs("div",{className:"flex items-center gap-2 mb-4 flex-wrap",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Active filters:"}),m!=="all"&&e.jsxs(O,{variant:"secondary",className:"gap-1",children:[re(m)?.name,e.jsx("button",{onClick:()=>x("all"),"data-testid":"button-remove-category-filter",className:"ml-1",children:e.jsx(Ia,{className:"w-3 h-3"})})]}),b>0&&e.jsxs(O,{variant:"secondary",className:"gap-1",children:["Min: $",b,e.jsx("button",{onClick:()=>v(0),className:"ml-1",children:e.jsx(Ia,{className:"w-3 h-3"})})]}),y>0&&e.jsxs(O,{variant:"secondary",className:"gap-1",children:["Max: $",y,e.jsx("button",{onClick:()=>w(0),className:"ml-1",children:e.jsx(Ia,{className:"w-3 h-3"})})]}),k>0&&e.jsxs(O,{variant:"secondary",className:"gap-1",children:[k,"+ stars",e.jsx("button",{onClick:()=>C(0),className:"ml-1",children:e.jsx(Ia,{className:"w-3 h-3"})})]}),c&&e.jsxs(O,{variant:"secondary",className:"gap-1",children:[c,e.jsx("button",{onClick:()=>u(""),className:"ml-1",children:e.jsx(Ia,{className:"w-3 h-3"})})]}),e.jsx(S,{variant:"ghost",size:"sm",onClick:Lt,children:"Clear all"})]}),ke?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[1,2,3,4,5,6,7,8].map(ce=>e.jsx(_e,{className:"h-96 rounded-2xl"},ce))}):ae?.services&&ae.services.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:ae.services.map(ce=>e.jsx(wde,{service:ce,category:re(ce.categoryId),onAddToCart:Nt,isAddingToCart:oe===ce.id,isAdded:q.has(ce.id)},ce.id))}),ks>1&&e.jsxs("div",{className:"flex items-center justify-center gap-2 mt-8",children:[e.jsx(S,{variant:"outline",size:"sm",disabled:_===0,onClick:()=>M(ce=>ce-1),"data-testid":"button-prev-page",children:e.jsx(hr,{className:"w-4 h-4"})}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Page ",_+1," of ",ks]}),e.jsx(S,{variant:"outline",size:"sm",disabled:_>=ks-1,onClick:()=>M(ce=>ce+1),"data-testid":"button-next-page",children:e.jsx($s,{className:"w-4 h-4"})})]})]}):e.jsxs("div",{className:"text-center py-16",children:[e.jsx(va,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No services found"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Try adjusting your search or filters"}),e.jsx(S,{variant:"outline",onClick:Lt,children:"Clear Filters"})]})]})]})]}),e.jsxs(xt,{value:"packages",children:[L&&L.length>0&&e.jsxs("div",{className:"mb-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-semibold flex items-center gap-2",children:[e.jsx(jr,{className:"w-5 h-5 text-primary"}),"Expert Itinerary Templates"]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Purchase ready-made travel plans crafted by verified local experts"})]}),e.jsxs(O,{variant:"secondary",children:[L.length," Available"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:L.slice(0,6).map((ce,at)=>e.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:at*.05},children:e.jsx(P,{className:"hover-elevate overflow-hidden group h-full","data-testid":`card-template-${ce.id}`,children:e.jsxs(F,{className:"p-0 flex flex-col h-full",children:[e.jsxs("div",{className:"relative h-40 bg-gradient-to-br from-primary/10 to-primary/5",children:[ce.coverImage?e.jsx("img",{src:ce.coverImage,alt:ce.title,className:"w-full h-full object-cover"}):e.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-primary/30",children:e.jsx(uo,{className:"w-16 h-16"})}),ce.isFeatured&&e.jsx("div",{className:"absolute top-3 left-3",children:e.jsxs(O,{children:[e.jsx(rt,{className:"w-3 h-3 mr-1 fill-current"}),"Featured"]})}),e.jsx("div",{className:"absolute bottom-3 right-3 bg-background px-3 py-1.5 rounded-lg shadow-sm",children:e.jsxs("span",{className:"font-bold text-lg",children:["$",ce.price]})})]}),e.jsxs("div",{className:"p-4 flex-1 flex flex-col",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-2",children:[e.jsx(Me,{className:"w-4 h-4"}),e.jsx("span",{children:ce.destination})]}),e.jsx("h3",{className:"font-semibold mb-2 group-hover:text-primary transition-colors line-clamp-2",children:ce.title}),e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mb-3 flex-1",children:ce.shortDescription||ce.description}),e.jsxs("div",{className:"flex flex-wrap gap-3 text-sm text-muted-foreground mb-3",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ge,{className:"w-4 h-4"}),ce.duration," days"]}),ce.averageRating&&parseFloat(ce.averageRating)>0&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(rt,{className:"w-4 h-4 text-amber-500 fill-amber-500"}),parseFloat(ce.averageRating).toFixed(1)," (",ce.reviewCount||0,")"]}),ce.salesCount&&ce.salesCount>0&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(et,{className:"w-4 h-4"}),ce.salesCount," sold"]})]}),e.jsxs("div",{className:"flex flex-wrap gap-1 mb-4",children:[ce.highlights?.slice(0,2).map(Z=>e.jsx(O,{variant:"secondary",className:"text-xs",children:Z},Z)),ce.highlights&&ce.highlights.length>2&&e.jsxs(O,{variant:"secondary",className:"text-xs",children:["+",ce.highlights.length-2," more"]})]}),e.jsx(Ce,{href:`/expert-templates/${ce.id}`,children:e.jsxs(S,{className:"w-full","data-testid":`button-view-template-${ce.id}`,children:["View & Purchase",e.jsx(Kt,{className:"w-4 h-4 ml-2"})]})})]})]})})},ce.id))}),L.length>6&&e.jsx("div",{className:"text-center mt-6",children:e.jsxs(S,{variant:"outline","data-testid":"button-view-all-templates",children:["View All ",L.length," Templates",e.jsx(Kt,{className:"w-4 h-4 ml-2"})]})}),e.jsx("div",{className:"border-t my-8"})]}),W&&e.jsxs("div",{className:"mb-10",children:[e.jsx(_e,{className:"h-6 w-48 mb-6"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(ce=>e.jsx(_e,{className:"h-72 rounded-lg"},ce))}),e.jsx("div",{className:"border-t my-8"})]}),e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Pre-Researched Trip Packages"}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-8",children:jde.map(ce=>e.jsxs(S,{variant:A===ce.id?"default":"outline",size:"sm",onClick:()=>V(ce.id),"data-testid":`button-category-${ce.id}`,children:[e.jsx(ce.icon,{className:"w-4 h-4 mr-1"}),ce.label]},ce.id))}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Ys.map((ce,at)=>e.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:at*.05},children:e.jsx(P,{className:"hover-elevate overflow-hidden group","data-testid":`card-trip-${ce.id}`,children:e.jsxs(F,{className:"p-0",children:[e.jsxs("div",{className:"relative h-48 bg-gradient-to-br from-muted to-muted/50",children:[e.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-muted-foreground",children:e.jsx(Me,{className:"w-12 h-12"})}),e.jsx("button",{onClick:()=>cs(ce.id),className:"absolute top-3 right-3 p-2 bg-background/90 rounded-full shadow-sm","data-testid":`button-favorite-${ce.id}`,children:e.jsx(Qt,{className:te("w-5 h-5",H.includes(ce.id)?"fill-primary text-primary":"text-muted-foreground")})}),ce.expertPick&&e.jsx("div",{className:"absolute top-3 left-3",children:e.jsxs(O,{children:[e.jsx(rt,{className:"w-3 h-3 mr-1 fill-current"}),"Expert Pick"]})}),e.jsxs("div",{className:"absolute bottom-3 right-3 bg-background px-3 py-1 rounded-lg shadow-sm",children:[e.jsxs("span",{className:"text-xs text-muted-foreground line-through",children:["$",ce.originalPrice]}),e.jsxs("span",{className:"ml-1 font-bold",children:["$",ce.price]})]})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-2",children:[e.jsx(Me,{className:"w-4 h-4"}),e.jsx("span",{children:ce.destination})]}),e.jsx("h3",{className:"font-semibold mb-3 group-hover:text-primary transition-colors",children:ce.title}),e.jsxs("div",{className:"flex flex-wrap gap-3 text-sm text-muted-foreground mb-3",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ge,{className:"w-4 h-4"}),ce.duration]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(et,{className:"w-4 h-4"}),ce.travelers]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(rt,{className:"w-4 h-4 text-amber-500 fill-amber-500"}),ce.rating," (",ce.reviews,")"]})]}),e.jsxs("div",{className:"flex flex-wrap gap-1 mb-4",children:[ce.highlights.slice(0,2).map(Z=>e.jsx(O,{variant:"secondary",className:"text-xs",children:Z},Z)),ce.highlights.length>2&&e.jsxs(O,{variant:"secondary",className:"text-xs",children:["+",ce.highlights.length-2," more"]})]}),e.jsxs(S,{className:"w-full","data-testid":`button-view-trip-${ce.id}`,children:["View Details",e.jsx(Kt,{className:"w-4 h-4 ml-2"})]})]})]})})},ce.id))}),Ys.length===0&&e.jsxs("div",{className:"text-center py-16",children:[e.jsx(ws,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No trips found"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Try adjusting your search or filters"}),e.jsx(S,{variant:"outline",onClick:()=>{z(""),V("all")},children:"Clear Filters"})]})]}),e.jsxs(xt,{value:"articles",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Curated by Travel Creators"}),e.jsx("p",{className:"text-muted-foreground",children:"Discover authentic recommendations from verified travel influencers and local experts."})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Nde.map((ce,at)=>e.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:at*.05},children:e.jsx(P,{className:"hover-elevate overflow-hidden cursor-pointer group","data-testid":`card-influencer-${ce.id}`,children:e.jsxs(F,{className:"p-0",children:[e.jsxs("div",{className:"h-36 bg-gradient-to-br from-primary/20 to-primary/5 flex items-center justify-center relative",children:[e.jsx("div",{className:"absolute top-2 right-2",children:e.jsxs(O,{variant:"secondary",className:"text-xs bg-white/90",children:[ce.platform==="instagram"&&" Instagram",ce.platform==="youtube"&&" YouTube",ce.platform==="tiktok"&&" TikTok",ce.platform==="linkedin"&&" LinkedIn"]})}),e.jsx(et,{className:"w-10 h-10 text-primary/40"})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(O,{variant:"outline",className:"text-xs",children:ce.category}),e.jsx(O,{className:"text-xs bg-emerald-500/10 text-emerald-600 border-emerald-200",children:"Verified Creator"})]}),e.jsx("h3",{className:"font-semibold mb-2 group-hover:text-primary transition-colors line-clamp-2",children:ce.title}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[e.jsx("span",{className:"font-medium text-foreground",children:ce.creator}),e.jsxs("span",{children:[ce.followers," followers"]})]})]})]})})},ce.id))}),e.jsx("div",{className:"text-center mt-8",children:e.jsxs(S,{variant:"outline","data-testid":"button-view-all-creators",children:["View All Creators",e.jsx($s,{className:"w-4 h-4 ml-1"})]})})]}),e.jsx(xt,{value:"events",children:e.jsx(yde,{onCityClick:ce=>{t(`/discover?tab=travelpulse&city=${encodeURIComponent(ce)}`)}})}),e.jsx(xt,{value:"travelpulse",children:e.jsx(Zce,{})})]})})}),e.jsx("section",{className:"py-16 bg-card border-t",children:e.jsxs("div",{className:"container mx-auto px-4 max-w-4xl text-center",children:[e.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Need Help Deciding?"}),e.jsx("p",{className:"text-lg text-muted-foreground mb-8 max-w-2xl mx-auto",children:"Talk to one of our travel experts. They'll help you find the perfect trip based on your preferences, budget, and travel style."}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[e.jsx(Ce,{href:"/experts",children:e.jsx(S,{size:"lg",className:"px-8","data-testid":"button-talk-to-expert",children:"Talk to an Expert"})}),e.jsx(Ce,{href:"/experiences",children:e.jsx(S,{size:"lg",variant:"outline",className:"px-8","data-testid":"button-plan-experience-cta",children:"Plan Your Experience"})})]})]})})]})})}const Cde=[{id:"travel-expert",title:"Travel Expert",description:"Share your destination knowledge and help travelers discover authentic experiences",icon:Pt,benefits:["Set your own rates and availability","AI-powered tools to create itineraries","Direct chat with clients","Earn up to $5,000+/month"],requirements:["Deep knowledge of your destination","Excellent communication skills","Responsive within 24 hours"],cta:"Apply as Travel Expert",href:"/become-expert",popular:!0},{id:"local-expert",title:"Local Expert",description:"Guide travelers through your city with personalized tours and insider tips",icon:Nr,benefits:["Flexible scheduling","Build your personal brand","Access to global clientele","Earn per tour or consultation"],requirements:["Local resident for 2+ years","Passion for your city","Language proficiency"],cta:"Apply as Local Expert",href:"/become-expert",popular:!1},{id:"event-planner",title:"Event Planner",description:"Plan weddings, proposals, and celebrations in your destination",icon:Ge,benefits:["Premium pricing for events","Long-term client relationships","Vendor network support","Higher commission rates"],requirements:["Event planning experience","Vendor relationships","Portfolio of past events"],cta:"Apply as Event Planner",href:"/become-expert",popular:!1},{id:"service-provider",title:"Service Provider",description:"List your hotel, restaurant, tour, or experience on our platform",icon:va,benefits:["Access to qualified leads","No upfront costs","Booking management tools","Marketing exposure"],requirements:["Licensed business","Quality service standards","Insurance coverage"],cta:"Register Your Business",href:"/become-provider",popular:!1},{id:"executive-assistant",title:"Executive Assistant",description:"Manage travel and events for high-net-worth clients",icon:Ta,benefits:["Premium client base","Recurring bookings","Dedicated support team","Highest earning potential"],requirements:["EA/PA experience preferred","Discretion and professionalism","Multi-tasking ability"],cta:"Apply as EA",href:"/become-expert",popular:!1}],Sde=[{value:"500+",label:"Active Partners"},{value:"$2M+",label:"Partner Earnings"},{value:"50+",label:"Countries"},{value:"4.9",label:"Partner Rating"}],Tde=[{quote:"Traveloure has transformed my passion for Paris into a thriving business. I now help 20+ travelers every month.",author:"Marie L.",role:"Travel Expert, Paris",earnings:"$4,500/month avg"},{quote:"The AI tools make creating custom itineraries so easy. What used to take hours now takes minutes.",author:"Kenji T.",role:"Local Expert, Tokyo",earnings:"$3,200/month avg"},{quote:"As an event planner, the quality of clients from Traveloure is exceptional. They're serious about their celebrations.",author:"Sofia R.",role:"Event Planner, Barcelona",earnings:"$6,000/month avg"}],_de=[{step:1,title:"Apply",description:"Submit your application with your expertise and experience",icon:et},{step:2,title:"Get Verified",description:"Our team reviews your application within 48 hours",icon:sr},{step:3,title:"Set Up Profile",description:"Create your profile and set your rates",icon:rt},{step:4,title:"Start Earning",description:"Connect with travelers and earn on your terms",icon:bt}];function Ede(){return e.jsxs("div",{className:"min-h-screen bg-[#F9FAFB]",children:[e.jsx("section",{className:"bg-gradient-to-br from-[#111827] to-[#1F2937] text-white py-20",children:e.jsxs("div",{className:"container mx-auto px-4 max-w-6xl",children:[e.jsxs(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center",children:[e.jsxs(O,{className:"bg-[#FF385C] text-white mb-6",children:[e.jsx(qe,{className:"w-3 h-3 mr-1"}),"Join 500+ Partners Worldwide"]}),e.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold mb-6",children:"Turn Your Expertise Into Income"}),e.jsx("p",{className:"text-xl text-gray-300 max-w-2xl mx-auto mb-8",children:"Join our global network of travel experts, local guides, and service providers. Help travelers create unforgettable experiences while earning on your own terms."}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[e.jsx(Ce,{href:"#partner-types",children:e.jsxs(S,{size:"lg",className:"bg-[#FF385C] hover:bg-[#E23350] text-white px-8","data-testid":"button-get-started",children:["Get Started ",e.jsx(Kt,{className:"w-4 h-4 ml-2"})]})}),e.jsx(Ce,{href:"#how-it-works",children:e.jsx(S,{size:"lg",variant:"outline",className:"border-white/30 text-white hover:bg-white/10 px-8","data-testid":"button-learn-more",children:"Learn More"})})]})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 mt-16",children:Sde.map((t,s)=>e.jsxs(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2+s*.1},className:"text-center",children:[e.jsx("div",{className:"text-3xl md:text-4xl font-bold text-white mb-1",children:t.value}),e.jsx("div",{className:"text-gray-400",children:t.label})]},t.label))})]})}),e.jsx("section",{id:"partner-types",className:"py-20",children:e.jsxs("div",{className:"container mx-auto px-4 max-w-6xl",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-[#111827] mb-4",children:"Choose Your Path"}),e.jsx("p",{className:"text-lg text-[#6B7280] max-w-2xl mx-auto",children:"Whether you're a travel enthusiast, local guide, or business owner, there's a place for you on Traveloure."})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Cde.map((t,s)=>e.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:s*.05},children:e.jsxs(P,{className:`h-full border-[#E5E7EB] hover:shadow-lg transition-shadow relative ${t.popular?"ring-2 ring-[#FF385C]":""}`,"data-testid":`card-partner-${t.id}`,children:[t.popular&&e.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2",children:e.jsx(O,{className:"bg-[#FF385C] text-white",children:"Most Popular"})}),e.jsxs(Q,{children:[e.jsx("div",{className:"w-12 h-12 rounded-lg bg-[#FFE3E8] flex items-center justify-center mb-4",children:e.jsx(t.icon,{className:"w-6 h-6 text-[#FF385C]"})}),e.jsx(X,{className:"text-xl text-[#111827]",children:t.title}),e.jsx("p",{className:"text-[#6B7280]",children:t.description})]}),e.jsxs(F,{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-[#111827] mb-2",children:"Benefits"}),e.jsx("ul",{className:"space-y-2",children:t.benefits.map(a=>e.jsxs("li",{className:"flex items-start gap-2 text-sm text-[#6B7280]",children:[e.jsx(Rt,{className:"w-4 h-4 text-green-500 mt-0.5 flex-shrink-0"}),a]},a))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-[#111827] mb-2",children:"Requirements"}),e.jsx("ul",{className:"space-y-1",children:t.requirements.map(a=>e.jsx("li",{className:"text-sm text-[#6B7280]",children:a},a))})]}),e.jsx(Ce,{href:t.id==="service-provider"?"/become-provider":"/become-expert",children:e.jsxs(S,{className:"w-full bg-[#FF385C] hover:bg-[#E23350] text-white","data-testid":`button-apply-${t.id}`,children:[t.cta,e.jsx(Kt,{className:"w-4 h-4 ml-2"})]})})]})]})},t.id))})]})}),e.jsx("section",{id:"how-it-works",className:"py-20 bg-white",children:e.jsxs("div",{className:"container mx-auto px-4 max-w-6xl",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-[#111827] mb-4",children:"How It Works"}),e.jsx("p",{className:"text-lg text-[#6B7280]",children:"Getting started is simple. Join our platform in 4 easy steps."})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:_de.map((t,s)=>e.jsxs(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:s*.1},className:"text-center",children:[e.jsxs("div",{className:"relative mb-6",children:[e.jsx("div",{className:"w-16 h-16 mx-auto rounded-full bg-[#FFE3E8] flex items-center justify-center",children:e.jsx(t.icon,{className:"w-8 h-8 text-[#FF385C]"})}),e.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 rounded-full bg-[#FF385C] text-white flex items-center justify-center font-bold text-sm",children:t.step})]}),e.jsx("h3",{className:"text-lg font-semibold text-[#111827] mb-2",children:t.title}),e.jsx("p",{className:"text-[#6B7280]",children:t.description})]},t.step))})]})}),e.jsx("section",{className:"py-20",children:e.jsxs("div",{className:"container mx-auto px-4 max-w-6xl",children:[e.jsx("div",{className:"text-center mb-12",children:e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-[#111827] mb-4",children:"Partner Success Stories"})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:Tde.map((t,s)=>e.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:s*.1},children:e.jsx(P,{className:"h-full border-[#E5E7EB]",children:e.jsxs(F,{className:"p-6",children:[e.jsx("div",{className:"flex items-center gap-1 mb-4",children:[...Array(5)].map((a,r)=>e.jsx(rt,{className:"w-4 h-4 text-yellow-500 fill-yellow-500"},r))}),e.jsxs("p",{className:"text-[#374151] mb-6 italic",children:['"',t.quote,'"']}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-[#111827]",children:t.author}),e.jsx("div",{className:"text-sm text-[#6B7280]",children:t.role})]}),e.jsxs(O,{className:"bg-green-100 text-green-700",children:[e.jsx(Xt,{className:"w-3 h-3 mr-1"}),t.earnings]})]})]})})},t.author))})]})}),e.jsx("section",{className:"py-20 bg-gradient-to-r from-[#FF385C] to-[#E23350]",children:e.jsxs("div",{className:"container mx-auto px-4 max-w-4xl text-center",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"Ready to Start Earning?"}),e.jsx("p",{className:"text-xl text-white/90 mb-8 max-w-2xl mx-auto",children:"Join thousands of partners who are turning their passion into profit. No upfront costs, flexible schedule, unlimited potential."}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[e.jsx(Ce,{href:"/become-expert",children:e.jsx(S,{size:"lg",className:"bg-white text-[#FF385C] hover:bg-gray-100 px-8","data-testid":"button-apply-expert",children:"Apply as Expert"})}),e.jsx(Ce,{href:"/become-provider",children:e.jsx(S,{size:"lg",variant:"outline",className:"border-white text-white hover:bg-white/10 px-8","data-testid":"button-register-business",children:"Register Business"})})]})]})})]})}const Pde=[{id:"general",label:"General Inquiry"},{id:"support",label:"Customer Support"},{id:"partnership",label:"Partnership Inquiry"},{id:"press",label:"Press & Media"},{id:"feedback",label:"Feedback"}],Ade=[{icon:qn,title:"Email Us",description:"hello@traveloure.com",detail:"We'll respond within 24 hours"},{icon:Vs,title:"Live Chat",description:"Chat with our team",detail:"Available 9am-6pm EST"},{icon:$l,title:"Call Us",description:"+1 (555) 123-4567",detail:"Mon-Fri 9am-6pm EST"}],Dde=[{city:"New York",address:"123 Travel Lane, NYC 10001",phone:"+1 (555) 123-4567"},{city:"London",address:"456 Explorer St, London W1 2AB",phone:"+44 20 1234 5678"},{city:"Singapore",address:"789 Journey Rd, Singapore 018956",phone:"+65 6123 4567"}];function Fde(){const{toast:t}=Bs(),[s,a]=h.useState(!1),[r,n]=h.useState({name:"",email:"",reason:"",subject:"",message:""}),i=async c=>{c.preventDefault(),a(!0),await new Promise(u=>setTimeout(u,1e3)),t({title:"Message sent!",description:"We'll get back to you within 24 hours."}),n({name:"",email:"",reason:"",subject:"",message:""}),a(!1)},l=(c,u)=>{n(m=>({...m,[c]:u}))};return e.jsxs("div",{className:"min-h-screen bg-[#F9FAFB]",children:[e.jsx("section",{className:"bg-gradient-to-br from-[#111827] to-[#1F2937] text-white py-16",children:e.jsx("div",{className:"container mx-auto px-4 max-w-6xl",children:e.jsxs(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Get in Touch"}),e.jsx("p",{className:"text-lg text-gray-300 max-w-2xl mx-auto",children:"Have a question, feedback, or want to partner with us? We'd love to hear from you. Our team is here to help."})]})})}),e.jsx("section",{className:"py-12 -mt-8",children:e.jsx("div",{className:"container mx-auto px-4 max-w-6xl",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:Ade.map((c,u)=>e.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:u*.1},children:e.jsx(P,{className:"bg-white border-[#E5E7EB] hover:shadow-lg transition-shadow h-full",children:e.jsxs(F,{className:"p-6 text-center",children:[e.jsx("div",{className:"w-12 h-12 mx-auto mb-4 rounded-full bg-[#FFE3E8] flex items-center justify-center",children:e.jsx(c.icon,{className:"w-6 h-6 text-[#FF385C]"})}),e.jsx("h3",{className:"font-semibold text-[#111827] mb-1",children:c.title}),e.jsx("p",{className:"text-[#FF385C] font-medium mb-1",children:c.description}),e.jsx("p",{className:"text-sm text-[#6B7280]",children:c.detail})]})})},c.title))})})}),e.jsx("section",{className:"py-12",children:e.jsx("div",{className:"container mx-auto px-4 max-w-6xl",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(P,{className:"border-[#E5E7EB]",children:[e.jsx(Q,{children:e.jsx(X,{className:"text-2xl text-[#111827]",children:"Send Us a Message"})}),e.jsx(F,{children:e.jsxs("form",{onSubmit:i,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ye,{htmlFor:"name",className:"text-[#374151]",children:"Your Name"}),e.jsx(Ne,{id:"name",value:r.name,onChange:c=>l("name",c.target.value),placeholder:"John Doe",className:"mt-2 h-12 border-[#E5E7EB]",required:!0,"data-testid":"input-name"})]}),e.jsxs("div",{children:[e.jsx(ye,{htmlFor:"email",className:"text-[#374151]",children:"Email Address"}),e.jsx(Ne,{id:"email",type:"email",value:r.email,onChange:c=>l("email",c.target.value),placeholder:"john@example.com",className:"mt-2 h-12 border-[#E5E7EB]",required:!0,"data-testid":"input-email"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ye,{htmlFor:"reason",className:"text-[#374151]",children:"Reason for Contact"}),e.jsxs(Wt,{value:r.reason,onValueChange:c=>l("reason",c),children:[e.jsx(Vt,{className:"mt-2 h-12 border-[#E5E7EB]","data-testid":"select-reason",children:e.jsx(Gt,{placeholder:"Select a reason"})}),e.jsx(Ut,{children:Pde.map(c=>e.jsx(Pe,{value:c.id,children:c.label},c.id))})]})]}),e.jsxs("div",{children:[e.jsx(ye,{htmlFor:"subject",className:"text-[#374151]",children:"Subject"}),e.jsx(Ne,{id:"subject",value:r.subject,onChange:c=>l("subject",c.target.value),placeholder:"How can we help?",className:"mt-2 h-12 border-[#E5E7EB]",required:!0,"data-testid":"input-subject"})]})]}),e.jsxs("div",{children:[e.jsx(ye,{htmlFor:"message",className:"text-[#374151]",children:"Message"}),e.jsx(Ks,{id:"message",value:r.message,onChange:c=>l("message",c.target.value),placeholder:"Tell us more about your inquiry...",className:"mt-2 border-[#E5E7EB]",rows:5,required:!0,"data-testid":"textarea-message"})]}),e.jsx(S,{type:"submit",disabled:s||!r.name||!r.email||!r.message,className:"w-full h-12 bg-[#FF385C] hover:bg-[#E23350] text-white","data-testid":"button-submit-contact",children:s?"Sending...":e.jsxs(e.Fragment,{children:[e.jsx(ul,{className:"w-4 h-4 mr-2"}),"Send Message"]})})]})})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(P,{className:"border-[#E5E7EB]",children:[e.jsx(Q,{children:e.jsx(X,{className:"text-lg text-[#111827]",children:"Quick Links"})}),e.jsxs(F,{className:"space-y-3",children:[e.jsxs("a",{href:"/faq",className:"flex items-center gap-3 p-3 rounded-lg hover:bg-[#F3F4F6] transition-colors","data-testid":"link-faq",children:[e.jsx(xi,{className:"w-5 h-5 text-[#FF385C]"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-[#111827]",children:"FAQ"}),e.jsx("div",{className:"text-sm text-[#6B7280]",children:"Find quick answers"})]})]}),e.jsxs("a",{href:"/partner-with-us",className:"flex items-center gap-3 p-3 rounded-lg hover:bg-[#F3F4F6] transition-colors","data-testid":"link-partner",children:[e.jsx(et,{className:"w-5 h-5 text-[#FF385C]"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-[#111827]",children:"Partner With Us"}),e.jsx("div",{className:"text-sm text-[#6B7280]",children:"Join our network"})]})]}),e.jsxs("a",{href:"/about",className:"flex items-center gap-3 p-3 rounded-lg hover:bg-[#F3F4F6] transition-colors","data-testid":"link-about",children:[e.jsx(Ta,{className:"w-5 h-5 text-[#FF385C]"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-[#111827]",children:"About Us"}),e.jsx("div",{className:"text-sm text-[#6B7280]",children:"Learn our story"})]})]})]})]}),e.jsxs(P,{className:"border-[#E5E7EB]",children:[e.jsx(Q,{children:e.jsx(X,{className:"text-lg text-[#111827]",children:"Our Offices"})}),e.jsx(F,{className:"space-y-4",children:Dde.map(c=>e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-[#F9FAFB] rounded-lg",children:[e.jsx(Me,{className:"w-5 h-5 text-[#FF385C] mt-0.5"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-[#111827]",children:c.city}),e.jsx("div",{className:"text-sm text-[#6B7280]",children:c.address}),e.jsx("div",{className:"text-sm text-[#6B7280]",children:c.phone})]})]},c.city))})]}),e.jsx(P,{className:"border-[#E5E7EB] bg-[#FFE3E8]",children:e.jsxs(F,{className:"p-6 text-center",children:[e.jsx(Je,{className:"w-8 h-8 text-[#FF385C] mx-auto mb-3"}),e.jsx("h3",{className:"font-semibold text-[#111827] mb-1",children:"Quick Response"}),e.jsx("p",{className:"text-sm text-[#6B7280]",children:"We typically respond within 24 hours during business days."})]})})]})]})})})]})}const Mde=[{id:"general",label:"General",icon:xi},{id:"booking",label:"Booking",icon:Pt},{id:"experts",label:"Experts",icon:et},{id:"payment",label:"Payment",icon:Sa},{id:"security",label:"Security",icon:sr}],Ide=[{category:"general",question:"What is Traveloure?",answer:"Traveloure is a travel planning platform that connects travelers with local experts who help create personalized itineraries and experiences. We combine AI-powered tools with human expertise to help you plan the perfect trip."},{category:"general",question:"How does Traveloure work?",answer:"You can either browse and book experiences directly, work with a local expert to create a custom itinerary, or use our Help Me Decide feature to explore pre-researched trip packages. Our experts handle all the details so you can enjoy your trip."},{category:"general",question:"Is Traveloure free to use?",answer:"Creating an account and browsing is completely free. You only pay when you book experiences or services. Expert consultations may have a fee depending on the expert's rates."},{category:"booking",question:"How do I book a trip?",answer:"You can book a trip by: 1) Using our Browse feature to select activities, hotels, and services, 2) Working with an expert who will create a custom itinerary for you, or 3) Choosing a pre-made package from Help Me Decide."},{category:"booking",question:"Can I modify my booking after confirmation?",answer:"Yes, most bookings can be modified up to 48-72 hours before the scheduled date, depending on the service provider's policy. Contact your expert or our support team for assistance with modifications."},{category:"booking",question:"What is the cancellation policy?",answer:"Cancellation policies vary by service provider and are clearly displayed before you confirm your booking. Generally, free cancellation is available up to 24-48 hours before the experience. Check the specific terms for each booking."},{category:"experts",question:"Who are the travel experts?",answer:"Our experts are verified locals and travel professionals with deep knowledge of their destinations. They undergo a thorough vetting process including background checks, interview, and verification of their expertise."},{category:"experts",question:"How do I choose the right expert?",answer:"Browse expert profiles to see their specialties, languages, ratings, and reviews from other travelers. You can also use our matching system which recommends experts based on your trip preferences."},{category:"experts",question:"Can I communicate with experts before booking?",answer:"Yes! You can send messages to experts through our platform to discuss your trip requirements, ask questions, and ensure they're the right fit before committing to their services."},{category:"payment",question:"What payment methods do you accept?",answer:"We accept all major credit cards (Visa, Mastercard, American Express), PayPal, and Apple Pay. All payments are processed securely through our platform."},{category:"payment",question:"Is my payment information secure?",answer:"Absolutely. We use industry-standard encryption (SSL/TLS) and are PCI-DSS compliant. We never store your full credit card details on our servers."},{category:"payment",question:"When am I charged for my booking?",answer:"For most bookings, you're charged at the time of confirmation. Some services may require a deposit with the balance due closer to your travel date. The payment schedule is always shown before you confirm."},{category:"security",question:"How do you verify experts and service providers?",answer:"All experts undergo a multi-step verification process including identity verification, background checks, expertise validation, and reference checks. Service providers must provide business licenses and insurance documentation."},{category:"security",question:"What if I have an issue during my trip?",answer:"Our 24/7 support team is available to help with any issues. You can reach us through the app, by email, or by phone. We also have local representatives in many destinations who can assist in person."},{category:"security",question:"How is my personal information protected?",answer:"We take privacy seriously and comply with GDPR and other privacy regulations. Your data is encrypted, stored securely, and never sold to third parties. Read our Privacy Policy for full details."}];function Rde(){const[t,s]=h.useState(""),[a,r]=h.useState("general"),n=Ide.filter(i=>{const l=t===""||i.question.toLowerCase().includes(t.toLowerCase())||i.answer.toLowerCase().includes(t.toLowerCase()),c=a==="all"||i.category===a;return l&&c});return e.jsxs("div",{className:"min-h-screen bg-[#F9FAFB]",children:[e.jsx("section",{className:"bg-gradient-to-br from-[#111827] to-[#1F2937] text-white py-16",children:e.jsx("div",{className:"container mx-auto px-4 max-w-4xl",children:e.jsxs(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"How Can We Help?"}),e.jsx("p",{className:"text-lg text-gray-300 mb-8",children:"Find answers to common questions about Traveloure"}),e.jsxs("div",{className:"relative max-w-xl mx-auto",children:[e.jsx(ws,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx(Ne,{placeholder:"Search for answers...",value:t,onChange:i=>s(i.target.value),className:"pl-12 h-14 text-lg border-0 bg-white text-[#111827] rounded-xl","data-testid":"input-search-faq"})]})]})})}),e.jsx("section",{className:"py-12",children:e.jsxs("div",{className:"container mx-auto px-4 max-w-4xl",children:[e.jsx("div",{className:"flex flex-wrap gap-2 mb-8 justify-center",children:Mde.map(i=>e.jsxs(S,{variant:a===i.id?"default":"outline",size:"sm",onClick:()=>r(i.id),className:a===i.id?"bg-[#FF385C] hover:bg-[#E23350] text-white":"border-[#E5E7EB]","data-testid":`button-category-${i.id}`,children:[e.jsx(i.icon,{className:"w-4 h-4 mr-2"}),i.label]},i.id))}),e.jsx(P,{className:"border-[#E5E7EB]",children:e.jsx(F,{className:"p-6",children:n.length>0?e.jsx(y2,{type:"single",collapsible:!0,className:"w-full",children:n.map((i,l)=>e.jsxs(J0,{value:`item-${l}`,className:"border-b border-[#E5E7EB]",children:[e.jsx(ev,{className:"text-left text-[#111827] hover:text-[#FF385C] hover:no-underline py-4","data-testid":`accordion-question-${l}`,children:i.question}),e.jsx(tv,{className:"text-[#6B7280] pb-4",children:i.answer})]},l))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(xi,{className:"w-12 h-12 text-[#9CA3AF] mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-[#111827] mb-2",children:"No results found"}),e.jsx("p",{className:"text-[#6B7280] mb-4",children:"Try adjusting your search or browse by category"}),e.jsx(S,{variant:"outline",onClick:()=>{s(""),r("general")},"data-testid":"button-clear-search",children:"Clear Search"})]})})})]})}),e.jsx("section",{className:"py-16 bg-white border-t border-[#E5E7EB]",children:e.jsxs("div",{className:"container mx-auto px-4 max-w-4xl text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-[#111827] mb-4",children:"Still Have Questions?"}),e.jsx("p",{className:"text-[#6B7280] mb-8 max-w-xl mx-auto",children:"Can't find what you're looking for? Our support team is here to help you with any questions or concerns."}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[e.jsx(Ce,{href:"/contact",children:e.jsxs(S,{size:"lg",className:"bg-[#FF385C] hover:bg-[#E23350] text-white","data-testid":"button-contact-us",children:[e.jsx(Vs,{className:"w-4 h-4 mr-2"}),"Contact Us"]})}),e.jsx(Ce,{href:"/experts",children:e.jsxs(S,{size:"lg",variant:"outline",className:"border-[#E5E7EB]","data-testid":"button-talk-to-expert",children:["Talk to an Expert",e.jsx(Kt,{className:"w-4 h-4 ml-2"})]})})]})]})})]})}const Lde=[{title:"AI-Powered Trip Planning",description:"Our AI assistant creates personalized itineraries based on your preferences, travel style, and budget. Get recommendations in seconds, not hours.",icon:os,highlights:["Instant itinerary generation","Smart activity suggestions","Budget optimization","Real-time adjustments"]},{title:"Local Expert Network",description:"Connect with verified local experts who know their destinations inside out. Get insider tips and authentic experiences you won't find in guidebooks.",icon:et,highlights:["500+ verified experts","50+ countries covered","Direct messaging","Custom recommendations"]},{title:"Seamless Booking",description:"Book activities, accommodations, and services all in one place. No more juggling multiple tabs and apps.",icon:Ge,highlights:["One-click booking","Secure payments","Instant confirmation","Easy modifications"]}],Ode=[{title:"Real-Time Chat",description:"Message experts directly for quick answers and recommendations",icon:Vs},{title:"Global Coverage",description:"Access experts and experiences in 50+ countries worldwide",icon:Nr},{title:"Verified Providers",description:"All experts and providers undergo thorough verification",icon:sr},{title:"24/7 Support",description:"Our support team is available around the clock",icon:zu},{title:"Flexible Payments",description:"Pay with credit card, PayPal, or Apple Pay",icon:Sa},{title:"Interactive Maps",description:"Visualize your itinerary on beautiful interactive maps",icon:r0}],$de=[{value:"50K+",label:"Trips Planned"},{value:"500+",label:"Local Experts"},{value:"98%",label:"Satisfaction Rate"},{value:"50+",label:"Countries"}];function Bde(){return e.jsxs("div",{className:"min-h-screen bg-[#F9FAFB]",children:[e.jsx("section",{className:"bg-gradient-to-br from-[#111827] to-[#1F2937] text-white py-20",children:e.jsxs("div",{className:"container mx-auto px-4 max-w-6xl",children:[e.jsxs(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center",children:[e.jsxs(O,{className:"bg-[#FF385C] text-white mb-6",children:[e.jsx(qe,{className:"w-3 h-3 mr-1"}),"Powerful Features"]}),e.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold mb-6",children:["Everything You Need for the",e.jsx("br",{}),"Perfect Trip"]}),e.jsx("p",{className:"text-xl text-gray-300 max-w-2xl mx-auto mb-8",children:"From AI-powered planning to local expert connections, Traveloure gives you all the tools to create unforgettable travel experiences."}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[e.jsx(Ce,{href:"/discover",children:e.jsxs(S,{size:"lg",className:"bg-[#FF385C] hover:bg-[#E23350] text-white px-8","data-testid":"button-start-planning",children:["Start Planning ",e.jsx(Kt,{className:"w-4 h-4 ml-2"})]})}),e.jsx(Ce,{href:"/experts",children:e.jsx(S,{size:"lg",variant:"outline",className:"border-white/30 text-white hover:bg-white/10 px-8","data-testid":"button-find-expert",children:"Find an Expert"})})]})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 mt-16",children:$de.map((t,s)=>e.jsxs(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2+s*.1},className:"text-center",children:[e.jsx("div",{className:"text-3xl md:text-4xl font-bold text-white mb-1",children:t.value}),e.jsx("div",{className:"text-gray-400",children:t.label})]},t.label))})]})}),e.jsx("section",{className:"py-20",children:e.jsxs("div",{className:"container mx-auto px-4 max-w-6xl",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-[#111827] mb-4",children:"Core Features"}),e.jsx("p",{className:"text-lg text-[#6B7280] max-w-2xl mx-auto",children:"The powerful tools that make Traveloure your complete travel planning companion"})]}),e.jsx("div",{className:"space-y-16",children:Lde.map((t,s)=>e.jsxs(He.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{delay:s*.1},className:`grid grid-cols-1 lg:grid-cols-2 gap-12 items-center ${s%2===1?"lg:flex-row-reverse":""}`,children:[e.jsxs("div",{className:s%2===1?"lg:order-2":"",children:[e.jsx("div",{className:"w-16 h-16 rounded-2xl bg-[#FFE3E8] flex items-center justify-center mb-6",children:e.jsx(t.icon,{className:"w-8 h-8 text-[#FF385C]"})}),e.jsx("h3",{className:"text-2xl md:text-3xl font-bold text-[#111827] mb-4",children:t.title}),e.jsx("p",{className:"text-lg text-[#6B7280] mb-6",children:t.description}),e.jsx("ul",{className:"space-y-3",children:t.highlights.map(a=>e.jsxs("li",{className:"flex items-center gap-3 text-[#374151]",children:[e.jsx(Rt,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),a]},a))})]}),e.jsx("div",{className:s%2===1?"lg:order-1":"",children:e.jsx(P,{className:"border-[#E5E7EB] bg-gradient-to-br from-[#F9FAFB] to-white",children:e.jsx(F,{className:"p-8 h-80 flex items-center justify-center",children:e.jsx(t.icon,{className:"w-32 h-32 text-[#E5E7EB]"})})})})]},t.title))})]})}),e.jsx("section",{className:"py-20 bg-white",children:e.jsxs("div",{className:"container mx-auto px-4 max-w-6xl",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-[#111827] mb-4",children:"And Much More"}),e.jsx("p",{className:"text-lg text-[#6B7280]",children:"Additional features to make your travel planning seamless"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Ode.map((t,s)=>e.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:s*.05},children:e.jsx(P,{className:"border-[#E5E7EB] hover:shadow-lg hover:border-[#FF385C] transition-all h-full",children:e.jsxs(F,{className:"p-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg bg-[#FFE3E8] flex items-center justify-center mb-4",children:e.jsx(t.icon,{className:"w-6 h-6 text-[#FF385C]"})}),e.jsx("h3",{className:"text-lg font-semibold text-[#111827] mb-2",children:t.title}),e.jsx("p",{className:"text-[#6B7280]",children:t.description})]})})},t.title))})]})}),e.jsx("section",{className:"py-20 bg-gradient-to-r from-[#FF385C] to-[#E23350]",children:e.jsxs("div",{className:"container mx-auto px-4 max-w-4xl text-center",children:[e.jsx(qa,{className:"w-12 h-12 text-white mx-auto mb-6"}),e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"Ready to Experience These Features?"}),e.jsx("p",{className:"text-xl text-white/90 mb-8 max-w-2xl mx-auto",children:"Start planning your perfect trip today. It's free to get started."}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[e.jsx(Ce,{href:"/discover",children:e.jsx(S,{size:"lg",className:"bg-white text-[#FF385C] hover:bg-gray-100 px-8","data-testid":"button-start-free",children:"Start Free"})}),e.jsx(Ce,{href:"/discover",children:e.jsx(S,{size:"lg",variant:"outline",className:"border-white text-white hover:bg-white/10 px-8","data-testid":"button-browse-packages",children:"Browse Packages"})})]})]})})]})}const iv=h.createContext(null);iv.displayName="PanelGroupContext";const za={group:"data-panel-group",groupDirection:"data-panel-group-direction",groupId:"data-panel-group-id",panel:"data-panel",panelCollapsible:"data-panel-collapsible",panelId:"data-panel-id",panelSize:"data-panel-size",resizeHandle:"data-resize-handle",resizeHandleActive:"data-resize-handle-active",resizeHandleEnabled:"data-panel-resize-handle-enabled",resizeHandleId:"data-panel-resize-handle-id",resizeHandleState:"data-resize-handle-state"},w2=10,ad=h.useLayoutEffect,B3=gx.useId,zde=typeof B3=="function"?B3:()=>null;let Vde=0;function k2(t=null){const s=zde(),a=h.useRef(t||s||null);return a.current===null&&(a.current=""+Vde++),t??a.current}function lI({children:t,className:s="",collapsedSize:a,collapsible:r,defaultSize:n,forwardedRef:i,id:l,maxSize:c,minSize:u,onCollapse:m,onExpand:x,onResize:f,order:g,style:b,tagName:v="div",...y}){const w=h.useContext(iv);if(w===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:k,expandPanel:C,getPanelSize:_,getPanelStyle:M,groupId:E,isPanelCollapsed:R,reevaluatePanelConstraints:z,registerPanel:A,resizePanel:V,unregisterPanel:H}=w,I=k2(l),q=h.useRef({callbacks:{onCollapse:m,onExpand:x,onResize:f},constraints:{collapsedSize:a,collapsible:r,defaultSize:n,maxSize:c,minSize:u},id:I,idIsFromProps:l!==void 0,order:g});h.useRef({didLogMissingDefaultSizeWarning:!1}),ad(()=>{const{callbacks:oe,constraints:Ee}=q.current,me={...Ee};q.current.id=I,q.current.idIsFromProps=l!==void 0,q.current.order=g,oe.onCollapse=m,oe.onExpand=x,oe.onResize=f,Ee.collapsedSize=a,Ee.collapsible=r,Ee.defaultSize=n,Ee.maxSize=c,Ee.minSize=u,(me.collapsedSize!==Ee.collapsedSize||me.collapsible!==Ee.collapsible||me.maxSize!==Ee.maxSize||me.minSize!==Ee.minSize)&&z(q.current,me)}),ad(()=>{const oe=q.current;return A(oe),()=>{H(oe)}},[g,I,A,H]),h.useImperativeHandle(i,()=>({collapse:()=>{k(q.current)},expand:oe=>{C(q.current,oe)},getId(){return I},getSize(){return _(q.current)},isCollapsed(){return R(q.current)},isExpanded(){return!R(q.current)},resize:oe=>{V(q.current,oe)}}),[k,C,_,R,I,V]);const fe=M(q.current,n);return h.createElement(v,{...y,children:t,className:s,id:I,style:{...fe,...b},[za.groupId]:E,[za.panel]:"",[za.panelCollapsible]:r||void 0,[za.panelId]:I,[za.panelSize]:parseFloat(""+fe.flexGrow).toFixed(1)})}const DN=h.forwardRef((t,s)=>h.createElement(lI,{...t,forwardedRef:s}));lI.displayName="Panel";DN.displayName="forwardRef(Panel)";let FN=null,Gf=-1,Yo=null;function Ude(t,s){if(s){const a=(s&mI)!==0,r=(s&hI)!==0,n=(s&xI)!==0,i=(s&pI)!==0;if(a)return n?"se-resize":i?"ne-resize":"e-resize";if(r)return n?"sw-resize":i?"nw-resize":"w-resize";if(n)return"s-resize";if(i)return"n-resize"}switch(t){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function qde(){Yo!==null&&(document.head.removeChild(Yo),FN=null,Yo=null,Gf=-1)}function ab(t,s){var a,r;const n=Ude(t,s);if(FN!==n){if(FN=n,Yo===null&&(Yo=document.createElement("style"),document.head.appendChild(Yo)),Gf>=0){var i;(i=Yo.sheet)===null||i===void 0||i.removeRule(Gf)}Gf=(a=(r=Yo.sheet)===null||r===void 0?void 0:r.insertRule(`*{cursor: ${n} !important;}`))!==null&&a!==void 0?a:-1}}function oI(t){return t.type==="keydown"}function cI(t){return t.type.startsWith("pointer")}function dI(t){return t.type.startsWith("mouse")}function lv(t){if(cI(t)){if(t.isPrimary)return{x:t.clientX,y:t.clientY}}else if(dI(t))return{x:t.clientX,y:t.clientY};return{x:1/0,y:1/0}}function Hde(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function Wde(t,s,a){return t.x<s.x+s.width&&t.x+t.width>s.x&&t.y<s.y+s.height&&t.y+t.height>s.y}function Gde(t,s){if(t===s)throw new Error("Cannot compare node with itself");const a={a:U3(t),b:U3(s)};let r;for(;a.a.at(-1)===a.b.at(-1);)t=a.a.pop(),s=a.b.pop(),r=t;xs(r,"Stacking order can only be calculated for elements with a common ancestor");const n={a:V3(z3(a.a)),b:V3(z3(a.b))};if(n.a===n.b){const i=r.childNodes,l={a:a.a.at(-1),b:a.b.at(-1)};let c=i.length;for(;c--;){const u=i[c];if(u===l.a)return 1;if(u===l.b)return-1}}return Math.sign(n.a-n.b)}const Kde=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function Yde(t){var s;const a=getComputedStyle((s=uI(t))!==null&&s!==void 0?s:t).display;return a==="flex"||a==="inline-flex"}function Qde(t){const s=getComputedStyle(t);return!!(s.position==="fixed"||s.zIndex!=="auto"&&(s.position!=="static"||Yde(t))||+s.opacity<1||"transform"in s&&s.transform!=="none"||"webkitTransform"in s&&s.webkitTransform!=="none"||"mixBlendMode"in s&&s.mixBlendMode!=="normal"||"filter"in s&&s.filter!=="none"||"webkitFilter"in s&&s.webkitFilter!=="none"||"isolation"in s&&s.isolation==="isolate"||Kde.test(s.willChange)||s.webkitOverflowScrolling==="touch")}function z3(t){let s=t.length;for(;s--;){const a=t[s];if(xs(a,"Missing node"),Qde(a))return a}return null}function V3(t){return t&&Number(getComputedStyle(t).zIndex)||0}function U3(t){const s=[];for(;t;)s.push(t),t=uI(t);return s}function uI(t){const{parentNode:s}=t;return s&&s instanceof ShadowRoot?s.host:s}const mI=1,hI=2,xI=4,pI=8,Xde=Hde()==="coarse";let rl=[],Ou=!1,Uc=new Map,ov=new Map;const px=new Set;function Zde(t,s,a,r,n){var i;const{ownerDocument:l}=s,c={direction:a,element:s,hitAreaMargins:r,setResizeHandlerState:n},u=(i=Uc.get(l))!==null&&i!==void 0?i:0;return Uc.set(l,u+1),px.add(c),Hg(),function(){var x;ov.delete(t),px.delete(c);const f=(x=Uc.get(l))!==null&&x!==void 0?x:1;if(Uc.set(l,f-1),Hg(),f===1&&Uc.delete(l),rl.includes(c)){const g=rl.indexOf(c);g>=0&&rl.splice(g,1),S2(),n("up",!0,null)}}}function Jde(t){const{target:s}=t,{x:a,y:r}=lv(t);Ou=!0,C2({target:s,x:a,y:r}),Hg(),rl.length>0&&(Wg("down",t),t.preventDefault(),fI(s)||t.stopImmediatePropagation())}function rb(t){const{x:s,y:a}=lv(t);if(Ou&&t.buttons===0&&(Ou=!1,Wg("up",t)),!Ou){const{target:r}=t;C2({target:r,x:s,y:a})}Wg("move",t),S2(),rl.length>0&&t.preventDefault()}function nb(t){const{target:s}=t,{x:a,y:r}=lv(t);ov.clear(),Ou=!1,rl.length>0&&(t.preventDefault(),fI(s)||t.stopImmediatePropagation()),Wg("up",t),C2({target:s,x:a,y:r}),S2(),Hg()}function fI(t){let s=t;for(;s;){if(s.hasAttribute(za.resizeHandle))return!0;s=s.parentElement}return!1}function C2({target:t,x:s,y:a}){rl.splice(0);let r=null;(t instanceof HTMLElement||t instanceof SVGElement)&&(r=t),px.forEach(n=>{const{element:i,hitAreaMargins:l}=n,c=i.getBoundingClientRect(),{bottom:u,left:m,right:x,top:f}=c,g=Xde?l.coarse:l.fine;if(s>=m-g&&s<=x+g&&a>=f-g&&a<=u+g){if(r!==null&&document.contains(r)&&i!==r&&!i.contains(r)&&!r.contains(i)&&Gde(r,i)>0){let v=r,y=!1;for(;v&&!v.contains(i);){if(Wde(v.getBoundingClientRect(),c)){y=!0;break}v=v.parentElement}if(y)return}rl.push(n)}})}function ib(t,s){ov.set(t,s)}function S2(){let t=!1,s=!1;rl.forEach(r=>{const{direction:n}=r;n==="horizontal"?t=!0:s=!0});let a=0;ov.forEach(r=>{a|=r}),t&&s?ab("intersection",a):t?ab("horizontal",a):s?ab("vertical",a):qde()}let lb=new AbortController;function Hg(){lb.abort(),lb=new AbortController;const t={capture:!0,signal:lb.signal};px.size&&(Ou?(rl.length>0&&Uc.forEach((s,a)=>{const{body:r}=a;s>0&&(r.addEventListener("contextmenu",nb,t),r.addEventListener("pointerleave",rb,t),r.addEventListener("pointermove",rb,t))}),window.addEventListener("pointerup",nb,t),window.addEventListener("pointercancel",nb,t)):Uc.forEach((s,a)=>{const{body:r}=a;s>0&&(r.addEventListener("pointerdown",Jde,t),r.addEventListener("pointermove",rb,t))}))}function Wg(t,s){px.forEach(a=>{const{setResizeHandlerState:r}=a,n=rl.includes(a);r(t,n,s)})}function eue(){const[t,s]=h.useState(0);return h.useCallback(()=>s(a=>a+1),[])}function xs(t,s){if(!t)throw console.error(s),Error(s)}function bd(t,s,a=w2){return t.toFixed(a)===s.toFixed(a)?0:t>s?1:-1}function io(t,s,a=w2){return bd(t,s,a)===0}function si(t,s,a){return bd(t,s,a)===0}function tue(t,s,a){if(t.length!==s.length)return!1;for(let r=0;r<t.length;r++){const n=t[r],i=s[r];if(!si(n,i,a))return!1}return!0}function Tu({panelConstraints:t,panelIndex:s,size:a}){const r=t[s];xs(r!=null,`Panel constraints not found for index ${s}`);let{collapsedSize:n=0,collapsible:i,maxSize:l=100,minSize:c=0}=r;if(bd(a,c)<0)if(i){const u=(n+c)/2;bd(a,u)<0?a=n:a=c}else a=c;return a=Math.min(l,a),a=parseFloat(a.toFixed(w2)),a}function Sh({delta:t,initialLayout:s,panelConstraints:a,pivotIndices:r,prevLayout:n,trigger:i}){if(si(t,0))return s;const l=[...s],[c,u]=r;xs(c!=null,"Invalid first pivot index"),xs(u!=null,"Invalid second pivot index");let m=0;if(i==="keyboard"){{const f=t<0?u:c,g=a[f];xs(g,`Panel constraints not found for index ${f}`);const{collapsedSize:b=0,collapsible:v,minSize:y=0}=g;if(v){const w=s[f];if(xs(w!=null,`Previous layout not found for panel index ${f}`),si(w,b)){const k=y-w;bd(k,Math.abs(t))>0&&(t=t<0?0-k:k)}}}{const f=t<0?c:u,g=a[f];xs(g,`No panel constraints found for index ${f}`);const{collapsedSize:b=0,collapsible:v,minSize:y=0}=g;if(v){const w=s[f];if(xs(w!=null,`Previous layout not found for panel index ${f}`),si(w,y)){const k=w-b;bd(k,Math.abs(t))>0&&(t=t<0?0-k:k)}}}}{const f=t<0?1:-1;let g=t<0?u:c,b=0;for(;;){const y=s[g];xs(y!=null,`Previous layout not found for panel index ${g}`);const k=Tu({panelConstraints:a,panelIndex:g,size:100})-y;if(b+=k,g+=f,g<0||g>=a.length)break}const v=Math.min(Math.abs(t),Math.abs(b));t=t<0?0-v:v}{let g=t<0?c:u;for(;g>=0&&g<a.length;){const b=Math.abs(t)-Math.abs(m),v=s[g];xs(v!=null,`Previous layout not found for panel index ${g}`);const y=v-b,w=Tu({panelConstraints:a,panelIndex:g,size:y});if(!si(v,w)&&(m+=v-w,l[g]=w,m.toPrecision(3).localeCompare(Math.abs(t).toPrecision(3),void 0,{numeric:!0})>=0))break;t<0?g--:g++}}if(tue(n,l))return n;{const f=t<0?u:c,g=s[f];xs(g!=null,`Previous layout not found for panel index ${f}`);const b=g+m,v=Tu({panelConstraints:a,panelIndex:f,size:b});if(l[f]=v,!si(v,b)){let y=b-v,k=t<0?u:c;for(;k>=0&&k<a.length;){const C=l[k];xs(C!=null,`Previous layout not found for panel index ${k}`);const _=C+y,M=Tu({panelConstraints:a,panelIndex:k,size:_});if(si(C,M)||(y-=M-C,l[k]=M),si(y,0))break;t>0?k--:k++}}}const x=l.reduce((f,g)=>g+f,0);return si(x,100)?l:n}function sue({layout:t,panelsArray:s,pivotIndices:a}){let r=0,n=100,i=0,l=0;const c=a[0];xs(c!=null,"No pivot index found"),s.forEach((f,g)=>{const{constraints:b}=f,{maxSize:v=100,minSize:y=0}=b;g===c?(r=y,n=v):(i+=y,l+=v)});const u=Math.min(n,100-i),m=Math.max(r,100-l),x=t[c];return{valueMax:u,valueMin:m,valueNow:x}}function fx(t,s=document){return Array.from(s.querySelectorAll(`[${za.resizeHandleId}][data-panel-group-id="${t}"]`))}function gI(t,s,a=document){const n=fx(t,a).findIndex(i=>i.getAttribute(za.resizeHandleId)===s);return n??null}function vI(t,s,a){const r=gI(t,s,a);return r!=null?[r,r+1]:[-1,-1]}function yI(t,s=document){var a;if(s instanceof HTMLElement&&(s==null||(a=s.dataset)===null||a===void 0?void 0:a.panelGroupId)==t)return s;const r=s.querySelector(`[data-panel-group][data-panel-group-id="${t}"]`);return r||null}function cv(t,s=document){const a=s.querySelector(`[${za.resizeHandleId}="${t}"]`);return a||null}function aue(t,s,a,r=document){var n,i,l,c;const u=cv(s,r),m=fx(t,r),x=u?m.indexOf(u):-1,f=(n=(i=a[x])===null||i===void 0?void 0:i.id)!==null&&n!==void 0?n:null,g=(l=(c=a[x+1])===null||c===void 0?void 0:c.id)!==null&&l!==void 0?l:null;return[f,g]}function rue({committedValuesRef:t,eagerValuesRef:s,groupId:a,layout:r,panelDataArray:n,panelGroupElement:i,setLayout:l}){h.useRef({didWarnAboutMissingResizeHandle:!1}),ad(()=>{if(!i)return;const c=fx(a,i);for(let u=0;u<n.length-1;u++){const{valueMax:m,valueMin:x,valueNow:f}=sue({layout:r,panelsArray:n,pivotIndices:[u,u+1]}),g=c[u];if(g!=null){const b=n[u];xs(b,`No panel data found for index "${u}"`),g.setAttribute("aria-controls",b.id),g.setAttribute("aria-valuemax",""+Math.round(m)),g.setAttribute("aria-valuemin",""+Math.round(x)),g.setAttribute("aria-valuenow",f!=null?""+Math.round(f):"")}}return()=>{c.forEach((u,m)=>{u.removeAttribute("aria-controls"),u.removeAttribute("aria-valuemax"),u.removeAttribute("aria-valuemin"),u.removeAttribute("aria-valuenow")})}},[a,r,n,i]),h.useEffect(()=>{if(!i)return;const c=s.current;xs(c,"Eager values not found");const{panelDataArray:u}=c,m=yI(a,i);xs(m!=null,`No group found for id "${a}"`);const x=fx(a,i);xs(x,`No resize handles found for group id "${a}"`);const f=x.map(g=>{const b=g.getAttribute(za.resizeHandleId);xs(b,"Resize handle element has no handle id attribute");const[v,y]=aue(a,b,u,i);if(v==null||y==null)return()=>{};const w=k=>{if(!k.defaultPrevented)switch(k.key){case"Enter":{k.preventDefault();const C=u.findIndex(_=>_.id===v);if(C>=0){const _=u[C];xs(_,`No panel data found for index ${C}`);const M=r[C],{collapsedSize:E=0,collapsible:R,minSize:z=0}=_.constraints;if(M!=null&&R){const A=Sh({delta:si(M,E)?z-E:E-M,initialLayout:r,panelConstraints:u.map(V=>V.constraints),pivotIndices:vI(a,b,i),prevLayout:r,trigger:"keyboard"});r!==A&&l(A)}}break}}};return g.addEventListener("keydown",w),()=>{g.removeEventListener("keydown",w)}});return()=>{f.forEach(g=>g())}},[i,t,s,a,r,n,l])}function q3(t,s){if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a]!==s[a])return!1;return!0}function jI(t,s){const a=t==="horizontal",{x:r,y:n}=lv(s);return a?r:n}function nue(t,s,a,r,n){const i=a==="horizontal",l=cv(s,n);xs(l,`No resize handle element found for id "${s}"`);const c=l.getAttribute(za.groupId);xs(c,"Resize handle element has no group id attribute");let{initialCursorPosition:u}=r;const m=jI(a,t),x=yI(c,n);xs(x,`No group element found for id "${c}"`);const f=x.getBoundingClientRect(),g=i?f.width:f.height;return(m-u)/g*100}function iue(t,s,a,r,n,i){if(oI(t)){const l=a==="horizontal";let c=0;t.shiftKey?c=100:n!=null?c=n:c=10;let u=0;switch(t.key){case"ArrowDown":u=l?0:c;break;case"ArrowLeft":u=l?-c:0;break;case"ArrowRight":u=l?c:0;break;case"ArrowUp":u=l?0:-c;break;case"End":u=100;break;case"Home":u=-100;break}return u}else return r==null?0:nue(t,s,a,r,i)}function lue({panelDataArray:t}){const s=Array(t.length),a=t.map(i=>i.constraints);let r=0,n=100;for(let i=0;i<t.length;i++){const l=a[i];xs(l,`Panel constraints not found for index ${i}`);const{defaultSize:c}=l;c!=null&&(r++,s[i]=c,n-=c)}for(let i=0;i<t.length;i++){const l=a[i];xs(l,`Panel constraints not found for index ${i}`);const{defaultSize:c}=l;if(c!=null)continue;const u=t.length-r,m=n/u;r++,s[i]=m,n-=m}return s}function cu(t,s,a){s.forEach((r,n)=>{const i=t[n];xs(i,`Panel data not found for index ${n}`);const{callbacks:l,constraints:c,id:u}=i,{collapsedSize:m=0,collapsible:x}=c,f=a[u];if(f==null||r!==f){a[u]=r;const{onCollapse:g,onExpand:b,onResize:v}=l;v&&v(r,f),x&&(g||b)&&(b&&(f==null||io(f,m))&&!io(r,m)&&b(),g&&(f==null||!io(f,m))&&io(r,m)&&g())}})}function Nf(t,s){if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a]!=s[a])return!1;return!0}function oue({defaultSize:t,dragState:s,layout:a,panelData:r,panelIndex:n,precision:i=3}){const l=a[n];let c;return l==null?c=t!=null?t.toPrecision(i):"1":r.length===1?c="1":c=l.toPrecision(i),{flexBasis:0,flexGrow:c,flexShrink:1,overflow:"hidden",pointerEvents:s!==null?"none":void 0}}function cue(t,s=10){let a=null;return(...n)=>{a!==null&&clearTimeout(a),a=setTimeout(()=>{t(...n)},s)}}function H3(t){try{if(typeof localStorage<"u")t.getItem=s=>localStorage.getItem(s),t.setItem=(s,a)=>{localStorage.setItem(s,a)};else throw new Error("localStorage not supported in this environment")}catch(s){console.error(s),t.getItem=()=>null,t.setItem=()=>{}}}function bI(t){return`react-resizable-panels:${t}`}function NI(t){return t.map(s=>{const{constraints:a,id:r,idIsFromProps:n,order:i}=s;return n?r:i?`${i}:${JSON.stringify(a)}`:JSON.stringify(a)}).sort((s,a)=>s.localeCompare(a)).join(",")}function wI(t,s){try{const a=bI(t),r=s.getItem(a);if(r){const n=JSON.parse(r);if(typeof n=="object"&&n!=null)return n}}catch{}return null}function due(t,s,a){var r,n;const i=(r=wI(t,a))!==null&&r!==void 0?r:{},l=NI(s);return(n=i[l])!==null&&n!==void 0?n:null}function uue(t,s,a,r,n){var i;const l=bI(t),c=NI(s),u=(i=wI(t,n))!==null&&i!==void 0?i:{};u[c]={expandToSizes:Object.fromEntries(a.entries()),layout:r};try{n.setItem(l,JSON.stringify(u))}catch(m){console.error(m)}}function W3({layout:t,panelConstraints:s}){const a=[...t],r=a.reduce((i,l)=>i+l,0);if(a.length!==s.length)throw Error(`Invalid ${s.length} panel layout: ${a.map(i=>`${i}%`).join(", ")}`);if(!si(r,100)&&a.length>0)for(let i=0;i<s.length;i++){const l=a[i];xs(l!=null,`No layout data found for index ${i}`);const c=100/r*l;a[i]=c}let n=0;for(let i=0;i<s.length;i++){const l=a[i];xs(l!=null,`No layout data found for index ${i}`);const c=Tu({panelConstraints:s,panelIndex:i,size:l});l!=c&&(n+=l-c,a[i]=c)}if(!si(n,0))for(let i=0;i<s.length;i++){const l=a[i];xs(l!=null,`No layout data found for index ${i}`);const c=l+n,u=Tu({panelConstraints:s,panelIndex:i,size:c});if(l!==u&&(n-=u-l,a[i]=u,si(n,0)))break}return a}const mue=100,Th={getItem:t=>(H3(Th),Th.getItem(t)),setItem:(t,s)=>{H3(Th),Th.setItem(t,s)}},G3={};function kI({autoSaveId:t=null,children:s,className:a="",direction:r,forwardedRef:n,id:i=null,onLayout:l=null,keyboardResizeBy:c=null,storage:u=Th,style:m,tagName:x="div",...f}){const g=k2(i),b=h.useRef(null),[v,y]=h.useState(null),[w,k]=h.useState([]),C=eue(),_=h.useRef({}),M=h.useRef(new Map),E=h.useRef(0),R=h.useRef({autoSaveId:t,direction:r,dragState:v,id:g,keyboardResizeBy:c,onLayout:l,storage:u}),z=h.useRef({layout:w,panelDataArray:[],panelDataArrayChanged:!1});h.useRef({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),h.useImperativeHandle(n,()=>({getId:()=>R.current.id,getLayout:()=>{const{layout:W}=z.current;return W},setLayout:W=>{const{onLayout:re}=R.current,{layout:se,panelDataArray:ge}=z.current,K=W3({layout:W,panelConstraints:ge.map(J=>J.constraints)});q3(se,K)||(k(K),z.current.layout=K,re&&re(K),cu(ge,K,_.current))}}),[]),ad(()=>{R.current.autoSaveId=t,R.current.direction=r,R.current.dragState=v,R.current.id=g,R.current.onLayout=l,R.current.storage=u}),rue({committedValuesRef:R,eagerValuesRef:z,groupId:g,layout:w,panelDataArray:z.current.panelDataArray,setLayout:k,panelGroupElement:b.current}),h.useEffect(()=>{const{panelDataArray:W}=z.current;if(t){if(w.length===0||w.length!==W.length)return;let re=G3[t];re==null&&(re=cue(uue,mue),G3[t]=re);const se=[...W],ge=new Map(M.current);re(t,se,ge,w,u)}},[t,w,u]),h.useEffect(()=>{});const A=h.useCallback(W=>{const{onLayout:re}=R.current,{layout:se,panelDataArray:ge}=z.current;if(W.constraints.collapsible){const K=ge.map(ft=>ft.constraints),{collapsedSize:J=0,panelSize:je,pivotIndices:ze}=$c(ge,W,se);if(xs(je!=null,`Panel size not found for panel "${W.id}"`),!io(je,J)){M.current.set(W.id,je);const Nt=gu(ge,W)===ge.length-1?je-J:J-je,ht=Sh({delta:Nt,initialLayout:se,panelConstraints:K,pivotIndices:ze,prevLayout:se,trigger:"imperative-api"});Nf(se,ht)||(k(ht),z.current.layout=ht,re&&re(ht),cu(ge,ht,_.current))}}},[]),V=h.useCallback((W,re)=>{const{onLayout:se}=R.current,{layout:ge,panelDataArray:K}=z.current;if(W.constraints.collapsible){const J=K.map(Lt=>Lt.constraints),{collapsedSize:je=0,panelSize:ze=0,minSize:ft=0,pivotIndices:Nt}=$c(K,W,ge),ht=re??ft;if(io(ze,je)){const Lt=M.current.get(W.id),gs=Lt!=null&&Lt>=ht?Lt:ht,Ys=gu(K,W)===K.length-1?ze-gs:gs-ze,cs=Sh({delta:Ys,initialLayout:ge,panelConstraints:J,pivotIndices:Nt,prevLayout:ge,trigger:"imperative-api"});Nf(ge,cs)||(k(cs),z.current.layout=cs,se&&se(cs),cu(K,cs,_.current))}}},[]),H=h.useCallback(W=>{const{layout:re,panelDataArray:se}=z.current,{panelSize:ge}=$c(se,W,re);return xs(ge!=null,`Panel size not found for panel "${W.id}"`),ge},[]),I=h.useCallback((W,re)=>{const{panelDataArray:se}=z.current,ge=gu(se,W);return oue({defaultSize:re,dragState:v,layout:w,panelData:se,panelIndex:ge})},[v,w]),q=h.useCallback(W=>{const{layout:re,panelDataArray:se}=z.current,{collapsedSize:ge=0,collapsible:K,panelSize:J}=$c(se,W,re);return xs(J!=null,`Panel size not found for panel "${W.id}"`),K===!0&&io(J,ge)},[]),fe=h.useCallback(W=>{const{layout:re,panelDataArray:se}=z.current,{collapsedSize:ge=0,collapsible:K,panelSize:J}=$c(se,W,re);return xs(J!=null,`Panel size not found for panel "${W.id}"`),!K||bd(J,ge)>0},[]),oe=h.useCallback(W=>{const{panelDataArray:re}=z.current;re.push(W),re.sort((se,ge)=>{const K=se.order,J=ge.order;return K==null&&J==null?0:K==null?-1:J==null?1:K-J}),z.current.panelDataArrayChanged=!0,C()},[C]);ad(()=>{if(z.current.panelDataArrayChanged){z.current.panelDataArrayChanged=!1;const{autoSaveId:W,onLayout:re,storage:se}=R.current,{layout:ge,panelDataArray:K}=z.current;let J=null;if(W){const ze=due(W,K,se);ze&&(M.current=new Map(Object.entries(ze.expandToSizes)),J=ze.layout)}J==null&&(J=lue({panelDataArray:K}));const je=W3({layout:J,panelConstraints:K.map(ze=>ze.constraints)});q3(ge,je)||(k(je),z.current.layout=je,re&&re(je),cu(K,je,_.current))}}),ad(()=>{const W=z.current;return()=>{W.layout=[]}},[]);const Ee=h.useCallback(W=>{let re=!1;const se=b.current;return se&&window.getComputedStyle(se,null).getPropertyValue("direction")==="rtl"&&(re=!0),function(K){K.preventDefault();const J=b.current;if(!J)return()=>null;const{direction:je,dragState:ze,id:ft,keyboardResizeBy:Nt,onLayout:ht}=R.current,{layout:Lt,panelDataArray:gs}=z.current,{initialLayout:ks}=ze??{},Ys=vI(ft,W,J);let cs=iue(K,W,je,ze,Nt,J);const ce=je==="horizontal";ce&&re&&(cs=-cs);const at=gs.map(Ae=>Ae.constraints),Z=Sh({delta:cs,initialLayout:ks??Lt,panelConstraints:at,pivotIndices:Ys,prevLayout:Lt,trigger:oI(K)?"keyboard":"mouse-or-touch"}),xe=!Nf(Lt,Z);(cI(K)||dI(K))&&E.current!=cs&&(E.current=cs,!xe&&cs!==0?ce?ib(W,cs<0?mI:hI):ib(W,cs<0?xI:pI):ib(W,0)),xe&&(k(Z),z.current.layout=Z,ht&&ht(Z),cu(gs,Z,_.current))}},[]),me=h.useCallback((W,re)=>{const{onLayout:se}=R.current,{layout:ge,panelDataArray:K}=z.current,J=K.map(Lt=>Lt.constraints),{panelSize:je,pivotIndices:ze}=$c(K,W,ge);xs(je!=null,`Panel size not found for panel "${W.id}"`);const Nt=gu(K,W)===K.length-1?je-re:re-je,ht=Sh({delta:Nt,initialLayout:ge,panelConstraints:J,pivotIndices:ze,prevLayout:ge,trigger:"imperative-api"});Nf(ge,ht)||(k(ht),z.current.layout=ht,se&&se(ht),cu(K,ht,_.current))},[]),ie=h.useCallback((W,re)=>{const{layout:se,panelDataArray:ge}=z.current,{collapsedSize:K=0,collapsible:J}=re,{collapsedSize:je=0,collapsible:ze,maxSize:ft=100,minSize:Nt=0}=W.constraints,{panelSize:ht}=$c(ge,W,se);ht!=null&&(J&&ze&&io(ht,K)?io(K,je)||me(W,je):ht<Nt?me(W,Nt):ht>ft&&me(W,ft))},[me]),B=h.useCallback((W,re)=>{const{direction:se}=R.current,{layout:ge}=z.current;if(!b.current)return;const K=cv(W,b.current);xs(K,`Drag handle element not found for id "${W}"`);const J=jI(se,re);y({dragHandleId:W,dragHandleRect:K.getBoundingClientRect(),initialCursorPosition:J,initialLayout:ge})},[]),ae=h.useCallback(()=>{y(null)},[]),ke=h.useCallback(W=>{const{panelDataArray:re}=z.current,se=gu(re,W);se>=0&&(re.splice(se,1),delete _.current[W.id],z.current.panelDataArrayChanged=!0,C())},[C]),$=h.useMemo(()=>({collapsePanel:A,direction:r,dragState:v,expandPanel:V,getPanelSize:H,getPanelStyle:I,groupId:g,isPanelCollapsed:q,isPanelExpanded:fe,reevaluatePanelConstraints:ie,registerPanel:oe,registerResizeHandle:Ee,resizePanel:me,startDragging:B,stopDragging:ae,unregisterPanel:ke,panelGroupElement:b.current}),[A,v,r,V,H,I,g,q,fe,ie,oe,Ee,me,B,ae,ke]),L={display:"flex",flexDirection:r==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return h.createElement(iv.Provider,{value:$},h.createElement(x,{...f,children:s,className:a,id:i,ref:b,style:{...L,...m},[za.group]:"",[za.groupDirection]:r,[za.groupId]:g}))}const CI=h.forwardRef((t,s)=>h.createElement(kI,{...t,forwardedRef:s}));kI.displayName="PanelGroup";CI.displayName="forwardRef(PanelGroup)";function gu(t,s){return t.findIndex(a=>a===s||a.id===s.id)}function $c(t,s,a){const r=gu(t,s),i=r===t.length-1?[r-1,r]:[r,r+1],l=a[r];return{...s.constraints,panelSize:l,pivotIndices:i}}function hue({disabled:t,handleId:s,resizeHandler:a,panelGroupElement:r}){h.useEffect(()=>{if(t||a==null||r==null)return;const n=cv(s,r);if(n==null)return;const i=l=>{if(!l.defaultPrevented)switch(l.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{l.preventDefault(),a(l);break}case"F6":{l.preventDefault();const c=n.getAttribute(za.groupId);xs(c,`No group element found for id "${c}"`);const u=fx(c,r),m=gI(c,s,r);xs(m!==null,`No resize element found for id "${s}"`);const x=l.shiftKey?m>0?m-1:u.length-1:m+1<u.length?m+1:0;u[x].focus();break}}};return n.addEventListener("keydown",i),()=>{n.removeEventListener("keydown",i)}},[r,t,s,a])}function SI({children:t=null,className:s="",disabled:a=!1,hitAreaMargins:r,id:n,onBlur:i,onClick:l,onDragging:c,onFocus:u,onPointerDown:m,onPointerUp:x,style:f={},tabIndex:g=0,tagName:b="div",...v}){var y,w;const k=h.useRef(null),C=h.useRef({onClick:l,onDragging:c,onPointerDown:m,onPointerUp:x});h.useEffect(()=>{C.current.onClick=l,C.current.onDragging=c,C.current.onPointerDown=m,C.current.onPointerUp=x});const _=h.useContext(iv);if(_===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:M,groupId:E,registerResizeHandle:R,startDragging:z,stopDragging:A,panelGroupElement:V}=_,H=k2(n),[I,q]=h.useState("inactive"),[fe,oe]=h.useState(!1),[Ee,me]=h.useState(null),ie=h.useRef({state:I});ad(()=>{ie.current.state=I}),h.useEffect(()=>{if(a)me(null);else{const $=R(H);me(()=>$)}},[a,H,R]);const B=(y=r?.coarse)!==null&&y!==void 0?y:15,ae=(w=r?.fine)!==null&&w!==void 0?w:5;h.useEffect(()=>{if(a||Ee==null)return;const $=k.current;xs($,"Element ref not attached");let L=!1;return Zde(H,$,M,{coarse:B,fine:ae},(re,se,ge)=>{if(!se){q("inactive");return}switch(re){case"down":{q("drag"),L=!1,xs(ge,'Expected event to be defined for "down" action'),z(H,ge);const{onDragging:K,onPointerDown:J}=C.current;K?.(!0),J?.();break}case"move":{const{state:K}=ie.current;L=!0,K!=="drag"&&q("hover"),xs(ge,'Expected event to be defined for "move" action'),Ee(ge);break}case"up":{q("hover"),A();const{onClick:K,onDragging:J,onPointerUp:je}=C.current;J?.(!1),je?.(),L||K?.();break}}})},[B,M,a,ae,R,H,Ee,z,A]),hue({disabled:a,handleId:H,resizeHandler:Ee,panelGroupElement:V});const ke={touchAction:"none",userSelect:"none"};return h.createElement(b,{...v,children:t,className:s,id:n,onBlur:()=>{oe(!1),i?.()},onFocus:()=>{oe(!0),u?.()},ref:k,role:"separator",style:{...ke,...f},tabIndex:g,[za.groupDirection]:M,[za.groupId]:E,[za.resizeHandle]:"",[za.resizeHandleActive]:I==="drag"?"pointer":fe?"keyboard":void 0,[za.resizeHandleEnabled]:!a,[za.resizeHandleId]:H,[za.resizeHandleState]:I})}SI.displayName="PanelResizeHandle";var ob,K3;function xue(){return K3||(K3=1,ob=function t(s,a){if(s===a)return!0;if(s&&a&&typeof s=="object"&&typeof a=="object"){if(s.constructor!==a.constructor)return!1;var r,n,i;if(Array.isArray(s)){if(r=s.length,r!=a.length)return!1;for(n=r;n--!==0;)if(!t(s[n],a[n]))return!1;return!0}if(s.constructor===RegExp)return s.source===a.source&&s.flags===a.flags;if(s.valueOf!==Object.prototype.valueOf)return s.valueOf()===a.valueOf();if(s.toString!==Object.prototype.toString)return s.toString()===a.toString();if(i=Object.keys(s),r=i.length,r!==Object.keys(a).length)return!1;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(a,i[n]))return!1;for(n=r;n--!==0;){var l=i[n];if(!t(s[l],a[l]))return!1}return!0}return s!==s&&a!==a}),ob}var pue=xue();const TI=ON(pue),fue="1.7.1";function Nd(t,s){var a={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&s.indexOf(r)<0&&(a[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)s.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(a[r[n]]=t[r[n]]);return a}function MN(t,s,a,r){function n(i){return i instanceof a?i:new a(function(l){l(i)})}return new(a||(a=Promise))(function(i,l){function c(x){try{m(r.next(x))}catch(f){l(f)}}function u(x){try{m(r.throw(x))}catch(f){l(f)}}function m(x){x.done?i(x.value):n(x.value).then(c,u)}m((r=r.apply(t,[])).next())})}const lo={NOT_LOADED:"NOT_LOADED",LOADING:"LOADING",LOADED:"LOADED",FAILED:"FAILED",AUTH_FAILURE:"AUTH_FAILURE"},gue="https://maps.googleapis.com/maps/api/js";class Gg{static load(s,a){return MN(this,void 0,void 0,function*(){var r,n;const i=s.libraries?s.libraries.split(","):[],l=this.serializeParams(s);this.listeners.push(a),!((n=(r=window.google)===null||r===void 0?void 0:r.maps)===null||n===void 0)&&n.importLibrary?(this.serializedApiParams||(this.loadingStatus=lo.LOADED),this.notifyLoadingStatusListeners()):(this.serializedApiParams=l,this.initImportLibrary(s)),this.serializedApiParams&&this.serializedApiParams!==l&&console.warn("[google-maps-api-loader] The maps API has already been loaded with different parameters and will not be loaded again. Refresh the page for new values to have effect.");const c=["maps",...i];yield Promise.all(c.map(u=>google.maps.importLibrary(u)))})}static serializeParams(s){return[s.v,s.key,s.language,s.region,s.authReferrerPolicy,s.solutionChannel].join("/")}static initImportLibrary(s){if(window.google||(window.google={}),window.google.maps||(window.google.maps={}),window.google.maps.importLibrary){console.error("[google-maps-api-loader-internal]: initImportLibrary must only be called once");return}let a=null;const r=()=>a||(a=new Promise((n,i)=>{var l;const c=document.createElement("script"),u=new URLSearchParams;for(const[m,x]of Object.entries(s)){const f=m.replace(/[A-Z]/g,g=>"_"+g[0].toLowerCase());u.set(f,String(x))}u.set("loading","async"),u.set("callback","__googleMapsCallback__"),c.async=!0,c.src=gue+"?"+u.toString(),c.nonce=((l=document.querySelector("script[nonce]"))===null||l===void 0?void 0:l.nonce)||"",c.onerror=()=>{this.loadingStatus=lo.FAILED,this.notifyLoadingStatusListeners(),i(new Error("The Google Maps JavaScript API could not load."))},window.__googleMapsCallback__=()=>{this.loadingStatus=lo.LOADED,this.notifyLoadingStatusListeners(),n()},window.gm_authFailure=()=>{this.loadingStatus=lo.AUTH_FAILURE,this.notifyLoadingStatusListeners()},this.loadingStatus=lo.LOADING,this.notifyLoadingStatusListeners(),document.head.append(c)}),a);google.maps.importLibrary=n=>r().then(()=>google.maps.importLibrary(n))}static notifyLoadingStatusListeners(){for(const s of this.listeners)s(this.loadingStatus)}}Gg.loadingStatus=lo.NOT_LOADED;Gg.listeners=[];const vue="GMP_visgl_rgmlibrary_v1_default",yue=[`gmp_visgl_reactgooglemaps_v${fue}`],Yx=st.createContext(null);function jue(){const[t,s]=h.useState({});return{mapInstances:t,addMapInstance:(i,l="default")=>{s(c=>Object.assign(Object.assign({},c),{[l]:i}))},removeMapInstance:(i="default")=>{s(l=>{var c=i;l[c];var u=Nd(l,[typeof c=="symbol"?c:c+""]);return u})},clearMapInstances:()=>{s({})}}}function bue(t){const{onLoad:s,onError:a,apiKey:r,version:n,libraries:i=[]}=t,l=Nd(t,["onLoad","onError","apiKey","version","libraries"]),[c,u]=h.useState(Gg.loadingStatus),[m,x]=h.useReducer((v,y)=>v[y.name]?v:Object.assign(Object.assign({},v),{[y.name]:y.value}),{}),f=h.useMemo(()=>i?.join(","),[i]),g=h.useMemo(()=>JSON.stringify(Object.assign({apiKey:r,version:n},l)),[r,n,l]),b=h.useCallback(v=>MN(this,void 0,void 0,function*(){var y;if(m[v])return m[v];if(!(!((y=google==null?void 0:google.maps)===null||y===void 0)&&y.importLibrary))throw new Error("[api-provider-internal] importLibrary was called before google.maps.importLibrary was defined.");const w=yield window.google.maps.importLibrary(v);return x({name:v,value:w}),w}),[m]);return h.useEffect(()=>{MN(this,void 0,void 0,function*(){try{const v=Object.assign({key:r},l);n&&(v.v=n),f?.length>0&&(v.libraries=f),(v.channel===void 0||v.channel<0||v.channel>999)&&delete v.channel,v.solutionChannel===void 0?v.solutionChannel=vue:v.solutionChannel===""&&delete v.solutionChannel,yield Gg.load(v,y=>u(y));for(const y of["core","maps",...i])yield b(y);s&&s()}catch(v){a?a(v):console.error("<ApiProvider> failed to load the Google Maps JavaScript API",v)}})},[r,f,g]),{status:c,loadedLibraries:m,importLibrary:b}}function Nue(t){return h.useMemo(()=>t.disableUsageAttribution?null:yue,[t.disableUsageAttribution])}const _I=t=>{const{children:s}=t,a=Nd(t,["children"]),{mapInstances:r,addMapInstance:n,removeMapInstance:i,clearMapInstances:l}=jue(),{status:c,loadedLibraries:u,importLibrary:m}=bue(a),x=Nue(a),f=h.useMemo(()=>({mapInstances:r,addMapInstance:n,removeMapInstance:i,clearMapInstances:l,status:c,loadedLibraries:u,importLibrary:m,internalUsageAttributionIds:x}),[r,n,i,l,c,u,m,x]);return st.createElement(Yx.Provider,{value:f},s)};function wue(t,s){for(const a of Tue){const r=s[a],n=EI[a];h.useEffect(()=>{if(!t||!r)return;const i=google.maps.event.addListener(t,n,l=>{r(kue(n,t,l))});return()=>i.remove()},[t,n,r])}}function kue(t,s,a){var r;const n={type:t,map:s,detail:{},stoppable:!1,stop:()=>{}};if(Cue.includes(t)){const i=n,l=s.getCenter(),c=s.getZoom(),u=s.getHeading()||0,m=s.getTilt()||0,x=s.getBounds();return(!l||!x||!Number.isFinite(c))&&console.warn("[createEvent] at least one of the values from the map returned undefined. This is not expected to happen. Please report an issue at https://github.com/visgl/react-google-maps/issues/new"),i.detail={center:l?.toJSON()||{lat:0,lng:0},zoom:c||0,heading:u,tilt:m,bounds:x?.toJSON()||{north:90,east:180,south:-90,west:-180}},i}else if(Sue.includes(t)){if(!a)throw new Error("[createEvent] mouse events must provide a srcEvent");const i=n;return i.domEvent=a.domEvent,i.stoppable=!0,i.stop=()=>a.stop(),i.detail={latLng:((r=a.latLng)===null||r===void 0?void 0:r.toJSON())||null,placeId:a.placeId},i}return n}const EI={onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onContextmenu:"contextmenu",onDblclick:"dblclick",onDrag:"drag",onDragend:"dragend",onDragstart:"dragstart",onHeadingChanged:"heading_changed",onIdle:"idle",onIsFractionalZoomEnabledChanged:"isfractionalzoomenabled_changed",onMapCapabilitiesChanged:"mapcapabilities_changed",onMapTypeIdChanged:"maptypeid_changed",onMousemove:"mousemove",onMouseout:"mouseout",onMouseover:"mouseover",onProjectionChanged:"projection_changed",onRenderingTypeChanged:"renderingtype_changed",onTilesLoaded:"tilesloaded",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed",onCameraChanged:"bounds_changed"},Cue=["bounds_changed","center_changed","heading_changed","tilt_changed","zoom_changed"],Sue=["click","contextmenu","dblclick","mousemove","mouseout","mouseover"],Tue=Object.keys(EI);function _ue(t){const s=h.useRef(void 0);return h.useEffect(()=>{s.current=t}),s.current}function PI(t,s){const a=_ue(t);return h.useMemo(()=>a&&s(a,t)?a:t,[t,a,s])}function Eue(t,s,a){h.useEffect(t,[PI(s,a)])}function Pue(t,s){Eue(t,s,TI)}const Aue=new Set(["backgroundColor","clickableIcons","controlSize","disableDefaultUI","disableDoubleClickZoom","draggable","draggableCursor","draggingCursor","fullscreenControl","fullscreenControlOptions","gestureHandling","headingInteractionEnabled","isFractionalZoomEnabled","keyboardShortcuts","mapTypeControl","mapTypeControlOptions","mapTypeId","maxZoom","minZoom","noClear","panControl","panControlOptions","restriction","rotateControl","rotateControlOptions","scaleControl","scaleControlOptions","scrollwheel","streetView","streetViewControl","streetViewControlOptions","styles","tiltInteractionEnabled","zoomControl","zoomControlOptions"]);function Due(t,s){const a={},r=Object.keys(s);for(const n of r)Aue.has(n)&&(a[n]=s[n]);Pue(()=>{t&&t.setOptions(a)},[a])}function AI(){var t;return((t=h.useContext(Yx))===null||t===void 0?void 0:t.status)||lo.NOT_LOADED}function Fue(t,s){const{viewport:a,viewState:r}=s,n=!!a;return h.useLayoutEffect(()=>{if(!t||!r)return;const{latitude:i,longitude:l,bearing:c,pitch:u,zoom:m}=r;t.moveCamera({center:{lat:i,lng:l},heading:c,tilt:u,zoom:m+1})},[t,r]),n}function Mue(t){return!t||typeof t!="object"||!("lat"in t&&"lng"in t)?!1:Number.isFinite(t.lat)&&Number.isFinite(t.lng)}function DI(t){return Mue(t)?t:t.toJSON()}function Iue(t,s,a){const r=a.center?DI(a.center):null;let n=null,i=null;r&&Number.isFinite(r.lat)&&Number.isFinite(r.lng)&&(n=r.lat,i=r.lng);const l=Number.isFinite(a.zoom)?a.zoom:null,c=Number.isFinite(a.heading)?a.heading:null,u=Number.isFinite(a.tilt)?a.tilt:null;h.useLayoutEffect(()=>{if(!t)return;const m={};let x=!1;n!==null&&i!==null&&(s.current.center.lat!==n||s.current.center.lng!==i)&&(m.center={lat:n,lng:i},x=!0),l!==null&&s.current.zoom!==l&&(m.zoom=l,x=!0),c!==null&&s.current.heading!==c&&(m.heading=c,x=!0),u!==null&&s.current.tilt!==u&&(m.tilt=u,x=!0),x&&t.moveCamera(m)})}const Rue=()=>{const t={position:"absolute",top:0,left:0,bottom:0,right:0,zIndex:999,display:"flex",flexFlow:"column nowrap",textAlign:"center",justifyContent:"center",fontSize:".8rem",color:"rgba(0,0,0,0.6)",background:"#dddddd",padding:"1rem 1.5rem"};return st.createElement("div",{style:t},st.createElement("h2",null,"Error: AuthFailure"),st.createElement("p",null,"A problem with your API key prevents the map from rendering correctly. Please make sure the value of the ",st.createElement("code",null,"APIProvider.apiKey")," prop is correct. Check the error-message in the console for further details."))};function Lue(){const[t,s]=h.useState(null),a=h.useCallback(r=>s(r),[s]);return[t,a]}function FI(){return AI()===lo.LOADED}function Oue(){const[,t]=h.useReducer(s=>s+1,0);return t}function $ue(t,s){const a=t.getCenter(),r=t.getZoom(),n=t.getHeading()||0,i=t.getTilt()||0,l=t.getBounds();(!a||!l||!Number.isFinite(r))&&console.warn("[useTrackedCameraState] at least one of the values from the map returned undefined. This is not expected to happen. Please report an issue at https://github.com/visgl/react-google-maps/issues/new"),Object.assign(s.current,{center:a?.toJSON()||{lat:0,lng:0},zoom:r||0,heading:n,tilt:i})}function Bue(t){const s=Oue(),a=h.useRef({center:{lat:0,lng:0},heading:0,tilt:0,zoom:0});return h.useEffect(()=>{if(!t)return;const r=google.maps.event.addListener(t,"bounds_changed",()=>{$ue(t,a),s()});return()=>r.remove()},[t,s]),a}class Kf{static has(s){return this.entries[s]&&this.entries[s].length>0}static pop(s){return this.entries[s]&&this.entries[s].pop()||null}static push(s,a){this.entries[s]||(this.entries[s]=[]),this.entries[s].push(a)}}Kf.entries={};function zue(t,s){const a=FI(),[r,n]=h.useState(null),[i,l]=Lue(),c=Bue(r),{id:u,defaultBounds:m,defaultCenter:x,defaultZoom:f,defaultHeading:g,defaultTilt:b,reuseMaps:v,renderingType:y,colorScheme:w}=t,k=Nd(t,["id","defaultBounds","defaultCenter","defaultZoom","defaultHeading","defaultTilt","reuseMaps","renderingType","colorScheme"]),C=t.zoom!==void 0||t.defaultZoom!==void 0,_=t.center!==void 0||t.defaultCenter!==void 0;!m&&(!C||!_)&&console.warn("<Map> component is missing configuration. You have to provide zoom and center (via the `zoom`/`defaultZoom` and `center`/`defaultCenter` props) or specify the region to show using `defaultBounds`. See https://visgl.github.io/react-google-maps/docs/api-reference/components/map#required"),!k.center&&x&&(k.center=x),!k.zoom&&Number.isFinite(f)&&(k.zoom=f),!k.heading&&Number.isFinite(g)&&(k.heading=g),!k.tilt&&Number.isFinite(b)&&(k.tilt=b);const M=k.internalUsageAttributionIds;M==null?k.internalUsageAttributionIds=s.internalUsageAttributionIds:k.internalUsageAttributionIds=[...s.internalUsageAttributionIds||[],...M];for(const R of Object.keys(k))k[R]===void 0&&delete k[R];const E=h.useRef(void 0);return h.useEffect(()=>{if(!i||!a)return;const{addMapInstance:R,removeMapInstance:z}=s,{mapId:A}=t,V=`${A||"default"}:${y||"default"}:${w||"LIGHT"}`;let H,I;if(v&&Kf.has(V)?(I=Kf.pop(V),H=I.getDiv(),i.appendChild(H),I.setOptions(k),setTimeout(()=>I.setCenter(I.getCenter()),0)):(H=document.createElement("div"),H.style.height="100%",i.appendChild(H),I=new google.maps.Map(H,Object.assign(Object.assign(Object.assign({},k),y?{renderingType:y}:{}),w?{colorScheme:w}:{}))),n(I),R(I,u),m){const{padding:q}=m,fe=Nd(m,["padding"]);I.fitBounds(fe,q)}else(!C||!_)&&I.fitBounds({east:180,west:-180,south:-90,north:90});if(E.current){const{mapId:q,cameraState:fe}=E.current;q!==A&&I.setOptions(fe)}return()=>{E.current={mapId:A,cameraState:c.current},H.remove(),v?Kf.push(V,I):google.maps.event.clearInstanceListeners(I),n(null),z(u)}},[i,a,u,t.mapId,t.renderingType,t.colorScheme]),[r,l,c]}const T2=st.createContext(null),_2=t=>{const{children:s,id:a,className:r,style:n}=t,i=h.useContext(Yx),l=AI();if(!i)throw new Error("<Map> can only be used inside an <ApiProvider> component.");const[c,u,m]=zue(t,i);Iue(c,m,t),wue(c,t),Due(c,t);const x=Fue(c,t),f=!!t.controlled;h.useEffect(()=>{if(c)return x&&c.setOptions({disableDefaultUI:!0}),(x||f)&&c.setOptions({gestureHandling:"none",keyboardShortcuts:!1}),()=>{c.setOptions({gestureHandling:t.gestureHandling,keyboardShortcuts:t.keyboardShortcuts})}},[c,x,f,t.gestureHandling,t.keyboardShortcuts]);const g=t.center?DI(t.center):null;let b=null,v=null;g&&Number.isFinite(g.lat)&&Number.isFinite(g.lng)&&(b=g.lat,v=g.lng);const y=h.useMemo(()=>{var C,_,M;return{center:{lat:b??0,lng:v??0},zoom:(C=t.zoom)!==null&&C!==void 0?C:0,heading:(_=t.heading)!==null&&_!==void 0?_:0,tilt:(M=t.tilt)!==null&&M!==void 0?M:0}},[b,v,t.zoom,t.heading,t.tilt]);h.useLayoutEffect(()=>{if(!c||!f)return;c.moveCamera(y);const C=c.addListener("bounds_changed",()=>{c.moveCamera(y)});return()=>C.remove()},[c,f,y]);const w=h.useMemo(()=>Object.assign({width:"100%",height:"100%",position:"relative",zIndex:x?-1:0},n),[n,x]),k=h.useMemo(()=>({map:c}),[c]);return l===lo.AUTH_FAILURE?st.createElement("div",{style:Object.assign({position:"relative"},r?{}:w),className:r},st.createElement(Rue,null)):st.createElement("div",Object.assign({ref:u,"data-testid":"map",style:r?void 0:w,className:r},a?{id:a}:{}),c?st.createElement(T2.Provider,{value:k},s):null)};_2.deckGLViewProps=!0;const Y3=new Set;function Vue(...t){const s=JSON.stringify(t);Y3.has(s)||(Y3.add(s),console.error(...t))}const E2=(t=null)=>{const s=h.useContext(Yx),{map:a}=h.useContext(T2)||{};if(s===null)return Vue("useMap(): failed to retrieve APIProviderContext. Make sure that the <APIProvider> component exists and that the component you are calling `useMap()` from is a sibling of the <APIProvider>."),null;const{mapInstances:r}=s;return t!==null?r[t]||null:a||r.default||null};function P2(t){const s=FI(),a=h.useContext(Yx);return h.useEffect(()=>{!s||!a||a.importLibrary(t)},[s,a,t]),a?.loadedLibraries[t]||null}function _u(t,s,a){h.useEffect(()=>{if(!t||!s||!a)return;const r=google.maps.event.addListener(t,s,a);return()=>r.remove()},[t,s,a])}function wf(t,s,a){h.useEffect(()=>{t&&(t[s]=a)},[t,s,a])}function Q3(t,s,a){h.useEffect(()=>{if(!(!t||!s||!a))return t.addEventListener(s,a),()=>t.removeEventListener(s,a)},[t,s,a])}class Uue{constructor(){this.renderedStyles=new Set,this.styleElement=null}getStyleElement(){return this.styleElement||(this.styleElement=document.createElement("style"),this.styleElement.setAttribute("data-rgm-anchor-styles",""),document.head.appendChild(this.styleElement)),this.styleElement}addAdvancedMarkerPointerEventsOverwrite(){if(this.renderedStyles.has("marker-pointer-events"))return;const s=this.getStyleElement();s.textContent+=`
      gmp-advanced-marker[data-origin='rgm'] {
        pointer-events: none !important;
      }
    `,this.renderedStyles.add("marker-pointer-events")}cleanup(){this.styleElement&&(this.styleElement.remove(),this.styleElement=null,this.renderedStyles.clear())}}const que=new Uue;function Hue(t,s){var a;if(!(!((a=google==null?void 0:google.maps)===null||a===void 0)&&a.version))return;const r=google.maps.version.split("."),n=parseInt(r[0],10),i=parseInt(r[1],10);return n>t||n===t&&i>=s}const Wue=st.createContext(null),Gue={BOTTOM:["50%","100%"]},MI=h.forwardRef((t,s)=>{const{children:a,style:r,className:n,anchorPoint:i}=t,[l,c]=Que(t),u=h.useMemo(()=>l?{marker:l}:null,[l]);return h.useImperativeHandle(s,()=>l,[l]),c?st.createElement(Wue.Provider,{value:u},xo.createPortal(st.createElement(Yue,{anchorPoint:i,styles:r,className:n},a),c)):null});MI.displayName="AdvancedMarker";function Kue(t){return t.content!==void 0}function IN(t){return t.nodeType===Node.ELEMENT_NODE}const Yue=({children:t,styles:s,className:a})=>st.createElement("div",{className:a,style:s},t);function Que(t){const[s,a]=h.useState(null),[r,n]=h.useState(null),i=E2(),l=P2("marker"),{children:c,onClick:u,className:m,onMouseEnter:x,onMouseLeave:f,onDrag:g,onDragStart:b,onDragEnd:v,collisionBehavior:y,clickable:w,draggable:k,position:C,title:_,zIndex:M,anchorPoint:E,anchorLeft:R,anchorTop:z}=t,A=h.Children.count(c);return h.useEffect(()=>{if(!i||!l)return;const V=new l.AdvancedMarkerElement;V.map=i,a(V);let H=null;return A>0&&(H=document.createElement("div"),V.content=H,n(H)),()=>{V.map=null,H?.remove(),a(null),n(null)}},[i,l,A]),h.useEffect(()=>{!s?.content||!IN(s.content)||A>0||(s.content.className=m??"")},[s,m,A]),Xue(s,E,R,z,A>0),wf(s,"position",C),wf(s,"title",_??""),wf(s,"zIndex",M),wf(s,"collisionBehavior",y),h.useEffect(()=>{s&&(k!==void 0?s.gmpDraggable=k:g||b||v?s.gmpDraggable=!0:s.gmpDraggable=!1)},[s,k,g,v,b]),h.useEffect(()=>{if(!s)return;const V=w!==void 0||!!u||!!x||!!f;s.gmpClickable=V,V&&s?.content&&IN(s.content)&&(s.content.style.pointerEvents="all",u&&(s.content.style.cursor="pointer"))},[s,w,u,x,f]),_u(s,"click",u),_u(s,"drag",g),_u(s,"dragstart",b),_u(s,"dragend",v),Q3(s?.element,"mouseenter",x),Q3(s?.element,"mouseleave",f),[s,r]}function Xue(t,s,a,r,n){h.useEffect(()=>{if(!t||!n)return;const i=Hue(3,62),l=t.content;if(!(!l||!IN(l))){if(a!==void 0||r!==void 0){i||console.warn(`AdvancedMarker: The anchorLeft and anchorTop props are only supported in Google Maps API version 3.62 and above. The current version is ${google.maps.version}.`),t.anchorLeft=a,t.anchorTop=r,s!==void 0&&console.warn("AdvancedMarker: the anchorPoint prop is ignored when anchorLeft and/or anchorTop are set.");return}if(s!==void 0){const[c,u]=s??Gue.BOTTOM,m=`calc(-1 * ${c})`,x=`calc(-1 * ${u})`;i?(t.anchorLeft=m,t.anchorTop=x,l.style.transform=""):(l.style.transform=`translate(50%, 100%) translate(${m}, ${x})`,t.dataset.origin="rgm",que.addAdvancedMarkerPointerEventsOverwrite())}}},[t,s,a,r,n])}function Zue(t,s,a){if(s!=null&&typeof s!="object")throw new Error("The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.");const r=t.style;if(a==null){if(s==null)return;for(const n in s)s.hasOwnProperty(n)&&X3(r,n,s[n]);return}for(const n in a)a.hasOwnProperty(n)&&(s==null||!s.hasOwnProperty(n))&&(n.indexOf("--")===0?r.setProperty(n,""):n==="float"?r.cssFloat="":r[n]="");if(s!=null)for(const n in s){const i=s[n];s.hasOwnProperty(n)&&a[n]!==i&&X3(r,n,i)}}function X3(t,s,a){const r=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?r?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":r?t.setProperty(s,a):typeof a=="number"&&a!==0&&!eme(s)?t[s]=a+"px":s==="float"?t.cssFloat=a:t[s]=(""+a).trim()}const Jue=new Set(["animationIterationCount","aspectRatio","borderImageOutset","borderImageSlice","borderImageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","columns","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridArea","gridRow","gridRowEnd","gridRowSpan","gridRowStart","gridColumn","gridColumnEnd","gridColumnSpan","gridColumnStart","fontWeight","lineClamp","lineHeight","opacity","order","orphans","scale","tabSize","widows","zIndex","zoom","fillOpacity","floodOpacity","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth"]);function eme(t){return Jue.has(t)}const Z3=t=>{const{children:s,headerContent:a,style:r,className:n,pixelOffset:i,anchor:l,shouldFocus:c,onClose:u,onCloseClick:m}=t,x=Nd(t,["children","headerContent","style","className","pixelOffset","anchor","shouldFocus","onClose","onCloseClick"]),f=P2("maps"),[g,b]=h.useState(null),v=h.useRef(null),y=h.useRef(null),w=PI(x,TI);h.useEffect(()=>{if(!f)return;v.current=document.createElement("div"),y.current=document.createElement("div");const _=w;i&&(_.pixelOffset=new google.maps.Size(i[0],i[1])),a&&(_.headerContent=typeof a=="string"?a:y.current);const M=new google.maps.InfoWindow(w);return M.setContent(v.current),b(M),()=>{var E,R;M.setContent(null),(E=v.current)===null||E===void 0||E.remove(),(R=y.current)===null||R===void 0||R.remove(),v.current=null,y.current=null,b(null)}},[f]);const k=h.useRef(null);h.useEffect(()=>{!g||!v.current||(Zue(v.current,r||null,k.current),k.current=r||null,n!==v.current.className&&(v.current.className=n||""))},[g,n,r]),h.useEffect(()=>{if(!g)return;const _=w;i?_.pixelOffset=new google.maps.Size(i[0],i[1]):_.pixelOffset=null,a?_.headerContent=typeof a=="string"?a:y.current:_.headerContent=null,g.setOptions(w)},[w,i,a]),_u(g,"close",u),_u(g,"closeclick",m);const C=E2();return h.useEffect(()=>{var _;if(!C||!g||l===null)return;const M=!!l,E={map:C};if(l&&(E.anchor=l,Kue(l)&&l.content instanceof Element)){const R=l?.getBoundingClientRect();if(R&&l.dataset.origin==="rgm"){const z=(_=l.content.firstElementChild)===null||_===void 0?void 0:_.firstElementChild,A=z?.getBoundingClientRect(),V=A.x-R.x+(A.width-R.width)/2,H=A.y-R.y,I=w;I.pixelOffset=new google.maps.Size(i?i[0]+V:V,i?i[1]+H:H),g.setOptions(I)}}return c!==void 0&&(E.shouldFocus=c),g.open(E),()=>{M&&g.set("anchor",null),g.close()}},[g,l,C,c,w,i]),st.createElement(st.Fragment,null,v.current&&xo.createPortal(s,v.current),y.current!==null&&xo.createPortal(a,y.current))};function tme(t){const[s,a]=h.useState(null),r=E2(),{onClick:n,onDrag:i,onDragStart:l,onDragEnd:c,onMouseOver:u,onMouseOut:m}=t,x=Nd(t,["onClick","onDrag","onDragStart","onDragEnd","onMouseOver","onMouseOut"]),{position:f,draggable:g}=x;return h.useEffect(()=>{if(!r){r===void 0&&console.error("<Marker> has to be inside a Map component.");return}const b=new google.maps.Marker(x);return b.setMap(r),a(b),()=>{b.setMap(null),a(null)}},[r]),h.useEffect(()=>{if(!s)return;const b=s,v=google.maps.event;return n&&v.addListener(b,"click",n),i&&v.addListener(b,"drag",i),l&&v.addListener(b,"dragstart",l),c&&v.addListener(b,"dragend",c),u&&v.addListener(b,"mouseover",u),m&&v.addListener(b,"mouseout",m),s.setDraggable(!!g),()=>{v.clearInstanceListeners(b)}},[s,g,n,i,l,c,u,m]),h.useEffect(()=>{s&&x&&s.setOptions(x)},[s,x]),h.useEffect(()=>{g||!f||!s||s.setPosition(f)},[g,f,s]),s}const Yf=h.forwardRef((t,s)=>{const a=tme(t);return h.useImperativeHandle(s,()=>a,[a]),st.createElement(st.Fragment,null)});Yf.displayName="Marker";function sme(t){const{onClick:s,onDrag:a,onDragStart:r,onDragEnd:n,onMouseOver:i,onMouseOut:l,encodedPath:c,...u}=t,m=h.useRef({});Object.assign(m.current,{onClick:s,onDrag:a,onDragStart:r,onDragEnd:n,onMouseOver:i,onMouseOut:l});const x=P2("geometry"),f=h.useRef(new google.maps.Polyline).current;h.useMemo(()=>{f.setOptions(u)},[f,u]);const g=h.useContext(T2)?.map;return h.useMemo(()=>{if(!c||!x)return;const b=x.encoding.decodePath(c);f.setPath(b)},[f,c,x]),h.useEffect(()=>{if(!g){g===void 0&&console.error("<Polyline> has to be inside a Map component.");return}return f.setMap(g),()=>{f.setMap(null)}},[g]),h.useEffect(()=>{if(!f)return;const b=google.maps.event;return[["click","onClick"],["drag","onDrag"],["dragstart","onDragStart"],["dragend","onDragEnd"],["mouseover","onMouseOver"],["mouseout","onMouseOut"]].forEach(([v,y])=>{b.addListener(f,v,w=>{const k=m.current[y];k&&k(w)})}),()=>{b.clearInstanceListeners(f)}},[f]),f}const II=h.forwardRef((t,s)=>{const a=sme(t);return h.useImperativeHandle(s,()=>a,[]),null});II.displayName="Polyline";class ame extends h.Component{constructor(s){super(s),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}render(){return this.state.hasError?this.props.fallback:this.props.children}}const Kg={venue:"#FF385C",venues:"#FF385C","venues-luxury":"#FF385C","custom-venue":"#8B5CF6",catering:"#00A699",photography:"#FC642D",florist:"#E91E63",entertainment:"#9C27B0",dining:"#FF9800",restaurant:"#FF9800",accommodations:"#3F51B5",accommodation:"#3F51B5",hotel:"#3F51B5",hotels:"#3F51B5",spa:"#009688",wellness:"#009688",activities:"#4CAF50",nightlife:"#673AB7",jewelry:"#9C27B0",rings:"#9C27B0",transportation:"#795548",transport:"#795548",decorations:"#FF5722","av-equipment":"#607D8B",av:"#607D8B","team-building":"#2196F3",team:"#2196F3",adventures:"#FF5722",adventure:"#FF5722",sports:"#4CAF50",sport:"#4CAF50",shopping:"#E91E63",wine:"#9C27B0",beach:"#00BCD4",tour:"#4CAF50",tours:"#4CAF50",default:"#607D8B"},Qf=t=>t.startsWith("custom-");function rme({providers:t,selectedProviderIds:s=[],destinationCenter:a,onAddToCart:r,onRemoveFromCart:n,activityLocations:i=[],hotelLocation:l,transitRoutes:c,highlightedActivityId:u}){const[m,x]=h.useState(null),[f,g]=h.useState(null),[b,v]=h.useState(null),y=C=>s.includes(C),w=h.useMemo(()=>{if(a)return a;if(t.length>0){const C=t.filter(z=>Qf(z.id)),_=t.filter(z=>s.includes(z.id)),M=C.length>0?C:_.length>0?_:t,E=M.reduce((z,A)=>z+A.lat,0)/M.length,R=M.reduce((z,A)=>z+A.lng,0)/M.length;return{lat:E,lng:R}}return{lat:40.7128,lng:-74.006}},[t,s,a]),k=a?`map-${a.lat.toFixed(4)}-${a.lng.toFixed(4)}`:"map-default";return e.jsxs(_2,{defaultCenter:w,defaultZoom:12,gestureHandling:"greedy",disableDefaultUI:!1,zoomControl:!0,fullscreenControl:!0,mapTypeControl:!1,streetViewControl:!1,scrollwheel:!0,className:"w-full h-full rounded-md",style:{width:"100%",height:"100%"},children:[t.map(C=>{const _=y(C.id),M=Qf(C.id);let E;return M&&_?E={url:"data:image/svg+xml,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="40" height="48" viewBox="0 0 40 48"><path d="M20 0C9 0 0 9 0 20c0 15 20 28 20 28s20-13 20-28c0-11-9-20-20-20z" fill="#8B5CF6" stroke="white" stroke-width="3"/><circle cx="20" cy="18" r="8" fill="white"/><path d="M16 18l3 3 5-5" stroke="#8B5CF6" stroke-width="2" fill="none"/></svg>')}:M?E={url:"data:image/svg+xml,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="40" height="48" viewBox="0 0 40 48"><path d="M20 0C9 0 0 9 0 20c0 15 20 28 20 28s20-13 20-28c0-11-9-20-20-20z" fill="#8B5CF6" stroke="white" stroke-width="3"/><path d="M20 10l2.5 5 5.5.8-4 3.9.9 5.3-4.9-2.6-4.9 2.6.9-5.3-4-3.9 5.5-.8z" fill="white"/></svg>')}:_&&(E={url:"data:image/svg+xml,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="32" height="40" viewBox="0 0 32 40"><path d="M16 0C7.16 0 0 7.16 0 16c0 12 16 24 16 24s16-12 16-24c0-8.84-7.16-16-16-16z" fill="#FF385C" stroke="white" stroke-width="2"/><circle cx="16" cy="16" r="6" fill="white"/><path d="M13 16l2 2 4-4" stroke="#FF385C" stroke-width="2" fill="none"/></svg>')}),e.jsx(Yf,{position:{lat:C.lat,lng:C.lng},onClick:()=>x(C),icon:E},C.id)}),m&&e.jsx(Z3,{position:{lat:m.lat,lng:m.lng},onCloseClick:()=>x(null),children:e.jsxs("div",{className:"p-2 max-w-[250px]",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[e.jsx("h4",{className:"font-semibold text-sm",children:m.name}),e.jsx(O,{className:"text-xs flex-shrink-0",style:{backgroundColor:Kg[m.category]||Kg.default},children:Qf(m.id)?"Custom Location":m.category})]}),e.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-600 mb-2",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(rt,{className:"w-3 h-3 fill-amber-400 text-amber-400"}),m.rating.toFixed(1)]}),e.jsxs("span",{className:"font-medium",children:["$",m.price]})]}),m.description&&e.jsx("p",{className:"text-xs text-gray-500 mb-2 line-clamp-2",children:m.description}),y(m.id)?n&&e.jsxs(S,{size:"sm",variant:"outline",className:"w-full text-xs h-7 border-red-500 text-red-500 hover:bg-red-50",onClick:()=>n(m.id),children:[e.jsx(Ia,{className:"w-3 h-3 mr-1"}),"Remove from Plan"]}):r&&e.jsxs(S,{size:"sm",className:"w-full bg-[#FF385C] hover:bg-[#E23350] text-xs h-7",onClick:()=>r(m),children:[e.jsx(ps,{className:"w-3 h-3 mr-1"}),"Add to Plan"]})]})}),i.map(C=>e.jsx(Yf,{position:{lat:C.lat,lng:C.lng},onClick:()=>v(C),icon:{url:"data:image/svg+xml,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="36" height="44" viewBox="0 0 36 44"><path d="M18 0C8.06 0 0 8.06 0 18c0 13.5 18 26 18 26s18-12.5 18-26c0-9.94-8.06-18-18-18z" fill="#4CAF50" stroke="white" stroke-width="2"/><circle cx="18" cy="16" r="7" fill="white"/><path d="M14 16h8M18 12v8" stroke="#4CAF50" stroke-width="2" stroke-linecap="round"/></svg>')}},`activity-${C.id}`)),b&&e.jsx(Z3,{position:{lat:b.lat,lng:b.lng},onCloseClick:()=>v(null),children:e.jsxs("div",{className:"p-2 max-w-[250px]",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[e.jsx("h4",{className:"font-semibold text-sm",children:b.name}),e.jsx(O,{className:"text-xs flex-shrink-0 bg-green-500",children:"Activity"})]}),b.meetingPoint&&e.jsxs("div",{className:"flex items-start gap-1 text-xs text-gray-600 mb-2",children:[e.jsx(Me,{className:"w-3 h-3 mt-0.5 shrink-0"}),e.jsx("span",{children:b.meetingPoint})]}),b.duration&&e.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[e.jsx(Je,{className:"w-3 h-3"}),e.jsx("span",{children:b.duration})]})]})}),c&&i.map(C=>{const _=c.get(C.id);if(!_?.polyline)return null;const M=u===C.id;return e.jsx(II,{encodedPath:_.polyline,strokeColor:M?"#FF385C":"#3B82F6",strokeWeight:M?6:4,strokeOpacity:M?1:.5},`route-${C.id}`)}),l&&e.jsx(Yf,{position:{lat:l.lat,lng:l.lng},icon:{url:"data:image/svg+xml,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="40" height="48" viewBox="0 0 40 48"><path d="M20 0C9 0 0 9 0 20c0 15 20 28 20 28s20-13 20-28c0-11-9-20-20-20z" fill="#3F51B5" stroke="white" stroke-width="3"/><rect x="12" y="10" width="16" height="16" rx="2" fill="white"/><rect x="15" y="13" width="4" height="4" fill="#3F51B5"/><rect x="21" y="13" width="4" height="4" fill="#3F51B5"/><rect x="15" y="19" width="4" height="4" fill="#3F51B5"/><rect x="21" y="19" width="4" height="4" fill="#3F51B5"/></svg>')}},`hotel-${l.id}`)]},k)}function J3({providers:t,selectedProviderIds:s=[],destination:a,destinationCenter:r,onAddToCart:n,onRemoveFromCart:i,className:l,height:c="100%",activityLocations:u=[],hotelLocation:m,transitRoutes:x,highlightedActivityId:f}){const g="AIzaSyAlhW2MsmHjk_W4toxac-sILDb-YLOeg3s",{data:b}=Le({queryKey:["/api/amadeus/locations","geocode-map",a],enabled:!r&&!!a&&a.length>=2,queryFn:async()=>{const k=new URLSearchParams({keyword:a,subType:"CITY"}),C=await fetch(`/api/amadeus/locations?${k}`,{credentials:"include"});return C.ok?C.json():[]},staleTime:3e5}),v=h.useMemo(()=>r||(b&&b.length>0&&b[0].geoCode?{lat:b[0].geoCode.latitude,lng:b[0].geoCode.longitude}:null),[r,b]),y=s.length,w=e.jsx("div",{className:"flex items-center justify-center bg-gray-100 dark:bg-gray-800 rounded-md w-full h-full",children:e.jsxs("div",{className:"text-center p-6",children:[e.jsx(Me,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"font-semibold mb-2",children:"Map Loading Error"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Unable to load Google Maps. Please try refreshing the page."})]})});return e.jsxs("div",{className:te("relative",l),style:{height:c},children:[e.jsx(ame,{fallback:w,children:e.jsx(_I,{apiKey:g,children:e.jsx(rme,{providers:t,selectedProviderIds:s,destinationCenter:v,onAddToCart:n,onRemoveFromCart:i,activityLocations:u,hotelLocation:m,transitRoutes:x,highlightedActivityId:f})})}),e.jsxs("div",{className:"absolute top-3 left-3 flex flex-col gap-2",children:[e.jsx("div",{className:"bg-white dark:bg-gray-900 rounded-md shadow-md p-2",children:e.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[e.jsx(n0,{className:"w-4 h-4 text-[#FF385C]"}),e.jsxs("span",{className:"font-medium",children:[t.length," providers"]})]})}),y>0&&e.jsx("div",{className:"bg-[#FF385C] text-white rounded-md shadow-md p-2",children:e.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[e.jsx(rs,{className:"w-4 h-4"}),e.jsxs("span",{className:"font-medium",children:[y," in plan"]})]})}),t.some(k=>Qf(k.id))&&e.jsx("div",{className:"bg-[#8B5CF6] text-white rounded-md shadow-md p-2",children:e.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[e.jsx(rt,{className:"w-4 h-4"}),e.jsx("span",{className:"font-medium",children:"Custom locations"})]})})]}),e.jsx("div",{className:"absolute bottom-3 left-3 right-3",children:e.jsx("div",{className:"bg-white/90 dark:bg-gray-900/90 backdrop-blur rounded-md shadow-md p-2",children:e.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[e.jsx(A_,{className:"w-3 h-3"}),e.jsx("span",{children:a||"All locations"})]}),e.jsx("div",{className:"flex gap-1 flex-wrap",children:Object.entries(t.reduce((k,C)=>(k[C.category]=(k[C.category]||0)+1,k),{})).slice(0,4).map(([k,C])=>e.jsxs(O,{variant:"outline",className:"text-xs h-5",style:{borderColor:Kg[k]||Kg.default},children:[k,": ",C]},k))})]})})})]})}function nme({experienceType:t,destination:s,onRequestExpert:a,isOpen:r=!0,onClose:n}){const[i,l]=h.useState(!1),[c,u]=h.useState(""),[m,x]=h.useState([{id:"1",text:`Hi! I'm here to help you plan the perfect ${t||"experience"}${s?` in ${s}`:""}. How can I assist you today?`,sender:"system",timestamp:new Date}]),[f,g]=h.useState(!1),[b,v]=h.useState(!1),y=()=>{if(!c.trim())return;const C={id:Date.now().toString(),text:c,sender:"user",timestamp:new Date};x(_=>[..._,C]),u(""),b||setTimeout(()=>{x(_=>[..._,{id:Date.now().toString(),text:"I'll connect you with one of our local experts who can help with your specific needs. Would you like to speak with an expert now?",sender:"system",timestamp:new Date}])},1e3)},w=()=>{g(!0),setTimeout(()=>{g(!1),v(!0),x(C=>[...C,{id:Date.now().toString(),text:"Great news! Sarah, one of our local travel experts, will be with you shortly. Average wait time: 2-3 minutes.",sender:"system",timestamp:new Date}]),a&&a()},1500)},k=()=>{n&&n()};return r?e.jsxs(P,{className:te("fixed z-[9999] shadow-2xl border-0 transition-all duration-300",i?"bottom-6 right-6 w-72":"bottom-6 right-6 w-96 h-[500px]"),"data-testid":"chat-widget",children:[e.jsx(Q,{className:"bg-[#FF385C] text-white rounded-t-lg p-4 cursor-pointer",onClick:()=>l(!i),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsxs(Ls,{className:"h-10 w-10 border-2 border-white/30",children:[e.jsx(Br,{src:""}),e.jsx(Os,{className:"bg-white/20 text-white",children:e.jsx(zu,{className:"w-5 h-5"})})]}),b&&e.jsx("span",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-400 border-2 border-[#FF385C] rounded-full"})]}),e.jsxs("div",{children:[e.jsx(X,{className:"text-sm font-semibold",children:b?"Expert Connected":"Need Help?"}),e.jsx("p",{className:"text-xs text-white/80",children:b?"Sarah is typing...":"Chat with a local expert"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(S,{variant:"ghost",size:"icon",className:"text-white hover:bg-white/20",onClick:C=>{C.stopPropagation(),l(!i)},"data-testid":"button-minimize-chat",children:e.jsx(qs,{className:te("w-5 h-5 transition-transform",i&&"rotate-180")})}),e.jsx(S,{variant:"ghost",size:"icon",className:"text-white hover:bg-white/20",onClick:C=>{C.stopPropagation(),k()},"data-testid":"button-close-chat",children:e.jsx(Ia,{className:"w-5 h-5"})})]})]})}),!i&&e.jsxs(F,{className:"p-0 flex flex-col h-[calc(500px-80px)]",children:[e.jsx(Ha,{className:"flex-1 p-4",children:e.jsxs("div",{className:"space-y-4",children:[m.map(C=>e.jsx("div",{className:te("flex",C.sender==="user"?"justify-end":"justify-start"),children:e.jsxs("div",{className:te("max-w-[80%] rounded-lg px-4 py-2",C.sender==="user"?"bg-[#FF385C] text-white":C.sender==="expert"?"bg-gray-100 dark:bg-gray-800":"bg-blue-50 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-800"),children:[e.jsx("p",{className:"text-sm",children:C.text}),e.jsx("p",{className:te("text-xs mt-1",C.sender==="user"?"text-white/70":"text-muted-foreground"),children:C.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},C.id)),!b&&m.length>1&&e.jsx("div",{className:"flex justify-center py-2",children:e.jsx(S,{onClick:w,disabled:f,className:"bg-[#FF385C] hover:bg-[#E23350]","data-testid":"button-connect-expert",children:f?e.jsxs(e.Fragment,{children:[e.jsx(Je,{className:"w-4 h-4 mr-2 animate-spin"}),"Connecting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(zu,{className:"w-4 h-4 mr-2"}),"Connect with Expert"]})})})]})}),e.jsx("div",{className:"p-4 border-t",children:e.jsxs("form",{onSubmit:C=>{C.preventDefault(),y()},className:"flex gap-2",children:[e.jsx(Ne,{placeholder:"Type your message...",value:c,onChange:C=>u(C.target.value),className:"flex-1","data-testid":"input-chat-message"}),e.jsx(S,{type:"submit",size:"icon",className:"bg-[#FF385C] hover:bg-[#E23350]","data-testid":"button-send-message",children:e.jsx(ul,{className:"w-4 h-4"})})]})})]})]}):null}function ime({onConnect:t,cartTotal:s}){return e.jsx("div",{className:"bg-gradient-to-r from-[#FF385C]/10 to-[#FF385C]/5 rounded-lg p-4 mb-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"bg-[#FF385C] p-2 rounded-full flex-shrink-0",children:e.jsx(zu,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-sm mb-1",children:"Not sure about your selections?"}),e.jsxs("p",{className:"text-xs text-muted-foreground mb-3",children:["Our experts can review your choices and suggest optimizations"," ",s&&s>200?"that could save you money.":"for a better experience."]}),e.jsxs(S,{variant:"outline",size:"sm",onClick:t,className:"border-[#FF385C] text-[#FF385C] hover:bg-[#FF385C]/10","data-testid":"button-checkout-expert",children:[e.jsx(Qi,{className:"w-3 h-3 mr-2"}),"Get Expert Review"]})]})]})})}const lme={BUS:Jr,SUBWAY:Ma,METRO:Ma,TRAIN:Ma,LIGHT_RAIL:Ma,RAIL:Ma,TRAM:Ma,FERRY:n0};function ome(t,s,a,r){const i=(a-t)*Math.PI/180,l=(r-s)*Math.PI/180,c=Math.sin(i/2)*Math.sin(i/2)+Math.cos(t*Math.PI/180)*Math.cos(a*Math.PI/180)*Math.sin(l/2)*Math.sin(l/2);return 6371*(2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c)))}function cme({activityLocations:t,hotelLocation:s,flightInfo:a,className:r,onTransitRoutesLoaded:n,initialTransitRoutes:i,onActivitySelect:l}){const[c,u]=h.useState(!0),[m,x]=h.useState(()=>{if(i){const $={};return i.forEach((L,W)=>{$[W]=L}),$}return{}}),[f,g]=h.useState(new Set),[b,v]=h.useState(null),[y,w]=h.useState("routes"),[k,C]=h.useState([]),[_,M]=h.useState(null),[E,R]=h.useState("all"),[z,A]=h.useState("time"),V=t.map($=>`${$.id}:${$.lat},${$.lng}`).join("|"),H=s?`${s.id}:${s.lat},${s.lng}`:"",I=h.useRef("");h.useEffect(()=>{if(i)if(i.size>0){const $={};i.forEach((L,W)=>{$[W]=L}),x($)}else x({})},[i]),h.useEffect(()=>{v(null),l&&l(null)},[H,V]);const q=`${H}|${V}`,fe=Ot({mutationFn:async()=>{const $=q;if(I.current=$,!s||t.length===0)return{routes:{},requestKey:$};const L=await fetch("/api/routes/transit-multi",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({origin:{lat:s.lat,lng:s.lng,name:s.name},destinations:t.map(re=>({id:re.id,lat:re.lat,lng:re.lng,name:re.name}))})});if(!L.ok)throw new Error("Failed to fetch transit routes");return{...await L.json(),requestKey:$}},onSuccess:$=>{if($.requestKey===I.current&&$?.routes&&(x($.routes),n)){const L=new Map;Object.entries($.routes).forEach(([W,re])=>{L.set(W,re)}),n(L)}}}),oe=Ot({mutationFn:async()=>{if(!s||t.length===0)return{recommendations:[]};const $=await fetch("/api/claude/transportation-analysis",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({hotelLocation:{lat:s.lat,lng:s.lng,address:s.name},activityLocations:t.map(L=>({lat:L.lat,lng:L.lng,address:L.meetingPoint||L.name,name:L.name}))})});if(!$.ok)throw new Error("Failed to get AI recommendations");return $.json()},onSuccess:$=>{$?.recommendations&&C($.recommendations)}}),Ee=Ot({mutationFn:async()=>{if(!s)return null;const $=await fetch("/api/claude/full-itinerary-graph",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({flightInfo:a||{},hotelLocation:{lat:s.lat,lng:s.lng,address:s.name,name:s.name},activityLocations:t.map(L=>({lat:L.lat,lng:L.lng,address:L.meetingPoint||L.name,name:L.name}))})});if(!$.ok)throw new Error("Failed to analyze full journey");return $.json()},onSuccess:$=>{$&&M($)}});h.useEffect(()=>{s&&t.length>0&&!i?fe.mutate():(!s||t.length===0)&&(I.current=q,x({}),n&&n(new Map)),C([]),M(null)},[H,V,i]);const me={taxi:zs,uber:zs,metro:Ma,subway:Ma,walk:Xy,bus:Jr,"rental car":zs,train:Ma},ie=h.useMemo(()=>{let $=[...k];return E!=="all"&&($=$.filter(L=>L.recommendedMode.toLowerCase().includes(E))),z==="time"&&$.sort((L,W)=>L.estimatedTime-W.estimatedTime),$},[k,E,z]),B=h.useMemo(()=>s?t.map($=>({activity:$,straightDistance:ome(s.lat,s.lng,$.lat,$.lng),transitRoute:m[$.id]||null})).sort(($,L)=>{const W=$.transitRoute?.totalDuration||1/0,re=L.transitRoute?.totalDuration||1/0;return W-re}):[],[t,s,m]);if(!s&&t.length===0)return null;const ae=t.length>0,ke=$=>{g(L=>{const W=new Set(L);return W.has($)?W.delete($):W.add($),W})};return e.jsxs(P,{className:te("bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-gray-800 dark:to-gray-900 border-blue-200 dark:border-blue-800",r),children:[e.jsx(Q,{className:"pb-2",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(X,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(A_,{className:"h-4 w-4 text-blue-600"}),"Transportation Options"]}),e.jsx(S,{variant:"ghost",size:"sm",className:"h-6 px-2",onClick:()=>u(!c),"data-testid":"button-toggle-transport",children:c?e.jsx(nl,{className:"h-4 w-4"}):e.jsx(qs,{className:"h-4 w-4"})})]})}),c&&e.jsxs(F,{className:"pt-0 space-y-3",children:[!s&&ae&&e.jsxs("div",{className:"flex items-start gap-2 text-xs bg-amber-100 dark:bg-amber-900/30 text-amber-800 dark:text-amber-200 p-2 rounded-md",children:[e.jsx(ns,{className:"h-4 w-4 shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Add a hotel to see transportation options"}),e.jsx("p",{className:"text-amber-700 dark:text-amber-300",children:"We'll show you the best routes to your activities."})]})]}),s&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs bg-indigo-100 dark:bg-indigo-900/30 p-2 rounded-md",children:[e.jsx(Us,{className:"h-4 w-4 text-indigo-600"}),e.jsx("span",{className:"font-medium truncate",children:s.name})]}),e.jsxs(Na,{value:y,onValueChange:$=>w($),className:"w-full",children:[e.jsxs(ca,{className:"grid w-full grid-cols-3 h-8",children:[e.jsxs(it,{value:"routes",className:"text-xs gap-1","data-testid":"tab-routes",children:[e.jsx(n0,{className:"h-3 w-3"}),"Routes"]}),e.jsxs(it,{value:"ai",className:"text-xs gap-1","data-testid":"tab-ai-transport",children:[e.jsx(qe,{className:"h-3 w-3"}),"AI Tips"]}),e.jsxs(it,{value:"journey",className:"text-xs gap-1","data-testid":"tab-full-journey",children:[e.jsx(Pt,{className:"h-3 w-3"}),"Full Trip"]})]}),e.jsxs(xt,{value:"ai",className:"mt-2 space-y-3",children:[!oe.isPending&&k.length===0&&e.jsxs(S,{onClick:()=>oe.mutate(),className:"w-full bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700",size:"sm","data-testid":"button-get-ai-transport",children:[e.jsx(qe,{className:"h-3 w-3 mr-1"}),"Get AI Transportation Recommendations"]}),oe.isPending&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-2",children:[e.jsx(qe,{className:"h-3 w-3 animate-pulse"}),"Analyzing your itinerary..."]}),e.jsx(_e,{className:"h-16 w-full"}),e.jsx(_e,{className:"h-16 w-full"})]}),k.length>0&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx(O,{variant:E==="all"?"default":"outline",className:"cursor-pointer text-xs",onClick:()=>R("all"),"data-testid":"badge-filter-all",children:"All"}),e.jsxs(O,{variant:E==="taxi"?"default":"outline",className:"cursor-pointer text-xs gap-1",onClick:()=>R("taxi"),"data-testid":"badge-filter-taxi",children:[e.jsx(zs,{className:"h-3 w-3"})," Taxi/Uber"]}),e.jsxs(O,{variant:E==="metro"?"default":"outline",className:"cursor-pointer text-xs gap-1",onClick:()=>R("metro"),"data-testid":"badge-filter-metro",children:[e.jsx(Ma,{className:"h-3 w-3"})," Metro"]}),e.jsxs(O,{variant:E==="walk"?"default":"outline",className:"cursor-pointer text-xs gap-1",onClick:()=>R("walk"),"data-testid":"badge-filter-walk",children:[e.jsx(Xy,{className:"h-3 w-3"})," Walk"]}),e.jsxs(O,{variant:E==="bus"?"default":"outline",className:"cursor-pointer text-xs gap-1",onClick:()=>R("bus"),"data-testid":"badge-filter-bus",children:[e.jsx(Jr,{className:"h-3 w-3"})," Bus"]})]}),e.jsx("div",{className:"space-y-2",children:ie.map(($,L)=>{const W=me[$.recommendedMode.toLowerCase()]||zs;return e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-md border p-3 space-y-2",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"flex items-start gap-2 flex-1 min-w-0",children:[e.jsx(Jc,{className:"h-4 w-4 text-green-600 shrink-0 mt-0.5"}),e.jsx("div",{className:"min-w-0",children:e.jsx("p",{className:"font-medium text-sm truncate",children:$.activity})})]}),e.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[e.jsxs(O,{className:"gap-1 text-xs bg-purple-600",children:[e.jsx(W,{className:"h-3 w-3"}),$.recommendedMode]}),e.jsxs(O,{variant:"secondary",className:"gap-1 text-xs",children:[e.jsx(Je,{className:"h-3 w-3"}),$.estimatedTime," min"]})]})]}),e.jsx("p",{className:"text-xs text-muted-foreground italic",children:$.reason})]},L)})}),a?.arrivalAirport&&e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-md border border-blue-200 dark:border-blue-800 p-3 space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium text-blue-700 dark:text-blue-300",children:[e.jsx(Pt,{className:"h-3 w-3"}),"Airport Transfer"]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["From ",a.arrivalAirport," to your hotel - Consider taxi, rideshare, or airport shuttle for convenience."]})]})]}),oe.isError&&e.jsxs("div",{className:"flex items-start gap-2 text-xs bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-200 p-2 rounded-md",children:[e.jsx(ns,{className:"h-4 w-4 shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Couldn't get AI recommendations"}),e.jsx(S,{variant:"ghost",size:"sm",className:"h-auto p-0 text-xs text-red-700 underline",onClick:()=>oe.mutate(),children:"Try again"})]})]})]}),e.jsxs(xt,{value:"routes",className:"mt-2 space-y-2",children:[fe.isPending&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Loading transit routes..."}),e.jsx(_e,{className:"h-12 w-full"}),e.jsx(_e,{className:"h-12 w-full"})]}),ae&&B.length>0&&!fe.isPending&&e.jsx("div",{className:"space-y-2",children:B.map(({activity:$,straightDistance:L,transitRoute:W})=>{const re=f.has($.id),se=b===$.id;return e.jsxs("div",{className:te("rounded-md border overflow-hidden transition-all",se?"bg-[#FF385C]/10 border-[#FF385C] ring-2 ring-[#FF385C]/30":"bg-white dark:bg-gray-800"),children:[e.jsxs("button",{onClick:()=>{if(W){ke($.id);const ge=se?null:$.id;v(ge),l&&l(ge)}},className:"w-full flex items-start justify-between gap-2 p-2 text-xs text-left hover:bg-gray-50 dark:hover:bg-gray-750",disabled:!W,"data-testid":`button-route-${$.id}`,children:[e.jsxs("div",{className:"flex items-start gap-2 flex-1 min-w-0",children:[e.jsx(Jc,{className:"h-4 w-4 text-green-600 shrink-0 mt-0.5"}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"font-medium truncate",children:$.name}),$.meetingPoint&&e.jsx("p",{className:"text-muted-foreground truncate text-[10px]",children:$.meetingPoint})]})]}),e.jsx("div",{className:"flex flex-col items-end gap-1 shrink-0",children:W?e.jsxs(e.Fragment,{children:[e.jsxs(O,{variant:"default",className:"gap-1 text-xs bg-blue-600",children:[e.jsx(Je,{className:"h-3 w-3"}),W.durationText]}),e.jsx("span",{className:"text-[10px] text-muted-foreground",children:W.distanceText})]}):e.jsxs(O,{variant:"outline",className:"gap-1 text-xs",children:[e.jsx(Me,{className:"h-3 w-3"}),L.toFixed(1)," km"]})})]}),re&&W&&e.jsx("div",{className:"border-t px-2 py-2 space-y-1.5 bg-gray-50 dark:bg-gray-850",children:W.steps.map((ge,K)=>{if(ge.mode==="WALK")return e.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-muted-foreground",children:[e.jsx(Xy,{className:"h-3 w-3"}),e.jsxs("span",{children:["Walk ",ge.durationMinutes," min"]}),ge.instruction&&e.jsxs("span",{className:"truncate",children:["- ",ge.instruction]})]},K);const J=ge.transit,je=lme[J.vehicleType]||Jr;return e.jsxs("div",{className:"flex items-start gap-2 p-1.5 rounded bg-white dark:bg-gray-800 border text-[10px]",children:[e.jsx("div",{className:"shrink-0 w-5 h-5 rounded flex items-center justify-center",style:{backgroundColor:J.lineColor||"#3B82F6",color:J.lineTextColor||"#FFFFFF"},children:e.jsx(je,{className:"h-3 w-3"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-1 font-medium",children:[e.jsx("span",{style:{color:J.lineColor},children:J.lineNameShort||J.lineName}),e.jsx(Kt,{className:"h-2 w-2 text-muted-foreground"}),e.jsx("span",{className:"truncate text-muted-foreground",children:J.headsign})]}),e.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[e.jsx("span",{children:J.departureStop}),e.jsx(Kt,{className:"h-2 w-2"}),e.jsx("span",{children:J.arrivalStop}),e.jsxs("span",{className:"ml-1",children:["(",J.stopCount," stops)"]})]})]}),e.jsxs(O,{variant:"secondary",className:"shrink-0 text-[10px]",children:[ge.durationMinutes," min"]})]},K)})})]},$.id)})}),fe.isError&&e.jsxs("div",{className:"flex items-start gap-2 text-xs bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-200 p-2 rounded-md",children:[e.jsx(ns,{className:"h-4 w-4 shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Couldn't load transit routes"}),e.jsx("p",{className:"text-red-700 dark:text-red-300",children:"Showing straight-line distances instead."})]})]}),!ae&&e.jsx("p",{className:"text-xs text-muted-foreground",children:"Add activities to see transit directions from your hotel."})]}),e.jsxs(xt,{value:"journey",className:"mt-2 space-y-3",children:[!Ee.isPending&&!_&&e.jsxs(S,{onClick:()=>Ee.mutate(),className:"w-full bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700 disabled:opacity-50",size:"sm",disabled:!ae,"data-testid":"button-analyze-journey",children:[e.jsx(Pt,{className:"h-3 w-3 mr-1"}),ae?"Analyze Full Trip Transportation":"Add activities to analyze"]}),Ee.isPending&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-2",children:[e.jsx(Pt,{className:"h-3 w-3 animate-pulse"}),"Analyzing your complete journey..."]}),e.jsx(_e,{className:"h-20 w-full"}),e.jsx(_e,{className:"h-20 w-full"}),e.jsx(_e,{className:"h-20 w-full"})]}),_&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-100 to-cyan-100 dark:from-blue-900/30 dark:to-cyan-900/30 rounded-md p-3 space-y-2",children:[e.jsx("p",{className:"text-sm font-medium text-blue-800 dark:text-blue-200",children:_.overallRecommendation}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-blue-700 dark:text-blue-300",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Je,{className:"h-3 w-3"}),"~",Math.round(_.totalEstimatedTransportTime/60),"h ",_.totalEstimatedTransportTime%60,"m total travel"]}),_.totalEstimatedTransportCost&&e.jsxs("span",{className:"flex items-center gap-1",children:["$",_.totalEstimatedTransportCost.low,"-$",_.totalEstimatedTransportCost.high]})]})]}),e.jsx("div",{className:"space-y-2",children:_.journeyLegs.map(($,L)=>{const W=me[$.recommendedMode.toLowerCase()]||zs,se={"airport-to-hotel":"bg-blue-500","hotel-to-activity":"bg-green-500","activity-to-activity":"bg-amber-500","activity-to-hotel":"bg-purple-500","hotel-to-airport":"bg-red-500"}[$.legType]||"bg-gray-500";return e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-md border p-3 space-y-2",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${se}`}),e.jsxs("div",{className:"text-xs",children:[e.jsx("span",{className:"font-medium",children:$.from}),e.jsx(Kt,{className:"h-3 w-3 inline mx-1 text-muted-foreground"}),e.jsx("span",{className:"font-medium",children:$.to})]})]}),e.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[e.jsxs(O,{className:"gap-1 text-xs bg-blue-600",children:[e.jsx(W,{className:"h-3 w-3"}),$.recommendedMode]}),e.jsxs(O,{variant:"secondary",className:"gap-1 text-xs",children:[e.jsx(Je,{className:"h-3 w-3"}),$.estimatedTime," min"]})]})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:$.reason}),e.jsxs("div",{className:"flex items-center gap-3 text-[10px] text-muted-foreground",children:[$.estimatedCost&&e.jsxs("span",{children:["$",$.estimatedCost.low,"-$",$.estimatedCost.high]}),$.alternativeMode&&e.jsxs("span",{children:["Alt: ",$.alternativeMode]})]}),$.tips&&e.jsxs("p",{className:"text-[10px] text-blue-600 dark:text-blue-400 italic",children:["Tip: ",$.tips]})]},L)})})]}),Ee.isError&&e.jsxs("div",{className:"flex items-start gap-2 text-xs bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-200 p-2 rounded-md",children:[e.jsx(ns,{className:"h-4 w-4 shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Couldn't analyze full journey"}),e.jsx(S,{variant:"ghost",size:"sm",className:"h-auto p-0 text-xs text-red-700 underline",onClick:()=>Ee.mutate(),children:"Try again"})]})]}),!ae&&e.jsx("p",{className:"text-xs text-muted-foreground",children:"Add activities to analyze your full trip transportation."})]})]})]}),!s&&!ae&&e.jsx("p",{className:"text-xs text-muted-foreground",children:"Add a hotel and activities to see transportation options."})]})]})}function dme({destination:t,startDate:s,endDate:a,experienceType:r,budget:n,travelers:i=2,preferences:l=[],tripId:c,userId:u,isVisible:m=!0}){const[x,f]=h.useState(!1),[g,b]=h.useState([]),v=Ot({mutationFn:async()=>(await(await Ft("POST","/api/grok/match-experts",{tripId:c,userId:u,tripDetails:{destination:t,dates:{start:s?.toISOString(),end:a?.toISOString()},travelers:i,experienceType:r,preferences:l,budget:n}})).json()).matches||[],onSuccess:k=>{b(k)}}),y=x?g:g.slice(0,3),w=g.length>3;return!m||!t?null:e.jsxs(P,{className:"border-purple-200 dark:border-purple-800 bg-gradient-to-br from-purple-50/50 to-indigo-50/50 dark:from-purple-900/10 dark:to-indigo-900/10",children:[e.jsx(Q,{className:"pb-2",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(X,{className:"flex items-center gap-2 text-base",children:[e.jsx("div",{className:"p-1.5 rounded-lg bg-gradient-to-br from-purple-500 to-indigo-500",children:e.jsx(eg,{className:"w-4 h-4 text-white"})}),e.jsx("span",{children:"AI-Matched Experts"}),e.jsx(O,{variant:"secondary",className:"bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 text-[10px]",children:"Powered by Grok"})]}),g.length===0&&!v.isPending&&e.jsxs(S,{size:"sm",variant:"outline",className:"gap-1 h-7 text-xs border-purple-300 dark:border-purple-700 hover:bg-purple-100 dark:hover:bg-purple-900/30",onClick:()=>v.mutate(),"data-testid":"button-find-experts",children:[e.jsx(qe,{className:"w-3 h-3"}),"Find My Experts"]}),g.length>0&&e.jsxs(S,{size:"sm",variant:"ghost",className:"gap-1 h-7 text-xs",onClick:()=>v.mutate(),disabled:v.isPending,"data-testid":"button-refresh-matches",children:[e.jsx(Cn,{className:te("w-3 h-3",v.isPending&&"animate-spin")}),"Refresh"]})]})}),e.jsxs(F,{className:"pt-2",children:[v.isPending&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(qe,{className:"w-4 h-4 animate-pulse text-purple-500"}),e.jsx("span",{children:"Analyzing your trip details and finding the best expert matches..."})]}),[1,2,3].map(k=>e.jsx(P,{className:"animate-pulse",children:e.jsx(F,{className:"p-3",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx(_e,{className:"w-12 h-12 rounded-full"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx(_e,{className:"h-4 w-32"}),e.jsx(_e,{className:"h-3 w-48"}),e.jsx(_e,{className:"h-3 w-24"})]})]})})},k))]}),v.isError&&e.jsxs("div",{className:"text-center py-4",children:[e.jsx("p",{className:"text-sm text-red-600 dark:text-red-400 mb-2",children:"Unable to find expert matches. Please try again."}),e.jsx(S,{size:"sm",variant:"outline",onClick:()=>v.mutate(),"data-testid":"button-retry",children:"Try Again"})]}),!v.isPending&&g.length===0&&!v.isError&&e.jsxs("div",{className:"text-center py-6",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-full bg-purple-100 dark:bg-purple-900/30 mb-3",children:e.jsx(oi,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})}),e.jsx("h4",{className:"font-medium text-sm mb-1",children:"Find Your Perfect Expert Match"}),e.jsxs("p",{className:"text-xs text-muted-foreground mb-3 max-w-sm mx-auto",children:["Our AI analyzes your ",r||"travel"," preferences for ",t," and matches you with local experts who best understand your needs."]}),e.jsx("div",{className:"flex flex-wrap justify-center gap-1 mb-4",children:["Destination expertise","Style alignment","Budget fit","Availability"].map((k,C)=>e.jsx(O,{variant:"secondary",className:"text-[10px]",children:k},C))})]}),g.length>0&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.jsx(et,{className:"w-3 h-3 inline mr-1"}),g.length," experts matched for your ",r||"trip"," to ",t]})}),e.jsx("div",{className:"grid gap-3",children:y.map((k,C)=>e.jsx(BM,{expert:k.expert,matchScore:k.score,matchBreakdown:k.breakdown,matchReasons:[k.reasoning],matchStrengths:k.strengths,showDetails:C===0},k.expert.id))}),w&&e.jsx(S,{variant:"ghost",size:"sm",className:"w-full text-xs",onClick:()=>f(!x),"data-testid":"button-show-more-experts",children:x?e.jsxs(e.Fragment,{children:[e.jsx(nl,{className:"w-3 h-3 mr-1"}),"Show Less"]}):e.jsxs(e.Fragment,{children:[e.jsx(qs,{className:"w-3 h-3 mr-1"}),"Show ",g.length-3," More Experts"]})}),e.jsx("div",{className:"flex justify-center pt-2",children:e.jsx(Ce,{href:"/experts",children:e.jsxs(S,{variant:"outline",size:"sm",className:"text-xs gap-1","data-testid":"link-browse-all-experts",children:[e.jsx(et,{className:"w-3 h-3"}),"Browse All Experts"]})})})]})]})]})}const ume={flights:{primarySlugs:["transportation-logistics"],keywords:["flights","flight","airline","airport","travel","booking","air"],serpTypes:["airport","travel_agency"]},hotels:{primarySlugs:["tours-experiences"],keywords:["hotels","hotel","accommodation","lodging","resort","inn","stay","booking","room"],serpTypes:["hotel","lodging","resort"]},accommodations:{primarySlugs:["tours-experiences"],keywords:["accommodations","accommodation","hotel","lodging","resort","inn","stay","rental","airbnb","vacation"],serpTypes:["hotel","lodging","resort","vacation_rental"]},activities:{primarySlugs:["tours-experiences","health-wellness"],keywords:["activities","activity","tour","experience","adventure","excursion","outdoor","recreation","fun","things to do"],serpTypes:["tourist_attraction","amusement_park","park","recreation"]},adventures:{primarySlugs:["tours-experiences","health-wellness"],keywords:["adventures","adventure","outdoor","extreme","sport","hiking","climbing","rafting","zip","tour"],serpTypes:["adventure_sports","outdoor_recreation","hiking_area"]},transportation:{primarySlugs:["transportation-logistics"],keywords:["transportation","transport","driver","car","limo","shuttle","bus","transfer","chauffeur","ride","taxi"],serpTypes:["car_rental","taxi","limousine_service"]},dining:{primarySlugs:["food-culinary"],keywords:["dining","restaurant","food","chef","culinary","meal","catering","cuisine","dinner","lunch","breakfast"],serpTypes:["restaurant","fine_dining","cafe"]},venue:{primarySlugs:["events-celebrations","specialty-services"],keywords:["venue","venues","location","space","hall","ballroom","estate","garden","room","site","event space"],serpTypes:["event_venue","banquet_hall","wedding_venue","park","beach","garden","museum","rooftop","estate","winery"]},catering:{primarySlugs:["food-culinary","events-celebrations"],keywords:["catering","caterer","food","chef","meal","cuisine","buffet","banquet","menu","cook","food service"],serpTypes:["caterer","food_service"]},photography:{primarySlugs:["photography-videography"],keywords:["photography","photo","photographer","videography","videograph","camera","portrait","shoot","event photo"],serpTypes:["photographer","photography_studio"]},florist:{primarySlugs:["events-celebrations"],keywords:["florist","flower","floral","bouquet","arrangement","bloom","rose","flowers","centerpiece"],serpTypes:["florist","flower_shop"]},entertainment:{primarySlugs:["events-celebrations","tours-experiences"],keywords:["entertainment","music","dj","band","performer","singer","musician","live","show","act","performance"],serpTypes:["entertainment","live_music","dj_service","band"]},decorations:{primarySlugs:["events-celebrations","specialty-services"],keywords:["decorations","decor","decoration","design","styling","balloon","lighting","setup","theme","centerpiece","decorator"],serpTypes:["event_planner","party_supply_store","decorator"]},nightlife:{primarySlugs:["tours-experiences","events-celebrations"],keywords:["nightlife","club","bar","lounge","party","night","dance","vip","bottle","night out"],serpTypes:["night_club","bar","lounge","casino"]},sports:{primarySlugs:["tours-experiences","health-wellness"],keywords:["sports","sport","game","golf","tennis","fitness","gym","athletic","stadium","match","recreation"],serpTypes:["sports_complex","golf_course","stadium","gym"]},spa:{primarySlugs:["health-wellness"],keywords:["spa","wellness","massage","relax","treatment","facial","body","sauna","therapy","relaxation"],serpTypes:["spa","wellness_center","massage"]},wellness:{primarySlugs:["health-wellness"],keywords:["wellness","yoga","meditation","fitness","health","retreat","mindfulness","healing"],serpTypes:["wellness_center","yoga_studio","meditation_center"]},shopping:{primarySlugs:["personal-assistance","tours-experiences"],keywords:["shopping","boutique","store","retail","mall","fashion","designer","personal shopper"],serpTypes:["shopping_mall","boutique","department_store"]},"av-equipment":{primarySlugs:["technology-connectivity","events-celebrations"],keywords:["av","audio","visual","sound","projector","screen","microphone","speaker","tech","equipment"],serpTypes:["audio_visual_equipment_rental"]},"team-building":{primarySlugs:["tours-experiences","events-celebrations"],keywords:["team","building","corporate","group","activity","workshop","retreat","bonding"],serpTypes:["team_building","corporate_event","escape_room"]},rentals:{primarySlugs:["events-celebrations","taskrabbit-services"],keywords:["rental","rent","equipment","furniture","tent","table","chair","linen","party supply"],serpTypes:["party_equipment_rental","furniture_rental"]},shows:{primarySlugs:["tours-experiences","events-celebrations"],keywords:["show","theater","performance","concert","musical","broadway","ticket","entertainment"],serpTypes:["theater","concert_hall","performing_arts"]}},mme={"services-travel":{primarySlugs:["photography-videography","transportation-logistics","language-translation","personal-assistance","tours-experiences"],keywords:["travel","guide","concierge","insurance","visa","translation","photography","tour"]},"services-wedding":{primarySlugs:["photography-videography","beauty-styling","transportation-logistics","food-culinary","events-celebrations","specialty-services"],keywords:["wedding","planner","coordinator","officiant","florist","baker","makeup","hair","bridal"]},"services-proposal":{primarySlugs:["photography-videography","events-celebrations","specialty-services","transportation-logistics"],keywords:["proposal","planner","musician","lighting","signage","photographer","romantic"]},"services-birthday":{primarySlugs:["events-celebrations","food-culinary","specialty-services"],keywords:["birthday","party","performer","balloon","entertainer","decorator","baker","cake"]},"services-trip":{primarySlugs:["tours-experiences","photography-videography","transportation-logistics","personal-assistance"],keywords:["trip","guide","adventure","activity","concierge","photographer","tour"]},"services-romance":{primarySlugs:["photography-videography","food-culinary","transportation-logistics","events-celebrations"],keywords:["romance","romantic","private-chef","dining","flowers","musician","photographer"]},"services-corporate":{primarySlugs:["events-celebrations","food-culinary","transportation-logistics","technology-connectivity","specialty-services"],keywords:["corporate","speaker","registration","swag","catering","av","conference","meeting"]},"services-retreat":{primarySlugs:["health-wellness","food-culinary","transportation-logistics","tours-experiences"],keywords:["retreat","wellness","yoga","meditation","spa","facilitator","instructor","mindfulness"]},"services-event":{primarySlugs:["photography-videography","transportation-logistics","events-celebrations","food-culinary"],keywords:["event","coordinator","rental","catering","entertainment","planner","photographer"]},"services-party":{primarySlugs:["photography-videography","events-celebrations","food-culinary"],keywords:["party","dj","performer","entertainment","catering","decorator","rental","photographer"]}};function hme(t){return t.startsWith("services-")?mme[t]||null:ume[t]||null}const xme=["activities","nightlife","dining","hotels","accommodations","flights","transportation","spa","wellness","sports","shopping","entertainment","photography","florist","catering","venue","adventures","team-building","shows","rentals","decorations","av-equipment","jewelry"],pme={activities:["activities"],nightlife:["nightlife"],dining:["dining"],hotels:["hotels","accommodations"],accommodations:["hotels","accommodations"],flights:["flights"],transportation:["transportation"],spa:["spa","wellness"],wellness:["wellness","spa"],sports:["sports"],shopping:["shopping"],entertainment:["entertainment"],photography:["photography"],florist:["florist"],catering:["catering","dining"],venue:["venue"],adventures:["activities","adventures"],"team-building":["team-building","activities"],shows:["shows","entertainment"],rentals:["rentals"],decorations:["decorations"],"av-equipment":["av-equipment"],jewelry:["jewelry","shopping"]};function fme(t,s,a,r){const n=t.toLowerCase(),i=s.toLowerCase(),l=r.toLowerCase();if(xme.includes(n))return(pme[n]||[n]).includes(l);if(n.includes(l)||i.includes(l))return!0;const c=hme(r);return c?c.primarySlugs.some(x=>n.includes(x)||n===x)?!0:c.keywords.some(x=>n.includes(x)||i.includes(x)):!1}function gme({open:t,onOpenChange:s,experienceType:a,tripId:r,userId:n,onVenueAdded:i}){const{toast:l}=Bs(),c=bo(),[u,m]=h.useState(""),[x,f]=h.useState(""),[g,b]=h.useState(""),[v,y]=h.useState(""),[w,k]=h.useState(""),[C,_]=h.useState(""),M=Ot({mutationFn:async z=>(await Ft("POST","/api/custom-venues",z)).json(),onSuccess:z=>{l({title:"Venue added",description:`${z.name} has been added to your plan`}),c.invalidateQueries({queryKey:["/api/custom-venues",a]}),i?.(z),E(),s(!1)},onError:()=>{l({variant:"destructive",title:"Failed to add venue"})}}),E=()=>{m(""),f(""),b(""),y(""),k(""),_("")},R=z=>{if(z.preventDefault(),!u.trim()){l({variant:"destructive",title:"Name required",description:"Please enter a venue name"});return}if(!x.trim()&&(!g||!v)){l({variant:"destructive",title:"Location required",description:"Please enter an address or coordinates"});return}const A=g?parseFloat(g):null,V=v?parseFloat(v):null,H=C?parseFloat(C):null;if(g&&(A===null||isNaN(A))||v&&(V===null||isNaN(V))){l({variant:"destructive",title:"Invalid coordinates",description:"Latitude and longitude must be valid numbers"});return}if(C&&(H===null||isNaN(H)||H<0)){l({variant:"destructive",title:"Invalid cost",description:"Cost must be a valid positive number"});return}M.mutate({userId:n,tripId:r,experienceType:a,name:u.trim(),address:x.trim()||null,latitude:A,longitude:V,notes:w.trim()||null,estimatedCost:H,venueType:"custom",source:"custom"})};return e.jsx(rn,{open:t,onOpenChange:s,children:e.jsxs(zr,{className:"sm:max-w-md","data-testid":"dialog-add-custom-venue",children:[e.jsxs(Vr,{children:[e.jsxs(Ur,{className:"flex items-center gap-2",children:[e.jsx(Me,{className:"w-5 h-5 text-[#FF385C]"}),"Add Custom Venue"]}),e.jsx(nn,{children:"Add a location like a park, beach, or any address to your plan"})]}),e.jsxs("form",{onSubmit:R,className:"space-y-4 mt-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ye,{htmlFor:"venue-name",children:"Venue Name *"}),e.jsx(Ne,{id:"venue-name","data-testid":"input-venue-name",placeholder:"e.g., Central Park, Miami Beach",value:u,onChange:z=>m(z.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ye,{htmlFor:"venue-address",children:"Address"}),e.jsx(Ne,{id:"venue-address","data-testid":"input-venue-address",placeholder:"e.g., 123 Main St, New York, NY",value:x,onChange:z=>f(z.target.value)})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ye,{htmlFor:"venue-lat",children:"Latitude"}),e.jsx(Ne,{id:"venue-lat","data-testid":"input-venue-latitude",type:"number",step:"any",placeholder:"40.7829",value:g,onChange:z=>b(z.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ye,{htmlFor:"venue-lng",children:"Longitude"}),e.jsx(Ne,{id:"venue-lng","data-testid":"input-venue-longitude",type:"number",step:"any",placeholder:"-73.9654",value:v,onChange:z=>y(z.target.value)})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(ye,{htmlFor:"venue-cost",className:"flex items-center gap-1",children:[e.jsx(bt,{className:"w-4 h-4"}),"Estimated Cost (optional)"]}),e.jsx(Ne,{id:"venue-cost","data-testid":"input-venue-cost",type:"number",step:"0.01",min:"0",placeholder:"0.00",value:C,onChange:z=>_(z.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ye,{htmlFor:"venue-notes",children:"Notes (optional)"}),e.jsx(Ks,{id:"venue-notes","data-testid":"input-venue-notes",placeholder:"Any additional details about this venue...",value:w,onChange:z=>k(z.target.value),className:"resize-none",rows:3})]}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsx(S,{type:"button",variant:"outline",onClick:()=>s(!1),className:"flex-1","data-testid":"button-cancel-venue",children:"Cancel"}),e.jsx(S,{type:"submit",className:"flex-1 bg-[#FF385C] hover:bg-[#E31C5F]",disabled:M.isPending,"data-testid":"button-add-venue",children:M.isPending?e.jsxs(e.Fragment,{children:[e.jsx(ot,{className:"w-4 h-4 mr-2 animate-spin"}),"Adding..."]}):"Add to Plan"})]})]})]})})}var eT=1,vme=.9,yme=.8,jme=.17,cb=.1,db=.999,bme=.9999,Nme=.99,wme=/[\\\/_+.#"@\[\(\{&]/,kme=/[\\\/_+.#"@\[\(\{&]/g,Cme=/[\s-]/,RI=/[\s-]/g;function RN(t,s,a,r,n,i,l){if(i===s.length)return n===t.length?eT:Nme;var c=`${n},${i}`;if(l[c]!==void 0)return l[c];for(var u=r.charAt(i),m=a.indexOf(u,n),x=0,f,g,b,v;m>=0;)f=RN(t,s,a,r,m+1,i+1,l),f>x&&(m===n?f*=eT:wme.test(t.charAt(m-1))?(f*=yme,b=t.slice(n,m-1).match(kme),b&&n>0&&(f*=Math.pow(db,b.length))):Cme.test(t.charAt(m-1))?(f*=vme,v=t.slice(n,m-1).match(RI),v&&n>0&&(f*=Math.pow(db,v.length))):(f*=jme,n>0&&(f*=Math.pow(db,m-n))),t.charAt(m)!==s.charAt(i)&&(f*=bme)),(f<cb&&a.charAt(m-1)===r.charAt(i+1)||r.charAt(i+1)===r.charAt(i)&&a.charAt(m-1)!==r.charAt(i))&&(g=RN(t,s,a,r,m+1,i+2,l),g*cb>f&&(f=g*cb)),f>x&&(x=f),m=a.indexOf(u,m+1);return l[c]=x,x}function tT(t){return t.toLowerCase().replace(RI," ")}function Sme(t,s,a){return t=a&&a.length>0?`${t+" "+a.join(" ")}`:t,RN(t,s,tT(t),tT(s),0,0,{})}var gh='[cmdk-group=""]',ub='[cmdk-group-items=""]',Tme='[cmdk-group-heading=""]',LI='[cmdk-item=""]',sT=`${LI}:not([aria-disabled="true"])`,LN="cmdk-item-select",vu="data-value",_me=(t,s,a)=>Sme(t,s,a),OI=h.createContext(void 0),Qx=()=>h.useContext(OI),$I=h.createContext(void 0),A2=()=>h.useContext($I),BI=h.createContext(void 0),zI=h.forwardRef((t,s)=>{let a=yu(()=>{var L,W;return{search:"",value:(W=(L=t.value)!=null?L:t.defaultValue)!=null?W:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),r=yu(()=>new Set),n=yu(()=>new Map),i=yu(()=>new Map),l=yu(()=>new Set),c=VI(t),{label:u,children:m,value:x,onValueChange:f,filter:g,shouldFilter:b,loop:v,disablePointerSelection:y=!1,vimBindings:w=!0,...k}=t,C=ur(),_=ur(),M=ur(),E=h.useRef(null),R=$me();wd(()=>{if(x!==void 0){let L=x.trim();a.current.value=L,z.emit()}},[x]),wd(()=>{R(6,fe)},[]);let z=h.useMemo(()=>({subscribe:L=>(l.current.add(L),()=>l.current.delete(L)),snapshot:()=>a.current,setState:(L,W,re)=>{var se,ge,K,J;if(!Object.is(a.current[L],W)){if(a.current[L]=W,L==="search")q(),H(),R(1,I);else if(L==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let je=document.getElementById(M);je?je.focus():(se=document.getElementById(C))==null||se.focus()}if(R(7,()=>{var je;a.current.selectedItemId=(je=oe())==null?void 0:je.id,z.emit()}),re||R(5,fe),((ge=c.current)==null?void 0:ge.value)!==void 0){let je=W??"";(J=(K=c.current).onValueChange)==null||J.call(K,je);return}}z.emit()}},emit:()=>{l.current.forEach(L=>L())}}),[]),A=h.useMemo(()=>({value:(L,W,re)=>{var se;W!==((se=i.current.get(L))==null?void 0:se.value)&&(i.current.set(L,{value:W,keywords:re}),a.current.filtered.items.set(L,V(W,re)),R(2,()=>{H(),z.emit()}))},item:(L,W)=>(r.current.add(L),W&&(n.current.has(W)?n.current.get(W).add(L):n.current.set(W,new Set([L]))),R(3,()=>{q(),H(),a.current.value||I(),z.emit()}),()=>{i.current.delete(L),r.current.delete(L),a.current.filtered.items.delete(L);let re=oe();R(4,()=>{q(),re?.getAttribute("id")===L&&I(),z.emit()})}),group:L=>(n.current.has(L)||n.current.set(L,new Set),()=>{i.current.delete(L),n.current.delete(L)}),filter:()=>c.current.shouldFilter,label:u||t["aria-label"],getDisablePointerSelection:()=>c.current.disablePointerSelection,listId:C,inputId:M,labelId:_,listInnerRef:E}),[]);function V(L,W){var re,se;let ge=(se=(re=c.current)==null?void 0:re.filter)!=null?se:_me;return L?ge(L,a.current.search,W):0}function H(){if(!a.current.search||c.current.shouldFilter===!1)return;let L=a.current.filtered.items,W=[];a.current.filtered.groups.forEach(se=>{let ge=n.current.get(se),K=0;ge.forEach(J=>{let je=L.get(J);K=Math.max(je,K)}),W.push([se,K])});let re=E.current;Ee().sort((se,ge)=>{var K,J;let je=se.getAttribute("id"),ze=ge.getAttribute("id");return((K=L.get(ze))!=null?K:0)-((J=L.get(je))!=null?J:0)}).forEach(se=>{let ge=se.closest(ub);ge?ge.appendChild(se.parentElement===ge?se:se.closest(`${ub} > *`)):re.appendChild(se.parentElement===re?se:se.closest(`${ub} > *`))}),W.sort((se,ge)=>ge[1]-se[1]).forEach(se=>{var ge;let K=(ge=E.current)==null?void 0:ge.querySelector(`${gh}[${vu}="${encodeURIComponent(se[0])}"]`);K?.parentElement.appendChild(K)})}function I(){let L=Ee().find(re=>re.getAttribute("aria-disabled")!=="true"),W=L?.getAttribute(vu);z.setState("value",W||void 0)}function q(){var L,W,re,se;if(!a.current.search||c.current.shouldFilter===!1){a.current.filtered.count=r.current.size;return}a.current.filtered.groups=new Set;let ge=0;for(let K of r.current){let J=(W=(L=i.current.get(K))==null?void 0:L.value)!=null?W:"",je=(se=(re=i.current.get(K))==null?void 0:re.keywords)!=null?se:[],ze=V(J,je);a.current.filtered.items.set(K,ze),ze>0&&ge++}for(let[K,J]of n.current)for(let je of J)if(a.current.filtered.items.get(je)>0){a.current.filtered.groups.add(K);break}a.current.filtered.count=ge}function fe(){var L,W,re;let se=oe();se&&(((L=se.parentElement)==null?void 0:L.firstChild)===se&&((re=(W=se.closest(gh))==null?void 0:W.querySelector(Tme))==null||re.scrollIntoView({block:"nearest"})),se.scrollIntoView({block:"nearest"}))}function oe(){var L;return(L=E.current)==null?void 0:L.querySelector(`${LI}[aria-selected="true"]`)}function Ee(){var L;return Array.from(((L=E.current)==null?void 0:L.querySelectorAll(sT))||[])}function me(L){let W=Ee()[L];W&&z.setState("value",W.getAttribute(vu))}function ie(L){var W;let re=oe(),se=Ee(),ge=se.findIndex(J=>J===re),K=se[ge+L];(W=c.current)!=null&&W.loop&&(K=ge+L<0?se[se.length-1]:ge+L===se.length?se[0]:se[ge+L]),K&&z.setState("value",K.getAttribute(vu))}function B(L){let W=oe(),re=W?.closest(gh),se;for(;re&&!se;)re=L>0?Lme(re,gh):Ome(re,gh),se=re?.querySelector(sT);se?z.setState("value",se.getAttribute(vu)):ie(L)}let ae=()=>me(Ee().length-1),ke=L=>{L.preventDefault(),L.metaKey?ae():L.altKey?B(1):ie(1)},$=L=>{L.preventDefault(),L.metaKey?me(0):L.altKey?B(-1):ie(-1)};return h.createElement(lt.div,{ref:s,tabIndex:-1,...k,"cmdk-root":"",onKeyDown:L=>{var W;(W=k.onKeyDown)==null||W.call(k,L);let re=L.nativeEvent.isComposing||L.keyCode===229;if(!(L.defaultPrevented||re))switch(L.key){case"n":case"j":{w&&L.ctrlKey&&ke(L);break}case"ArrowDown":{ke(L);break}case"p":case"k":{w&&L.ctrlKey&&$(L);break}case"ArrowUp":{$(L);break}case"Home":{L.preventDefault(),me(0);break}case"End":{L.preventDefault(),ae();break}case"Enter":{L.preventDefault();let se=oe();if(se){let ge=new Event(LN);se.dispatchEvent(ge)}}}}},h.createElement("label",{"cmdk-label":"",htmlFor:A.inputId,id:A.labelId,style:zme},u),dv(t,L=>h.createElement($I.Provider,{value:z},h.createElement(OI.Provider,{value:A},L))))}),Eme=h.forwardRef((t,s)=>{var a,r;let n=ur(),i=h.useRef(null),l=h.useContext(BI),c=Qx(),u=VI(t),m=(r=(a=u.current)==null?void 0:a.forceMount)!=null?r:l?.forceMount;wd(()=>{if(!m)return c.item(n,l?.id)},[m]);let x=UI(n,i,[t.value,t.children,i],t.keywords),f=A2(),g=cc(R=>R.value&&R.value===x.current),b=cc(R=>m||c.filter()===!1?!0:R.search?R.filtered.items.get(n)>0:!0);h.useEffect(()=>{let R=i.current;if(!(!R||t.disabled))return R.addEventListener(LN,v),()=>R.removeEventListener(LN,v)},[b,t.onSelect,t.disabled]);function v(){var R,z;y(),(z=(R=u.current).onSelect)==null||z.call(R,x.current)}function y(){f.setState("value",x.current,!0)}if(!b)return null;let{disabled:w,value:k,onSelect:C,forceMount:_,keywords:M,...E}=t;return h.createElement(lt.div,{ref:kn(i,s),...E,id:n,"cmdk-item":"",role:"option","aria-disabled":!!w,"aria-selected":!!g,"data-disabled":!!w,"data-selected":!!g,onPointerMove:w||c.getDisablePointerSelection()?void 0:y,onClick:w?void 0:v},t.children)}),Pme=h.forwardRef((t,s)=>{let{heading:a,children:r,forceMount:n,...i}=t,l=ur(),c=h.useRef(null),u=h.useRef(null),m=ur(),x=Qx(),f=cc(b=>n||x.filter()===!1?!0:b.search?b.filtered.groups.has(l):!0);wd(()=>x.group(l),[]),UI(l,c,[t.value,t.heading,u]);let g=h.useMemo(()=>({id:l,forceMount:n}),[n]);return h.createElement(lt.div,{ref:kn(c,s),...i,"cmdk-group":"",role:"presentation",hidden:f?void 0:!0},a&&h.createElement("div",{ref:u,"cmdk-group-heading":"","aria-hidden":!0,id:m},a),dv(t,b=>h.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":a?m:void 0},h.createElement(BI.Provider,{value:g},b))))}),Ame=h.forwardRef((t,s)=>{let{alwaysRender:a,...r}=t,n=h.useRef(null),i=cc(l=>!l.search);return!a&&!i?null:h.createElement(lt.div,{ref:kn(n,s),...r,"cmdk-separator":"",role:"separator"})}),Dme=h.forwardRef((t,s)=>{let{onValueChange:a,...r}=t,n=t.value!=null,i=A2(),l=cc(m=>m.search),c=cc(m=>m.selectedItemId),u=Qx();return h.useEffect(()=>{t.value!=null&&i.setState("search",t.value)},[t.value]),h.createElement(lt.input,{ref:s,...r,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":u.listId,"aria-labelledby":u.labelId,"aria-activedescendant":c,id:u.inputId,type:"text",value:n?t.value:l,onChange:m=>{n||i.setState("search",m.target.value),a?.(m.target.value)}})}),Fme=h.forwardRef((t,s)=>{let{children:a,label:r="Suggestions",...n}=t,i=h.useRef(null),l=h.useRef(null),c=cc(m=>m.selectedItemId),u=Qx();return h.useEffect(()=>{if(l.current&&i.current){let m=l.current,x=i.current,f,g=new ResizeObserver(()=>{f=requestAnimationFrame(()=>{let b=m.offsetHeight;x.style.setProperty("--cmdk-list-height",b.toFixed(1)+"px")})});return g.observe(m),()=>{cancelAnimationFrame(f),g.unobserve(m)}}},[]),h.createElement(lt.div,{ref:kn(i,s),...n,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":c,"aria-label":r,id:u.listId},dv(t,m=>h.createElement("div",{ref:kn(l,u.listInnerRef),"cmdk-list-sizer":""},m)))}),Mme=h.forwardRef((t,s)=>{let{open:a,onOpenChange:r,overlayClassName:n,contentClassName:i,container:l,...c}=t;return h.createElement(V1,{open:a,onOpenChange:r},h.createElement(U1,{container:l},h.createElement(zx,{"cmdk-overlay":"",className:n}),h.createElement(Vx,{"aria-label":t.label,"cmdk-dialog":"",className:i},h.createElement(zI,{ref:s,...c}))))}),Ime=h.forwardRef((t,s)=>cc(a=>a.filtered.count===0)?h.createElement(lt.div,{ref:s,...t,"cmdk-empty":"",role:"presentation"}):null),Rme=h.forwardRef((t,s)=>{let{progress:a,children:r,label:n="Loading...",...i}=t;return h.createElement(lt.div,{ref:s,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":a,"aria-valuemin":0,"aria-valuemax":100,"aria-label":n},dv(t,l=>h.createElement("div",{"aria-hidden":!0},l)))}),Gn=Object.assign(zI,{List:Fme,Item:Eme,Input:Dme,Group:Pme,Separator:Ame,Dialog:Mme,Empty:Ime,Loading:Rme});function Lme(t,s){let a=t.nextElementSibling;for(;a;){if(a.matches(s))return a;a=a.nextElementSibling}}function Ome(t,s){let a=t.previousElementSibling;for(;a;){if(a.matches(s))return a;a=a.previousElementSibling}}function VI(t){let s=h.useRef(t);return wd(()=>{s.current=t}),s}var wd=typeof window>"u"?h.useEffect:h.useLayoutEffect;function yu(t){let s=h.useRef();return s.current===void 0&&(s.current=t()),s}function cc(t){let s=A2(),a=()=>t(s.snapshot());return h.useSyncExternalStore(s.subscribe,a,a)}function UI(t,s,a,r=[]){let n=h.useRef(),i=Qx();return wd(()=>{var l;let c=(()=>{var m;for(let x of a){if(typeof x=="string")return x.trim();if(typeof x=="object"&&"current"in x)return x.current?(m=x.current.textContent)==null?void 0:m.trim():n.current}})(),u=r.map(m=>m.trim());i.value(t,c,u),(l=s.current)==null||l.setAttribute(vu,c),n.current=c}),n}var $me=()=>{let[t,s]=h.useState(),a=yu(()=>new Map);return wd(()=>{a.current.forEach(r=>r()),a.current=new Map},[t]),(r,n)=>{a.current.set(r,n),s({})}};function Bme(t){let s=t.type;return typeof s=="function"?s(t.props):"render"in s?s.render(t.props):t}function dv({asChild:t,children:s},a){return t&&h.isValidElement(s)?h.cloneElement(Bme(s),{ref:s.ref},a(s.props.children)):a(s)}var zme={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const Gc=h.forwardRef(({className:t,...s},a)=>e.jsx(Gn,{ref:a,className:te("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",t),...s}));Gc.displayName=Gn.displayName;const Kc=h.forwardRef(({className:t,...s},a)=>e.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[e.jsx(ws,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),e.jsx(Gn.Input,{ref:a,className:te("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",t),...s})]}));Kc.displayName=Gn.Input.displayName;const Yc=h.forwardRef(({className:t,...s},a)=>e.jsx(Gn.List,{ref:a,className:te("max-h-[300px] overflow-y-auto overflow-x-hidden",t),...s}));Yc.displayName=Gn.List.displayName;const Qc=h.forwardRef((t,s)=>e.jsx(Gn.Empty,{ref:s,className:"py-6 text-center text-sm",...t}));Qc.displayName=Gn.Empty.displayName;const Xc=h.forwardRef(({className:t,...s},a)=>e.jsx(Gn.Group,{ref:a,className:te("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",t),...s}));Xc.displayName=Gn.Group.displayName;const Vme=h.forwardRef(({className:t,...s},a)=>e.jsx(Gn.Separator,{ref:a,className:te("-mx-1 h-px bg-border",t),...s}));Vme.displayName=Gn.Separator.displayName;const Zc=h.forwardRef(({className:t,...s},a)=>e.jsx(Gn.Item,{ref:a,className:te("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t),...s}));Zc.displayName=Gn.Item.displayName;const mb={AA:"American Airlines",UA:"United Airlines",DL:"Delta Air Lines",WN:"Southwest Airlines",AS:"Alaska Airlines",B6:"JetBlue Airways",NK:"Spirit Airlines",F9:"Frontier Airlines",G4:"Allegiant Air",HA:"Hawaiian Airlines",AF:"Air France",BA:"British Airways",LH:"Lufthansa",KL:"KLM Royal Dutch",IB:"Iberia",AZ:"ITA Airways",LX:"Swiss International",OS:"Austrian Airlines",SK:"SAS Scandinavian",AY:"Finnair",TP:"TAP Air Portugal",EI:"Aer Lingus",EK:"Emirates",QR:"Qatar Airways",EY:"Etihad Airways",TK:"Turkish Airlines",SQ:"Singapore Airlines",CX:"Cathay Pacific",JL:"Japan Airlines",NH:"ANA",QF:"Qantas",AC:"Air Canada",AM:"Aeromexico",LA:"LATAM Airlines",AV:"Avianca",CM:"Copa Airlines",VS:"Virgin Atlantic",FR:"Ryanair",U2:"EasyJet",VY:"Vueling",W6:"Wizz Air"};function aT(t){const s=t.match(/PT(\d+H)?(\d+M)?/);if(!s)return t;const a=s[1]?s[1].replace("H","h "):"",r=s[2]?s[2].replace("M","m"):"";return`${a}${r}`.trim()}function du(t){return new Date(t).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})}function vh(t){return new Date(t).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}function Ume({destination:t,origin:s,startDate:a,endDate:r,travelers:n=1,maxPrice:i=5e3,stops:l="any",sortBy:c="price",onSelectFlight:u}){const[m,x]=h.useState(""),[f,g]=h.useState(!1),[b,v]=h.useState(""),[y,w]=h.useState(null),[k,C]=h.useState(""),[_,M]=h.useState(!1),[E,R]=h.useState(""),z=Et(new Date(Date.now()+1440*60*1e3),"yyyy-MM-dd"),A=Et(new Date(Date.now()+11520*60*1e3),"yyyy-MM-dd"),[V,H]=h.useState(a?Et(a,"yyyy-MM-dd"):z),[I,q]=h.useState(r?Et(r,"yyyy-MM-dd"):A),[fe,oe]=h.useState("roundtrip"),[Ee,me]=h.useState(n),[ie,B]=h.useState(null),[ae,ke]=h.useState(null),[$,L]=h.useState(!1),[W,re]=h.useState(t),[se,ge]=h.useState(s),[K,J]=h.useState(null);h.useEffect(()=>{a&&H(Et(a,"yyyy-MM-dd"))},[a]),h.useEffect(()=>{r&&q(Et(r,"yyyy-MM-dd"))},[r]),h.useEffect(()=>{me(n||1)},[n]),h.useEffect(()=>{t!==W&&(re(t),C(""),B(null))},[t,W]),h.useEffect(()=>{s!==se&&(ge(s),x(""),ke(null))},[s,se]);const{data:je,isLoading:ze}=Le({queryKey:["/api/amadeus/locations","origin",b],enabled:b.length>=2,queryFn:async()=>{const Re=new URLSearchParams({keyword:b,subType:"AIRPORT,CITY"}),Ct=await fetch(`/api/amadeus/locations?${Re}`,{credentials:"include"});return Ct.ok?Ct.json():[]},staleTime:6e4}),{data:ft,isLoading:Nt}=Le({queryKey:["/api/amadeus/locations","destination",E],enabled:E.length>=2,queryFn:async()=>{const Re=new URLSearchParams({keyword:E,subType:"AIRPORT,CITY"}),Ct=await fetch(`/api/amadeus/locations?${Re}`,{credentials:"include"});return Ct.ok?Ct.json():[]},staleTime:6e4}),{data:ht,isLoading:Lt}=Le({queryKey:["/api/amadeus/locations","autodetect-dest",t],enabled:!!t&&t.length>=2&&!k,queryFn:async()=>{const Re=new URLSearchParams({keyword:t,subType:"AIRPORT,CITY"}),Ct=await fetch(`/api/amadeus/locations?${Re}`,{credentials:"include"});return Ct.ok?Ct.json():[]},staleTime:6e4}),{data:gs,isLoading:ks}=Le({queryKey:["/api/amadeus/locations","autodetect-origin",s],enabled:!!s&&s.length>=2&&!m,queryFn:async()=>{const Re=new URLSearchParams({keyword:s,subType:"AIRPORT,CITY"}),Ct=await fetch(`/api/amadeus/locations?${Re}`,{credentials:"include"});return Ct.ok?Ct.json():[]},staleTime:6e4});h.useEffect(()=>{if(ht&&ht.length>0&&!k){const Re=ht[0];C(Re.iataCode),B(Re)}},[ht,k]),h.useEffect(()=>{if(gs&&gs.length>0&&!m){const Re=gs[0];x(Re.iataCode),ke(Re),w(Re)}},[gs,m]);const Ys=!!m&&!!k&&!!V&&!!Ee,{data:cs,isLoading:ce,error:at,refetch:Z}=Le({queryKey:["/api/cache/flights",m,k,V,Ee,"outbound"],enabled:Ys,queryFn:async()=>{const Re=new URLSearchParams({origin:m,destination:k,departureDate:V,adults:Ee.toString()}),Ct=await fetch(`/api/cache/flights?${Re}`,{credentials:"include"});if(!Ct.ok){const ls=await Ct.json();throw new Error(ls.message||"Flight search failed")}return Ct.json()}}),{data:xe,isLoading:Ae,error:Qe}=Le({queryKey:["/api/cache/flights",k,m,I,Ee,"return"],enabled:fe==="roundtrip"&&!!K&&!!I,queryFn:async()=>{const Re=new URLSearchParams({origin:k,destination:m,departureDate:I,adults:Ee.toString()}),Ct=await fetch(`/api/cache/flights?${Re}`,{credentials:"include"});if(!Ct.ok){const ls=await Ct.json();throw new Error(ls.message||"Return flight search failed")}return Ct.json()}}),Ue=cs?.flights,Ve=xe?.flights,ut=Lt&&!k&&!!t||ks&&!m&&!!s,$t=!Lt&&ht&&ht.length===0&&!k&&!!t,ss=!ks&&gs&&gs.length===0&&!m&&!!s,Ds=Re=>{const Ct=Re.match(/PT(\d+)H?(\d+)?M?/);if(!Ct)return 0;const ls=parseInt(Ct[1]||"0"),aa=parseInt(Ct[2]||"0");return ls*60+aa},Hs=Re=>{if(!Re)return[];let Ct=Re.filter(ls=>{if(parseFloat(ls.price.total)>i)return!1;const Zs=(ls.itineraries[0]?.segments.length||1)-1;return!(l==="nonstop"&&Zs>0||l==="1stop"&&Zs>1)});return Ct.sort((ls,aa)=>{if(c==="price")return parseFloat(ls.price.total)-parseFloat(aa.price.total);if(c==="duration"){const Zs=ls.itineraries.reduce((Cr,rr)=>Cr+Ds(rr.duration),0),Ga=aa.itineraries.reduce((Cr,rr)=>Cr+Ds(rr.duration),0);return Zs-Ga}else if(c==="departure"){const Zs=new Date(ls.itineraries[0]?.segments[0]?.departure.at||0).getTime(),Ga=new Date(aa.itineraries[0]?.segments[0]?.departure.at||0).getTime();return Zs-Ga}return 0}),Ct},sa=h.useMemo(()=>Hs(Ue),[Ue,i,l,c]),pr=h.useMemo(()=>Hs(Ve),[Ve,i,l,c]);h.useEffect(()=>{J(null)},[m,k,V]);const ar=!!s&&!!t&&!!a,wa=!m||!k||!V;return ut?e.jsx(P,{children:e.jsxs(F,{className:"p-6 text-center",children:[e.jsx(ot,{className:"h-8 w-8 animate-spin mx-auto mb-3 text-muted-foreground"}),e.jsx("p",{className:"text-muted-foreground",children:"Finding flights..."})]})}):wa&&!ar?e.jsx(P,{className:"border-2 border-dashed",children:e.jsxs(F,{className:"p-8 text-center",children:[e.jsx(Pt,{className:"h-12 w-12 mx-auto mb-3 text-muted-foreground"}),e.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Search Flights"}),e.jsx("p",{className:"text-muted-foreground",children:"Fill in your Travel Details above (origin city, destination, and dates) to search for flights."})]})}):wa&&ar&&($t||ss)?e.jsx(P,{className:"border-2 border-dashed",children:e.jsxs(F,{className:"p-6",children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsx(Pt,{className:"h-10 w-10 mx-auto mb-2 text-[#FF385C]"}),e.jsx("h3",{className:"font-semibold text-lg mb-1",children:"Airport Detection Failed"})]}),e.jsx("div",{className:"mb-4 p-3 bg-amber-50 dark:bg-amber-950 border border-amber-200 dark:border-amber-800 rounded-md text-sm text-amber-800 dark:text-amber-200",children:$t&&ss?`We couldn't detect airports for "${s}" or "${t}" automatically. Please select them below.`:$t?`We couldn't find "${t}" automatically. Please select your destination below.`:`We couldn't find "${s}" automatically. Please select your origin below.`}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ye,{children:"From (Departure)"}),e.jsxs(yn,{open:f,onOpenChange:g,children:[e.jsx(jn,{asChild:!0,children:e.jsxs(S,{variant:"outline",role:"combobox","aria-expanded":f,className:te("w-full justify-between h-11",m&&"border-green-500"),"data-testid":"input-flight-origin",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(Me,{className:"h-4 w-4 text-muted-foreground"}),y?e.jsxs("span",{children:[y.iataCode," - ",y.name]}):e.jsx("span",{className:"text-muted-foreground",children:"Search departure city..."})]}),e.jsx(qs,{className:"h-4 w-4 shrink-0 opacity-50"})]})}),e.jsx(tn,{className:"w-[350px] p-0",align:"start",children:e.jsxs(Gc,{children:[e.jsx(Kc,{placeholder:"Type city or airport...",value:b,onValueChange:v}),e.jsxs(Yc,{children:[ze&&e.jsxs("div",{className:"p-4 text-center text-sm text-muted-foreground",children:[e.jsx(ot,{className:"h-4 w-4 animate-spin inline mr-2"}),"Searching..."]}),e.jsx(Qc,{children:"No airports found."}),e.jsx(Xc,{children:je?.map(Re=>e.jsxs(Zc,{value:`${Re.name} ${Re.iataCode} ${Re.cityName||""}`,onSelect:()=>{x(Re.iataCode),w(Re),g(!1)},children:[e.jsx(rs,{className:te("mr-2 h-4 w-4",m===Re.iataCode?"opacity-100":"opacity-0")}),e.jsx(O,{variant:"secondary",className:"font-mono mr-2",children:Re.iataCode}),e.jsx("span",{className:"text-sm",children:Re.name})]},Re.iataCode))})]})]})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ye,{children:"To (Destination)"}),e.jsxs(yn,{open:_,onOpenChange:M,children:[e.jsx(jn,{asChild:!0,children:e.jsxs(S,{variant:"outline",role:"combobox","aria-expanded":_,className:te("w-full justify-between h-11",k&&"border-green-500"),"data-testid":"input-flight-destination",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(Me,{className:"h-4 w-4 text-muted-foreground"}),ie?e.jsxs("span",{children:[ie.iataCode," - ",ie.name]}):k?e.jsx("span",{children:k}):e.jsx("span",{className:"text-muted-foreground",children:"Search destination city..."})]}),e.jsx(qs,{className:"h-4 w-4 shrink-0 opacity-50"})]})}),e.jsx(tn,{className:"w-[350px] p-0",align:"start",children:e.jsxs(Gc,{children:[e.jsx(Kc,{placeholder:"Type city or airport...",value:E,onValueChange:R}),e.jsxs(Yc,{children:[Nt&&e.jsxs("div",{className:"p-4 text-center text-sm text-muted-foreground",children:[e.jsx(ot,{className:"h-4 w-4 animate-spin inline mr-2"}),"Searching..."]}),e.jsx(Qc,{children:"No airports found."}),e.jsx(Xc,{children:ft?.map(Re=>e.jsxs(Zc,{value:`${Re.name} ${Re.iataCode} ${Re.cityName||""}`,onSelect:()=>{C(Re.iataCode),B(Re),M(!1)},children:[e.jsx(rs,{className:te("mr-2 h-4 w-4",k===Re.iataCode?"opacity-100":"opacity-0")}),e.jsx(O,{variant:"secondary",className:"font-mono mr-2",children:Re.iataCode}),e.jsx("span",{className:"text-sm",children:Re.name})]},Re.iataCode))})]})]})})]})]}),e.jsxs("div",{className:"space-y-2 col-span-2 md:col-span-1",children:[e.jsx(ye,{children:"Trip Type"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(S,{type:"button",variant:fe==="roundtrip"?"default":"outline",size:"sm",onClick:()=>oe("roundtrip"),className:te("toggle-elevate",fe==="roundtrip"&&"toggle-elevated"),"data-testid":"button-trip-roundtrip",children:"Round Trip"}),e.jsx(S,{type:"button",variant:fe==="oneway"?"default":"outline",size:"sm",onClick:()=>oe("oneway"),className:te("toggle-elevate",fe==="oneway"&&"toggle-elevated"),"data-testid":"button-trip-oneway",children:"One Way"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ye,{children:"Departure Date"}),e.jsx(Ne,{type:"date",value:V,onChange:Re=>H(Re.target.value),className:te(V&&"border-green-500"),"data-testid":"input-flight-departure-initial"})]}),fe==="roundtrip"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(ye,{children:"Return Date"}),e.jsx(Ne,{type:"date",value:I,onChange:Re=>q(Re.target.value),"data-testid":"input-flight-return-initial"})]})]})]})}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[e.jsxs("div",{className:"flex items-center gap-3 text-sm text-muted-foreground flex-wrap",children:[e.jsxs(O,{variant:"outline",className:"gap-1",children:[e.jsx(Pt,{className:"h-3 w-3"}),y?.name||s,"  ",ie?.name||k]}),e.jsxs(O,{variant:"outline",className:"gap-1",children:[e.jsx(Ge,{className:"h-3 w-3"}),V,I&&` - ${I}`]}),e.jsxs(O,{variant:"outline",className:"gap-1",children:[e.jsx(et,{className:"h-3 w-3"}),Ee," traveler",Ee!==1?"s":""]})]}),e.jsxs(vd,{open:$,onOpenChange:L,children:[e.jsx(yd,{asChild:!0,children:e.jsxs(S,{variant:"ghost",size:"sm",className:"gap-1","data-testid":"button-modify-flight-search",children:[e.jsx(Pb,{className:"h-4 w-4"}),"Modify",e.jsx(qs,{className:te("h-4 w-4 transition-transform",$&&"rotate-180")})]})}),e.jsx(jd,{className:"pt-4",children:e.jsx(P,{children:e.jsx(F,{className:"p-4",children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ye,{children:"From"}),e.jsxs(yn,{children:[e.jsx(jn,{asChild:!0,children:e.jsxs(S,{variant:"outline",className:"w-full justify-between font-normal",children:[m,e.jsx(qs,{className:"h-4 w-4 opacity-50"})]})}),e.jsx(tn,{className:"w-[280px] p-0",children:e.jsxs(Gc,{children:[e.jsx(Kc,{placeholder:"Search...",value:b,onValueChange:v}),e.jsxs(Yc,{children:[ze&&e.jsx("div",{className:"p-3 text-center text-sm text-muted-foreground",children:e.jsx(ot,{className:"h-4 w-4 animate-spin inline mr-2"})}),e.jsx(Qc,{children:"No airports found."}),e.jsx(Xc,{children:je?.map(Re=>e.jsxs(Zc,{value:`${Re.name} ${Re.iataCode}`,onSelect:()=>{x(Re.iataCode),w(Re)},children:[e.jsx("span",{className:"font-medium",children:Re.iataCode}),e.jsx("span",{className:"ml-2 text-muted-foreground text-xs",children:Re.name})]},Re.iataCode))})]})]})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ye,{children:"To"}),e.jsxs(yn,{children:[e.jsx(jn,{asChild:!0,children:e.jsxs(S,{variant:"outline",className:"w-full justify-between font-normal",children:[k,e.jsx(qs,{className:"h-4 w-4 opacity-50"})]})}),e.jsx(tn,{className:"w-[280px] p-0",children:e.jsxs(Gc,{children:[e.jsx(Kc,{placeholder:"Search...",value:E,onValueChange:R}),e.jsxs(Yc,{children:[Nt&&e.jsx("div",{className:"p-3 text-center text-sm text-muted-foreground",children:e.jsx(ot,{className:"h-4 w-4 animate-spin inline mr-2"})}),e.jsx(Qc,{children:"No airports found."}),e.jsx(Xc,{children:ft?.map(Re=>e.jsxs(Zc,{value:`${Re.name} ${Re.iataCode}`,onSelect:()=>{C(Re.iataCode),B(Re)},children:[e.jsx("span",{className:"font-medium",children:Re.iataCode}),e.jsx("span",{className:"ml-2 text-muted-foreground text-xs",children:Re.name})]},Re.iataCode))})]})]})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ye,{children:"Trip Type"}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(S,{type:"button",variant:fe==="roundtrip"?"default":"outline",size:"sm",onClick:()=>oe("roundtrip"),className:te("text-xs toggle-elevate",fe==="roundtrip"&&"toggle-elevated"),"data-testid":"button-modify-trip-roundtrip",children:"Round"}),e.jsx(S,{type:"button",variant:fe==="oneway"?"default":"outline",size:"sm",onClick:()=>oe("oneway"),className:te("text-xs toggle-elevate",fe==="oneway"&&"toggle-elevated"),"data-testid":"button-modify-trip-oneway",children:"One Way"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ye,{children:"Departure"}),e.jsx(Ne,{type:"date",value:V,onChange:Re=>H(Re.target.value),"data-testid":"input-flight-departure"})]}),fe==="roundtrip"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(ye,{children:"Return"}),e.jsx(Ne,{type:"date",value:I,onChange:Re=>q(Re.target.value),"data-testid":"input-flight-return"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ye,{children:"Travelers"}),e.jsx(Ne,{type:"number",min:1,max:9,value:Ee,onChange:Re=>me(parseInt(Re.target.value)||1),"data-testid":"input-flight-adults"})]}),e.jsx("div",{className:"flex items-end",children:e.jsx(S,{onClick:()=>{Z(),L(!1)},className:"w-full bg-[#FF385C] hover:bg-[#E23350]","data-testid":"button-search-flights",children:"Update"})})]})})})})]})]}),ce&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[1,2,3,4].map(Re=>e.jsx(P,{children:e.jsxs(F,{className:"p-4",children:[e.jsx(_e,{className:"h-6 w-3/4 mb-2"}),e.jsx(_e,{className:"h-4 w-1/2 mb-4"}),e.jsx(_e,{className:"h-8 w-24"})]})},Re))}),at&&e.jsx(P,{className:"border-red-200 bg-red-50",children:e.jsx(F,{className:"p-4 text-red-600",children:at.message||"Failed to search flights. Please try again."})}),fe==="roundtrip"&&K&&e.jsx(P,{className:"border-[#FF385C] bg-[#FF385C]/5",children:e.jsxs(F,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2 mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(O,{className:"bg-[#FF385C]",children:"Outbound Selected"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Step 1 of 2"})]}),e.jsx(S,{variant:"outline",size:"sm",onClick:()=>J(null),"data-testid":"button-change-outbound",children:"Change"})]}),(()=>{const Re=K.itineraries[0],Ct=Re?.segments[0],ls=Re?.segments[Re.segments.length-1],aa=Ct?.carrierCode||"",Zs=mb[aa]||aa;return e.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-bold",children:Ct?.departure.iataCode}),e.jsx(Kt,{className:"h-4 w-4"}),e.jsx("span",{className:"font-bold",children:ls?.arrival.iataCode})]}),e.jsx("span",{className:"text-sm text-muted-foreground",children:Zs}),e.jsx("span",{className:"text-sm text-muted-foreground",children:vh(Ct?.departure.at||"")}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[du(Ct?.departure.at||"")," - ",du(ls?.arrival.at||"")]})]}),e.jsxs(O,{variant:"secondary",className:"text-lg font-bold",children:["$",K.price.total]})]})})()]})}),sa&&sa.length>0&&!K&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[e.jsxs("h3",{className:"font-semibold text-lg",children:[fe==="roundtrip"?"Step 1: Select Outbound Flight":`${sa.length} flight${sa.length!==1?"s":""} available`,Ue&&Ue.length!==sa.length&&e.jsxs("span",{className:"text-sm font-normal text-muted-foreground ml-2",children:["(filtered from ",Ue.length,")"]})]}),cs?.fromCache&&e.jsxs(O,{variant:"outline",className:"gap-1 text-xs text-muted-foreground","data-testid":"badge-cache-status",children:[e.jsx(id,{className:"h-3 w-3"}),e.jsx("span",{"data-testid":"text-cache-updated",children:cs.lastUpdated?e.jsxs(e.Fragment,{children:["Updated ",rc(new Date(cs.lastUpdated),{addSuffix:!0})]}):e.jsx(e.Fragment,{children:"From cache"})})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:sa.map(Re=>{const Ct=Re.itineraries[0],ls=Ct?.segments[0],aa=Ct?.segments[Ct.segments.length-1],Zs=ls?.carrierCode||"",Ga=mb[Zs]||Zs,rr=Re.travelerPricings?.[0]?.fareDetailsBySegment?.[0],Hr=rr?.cabin||"ECONOMY",gi=Hr.charAt(0)+Hr.slice(1).toLowerCase().replace("_"," "),vs=rr?.includedCheckedBags,Ka=vs?.quantity!==void 0?`${vs.quantity} bag${vs.quantity!==1?"s":""}`:vs?.weight?`${vs.weight}${vs.weightUnit||"kg"}`:null,dn=Re.numberOfBookableSeats,Fr=Re.lastTicketingDate;return e.jsx(P,{className:"hover-elevate",children:e.jsxs(F,{className:"p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"font-bold text-lg",children:ls?.departure.iataCode}),e.jsx(Kt,{className:"h-4 w-4"}),e.jsx("span",{className:"font-bold text-lg",children:aa?.arrival.iataCode})]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:vh(ls?.departure.at||"")})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs(O,{variant:"secondary",className:"text-lg font-bold",children:["$",Re.price.total]}),Ee>1&&e.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["$",(parseFloat(Re.price.total)/Ee).toFixed(2),"/person"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("span",{className:"text-sm font-medium",children:Ga}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:[Zs," ",ls?.number]})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Je,{className:"h-3 w-3"}),e.jsx("span",{children:aT(Ct?.duration||"")})]}),e.jsx(O,{variant:"outline",className:"text-xs",children:Ct?.segments.length===1?"Direct":`${Ct?.segments.length-1} stop${Ct?.segments.length>2?"s":""}`}),e.jsxs(O,{variant:"outline",className:"text-xs",children:[e.jsx(Ta,{className:"h-3 w-3 mr-1"}),gi]})]}),e.jsxs("div",{className:"text-muted-foreground",children:[du(ls?.departure.at||"")," -"," ",du(aa?.arrival.at||"")]}),e.jsxs("div",{className:"flex items-center gap-3 flex-wrap text-xs",children:[Ka&&e.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[e.jsx(RC,{className:"h-3 w-3"}),e.jsxs("span",{children:[Ka," included"]})]}),dn&&dn<=5&&e.jsxs("div",{className:"flex items-center gap-1 text-amber-600",children:[e.jsx(ns,{className:"h-3 w-3"}),e.jsxs("span",{children:["Only ",dn," seats left"]})]})]}),Fr&&e.jsxs("div",{className:"text-xs text-muted-foreground",children:["Book by ",vh(Fr+"T00:00:00")]})]}),fe==="roundtrip"?e.jsx(S,{className:"w-full mt-4 bg-[#FF385C] hover:bg-[#E23350]",onClick:()=>J(Re),"data-testid":`button-select-outbound-${Re.id}`,children:"Select Outbound"}):u&&e.jsx(S,{className:"w-full mt-4 bg-[#FF385C] hover:bg-[#E23350]",onClick:()=>u(Re),"data-testid":`button-select-flight-${Re.id}`,children:"Select Flight"})]})},Re.id)})})]}),fe==="roundtrip"&&K&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[e.jsxs("h3",{className:"font-semibold text-lg",children:["Step 2: Select Return Flight",pr.length>0&&e.jsxs("span",{className:"text-sm font-normal text-muted-foreground ml-2",children:["(",pr.length," available)"]})]}),xe?.fromCache&&e.jsxs(O,{variant:"outline",className:"gap-1 text-xs text-muted-foreground",children:[e.jsx(id,{className:"h-3 w-3"}),e.jsx("span",{children:xe.lastUpdated?e.jsxs(e.Fragment,{children:["Updated ",rc(new Date(xe.lastUpdated),{addSuffix:!0})]}):e.jsx(e.Fragment,{children:"From cache"})})]})]}),Ae&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[1,2,3,4].map(Re=>e.jsx(P,{children:e.jsxs(F,{className:"p-4",children:[e.jsx(_e,{className:"h-6 w-3/4 mb-2"}),e.jsx(_e,{className:"h-4 w-1/2 mb-4"}),e.jsx(_e,{className:"h-8 w-24"})]})},Re))}),Qe&&e.jsx(P,{className:"border-red-200 bg-red-50",children:e.jsx(F,{className:"p-4 text-red-600",children:Qe.message||"Failed to search return flights. Please try again."})}),pr.length>0&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:pr.map(Re=>{const Ct=Re.itineraries[0],ls=Ct?.segments[0],aa=Ct?.segments[Ct.segments.length-1],Zs=ls?.carrierCode||"",Ga=mb[Zs]||Zs,rr=Re.travelerPricings?.[0]?.fareDetailsBySegment?.[0],Hr=rr?.cabin||"ECONOMY",gi=Hr.charAt(0)+Hr.slice(1).toLowerCase().replace("_"," "),vs=rr?.includedCheckedBags,Ka=vs?.quantity!==void 0?`${vs.quantity} bag${vs.quantity!==1?"s":""}`:vs?.weight?`${vs.weight}${vs.weightUnit||"kg"}`:null,dn=Re.numberOfBookableSeats,Fr=Re.lastTicketingDate,Pn=parseFloat(K.price.total),xl=parseFloat(Re.price.total),Kn=(Pn+xl).toFixed(2);return e.jsx(P,{className:"hover-elevate",children:e.jsxs(F,{className:"p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"font-bold text-lg",children:ls?.departure.iataCode}),e.jsx(Kt,{className:"h-4 w-4"}),e.jsx("span",{className:"font-bold text-lg",children:aa?.arrival.iataCode})]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:vh(ls?.departure.at||"")})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs(O,{variant:"secondary",className:"text-lg font-bold",children:["$",Re.price.total]}),e.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Trip total: $",Kn]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("span",{className:"text-sm font-medium",children:Ga}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:[Zs," ",ls?.number]})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Je,{className:"h-3 w-3"}),e.jsx("span",{children:aT(Ct?.duration||"")})]}),e.jsx(O,{variant:"outline",className:"text-xs",children:Ct?.segments.length===1?"Direct":`${Ct?.segments.length-1} stop${Ct?.segments.length>2?"s":""}`}),e.jsxs(O,{variant:"outline",className:"text-xs",children:[e.jsx(Ta,{className:"h-3 w-3 mr-1"}),gi]})]}),e.jsxs("div",{className:"text-muted-foreground",children:[du(ls?.departure.at||"")," -"," ",du(aa?.arrival.at||"")]}),e.jsxs("div",{className:"flex items-center gap-3 flex-wrap text-xs",children:[Ka&&e.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[e.jsx(RC,{className:"h-3 w-3"}),e.jsxs("span",{children:[Ka," included"]})]}),dn&&dn<=5&&e.jsxs("div",{className:"flex items-center gap-1 text-amber-600",children:[e.jsx(ns,{className:"h-3 w-3"}),e.jsxs("span",{children:["Only ",dn," seats left"]})]})]}),Fr&&e.jsxs("div",{className:"text-xs text-muted-foreground",children:["Book by ",vh(Fr+"T00:00:00")]})]}),u&&e.jsx(S,{className:"w-full mt-4 bg-[#FF385C] hover:bg-[#E23350]",onClick:()=>{u(K),u(Re),J(null)},"data-testid":`button-select-return-${Re.id}`,children:"Select Return & Add Both"})]})},Re.id)})}),Ve&&Ve.length===0&&!Ae&&e.jsx(P,{children:e.jsxs(F,{className:"p-8 text-center",children:[e.jsx(Pt,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"font-medium mb-2",children:"No return flights found"}),e.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"Try a different return date or select a different outbound flight."}),e.jsx(S,{variant:"outline",onClick:()=>J(null),children:"Change Outbound Flight"})]})})]}),Ue&&Ue.length===0&&!ce&&e.jsx(P,{children:e.jsxs(F,{className:"p-8 text-center",children:[e.jsx(Pt,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"font-medium mb-2",children:"No flights found"}),e.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"Try different dates or airports for more options."}),e.jsx(S,{variant:"outline",onClick:()=>L(!0),children:"Modify Search"})]})})]})}const qme={ROOM_ONLY:"Room Only",BREAKFAST:"Breakfast Included",HALF_BOARD:"Half Board",FULL_BOARD:"Full Board",ALL_INCLUSIVE:"All Inclusive"};function Hme(t,s,a,r){const i=(a-t)*Math.PI/180,l=(r-s)*Math.PI/180,c=Math.sin(i/2)*Math.sin(i/2)+Math.cos(t*Math.PI/180)*Math.cos(a*Math.PI/180)*Math.sin(l/2)*Math.sin(l/2);return 6371*(2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c)))}function Wme(t,s,a){if(a.length===0)return null;const r=a.reduce((n,i)=>n+Hme(t,s,i.lat,i.lng),0)/a.length;return r<2?{label:"Very Close",variant:"default",avgDistance:r}:r<5?{label:"Close",variant:"secondary",avgDistance:r}:r<10?{label:"Moderate",variant:"outline",avgDistance:r}:{label:"Far",variant:"destructive",avgDistance:r}}function Gme({destination:t,checkIn:s,checkOut:a,guests:r=2,maxPrice:n=1e4,starRating:i=0,sortBy:l="price",onSelectHotel:c,activityLocations:u=[],onResultsLoaded:m,destinationCenter:x}){const[f,g]=h.useState(""),[b,v]=h.useState(n),[y,w]=h.useState(i),[k,C]=h.useState(l),[_,M]=h.useState(!1),[E,R]=h.useState(""),[z,A]=h.useState(s?Et(s,"yyyy-MM-dd"):""),[V,H]=h.useState(a?Et(a,"yyyy-MM-dd"):""),[I,q]=h.useState(r),[fe,oe]=h.useState(1),[Ee,me]=h.useState(null),[ie,B]=h.useState(!1),ae=h.useRef(!1);h.useEffect(()=>{A(s?Et(s,"yyyy-MM-dd"):"")},[s]),h.useEffect(()=>{H(a?Et(a,"yyyy-MM-dd"):"")},[a]),h.useEffect(()=>{q(r||2)},[r]),h.useEffect(()=>{g(""),me(null),ae.current=!1},[t]);const{data:ke,isLoading:$}=Le({queryKey:["/api/amadeus/locations","city",E],enabled:E.length>=2,queryFn:async()=>{const ce=new URLSearchParams({keyword:E,subType:"CITY"}),at=await fetch(`/api/amadeus/locations?${ce}`,{credentials:"include"});return at.ok?at.json():[]},staleTime:6e4}),{data:L,isLoading:W}=Le({queryKey:["/api/amadeus/locations","autodetect-hotel",t],enabled:!!t&&t.length>=2&&!f,queryFn:async()=>{const ce=new URLSearchParams({keyword:t,subType:"CITY"}),at=await fetch(`/api/amadeus/locations?${ce}`,{credentials:"include"});return at.ok?at.json():[]},staleTime:3e4,refetchOnMount:!0});h.useEffect(()=>{if(L&&L.length>0&&!f){const ce=L[0];g(ce.iataCode),me(ce)}},[L,f]);const re=!!f&&!!z&&!!V&&!!I,{data:se,isLoading:ge,error:K,refetch:J}=Le({queryKey:["/api/cache/hotels",f,z,V,I,fe],enabled:re,queryFn:async()=>{const ce=new URLSearchParams({cityCode:f,checkInDate:z,checkOutDate:V,adults:I.toString(),rooms:fe.toString()}),at=await fetch(`/api/cache/hotels?${ce}`,{credentials:"include"});if(!at.ok){const Z=await at.json();throw new Error(Z.message||"Hotel search failed")}return at.json()},refetchOnMount:!0}),je=se?.hotels,ze=W&&!f&&!!t,ft=!W&&L&&L.length===0&&!f&&!!t,Nt=!re&&!ze,ht=!!t&&!!s&&!!a,Lt=h.useMemo(()=>{if(!je)return[];let ce=je.filter(at=>{const Z=at.offers?.[0];return!(Z&&parseFloat(Z.price.total)>b||y>0&&at.hotel.rating&&parseInt(at.hotel.rating)<y)});return ce.sort((at,Z)=>{if(k==="price"){const xe=parseFloat(at.offers?.[0]?.price.total||"0"),Ae=parseFloat(Z.offers?.[0]?.price.total||"0");return xe-Ae}else{const xe=parseInt(at.hotel.rating||"0");return parseInt(Z.hotel.rating||"0")-xe}}),ce},[je,b,y,k]),gs=()=>{v(n),w(i),C(l)};h.useEffect(()=>{v(n)},[n]),h.useEffect(()=>{w(i)},[i]),h.useEffect(()=>{C(l)},[l]);const ks=h.useMemo(()=>!Lt||Lt.length===0?[]:Lt.map((ce,at)=>{const Z=ce.offers?.[0];let xe,Ae;if(ce.hotel.latitude&&ce.hotel.longitude)xe=ce.hotel.latitude,Ae=ce.hotel.longitude;else if(x){const Qe=.003*(at%10),Ue=at*137.5*(Math.PI/180);xe=x.lat+Qe*Math.cos(Ue),Ae=x.lng+Qe*Math.sin(Ue)}else return null;return{id:`hotel-${ce.hotel.hotelId}`,name:ce.hotel.name,lat:xe,lng:Ae,category:"accommodations",price:Z?parseFloat(Z.price.total):0,rating:ce.hotel.rating?parseInt(ce.hotel.rating):4,description:ce.hotel.name}}).filter(ce=>ce!==null),[Lt,x]),Ys=h.useRef("");if(h.useEffect(()=>{if(!m)return;const ce=ks.map(at=>at.id).join(",");ce!==Ys.current&&(Ys.current=ce,m(ks))},[ks,m]),ze)return e.jsx(P,{children:e.jsxs(F,{className:"p-6 text-center",children:[e.jsx(ot,{className:"h-8 w-8 animate-spin mx-auto mb-3 text-muted-foreground"}),e.jsxs("p",{className:"text-muted-foreground",children:["Finding hotels in ",t,"..."]})]})});if(Nt&&!ht)return e.jsx(P,{className:"border-2 border-dashed",children:e.jsxs(F,{className:"p-8 text-center",children:[e.jsx(Us,{className:"h-12 w-12 mx-auto mb-3 text-muted-foreground"}),e.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Search Hotels"}),e.jsx("p",{className:"text-muted-foreground",children:"Fill in your Travel Details above (destination and dates) to search for hotels."})]})});if(Nt&&ht&&ft)return e.jsx(P,{className:"border-2 border-dashed",children:e.jsxs(F,{className:"p-6",children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsx(Us,{className:"h-10 w-10 mx-auto mb-2 text-[#FF385C]"}),e.jsx("h3",{className:"font-semibold text-lg mb-1",children:"City Detection Failed"})]}),e.jsxs("div",{className:"mb-4 p-3 bg-amber-50 dark:bg-amber-950 border border-amber-200 dark:border-amber-800 rounded-md text-sm text-amber-800 dark:text-amber-200",children:[`We couldn't find "`,t,'" automatically. Please select a city below.']}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[e.jsxs("div",{className:"space-y-2 lg:col-span-1",children:[e.jsx(ye,{children:"City"}),e.jsxs(yn,{open:_,onOpenChange:M,children:[e.jsx(jn,{asChild:!0,children:e.jsxs(S,{variant:"outline",className:"w-full justify-between font-normal","data-testid":"input-hotel-city",children:[f||"Search cities...",e.jsx(qs,{className:"ml-2 h-4 w-4 opacity-50"})]})}),e.jsx(tn,{className:"w-[280px] p-0",children:e.jsxs(Gc,{children:[e.jsx(Kc,{placeholder:"Type city...",value:E,onValueChange:R}),e.jsxs(Yc,{children:[$&&e.jsxs("div",{className:"p-3 text-center text-sm text-muted-foreground",children:[e.jsx(ot,{className:"h-4 w-4 animate-spin inline mr-2"}),"Searching..."]}),e.jsx(Qc,{children:"No cities found."}),e.jsx(Xc,{children:ke?.map(ce=>e.jsxs(Zc,{value:`${ce.name} ${ce.iataCode}`,onSelect:()=>{g(ce.iataCode),me(ce),M(!1)},children:[e.jsx(rs,{className:te("mr-2 h-4 w-4",f===ce.iataCode?"opacity-100":"opacity-0")}),e.jsx("span",{className:"font-medium",children:ce.iataCode}),e.jsx("span",{className:"ml-2 text-muted-foreground text-xs",children:ce.name})]},ce.iataCode))})]})]})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ye,{children:"Check-in"}),e.jsx(Ne,{type:"date",value:z,onChange:ce=>A(ce.target.value),"data-testid":"input-hotel-checkin"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ye,{children:"Check-out"}),e.jsx(Ne,{type:"date",value:V,onChange:ce=>H(ce.target.value),"data-testid":"input-hotel-checkout"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ye,{children:"Guests"}),e.jsx(Ne,{type:"number",min:1,max:9,value:I,onChange:ce=>q(parseInt(ce.target.value)||1),"data-testid":"input-hotel-guests"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ye,{children:"Rooms"}),e.jsx(Ne,{type:"number",min:1,max:5,value:fe,onChange:ce=>oe(parseInt(ce.target.value)||1),"data-testid":"input-hotel-rooms"})]})]})]})});const cs=z&&V?Math.max(1,Math.ceil((new Date(V).getTime()-new Date(z).getTime())/(1e3*60*60*24))):0;return e.jsxs("div",{className:"space-y-4",children:[!ze&&re&&e.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[e.jsxs("div",{className:"flex items-center gap-3 text-sm text-muted-foreground flex-wrap",children:[e.jsxs(O,{variant:"outline",className:"gap-1",children:[e.jsx(Me,{className:"h-3 w-3"}),Ee?.name||f]}),e.jsxs(O,{variant:"outline",className:"gap-1",children:[e.jsx(Ge,{className:"h-3 w-3"}),z," - ",V]}),e.jsxs(O,{className:"gap-1 bg-[#FF385C] text-white",children:[cs," night",cs!==1?"s":""]}),e.jsxs(O,{variant:"outline",className:"gap-1",children:[e.jsx(et,{className:"h-3 w-3"}),I," guest",I!==1?"s":"",", ",fe," room",fe!==1?"s":""]})]}),e.jsxs(vd,{open:ie,onOpenChange:B,children:[e.jsx(yd,{asChild:!0,children:e.jsxs(S,{variant:"ghost",size:"sm",className:"gap-1","data-testid":"button-modify-hotel-search",children:[e.jsx(Pb,{className:"h-4 w-4"}),"Modify",e.jsx(qs,{className:te("h-4 w-4 transition-transform",ie&&"rotate-180")})]})}),e.jsx(jd,{className:"pt-4",children:e.jsx(P,{children:e.jsxs(F,{className:"p-4",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[e.jsxs("div",{className:"space-y-2 col-span-2 md:col-span-1",children:[e.jsx(ye,{children:"City"}),e.jsxs(yn,{open:_,onOpenChange:M,children:[e.jsx(jn,{asChild:!0,children:e.jsxs(S,{variant:"outline",role:"combobox",className:"w-full justify-between font-normal","data-testid":"input-hotel-city",children:[f||"Select city",e.jsx(qs,{className:"ml-2 h-4 w-4 opacity-50"})]})}),e.jsx(tn,{className:"w-[280px] p-0",children:e.jsxs(Gc,{children:[e.jsx(Kc,{placeholder:"Type city...",value:E,onValueChange:R}),e.jsxs(Yc,{children:[$&&e.jsxs("div",{className:"p-3 text-center text-sm text-muted-foreground",children:[e.jsx(ot,{className:"h-4 w-4 animate-spin inline mr-2"}),"Searching..."]}),e.jsx(Qc,{children:"No cities found."}),e.jsx(Xc,{children:ke?.map(ce=>e.jsxs(Zc,{value:`${ce.name} ${ce.iataCode}`,onSelect:()=>{g(ce.iataCode),me(ce),M(!1)},children:[e.jsx(rs,{className:te("mr-2 h-4 w-4",f===ce.iataCode?"opacity-100":"opacity-0")}),e.jsx("span",{className:"font-medium",children:ce.iataCode}),e.jsx("span",{className:"ml-2 text-muted-foreground text-xs",children:ce.name})]},ce.iataCode))})]})]})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ye,{children:"Check-in"}),e.jsx(Ne,{type:"date",value:z,onChange:ce=>A(ce.target.value),"data-testid":"input-hotel-checkin"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ye,{children:"Check-out"}),e.jsx(Ne,{type:"date",value:V,onChange:ce=>H(ce.target.value),"data-testid":"input-hotel-checkout"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ye,{children:"Guests"}),e.jsx(Ne,{type:"number",min:1,max:9,value:I,onChange:ce=>q(parseInt(ce.target.value)||1),"data-testid":"input-hotel-guests"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ye,{children:"Rooms"}),e.jsx(Ne,{type:"number",min:1,max:5,value:fe,onChange:ce=>oe(parseInt(ce.target.value)||1),"data-testid":"input-hotel-rooms"})]})]}),e.jsxs("div",{className:"border-t pt-4 mt-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(Di,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"font-medium text-sm",children:"Filters"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(ye,{children:["Max Price per Stay: $",b]}),e.jsx(co,{value:[b],onValueChange:ce=>v(ce[0]),min:100,max:1e4,step:100,"data-testid":"slider-max-price"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ye,{children:"Minimum Star Rating"}),e.jsxs(Wt,{value:y.toString(),onValueChange:ce=>w(parseInt(ce)),children:[e.jsx(Vt,{"data-testid":"select-star-rating",children:e.jsx(Gt,{placeholder:"Any rating"})}),e.jsxs(Ut,{children:[e.jsx(Pe,{value:"0",children:"Any rating"}),e.jsx(Pe,{value:"3",children:"3+ stars"}),e.jsx(Pe,{value:"4",children:"4+ stars"}),e.jsx(Pe,{value:"5",children:"5 stars only"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ye,{children:"Sort By"}),e.jsxs(Wt,{value:k,onValueChange:ce=>C(ce),children:[e.jsx(Vt,{"data-testid":"select-sort-by",children:e.jsx(Gt,{})}),e.jsxs(Ut,{children:[e.jsx(Pe,{value:"price",children:"Price (Low to High)"}),e.jsx(Pe,{value:"rating",children:"Rating (High to Low)"})]})]})]})]})]}),e.jsxs("div",{className:"flex gap-2 mt-4",children:[e.jsx(S,{onClick:()=>{J(),B(!1)},className:"bg-[#FF385C] hover:bg-[#E23350]","data-testid":"button-search-hotels",children:"Update Search"}),e.jsxs(S,{variant:"outline",onClick:gs,"data-testid":"button-reset-filters",children:[e.jsx($C,{className:"h-4 w-4 mr-1"}),"Reset Filters"]})]})]})})})]})]}),ge&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3,4,5,6].map(ce=>e.jsx(P,{children:e.jsxs(F,{className:"p-4",children:[e.jsx(_e,{className:"h-32 w-full mb-3"}),e.jsx(_e,{className:"h-6 w-3/4 mb-2"}),e.jsx(_e,{className:"h-4 w-1/2 mb-4"}),e.jsx(_e,{className:"h-8 w-24"})]})},ce))}),K&&e.jsx(P,{className:"border-red-200 bg-red-50",children:e.jsx(F,{className:"p-4 text-red-600",children:K.message||"Failed to search hotels. Please try again."})}),Lt&&Lt.length>0&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[e.jsxs("h3",{className:"font-semibold text-lg",children:[Lt.length," hotel",Lt.length!==1?"s":""," available",je&&je.length!==Lt.length&&e.jsxs("span",{className:"text-sm font-normal text-muted-foreground ml-2",children:["(filtered from ",je.length,")"]})]}),se?.fromCache&&e.jsxs(O,{variant:"outline",className:"gap-1 text-xs text-muted-foreground","data-testid":"badge-cache-status",children:[e.jsx(id,{className:"h-3 w-3"}),e.jsx("span",{"data-testid":"text-cache-updated",children:se.lastUpdated?e.jsxs(e.Fragment,{children:["Updated ",rc(new Date(se.lastUpdated),{addSuffix:!0})]}):e.jsx(e.Fragment,{children:"From cache"})})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Lt.map(ce=>{const at=ce.hotel,Z=ce.offers?.[0],xe=Z?Math.max(1,Math.ceil((new Date(Z.checkOutDate).getTime()-new Date(Z.checkInDate).getTime())/(1e3*60*60*24))):1,Ae=Z?parseFloat(Z.price.total):0,Qe=Ae/xe,Ue=Z?.policies?.refundable?.cancellationRefund,Ve=Ue==="REFUNDABLE_UP_TO_DEADLINE"||Ue==="REFUNDABLE",ut=Ue==="NON_REFUNDABLE",$t=Z?.policies?.cancellations?.[0]?.deadline,ss=Z?.boardType,Ds=ss?qme[ss]||ss:null,Hs=Z?.room.typeEstimated,sa=Hs?.beds&&Hs?.bedType?`${Hs.beds} ${Hs.bedType.toLowerCase()}`:null,pr=Hs?.category?.replace(/_/g," ").toLowerCase(),wa=Z?.price.taxes?.filter(Ct=>!Ct.included)?.reduce((Ct,ls)=>Ct+parseFloat(ls.amount),0)||0,Re=at.latitude&&at.longitude&&u.length>0?Wme(at.latitude,at.longitude,u):null;return e.jsxs(P,{className:"overflow-hidden hover-elevate",children:[e.jsxs("div",{className:"h-32 bg-gradient-to-br from-blue-100 to-blue-200 dark:from-blue-900 dark:to-blue-800 flex items-center justify-center relative",children:[e.jsx(Us,{className:"h-12 w-12 text-blue-400"}),Ve&&e.jsxs(O,{className:"absolute top-2 left-2 bg-green-600 text-white text-xs",children:[e.jsx(lg,{className:"h-3 w-3 mr-1"}),"Refundable"]}),ut&&e.jsxs(O,{className:"absolute top-2 left-2 bg-amber-600 text-white text-xs",children:[e.jsx(k$,{className:"h-3 w-3 mr-1"}),"Non-refundable"]})]}),e.jsxs(F,{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx("h4",{className:"font-semibold line-clamp-1",children:at.name}),at.rating&&e.jsxs(O,{variant:"secondary",className:"text-xs shrink-0 ml-2",children:[e.jsx(rt,{className:"h-3 w-3 mr-1 fill-amber-400 text-amber-400"}),at.rating]})]}),at.address&&e.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground mb-2",children:[e.jsx(Me,{className:"h-3 w-3"}),e.jsxs("span",{className:"line-clamp-1",children:[at.address.cityName||at.cityCode,at.address.countryCode&&`, ${at.address.countryCode}`]})]}),Re&&e.jsx("div",{className:"mb-2",children:e.jsxs(O,{variant:Re.variant,className:"text-xs",children:[e.jsx(Me,{className:"h-3 w-3 mr-1"}),Re.label," to activities (",Re.avgDistance.toFixed(1)," km avg)"]})}),Z&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap text-xs",children:[sa&&e.jsxs(O,{variant:"outline",className:"text-xs",children:[e.jsx(t$,{className:"h-3 w-3 mr-1"}),sa]}),Ds&&e.jsxs(O,{variant:"outline",className:"text-xs",children:[e.jsx(oo,{className:"h-3 w-3 mr-1"}),Ds]})]}),pr&&e.jsx("div",{className:"text-xs text-muted-foreground capitalize",children:pr}),e.jsxs("div",{className:"flex items-center justify-between pt-1",children:[e.jsxs("span",{className:"text-sm text-muted-foreground",children:[xe," night",xe!==1?"s":""]}),e.jsx("div",{className:"text-right",children:e.jsxs("span",{className:"font-bold text-lg",children:["$",Qe.toFixed(2),"/night"]})})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[e.jsxs("span",{children:[Z.checkInDate," - ",Z.checkOutDate]}),e.jsxs("span",{className:"font-medium",children:["$",Ae.toFixed(2)," total"]})]}),wa>0&&e.jsxs("div",{className:"text-xs text-muted-foreground",children:["+ $",wa.toFixed(2)," taxes & fees"]}),$t&&Ve&&e.jsxs("div",{className:"flex items-center gap-1 text-xs text-green-600",children:[e.jsx(ns,{className:"h-3 w-3"}),"Free cancellation until ",new Date($t).toLocaleDateString()]})]}),c&&e.jsx(S,{className:"w-full mt-4 bg-[#FF385C] hover:bg-[#E23350]",onClick:()=>c(ce),"data-testid":`button-select-hotel-${at.hotelId}`,children:"Select Hotel"})]})]},at.hotelId)})})]}),je&&je.length>0&&Lt.length===0&&!ge&&!K&&e.jsx(P,{children:e.jsxs(F,{className:"p-8 text-center",children:[e.jsx(Di,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"font-medium mb-2",children:"No hotels match your filters"}),e.jsxs("p",{className:"text-muted-foreground text-sm mb-4",children:[je.length," hotel",je.length!==1?"s":""," found, but none match your current filter settings. Try lowering the minimum star rating or increasing the maximum price."]}),e.jsxs("div",{className:"flex gap-2 justify-center",children:[e.jsxs(S,{variant:"outline",onClick:()=>B(!0),"data-testid":"button-adjust-filters",children:[e.jsx(Pb,{className:"h-4 w-4 mr-1"}),"Adjust Filters"]}),e.jsxs(S,{onClick:gs,"data-testid":"button-reset-filters-empty",children:[e.jsx($C,{className:"h-4 w-4 mr-1"}),"Reset Filters"]})]})]})}),je&&je.length===0&&!ge&&e.jsx(P,{children:e.jsxs(F,{className:"p-8 text-center",children:[e.jsx(Us,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"font-medium mb-2",children:"No hotels found"}),e.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"Try different dates or city for more options."}),e.jsx(S,{variant:"outline",onClick:()=>B(!0),children:"Modify Search"})]})})]})}const Kme={"photography-videography":Rs,"transportation-logistics":zs,"food-culinary":i0,"childcare-family":uc,"tours-experiences":dr,"personal-assistance":Ta,"taskrabbit-services":Js,"health-wellness":Qt,"beauty-styling":qe,"pets-animals":sw,"events-celebrations":ya,"technology-connectivity":a0,"language-translation":No,"specialty-services":jr,"custom-other":xi};function Yme({service:t,category:s,onAddToCart:a}){const r=parseFloat(t.averageRating||"0")||0,n=parseFloat(t.price||"0")||0,i=t.reviewCount||0,l=s&&Kme[s.slug]||dr,c=t.shortDescription||t.description||"No description available",u=t.location||"Remote";return e.jsx(P,{className:"hover-elevate h-full","data-testid":`card-service-${t.id}`,children:e.jsxs(F,{className:"p-4",children:[e.jsx(Ce,{href:`/services/${t.id}`,"data-testid":`link-service-${t.id}`,children:e.jsxs("div",{className:"flex gap-4 cursor-pointer",children:[e.jsx("div",{className:"w-16 h-16 rounded-md bg-muted flex items-center justify-center flex-shrink-0",children:e.jsx(l,{className:"w-8 h-8 text-muted-foreground"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold text-foreground truncate","data-testid":`text-service-name-${t.id}`,children:t.serviceName}),e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mt-1",children:c}),e.jsxs("div",{className:"flex items-center gap-3 mt-2 text-sm text-muted-foreground flex-wrap",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Me,{className:"w-3 h-3"}),e.jsx("span",{"data-testid":`text-location-${t.id}`,children:u})]}),t.deliveryTimeframe&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Je,{className:"w-3 h-3"}),e.jsx("span",{children:t.deliveryTimeframe})]})]})]})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-4 pt-3 border-t gap-2",children:[e.jsx("div",{className:"flex items-center gap-2",children:s&&e.jsx(O,{variant:"secondary",className:"text-xs","data-testid":`badge-category-${t.id}`,children:s.name})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(rt,{className:"w-4 h-4 text-amber-500 fill-amber-500"}),e.jsx("span",{className:"font-medium","data-testid":`text-rating-${t.id}`,children:r.toFixed(1)}),e.jsxs("span",{className:"text-muted-foreground text-sm",children:["(",i,")"]})]}),e.jsxs("div",{className:"flex items-center gap-1 font-semibold",children:[e.jsx(bt,{className:"w-4 h-4"}),e.jsxs("span",{"data-testid":`text-price-${t.id}`,children:["$",n.toFixed(0)]})]})]})]}),a&&e.jsxs(S,{size:"sm",className:"w-full mt-3 bg-[#FF385C] hover:bg-[#E23350]",onClick:()=>a(t),"data-testid":`button-add-to-cart-${t.id}`,children:[e.jsx(Nn,{className:"w-4 h-4 mr-2"}),"Add to Cart"]})]})})}function rT({defaultLocation:t="",categoryFilter:s="",categorySlug:a="",onAddToCart:r,showCategoryFilter:n=!0,title:i}){const[l,c]=h.useState(""),[u,m]=h.useState(""),[x,f]=h.useState(t),[g,b]=h.useState(s||"all"),[v,y]=h.useState("rating"),[w,k]=h.useState(0),C=12,{data:_}=Le({queryKey:["/api/service-categories"]}),M=a&&_&&_.find(q=>q.slug===a)?.id||"",E=M||(g!=="all"?g:"");h.useEffect(()=>{f(t)},[t]),h.useEffect(()=>{s&&b(s)},[s]),h.useEffect(()=>{const q=setTimeout(()=>{m(l),k(0)},300);return()=>clearTimeout(q)},[l]);const{data:R,isLoading:z}=Le({queryKey:["/api/discover",u,E,x,v,w],queryFn:async()=>{const q=new URLSearchParams;u&&q.set("q",u),E&&q.set("categoryId",E),x&&q.set("location",x),v&&q.set("sortBy",v),q.set("limit",String(C)),q.set("offset",String(w*C));const fe=await fetch(`/api/discover?${q.toString()}`);if(!fe.ok)throw new Error("Failed to fetch");return fe.json()},enabled:!a||!!M}),A=q=>_?.find(fe=>fe.id===q),V=R?Math.ceil(R.total/C):0,H=n&&g!=="all"||x!==t||u!=="",I=()=>{b(s||"all"),f(t),c(""),k(0)};return e.jsxs("div",{className:"space-y-4",children:[i&&e.jsx("h3",{className:"text-lg font-semibold",children:i}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(ws,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.jsx(Ne,{placeholder:"Search services...",value:l,onChange:q=>c(q.target.value),className:"pl-10","data-testid":"input-service-search"})]}),e.jsxs("div",{className:"relative sm:w-40",children:[e.jsx(Me,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.jsx(Ne,{placeholder:"Location",value:x,onChange:q=>f(q.target.value),className:"pl-10","data-testid":"input-service-location"})]}),n&&e.jsxs(Wt,{value:g,onValueChange:b,children:[e.jsx(Vt,{className:"sm:w-44","data-testid":"select-service-category",children:e.jsx(Gt,{placeholder:"All categories"})}),e.jsxs(Ut,{children:[e.jsx(Pe,{value:"all",children:"All categories"}),_?.map(q=>e.jsx(Pe,{value:q.id,children:q.name},q.id))]})]}),e.jsxs(Wt,{value:v,onValueChange:y,children:[e.jsx(Vt,{className:"sm:w-36","data-testid":"select-service-sort",children:e.jsx(Gt,{placeholder:"Sort by"})}),e.jsxs(Ut,{children:[e.jsx(Pe,{value:"rating",children:"Top Rated"}),e.jsx(Pe,{value:"reviews",children:"Most Reviews"}),e.jsx(Pe,{value:"price_low",children:"Price: Low to High"}),e.jsx(Pe,{value:"price_high",children:"Price: High to Low"})]})]})]}),H&&e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Active filters:"}),u&&e.jsxs(O,{variant:"secondary",className:"gap-1",children:['"',u,'"',e.jsx("button",{onClick:()=>c(""),className:"ml-1",children:e.jsx(Ia,{className:"w-3 h-3"})})]}),n&&g!=="all"&&e.jsxs(O,{variant:"secondary",className:"gap-1",children:[A(g)?.name,e.jsx("button",{onClick:()=>b("all"),className:"ml-1",children:e.jsx(Ia,{className:"w-3 h-3"})})]}),x&&x!==t&&e.jsxs(O,{variant:"secondary",className:"gap-1",children:[x,e.jsx("button",{onClick:()=>f(t),className:"ml-1",children:e.jsx(Ia,{className:"w-3 h-3"})})]}),e.jsx(S,{variant:"ghost",size:"sm",onClick:I,children:"Clear all"})]}),z?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3,4,5,6].map(q=>e.jsx(P,{children:e.jsx(F,{className:"p-4",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx(_e,{className:"w-16 h-16 rounded-md"}),e.jsxs("div",{className:"flex-1",children:[e.jsx(_e,{className:"h-5 w-3/4 mb-2"}),e.jsx(_e,{className:"h-4 w-full mb-2"}),e.jsx(_e,{className:"h-3 w-1/2"})]})]})})},q))}):R?.services&&R.services.length>0?e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",R.services.length," of ",R.total," services"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:R.services.map(q=>e.jsx(Yme,{service:q,category:A(q.categoryId),onAddToCart:r},q.id))}),V>1&&e.jsxs("div",{className:"flex items-center justify-center gap-2 pt-4",children:[e.jsx(S,{variant:"outline",size:"sm",onClick:()=>k(q=>Math.max(0,q-1)),disabled:w===0,children:e.jsx(hr,{className:"w-4 h-4"})}),e.jsxs("span",{className:"text-sm text-muted-foreground px-4",children:["Page ",w+1," of ",V]}),e.jsx(S,{variant:"outline",size:"sm",onClick:()=>k(q=>Math.min(V-1,q+1)),disabled:w>=V-1,children:e.jsx($s,{className:"w-4 h-4"})})]})]}):e.jsx(P,{className:"border-2 border-dashed",children:e.jsxs(F,{className:"p-8 text-center",children:[e.jsx(ws,{className:"h-12 w-12 mx-auto mb-3 text-muted-foreground"}),e.jsx("h3",{className:"font-semibold text-lg mb-2",children:"No services found"}),e.jsx("p",{className:"text-muted-foreground",children:u||x?"Try adjusting your search or filters to find more services.":"Browse our available services or search for something specific."})]})})]})}const Qme={culture:["museum","history","cultural","heritage","historical","temple","church","cathedral","palace","castle","monument","ancient","traditional"],food:["food","cuisine","culinary","cooking","tasting","wine","beer","restaurant","market","gastronomy","dinner","lunch","brunch"],adventure:["adventure","extreme","adrenaline","zip","bungee","paragliding","skydiving","rafting","climbing","canyoning"],nature:["nature","hiking","trekking","wildlife","safari","national park","forest","mountain","waterfall","scenic","eco","outdoor"],nightlife:["nightlife","bar","club","pub","party","evening","night tour","cocktail","entertainment"],shopping:["shopping","market","bazaar","outlet","souvenir","boutique","artisan","craft"],wellness:["spa","wellness","yoga","meditation","massage","thermal","hot spring","relaxation","retreat","health"],art:["art","gallery","exhibition","museum","contemporary","sculpture","painting","creative","design"]},Xme=["transfer","shuttle","taxi service","private car service","limousine service","chauffeur","car service"],Zme=["pickup","drop-off","dropoff"],Jme=["tour","experience","excursion","day trip","sightseeing","guided","walking","cruise","safari","adventure","cultural","visit","explore","discover","lounge","fast track","fast-track","priority","vip access","pass","ticket","admission","entry"];function nT(t){const s=t.title?.toLowerCase()||"",a=Jme.some(c=>s.includes(c));if(a)return!1;if(Xme.some(c=>s.includes(c))||[/^(private|shared)\s+(airport|hotel|port|station|city)\s+(transfer|shuttle)/i,/\btransfer\s+(to|from|between)\b/i,/\b(airport|hotel|port|station)\s+(to|from)\s+(airport|hotel|port|station|city|downtown)/i,/^(one[- ]way|round[- ]trip)\s+(private|shared)?\s*transfer/i,/\bshuttle\s+(service|bus|ride)\b/i].some(c=>c.test(s)))return!0;const i=Zme.some(c=>s.includes(c)),l=s.includes("airport")||s.includes("hotel")||s.includes("station");return i&&l&&!a}function hb(t){if(!t?.start?.[0])return null;const s=t.start[0].location,a=s.address,r=[a?.street,a?.city,a?.state,a?.country].filter(Boolean),n=s.name||r.join(", ")||t.start[0].description||"",i=s.coordinates?{lat:s.coordinates.latitude,lng:s.coordinates.longitude}:void 0;return n?{address:n,coordinates:i}:null}function ehe(t){if(!t)return"Duration varies";const s=t.fixedDurationInMinutes||t.variableDurationFromMinutes;if(!s)return"Duration varies";if(s<60)return`${s} min`;const a=Math.floor(s/60),r=s%60;if(t.variableDurationFromMinutes&&t.variableDurationToMinutes){const n=Math.floor(t.variableDurationToMinutes/60);return a===n?`${a}h`:`${a}-${n}h`}return r===0?`${a}h`:`${a}h ${r}m`}function the(t){if(!t)return null;const s=t.refundEligibility?.find(a=>a.percentageRefundable===100);return s?s.dayRangeMin&&s.dayRangeMin>=1?{text:`Free cancellation ${s.dayRangeMin}+ days before`,variant:"secondary"}:{text:"Free cancellation",variant:"secondary"}:t.type==="STANDARD"||t.type==="ALL_SALES_FINAL"?{text:"Non-refundable",variant:"destructive"}:null}function she(t,s=480){if(!t||t.length===0)return"https://images.unsplash.com/photo-1469474968028-56623f02e42e?w=480&h=320&fit=crop";const a=t.find(i=>i.isCover)||t[0];return[...a.variants||[]].sort((i,l)=>Math.abs(i.width-s)-Math.abs(l.width-s))[0]?.url||a.variants[0]?.url||"https://images.unsplash.com/photo-1469474968028-56623f02e42e?w=480&h=320&fit=crop"}function ahe(t,s){if(!s||s.length===0)return!0;const a=t.title?.toLowerCase()||"",r=t.description?.toLowerCase()||"",n=`${a} ${r}`;return s.some(i=>{const l=Qme[i.toLowerCase()];return l?l.some(c=>n.includes(c)):!1})}function iT({destination:t,startDate:s,endDate:a,travelers:r=1,sortBy:n="TOP_SELLERS",filterType:i="activities",interests:l=[],onSelectActivity:c,onResultsLoaded:u,destinationCenter:m}){const[x,f]=h.useState(n),[g,b]=h.useState(null),[v,y]=h.useState(new Set),{data:w,isLoading:k,error:C,refetch:_}=Le({queryKey:["/api/cache/activities",t,x],queryFn:async()=>{const I=new URLSearchParams({destination:t||"",count:"30"}),q=await fetch(`/api/cache/activities?${I}`,{credentials:"include"});if(!q.ok){const fe=await q.json().catch(()=>({message:"Activity search failed"}));throw new Error(fe.message||"Activity search failed")}return q.json()},enabled:!!t}),M=h.useMemo(()=>{if(!w?.activities)return[];let I=[...w.activities];switch(i==="activities"?I=I.filter(q=>!nT(q)):i==="transport"&&(I=I.filter(q=>nT(q))),l&&l.length>0&&(I=I.filter(q=>ahe(q,l))),x){case"PRICE_LOW_TO_HIGH":I.sort((q,fe)=>(q.pricing?.summary?.fromPrice||0)-(fe.pricing?.summary?.fromPrice||0));break;case"PRICE_HIGH_TO_LOW":I.sort((q,fe)=>(fe.pricing?.summary?.fromPrice||0)-(q.pricing?.summary?.fromPrice||0));break;case"TRAVELER_RATING":I.sort((q,fe)=>(fe.reviews?.combinedAverageRating||0)-(q.reviews?.combinedAverageRating||0));break}return I},[w?.activities,x,i,l]),E=h.useMemo(()=>!M||M.length===0?[]:M.map((I,q)=>{const oe=hb(I.logistics)?.coordinates;let Ee,me;if(oe)Ee=oe.lat,me=oe.lng;else if(m){const ie=.002*(q%10),B=q*137.5*(Math.PI/180);Ee=m.lat+ie*Math.cos(B),me=m.lng+ie*Math.sin(B)}else return null;return{id:`activity-${I.productCode}`,name:I.title,lat:Ee,lng:me,category:i==="transport"?"transportation":"activities",price:I.pricing?.summary?.fromPrice||0,rating:I.reviews?.combinedAverageRating||4.5,description:I.description?.substring(0,100)}}).filter(I=>I!==null),[M,i,m]),R=h.useRef("");h.useEffect(()=>{if(!u)return;const I=E.map(q=>q.id).join(",");I!==R.current&&(R.current=I,u(E))},[E,u]);const z=I=>{const q=new Set(v);q.has(I.productCode)?q.delete(I.productCode):(q.add(I.productCode),c?.(I)),y(q)},A=i==="transport",V=A?"transfers":"activities",H=A?zs:Rs;return t?k?e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ot,{className:"h-4 w-4 animate-spin"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Searching ",V," in ",t,"..."]})]})}),[1,2,3].map(I=>e.jsx(P,{className:"overflow-hidden",children:e.jsxs("div",{className:"flex",children:[e.jsx(_e,{className:"w-48 h-36"}),e.jsxs(F,{className:"flex-1 p-4",children:[e.jsx(_e,{className:"h-5 w-3/4 mb-2"}),e.jsx(_e,{className:"h-4 w-1/2 mb-3"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(_e,{className:"h-6 w-20"}),e.jsx(_e,{className:"h-6 w-24"})]})]})]})},I))]}):C?e.jsx(P,{className:"border-destructive",children:e.jsxs(F,{className:"p-6 text-center",children:[e.jsx(ns,{className:"h-10 w-10 mx-auto mb-3 text-destructive"}),e.jsxs("h3",{className:"font-semibold mb-2",children:["Unable to load ",V]}),e.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:C instanceof Error?C.message:`An error occurred while searching for ${V}.`}),e.jsxs(S,{variant:"outline",onClick:()=>_(),children:[e.jsx(Cn,{className:"h-4 w-4 mr-2"}),"Try Again"]})]})}):M.length?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(O,{variant:"outline",className:"gap-1",children:[e.jsx(Me,{className:"h-3 w-3"}),t]}),e.jsxs(O,{variant:"secondary",children:[M.length," ",V]}),r>1&&e.jsxs(O,{variant:"outline",className:"gap-1",children:[e.jsx(et,{className:"h-3 w-3"}),r," travelers"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[w?.fromCache&&e.jsxs(O,{variant:"outline",className:"gap-1 text-xs text-muted-foreground","data-testid":"badge-cache-status",children:[e.jsx(id,{className:"h-3 w-3"}),e.jsx("span",{"data-testid":"text-cache-updated",children:w.lastUpdated?e.jsxs(e.Fragment,{children:["Updated ",rc(new Date(w.lastUpdated),{addSuffix:!0})]}):e.jsx(e.Fragment,{children:"From cache"})})]}),e.jsxs(Wt,{value:x,onValueChange:I=>f(I),children:[e.jsx(Vt,{className:"w-[180px]","data-testid":"select-activity-sort",children:e.jsx(Gt,{placeholder:"Sort by"})}),e.jsxs(Ut,{children:[e.jsx(Pe,{value:"TOP_SELLERS",children:"Top Sellers"}),e.jsx(Pe,{value:"PRICE_LOW_TO_HIGH",children:"Price: Low to High"}),e.jsx(Pe,{value:"PRICE_HIGH_TO_LOW",children:"Price: High to Low"}),e.jsx(Pe,{value:"TRAVELER_RATING",children:"Best Rated"})]})]})]})]}),e.jsx("div",{className:"space-y-3",children:M.map(I=>{const q=v.has(I.productCode),fe=g===I.productCode,oe=the(I.cancellationPolicy),Ee=I.pricing?.summary?.fromPriceBeforeDiscount&&I.pricing.summary.fromPriceBeforeDiscount>I.pricing.summary.fromPrice;return e.jsx(P,{className:te("overflow-hidden transition-all",q&&"ring-2 ring-primary"),"data-testid":`card-activity-${I.productCode}`,children:e.jsxs("div",{className:"flex flex-col sm:flex-row",children:[e.jsxs("div",{className:"relative w-full sm:w-48 h-48 sm:h-auto shrink-0",children:[e.jsx("img",{src:she(I.images),alt:I.title,className:"w-full h-full object-cover",loading:"lazy"}),q&&e.jsx("div",{className:"absolute top-2 right-2 bg-primary text-primary-foreground rounded-full p-1",children:e.jsx(rs,{className:"h-4 w-4"})}),I.flags?.includes("LIKELY_TO_SELL_OUT")&&e.jsx(O,{className:"absolute top-2 left-2 bg-orange-500 text-white",children:"Likely to Sell Out"})]}),e.jsx(F,{className:"flex-1 p-4",children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-base mb-1 line-clamp-2",children:I.title}),e.jsxs("div",{className:"flex items-center gap-3 text-sm text-muted-foreground mb-2",children:[I.reviews&&I.reviews.totalReviews>0&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(rt,{className:"h-4 w-4 fill-amber-400 text-amber-400"}),e.jsx("span",{className:"font-medium text-foreground",children:I.reviews.combinedAverageRating.toFixed(1)}),e.jsxs("span",{children:["(",I.reviews.totalReviews.toLocaleString(),")"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Je,{className:"h-4 w-4"}),ehe(I.duration)]})]}),e.jsxs("div",{className:"flex flex-wrap gap-1.5 mb-2",children:[oe&&e.jsxs(O,{variant:oe.variant,className:"text-xs gap-1",children:[e.jsx(sr,{className:"h-3 w-3"}),oe.text]}),I.bookingConfirmationSettings?.confirmationType==="INSTANT"&&e.jsxs(O,{variant:"outline",className:"text-xs gap-1",children:[e.jsx(rs,{className:"h-3 w-3"}),"Instant Confirmation"]}),I.flags?.includes("FREE_CANCELLATION")&&!oe&&e.jsxs(O,{variant:"secondary",className:"text-xs gap-1",children:[e.jsx(Cn,{className:"h-3 w-3"}),"Free Cancellation"]})]}),hb(I.logistics)&&e.jsxs("div",{className:"flex items-start gap-1.5 text-xs text-muted-foreground mb-2",children:[e.jsx(Me,{className:"h-3.5 w-3.5 mt-0.5 shrink-0"}),e.jsxs("span",{className:"line-clamp-1",children:["Meeting point: ",hb(I.logistics)?.address]})]}),fe&&I.description&&e.jsx("p",{className:"text-sm text-muted-foreground mb-3 line-clamp-4",children:I.description}),fe&&I.inclusions&&I.inclusions.length>0&&e.jsxs("div",{className:"mb-3",children:[e.jsx("p",{className:"text-xs font-medium mb-1",children:"What's included:"}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[I.inclusions.slice(0,4).map((me,ie)=>e.jsx(O,{variant:"outline",className:"text-xs",children:me.otherDescription||me.typeDescription||me.categoryDescription},ie)),I.inclusions.length>4&&e.jsxs(O,{variant:"outline",className:"text-xs",children:["+",I.inclusions.length-4," more"]})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsxs("span",{className:"text-lg font-bold",children:[I.pricing?.currency==="USD"?"$":I.pricing?.currency,I.pricing?.summary?.fromPrice?.toFixed(2)||"0.00"]}),Ee&&e.jsxs("span",{className:"text-sm text-muted-foreground line-through",children:["$",I.pricing?.summary?.fromPriceBeforeDiscount?.toFixed(2)]})]}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"per person"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(S,{variant:"ghost",size:"sm",onClick:()=>b(fe?null:I.productCode),"data-testid":`button-expand-activity-${I.productCode}`,children:fe?e.jsxs(e.Fragment,{children:["Less ",e.jsx(nl,{className:"h-4 w-4 ml-1"})]}):e.jsxs(e.Fragment,{children:["More ",e.jsx(qs,{className:"h-4 w-4 ml-1"})]})}),e.jsx(S,{variant:q?"secondary":"default",size:"sm",onClick:()=>z(I),"data-testid":`button-select-activity-${I.productCode}`,children:q?e.jsxs(e.Fragment,{children:[e.jsx(rs,{className:"h-4 w-4 mr-1"}),"Added"]}):"Add to Trip"})]})]})]})})]})},I.productCode)})})]}):e.jsx(P,{className:"border-2 border-dashed",children:e.jsxs(F,{className:"p-8 text-center",children:[e.jsx(H,{className:"h-12 w-12 mx-auto mb-3 text-muted-foreground"}),e.jsx("h3",{className:"font-semibold text-lg mb-2",children:A?"No Transport Services Found":"No Activities Found"}),e.jsx("p",{className:"text-muted-foreground",children:A?`No transfers or transport services available for "${t}". Try a different destination.`:`No tours or activities available for "${t}". Try a different destination.`})]})}):e.jsx(P,{className:"border-2 border-dashed",children:e.jsxs(F,{className:"p-8 text-center",children:[e.jsx(H,{className:"h-12 w-12 mx-auto mb-3 text-muted-foreground"}),e.jsx("h3",{className:"font-semibold text-lg mb-2",children:A?"Search Transport Services":"Search Activities"}),e.jsx("p",{className:"text-muted-foreground",children:A?"Enter a destination in your Travel Details to search for transfers and transport services.":"Enter a destination in your Travel Details to search for tours and activities."})]})})}const lT=[{id:"culture",label:"Culture & History",icon:Rs},{id:"food",label:"Food & Dining",icon:Ns},{id:"adventure",label:"Adventure",icon:qe},{id:"nature",label:"Nature & Outdoors",icon:E_},{id:"nightlife",label:"Nightlife",icon:oo},{id:"shopping",label:"Shopping",icon:M_},{id:"wellness",label:"Wellness & Spa",icon:Qt},{id:"art",label:"Art & Museums",icon:zn}],rhe=[{value:"relaxed",label:"Relaxed",description:"Fewer activities, more downtime"},{value:"moderate",label:"Moderate",description:"Balanced pace with variety"},{value:"packed",label:"Packed",description:"Maximum activities each day"}];function nhe({destination:t,startDate:s,endDate:a,travelers:r,experienceType:n,onClose:i,onSave:l}){const[c,u]=h.useState(0),[m,x]=h.useState([]),[f,g]=h.useState(""),[b,v]=h.useState("moderate"),[y,w]=h.useState(""),[k,C]=h.useState([]),[_,M]=h.useState([]),[E,R]=h.useState(null),[z,A]=h.useState(0),[V,H]=h.useState(0),[I,q]=h.useState(new Set);h.useEffect(()=>{q(new Set)},[V]);const fe=K=>{q(J=>{const je=new Set(J);return je.has(K)?je.delete(K):je.add(K),je})},oe=K=>{const J=K.toLowerCase();return J.includes("plane")||J.includes("flight")?e.jsx(Pt,{className:"h-4 w-4"}):J.includes("train")?e.jsx(Ma,{className:"h-4 w-4"}):J.includes("bus")?e.jsx(Jr,{className:"h-4 w-4"}):e.jsx(zs,{className:"h-4 w-4"})},Ee=K=>K==="breakfast"?e.jsx(oo,{className:"h-4 w-4 text-amber-500"}):K==="lunch"?e.jsx(Ns,{className:"h-4 w-4 text-orange-500"}):e.jsx(Ns,{className:"h-4 w-4 text-[#FF385C]"}),me=[{label:"Interests",description:"What do you love?"},{label:"Preferences",description:"Customize your trip"},{label:"Review",description:"Confirm details"},{label:"Generated",description:"Your itinerary"}],ie=s&&a?Zo(a,s)+1:1,B=Ot({mutationFn:async()=>(await Ft("POST","/api/ai/generate-optimized-itineraries",{destination:t,dates:{start:s?Et(s,"yyyy-MM-dd"):"",end:a?Et(a,"yyyy-MM-dd"):""},travelers:r,budget:f?parseFloat(f):void 0,eventType:n,interests:m,pacePreference:b,mustSeeAttractions:y.split(",").map(J=>J.trim()).filter(Boolean),dietaryRestrictions:k,mobilityConsiderations:_})).json(),onSuccess:K=>{R(K),A(0),H(0),u(3)}}),ae=Ot({mutationFn:async()=>{if(!E)throw new Error("No itinerary to save");const K=E.variations[z],je=await(await Ft("POST","/api/trips",{title:K.title||`${t} Trip`,destination:t,startDate:Et(s||new Date,"yyyy-MM-dd"),endDate:Et(a||new Date,"yyyy-MM-dd"),numberOfTravelers:r,budget:f||void 0,eventType:n||"vacation",status:"planning",preferences:{interests:m,pacePreference:b,mustSeeAttractions:y.split(",").map(ze=>ze.trim()).filter(Boolean),dietaryRestrictions:k,mobilityConsiderations:_}})).json();return await Ft("POST","/api/generated-itineraries",{tripId:je.id,itineraryData:{...K,realTimeIntelligence:E.realTimeIntelligence,generatedAt:E.generatedAt},status:"generated"}),je},onSuccess:K=>{l&&l(K.id)}}),ke=()=>{ae.mutate()},$=K=>{x(J=>J.includes(K)?J.filter(je=>je!==K):[...J,K])},L=()=>{switch(c){case 0:return m.length>0;case 1:return!0;case 2:return!0;default:return!1}},W=()=>{c===2?B.mutate():c<me.length-1&&u(K=>K+1)},re=()=>{c>0&&c<3&&u(K=>K-1)},se=K=>{switch(K.toLowerCase()){case"dining":case"restaurant":return e.jsx(Ns,{className:"h-4 w-4"});case"hotel":case"accommodation":return e.jsx(Us,{className:"h-4 w-4"});case"attraction":case"tour":return e.jsx(Rs,{className:"h-4 w-4"});case"transport":return e.jsx(zs,{className:"h-4 w-4"});default:return e.jsx(Je,{className:"h-4 w-4"})}},ge=()=>{switch(c){case 0:return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"What are you interested in?"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Select at least one to help us personalize your itinerary"})]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:lT.map(J=>{const je=J.icon,ze=m.includes(J.id);return e.jsxs("button",{onClick:()=>$(J.id),className:te("flex flex-col items-center gap-2 p-4 rounded-lg border-2 transition-all hover-elevate",ze?"border-[#FF385C] bg-[#FF385C]/5":"border-border bg-background"),"data-testid":`interest-${J.id}`,children:[e.jsx(je,{className:te("h-6 w-6",ze?"text-[#FF385C]":"text-muted-foreground")}),e.jsx("span",{className:te("text-sm font-medium",ze?"text-[#FF385C]":"text-foreground"),children:J.label})]},J.id)})})]});case 1:return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Customize your trip"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Fine-tune your preferences for a perfect itinerary"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(ye,{className:"text-sm font-medium",children:"Total Budget (optional)"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1.5",children:[e.jsx(bt,{className:"h-4 w-4 text-muted-foreground"}),e.jsx(Ne,{type:"number",placeholder:"e.g., 2000",value:f,onChange:J=>g(J.target.value),"data-testid":"input-budget"})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Total budget for activities, dining, and transportation (excluding flights/hotels)"})]}),e.jsxs("div",{children:[e.jsx(ye,{className:"text-sm font-medium",children:"Trip Pace"}),e.jsxs(Wt,{value:b,onValueChange:v,children:[e.jsx(Vt,{className:"mt-1.5","data-testid":"select-pace",children:e.jsx(Gt,{placeholder:"Select pace"})}),e.jsx(Ut,{children:rhe.map(J=>e.jsxs(Pe,{value:J.value,children:[e.jsx("span",{className:"font-medium",children:J.label}),e.jsxs("span",{className:"text-muted-foreground ml-2 text-xs",children:["- ",J.description]})]},J.value))})]})]}),e.jsxs("div",{children:[e.jsx(ye,{className:"text-sm font-medium",children:"Must-See Attractions (optional)"}),e.jsx(Ne,{placeholder:"e.g., Eiffel Tower, Louvre Museum",value:y,onChange:J=>w(J.target.value),className:"mt-1.5","data-testid":"input-must-see"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Comma-separated list of places you must visit"})]}),e.jsxs("div",{children:[e.jsx(ye,{className:"text-sm font-medium",children:"Dietary Restrictions"}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:["Vegetarian","Vegan","Halal","Kosher","Gluten-free","Lactose-free"].map(J=>e.jsx("button",{onClick:()=>C(je=>je.includes(J)?je.filter(ze=>ze!==J):[...je,J]),className:te("px-3 py-1.5 text-sm rounded-full border transition-all",k.includes(J)?"border-[#FF385C] bg-[#FF385C]/5 text-[#FF385C]":"border-border text-muted-foreground"),"data-testid":`dietary-${J.toLowerCase()}`,children:J},J))})]}),e.jsxs("div",{children:[e.jsxs(ye,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(XO,{className:"h-4 w-4 text-muted-foreground dark:text-muted-foreground"}),"Mobility Considerations"]}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:["Wheelchair accessible","Limited walking","Avoid stairs","Need rest breaks"].map(J=>e.jsx("button",{onClick:()=>M(je=>je.includes(J)?je.filter(ze=>ze!==J):[...je,J]),className:te("px-3 py-1.5 text-sm rounded-full border transition-all",_.includes(J)?"border-[#FF385C] bg-[#FF385C]/5 text-[#FF385C]":"border-border text-muted-foreground"),"data-testid":`mobility-${J.toLowerCase().replace(/\s+/g,"-")}`,children:J},J))})]})]})]});case 2:return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Review your preferences"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Ready to generate your personalized itinerary?"})]}),e.jsx(P,{children:e.jsxs(F,{className:"pt-6 space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Me,{className:"h-5 w-5 text-[#FF385C]"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Destination"}),e.jsx("p",{className:"font-medium text-foreground",children:t})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ge,{className:"h-5 w-5 text-[#FF385C]"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Dates"}),e.jsx("p",{className:"font-medium text-foreground",children:s&&a?`${Et(s,"MMM d")} - ${Et(a,"MMM d, yyyy")} (${ie} days)`:"Flexible dates"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(et,{className:"h-5 w-5 text-[#FF385C]"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Travelers"}),e.jsxs("p",{className:"font-medium text-foreground",children:[r," ",r===1?"person":"people"]})]})]}),f&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(bt,{className:"h-5 w-5 text-[#FF385C]"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Budget"}),e.jsxs("p",{className:"font-medium text-foreground",children:["$",parseFloat(f).toLocaleString()]})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Interests"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:m.map(J=>e.jsx(O,{variant:"secondary",children:lT.find(je=>je.id===J)?.label},J))})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Pace"}),e.jsx("p",{className:"font-medium text-foreground capitalize",children:b})]}),k.length>0&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Dietary"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:k.map(J=>e.jsx(O,{variant:"outline",children:J},J))})]})]})}),B.isPending&&e.jsxs("div",{className:"flex flex-col items-center py-8",children:[e.jsx(ot,{className:"h-8 w-8 animate-spin text-[#FF385C] mb-4"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"AI is crafting your personalized itinerary..."}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"This may take 15-30 seconds"})]}),B.isError&&e.jsxs("div",{className:"flex items-start gap-3 p-4 bg-destructive/10 text-destructive rounded-lg",children:[e.jsx(ns,{className:"h-5 w-5 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Generation Failed"}),e.jsx("p",{className:"text-sm mt-1",children:B.error?.message||"Unable to generate itinerary. Please try again."}),e.jsxs(S,{variant:"outline",size:"sm",onClick:()=>B.mutate(),className:"mt-3","data-testid":"button-retry-generate",children:[e.jsx(Cn,{className:"h-4 w-4 mr-2"}),"Try Again"]})]})]})]});case 3:if(!E||!E.variations?.length)return null;const K=E.variations[z];return K?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 text-emerald-600 dark:text-emerald-400 mb-2",children:[e.jsx(Fa,{className:"h-5 w-5"}),e.jsxs("span",{className:"font-medium",children:[E.variations.length," Itinerary Options Generated"]})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Compare your options and choose the best fit"})]}),E.realTimeIntelligence&&e.jsxs("div",{className:"bg-muted/30 rounded-lg p-3 space-y-2",children:[e.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Real-Time Factors Applied"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[E.realTimeIntelligence.weatherForecast&&e.jsxs(O,{variant:"outline",className:"text-xs",children:["Weather: ",E.realTimeIntelligence.weatherForecast.conditions]}),E.realTimeIntelligence.events&&E.realTimeIntelligence.events.length>0&&e.jsxs(O,{variant:"outline",className:"text-xs",children:[E.realTimeIntelligence.events.length," Local Events"]}),E.realTimeIntelligence.deals&&E.realTimeIntelligence.deals.length>0&&e.jsxs(O,{variant:"outline",className:"text-xs",children:[E.realTimeIntelligence.deals.length," Current Deals"]})]})]}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:E.variations.map((J,je)=>e.jsxs("button",{onClick:()=>{A(je),H(0)},className:te("p-3 rounded-lg border-2 text-left transition-all",z===je?"border-[#FF385C] bg-[#FF385C]/5":"border-border hover-elevate"),"data-testid":`variation-${J.variationType}`,children:[e.jsx("p",{className:te("text-sm font-medium",z===je?"text-[#FF385C]":"text-foreground"),children:J.variationLabel}),e.jsx("p",{className:"text-xs text-muted-foreground mt-0.5 line-clamp-2",children:J.variationDescription}),e.jsxs("p",{className:"text-sm font-bold mt-2",children:["$",J.totalEstimatedCost?.toLocaleString()||0]})]},J.variationType))}),K.optimizationInsights&&K.optimizationInsights.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2",children:K.optimizationInsights.map((J,je)=>e.jsx(O,{variant:"secondary",className:"text-xs",children:J},je))}),e.jsx(P,{children:e.jsxs(Q,{className:"pb-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(X,{className:"text-lg",children:K.title}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(S,{variant:"outline",size:"icon","data-testid":"button-download",children:e.jsx(Un,{className:"h-4 w-4"})}),e.jsx(S,{variant:"outline",size:"icon","data-testid":"button-share",children:e.jsx(cw,{className:"h-4 w-4"})})]})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:K.summary})]})}),e.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:K.dailyItinerary?.map((J,je)=>e.jsx("button",{onClick:()=>H(je),className:te("flex-shrink-0 px-4 py-2 rounded-lg border-2 transition-all",V===je?"border-[#FF385C] bg-[#FF385C]/5 text-[#FF385C]":"border-border text-muted-foreground hover-elevate"),"data-testid":`button-day-${J.day}`,children:e.jsxs("span",{className:"text-sm font-medium",children:["Day ",J.day]})},J.day))}),K.dailyItinerary?.[V]&&e.jsxs(P,{children:[e.jsxs(Q,{className:"pb-2",children:[e.jsx(X,{className:"text-lg",children:K.dailyItinerary[V].theme}),e.jsx("p",{className:"text-sm text-muted-foreground",children:K.dailyItinerary[V].date})]}),e.jsx(F,{children:e.jsx(Ha,{className:"h-[400px] pr-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h4",{className:"font-medium text-sm text-muted-foreground uppercase tracking-wide flex items-center gap-2",children:[e.jsx(Rs,{className:"h-4 w-4"}),"Activities"]}),K.dailyItinerary[V].activities?.map((J,je)=>{const ze=`${V}-${je}`,ft=I.has(ze);return e.jsx(vd,{open:ft,onOpenChange:()=>fe(ze),children:e.jsxs("div",{className:"border rounded-lg p-3 hover-elevate",children:[e.jsx(yd,{className:"w-full text-left","data-testid":`button-activity-expand-${je}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-16 text-sm text-muted-foreground",children:J.time}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[se(J.type),e.jsx("span",{className:"font-medium",children:J.name})]}),e.jsx(qs,{className:te("h-4 w-4 text-muted-foreground transition-transform",ft&&"rotate-180")})]}),e.jsxs("div",{className:"flex items-center gap-3 mt-1 text-xs text-muted-foreground",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Me,{className:"h-3 w-3"}),J.location]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Je,{className:"h-3 w-3"}),J.duration]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(bt,{className:"h-3 w-3"}),"$",J.estimatedCost]})]})]})]})}),e.jsx(jd,{children:e.jsxs("div",{className:"mt-3 pt-3 border-t ml-16 space-y-2",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:J.description}),J.bookingRequired&&e.jsx(O,{variant:"secondary",className:"text-xs",children:"Booking Required"}),J.tips&&e.jsxs("p",{className:"text-xs text-amber-600 dark:text-amber-400 flex items-start gap-1 bg-amber-50 dark:bg-amber-900/20 p-2 rounded",children:[e.jsx(zn,{className:"h-3 w-3 flex-shrink-0 mt-0.5"}),J.tips]})]})})]})},je)})]}),K.dailyItinerary[V].meals&&K.dailyItinerary[V].meals.length>0&&e.jsxs("div",{className:"space-y-3 pt-4 border-t",children:[e.jsxs("h4",{className:"font-medium text-sm text-muted-foreground uppercase tracking-wide flex items-center gap-2",children:[e.jsx(Ns,{className:"h-4 w-4"}),"Meals"]}),e.jsx("div",{className:"grid gap-2",children:K.dailyItinerary[V].meals.map((J,je)=>e.jsxs("div",{className:"flex items-center gap-3 p-2 border rounded-lg","data-testid":`meal-${J.type}-${je}`,children:[Ee(J.type),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium capitalize text-sm",children:J.type}),e.jsx("span",{className:"text-xs text-muted-foreground",children:J.time})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:J.suggestion}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(O,{variant:"outline",className:"text-xs",children:J.cuisine}),e.jsx("span",{className:"text-xs text-muted-foreground",children:J.priceRange})]})]})]},je))})]}),K.dailyItinerary[V].transportation&&K.dailyItinerary[V].transportation.length>0&&e.jsxs("div",{className:"space-y-3 pt-4 border-t",children:[e.jsxs("h4",{className:"font-medium text-sm text-muted-foreground uppercase tracking-wide flex items-center gap-2",children:[e.jsx(zs,{className:"h-4 w-4"}),"Transportation"]}),e.jsx("div",{className:"grid gap-2",children:K.dailyItinerary[V].transportation.map((J,je)=>e.jsxs("div",{className:"flex items-center gap-3 p-2 border rounded-lg","data-testid":`transport-${je}`,children:[oe(J.mode),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx("span",{className:"font-medium",children:J.from}),e.jsx($s,{className:"h-3 w-3 text-muted-foreground"}),e.jsx("span",{className:"font-medium",children:J.to})]}),e.jsxs("div",{className:"flex items-center gap-3 text-xs text-muted-foreground",children:[e.jsx("span",{children:J.mode}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Je,{className:"h-3 w-3"}),J.duration]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(bt,{className:"h-3 w-3"}),"$",J.cost]})]})]})]},je))})]})]})})})]}),K.travelTips&&K.travelTips.length>0&&e.jsxs(P,{children:[e.jsx(Q,{className:"pb-2",children:e.jsxs(X,{className:"text-base flex items-center gap-2",children:[e.jsx(zn,{className:"h-4 w-4 text-amber-500 dark:text-amber-400"}),"Travel Tips"]})}),e.jsx(F,{children:e.jsx("ul",{className:"space-y-2",children:K.travelTips.slice(0,4).map((J,je)=>e.jsxs("li",{className:"text-sm text-muted-foreground flex items-start gap-2",children:[e.jsx("span",{className:"text-[#FF385C]",children:""}),J]},je))})})]})]}):null;default:return null}};return e.jsxs("div",{className:"space-y-6",children:[c<3&&e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:me.slice(0,3).map((K,J)=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:te("flex items-center justify-center w-8 h-8 rounded-full border-2 text-sm font-medium transition-all",J<c?"bg-[#FF385C] border-[#FF385C] text-white":J===c?"border-[#FF385C] text-[#FF385C]":"border-muted text-muted-foreground"),children:J<c?e.jsx(Fa,{className:"h-4 w-4"}):J+1}),J<2&&e.jsx("div",{className:te("h-0.5 w-8 sm:w-16 mx-2",J<c?"bg-[#FF385C]":"bg-muted")})]},K.label))}),e.jsx(Pr,{value:c/2*100,className:"h-1"})]}),ge(),c<3&&!B.isPending&&e.jsxs("div",{className:"flex justify-between pt-4",children:[e.jsxs(S,{variant:"outline",onClick:re,disabled:c===0,"data-testid":"button-back",children:[e.jsx(hr,{className:"h-4 w-4 mr-2"}),"Back"]}),e.jsx(S,{onClick:W,disabled:!L(),className:"bg-[#FF385C]","data-testid":"button-next",children:c===2?e.jsxs(e.Fragment,{children:[e.jsx(qe,{className:"h-4 w-4 mr-2"}),"Generate Itinerary"]}):e.jsxs(e.Fragment,{children:["Next",e.jsx($s,{className:"h-4 w-4 ml-2"})]})})]}),c===3&&E&&e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-4",children:[e.jsxs(S,{variant:"outline",onClick:()=>{u(0),R(null),A(0)},className:"flex-1","data-testid":"button-start-over",children:[e.jsx(Cn,{className:"h-4 w-4 mr-2"}),"Start Over"]}),e.jsx(S,{className:"flex-1 bg-[#FF385C]",onClick:ke,disabled:ae.isPending,"data-testid":"button-use-itinerary",children:ae.isPending?e.jsxs(e.Fragment,{children:[e.jsx(ot,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Fa,{className:"h-4 w-4 mr-2"}),"Use This Itinerary"]})})]})]})}var uv="Checkbox",[ihe]=kr(uv),[lhe,D2]=ihe(uv);function ohe(t){const{__scopeCheckbox:s,checked:a,children:r,defaultChecked:n,disabled:i,form:l,name:c,onCheckedChange:u,required:m,value:x="on",internal_do_not_use_render:f}=t,[g,b]=ln({prop:a,defaultProp:n??!1,onChange:u,caller:uv}),[v,y]=h.useState(null),[w,k]=h.useState(null),C=h.useRef(!1),_=v?!!l||!!v.closest("form"):!0,M={checked:g,disabled:i,setChecked:b,control:v,setControl:y,name:c,form:l,value:x,hasConsumerStoppedPropagationRef:C,required:m,defaultChecked:Jo(n)?!1:n,isFormControl:_,bubbleInput:w,setBubbleInput:k};return e.jsx(lhe,{scope:s,...M,children:che(f)?f(M):r})}var qI="CheckboxTrigger",HI=h.forwardRef(({__scopeCheckbox:t,onKeyDown:s,onClick:a,...r},n)=>{const{control:i,value:l,disabled:c,checked:u,required:m,setControl:x,setChecked:f,hasConsumerStoppedPropagationRef:g,isFormControl:b,bubbleInput:v}=D2(qI,t),y=zt(n,x),w=h.useRef(u);return h.useEffect(()=>{const k=i?.form;if(k){const C=()=>f(w.current);return k.addEventListener("reset",C),()=>k.removeEventListener("reset",C)}},[i,f]),e.jsx(lt.button,{type:"button",role:"checkbox","aria-checked":Jo(u)?"mixed":u,"aria-required":m,"data-state":QI(u),"data-disabled":c?"":void 0,disabled:c,value:l,...r,ref:y,onKeyDown:Ye(s,k=>{k.key==="Enter"&&k.preventDefault()}),onClick:Ye(a,k=>{f(C=>Jo(C)?!0:!C),v&&b&&(g.current=k.isPropagationStopped(),g.current||k.stopPropagation())})})});HI.displayName=qI;var F2=h.forwardRef((t,s)=>{const{__scopeCheckbox:a,name:r,checked:n,defaultChecked:i,required:l,disabled:c,value:u,onCheckedChange:m,form:x,...f}=t;return e.jsx(ohe,{__scopeCheckbox:a,checked:n,defaultChecked:i,disabled:c,required:l,onCheckedChange:m,name:r,form:x,value:u,internal_do_not_use_render:({isFormControl:g})=>e.jsxs(e.Fragment,{children:[e.jsx(HI,{...f,ref:s,__scopeCheckbox:a}),g&&e.jsx(YI,{__scopeCheckbox:a})]})})});F2.displayName=uv;var WI="CheckboxIndicator",GI=h.forwardRef((t,s)=>{const{__scopeCheckbox:a,forceMount:r,...n}=t,i=D2(WI,a);return e.jsx(xr,{present:r||Jo(i.checked)||i.checked===!0,children:e.jsx(lt.span,{"data-state":QI(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:s,style:{pointerEvents:"none",...t.style}})})});GI.displayName=WI;var KI="CheckboxBubbleInput",YI=h.forwardRef(({__scopeCheckbox:t,...s},a)=>{const{control:r,hasConsumerStoppedPropagationRef:n,checked:i,defaultChecked:l,required:c,disabled:u,name:m,value:x,form:f,bubbleInput:g,setBubbleInput:b}=D2(KI,t),v=zt(a,b),y=Ux(i),w=wx(r);h.useEffect(()=>{const C=g;if(!C)return;const _=window.HTMLInputElement.prototype,E=Object.getOwnPropertyDescriptor(_,"checked").set,R=!n.current;if(y!==i&&E){const z=new Event("click",{bubbles:R});C.indeterminate=Jo(i),E.call(C,Jo(i)?!1:i),C.dispatchEvent(z)}},[g,y,i,n]);const k=h.useRef(Jo(i)?!1:i);return e.jsx(lt.input,{type:"checkbox","aria-hidden":!0,defaultChecked:l??k.current,required:c,disabled:u,name:m,value:x,form:f,...s,tabIndex:-1,ref:v,style:{...s.style,...w,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});YI.displayName=KI;function che(t){return typeof t=="function"}function Jo(t){return t==="indeterminate"}function QI(t){return Jo(t)?"indeterminate":t?"checked":"unchecked"}const Fl=h.forwardRef(({className:t,...s},a)=>e.jsx(F2,{ref:a,className:te("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...s,children:e.jsx(GI,{className:te("flex items-center justify-center text-current"),children:e.jsx(rs,{className:"h-4 w-4"})})}));Fl.displayName=F2.displayName;const dhe={MapPin:Me,Plane:Pt,Users:et,DollarSign:bt,Sun:Ml,Home:Td,Bed:j_,Star:rt,Clock:Je,Activity:Ai,Zap:qa,Heart:Qt,Cloud:t0,Car:zs,Wine:Pu,Music:ei,ChefHat:N_,Sparkles:qe,CalendarCheck:JN,Lock:ag,Leaf:E_,Wand2:Xo,Palette:rg,ClipboardList:Sd,Wrench:Js,Calendar:Ge,CheckCircle:Rt,XCircle:po,BadgeCheck:e$,CreditCard:Sa,Award:jr,Scale:D_,Camera:Rs,Armchair:ZO,Shirt:M_,Flower2:aw,Gift:on,Route:n0,Layout:f$,Building:Cd,DoorClosed:l$,Bus:Jr};function uhe(t){return t&&dhe[t]||Uu}function mhe({experienceTypeId:t,activeTab:s,selectedFilters:a,onFilterChange:r,onClearFilters:n}){const[i,l]=h.useState(new Set),{data:c,isLoading:u}=Le({queryKey:[`/api/experience-types/${t}/tabs`],enabled:!!t,staleTime:300*1e3}),{data:m,isLoading:x}=Le({queryKey:[`/api/experience-types/${t}/universal-filters`],enabled:!!t,staleTime:300*1e3}),f=h.useMemo(()=>c?.find(_=>_.slug===s),[c,s]),g=_=>{l(M=>{const E=new Set(M);return E.has(_)?E.delete(_):E.add(_),E})},b=(_,M)=>{a[_]===M?r(_,""):r(_,M)},v=(_,M)=>{const E=a[_]||[];E.includes(M)?r(_,E.filter(R=>R!==M)):r(_,[...E,M])},y=(_,M)=>{r(_,M?"true":"")},w=h.useMemo(()=>Object.values(a).filter(_=>Array.isArray(_)?_.length>0:!!_).length,[a]);if(u||x)return e.jsxs(P,{className:"h-full",children:[e.jsx(Q,{className:"pb-3",children:e.jsxs(X,{className:"flex items-center gap-2 text-base",children:[e.jsx(Uu,{className:"h-4 w-4"}),"Filters"]})}),e.jsx(F,{className:"space-y-4",children:[1,2,3].map(_=>e.jsx(_e,{className:"h-20 w-full"},_))})]});if(!c||c.length===0)return null;const k=f?.filters||[];return[...k,...m||[]].length===0?null:e.jsxs(P,{className:"h-full",children:[e.jsxs(Q,{className:"pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(X,{className:"flex items-center gap-2 text-base",children:[e.jsx(Uu,{className:"h-4 w-4"}),"Filters",w>0&&e.jsx(O,{variant:"secondary",className:"ml-1",children:w})]}),w>0&&e.jsxs(S,{variant:"ghost",size:"sm",onClick:n,"data-testid":"button-clear-filters",children:[e.jsx(Ia,{className:"h-3 w-3 mr-1"}),"Clear"]})]}),f?.description&&e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:f.description})]}),e.jsx(Ha,{className:"h-[calc(100%-80px)]",children:e.jsxs(F,{className:"space-y-3 pr-4",children:[k.map(_=>e.jsx(oT,{filter:_,isExpanded:i.has(_.id),onToggle:()=>g(_.id),selectedValue:a[_.slug],onSingleSelect:M=>b(_.slug,M),onMultiSelect:M=>v(_.slug,M),onToggleFilter:M=>y(_.slug,M)},_.id)),m&&m.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"border-t pt-3 mt-3",children:e.jsx("p",{className:"text-xs font-medium text-muted-foreground mb-3",children:"Universal Filters"})}),m.map(_=>e.jsx(oT,{filter:_,isExpanded:i.has(_.id),onToggle:()=>g(_.id),selectedValue:a[_.slug],onSingleSelect:M=>b(_.slug,M),onMultiSelect:M=>v(_.slug,M),onToggleFilter:M=>y(_.slug,M)},_.id))]})]})})]})}function oT({filter:t,isExpanded:s,onToggle:a,selectedValue:r,onSingleSelect:n,onMultiSelect:i,onToggleFilter:l}){const c=uhe(t.icon),u=Array.isArray(r)?r.length:r?1:0;if(t.filterType==="toggle"){const m=r==="true";return e.jsxs("div",{className:"flex items-center justify-between py-2 px-1 rounded-md",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(c,{className:"h-4 w-4 text-muted-foreground"}),e.jsx(ye,{htmlFor:`toggle-${t.id}`,className:"text-sm font-medium cursor-pointer",children:t.name})]}),e.jsx(tr,{id:`toggle-${t.id}`,checked:m,onCheckedChange:l,"data-testid":`toggle-${t.slug}`})]})}return e.jsxs(vd,{open:s,onOpenChange:a,children:[e.jsx(yd,{asChild:!0,children:e.jsxs(S,{variant:"ghost",className:"w-full justify-between px-2 h-9 font-medium","data-testid":`filter-trigger-${t.slug}`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(c,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm",children:t.name})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[u>0&&e.jsx(O,{variant:"secondary",className:"h-5 px-1.5 text-xs",children:u}),s?e.jsx(nl,{className:"h-4 w-4"}):e.jsx(qs,{className:"h-4 w-4"})]})]})}),e.jsxs(jd,{className:"pt-2 pb-1 px-2",children:[t.filterType==="single_select"&&e.jsx(av,{value:r||"",className:"space-y-1",children:t.options.map(m=>e.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-md cursor-pointer",onClick:()=>n(m.value),"data-testid":`option-${t.slug}-${m.value}`,children:[e.jsx(rv,{value:m.value,id:`${t.id}-${m.value}`,className:"shrink-0"}),e.jsxs(ye,{htmlFor:`${t.id}-${m.value}`,className:"text-sm cursor-pointer flex-1",children:[m.label,m.minValue&&m.maxValue&&e.jsxs("span",{className:"text-xs text-muted-foreground ml-1",children:["($",m.minValue,"-$",m.maxValue,")"]}),m.minValue&&!m.maxValue&&e.jsxs("span",{className:"text-xs text-muted-foreground ml-1",children:["($",m.minValue,"+)"]})]})]},m.id))}),t.filterType==="multi_select"&&e.jsx("div",{className:"space-y-1",children:t.options.map(m=>{const x=Array.isArray(r)&&r.includes(m.value);return e.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-md cursor-pointer",onClick:()=>i(m.value),"data-testid":`option-${t.slug}-${m.value}`,children:[e.jsx(Fl,{id:`${t.id}-${m.value}`,checked:x,className:"shrink-0"}),e.jsx(ye,{htmlFor:`${t.id}-${m.value}`,className:"text-sm cursor-pointer flex-1",children:m.label})]},m.id)})}),t.filterType==="range"&&t.options.length>=2&&e.jsxs("div",{className:"px-2 py-3",children:[e.jsx(co,{min:parseInt(t.options[0].minValue||"0"),max:parseInt(t.options[t.options.length-1].maxValue||"1000"),step:50,value:[parseInt(r||"0")],onValueChange:([m])=>n(m.toString()),className:"w-full"}),e.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mt-2",children:[e.jsxs("span",{children:["$",t.options[0].minValue||"0"]}),e.jsxs("span",{children:["$",t.options[t.options.length-1].maxValue||"1000+"]})]})]})]})]})}function hhe(){const[t,s]=h.useState({});return{selectedFilters:t,onFilterChange:(n,i)=>{s(l=>({...l,[n]:i}))},onClearFilters:()=>{s({})}}}const xhe={SIGHTS:Xr,NIGHTLIFE:Rs,RESTAURANT:Ns,SHOPPING:Vu,BEACH_PARK:T$},cT={SIGHTS:"Sights & Attractions",NIGHTLIFE:"Nightlife",RESTAURANT:"Restaurants",SHOPPING:"Shopping",BEACH_PARK:"Parks & Beaches"};function phe({latitude:t,longitude:s,radius:a=5,categories:r,className:n="",onAddToCart:i}){const l=`/api/amadeus/pois?latitude=${t}&longitude=${s}&radius=${a}${r?`&categories=${r.join(",")}`:""}`,{data:c,isLoading:u,isError:m}=Le({queryKey:[l],enabled:!!(t&&s)}),x=g=>{i&&i({id:`poi-${g.id}`,type:"activity",name:g.name,price:0,quantity:1,provider:"Amadeus POI",details:`${cT[g.category]||g.category} - Rank #${g.rank}`,isExternal:!1,latitude:g.geoCode.latitude,longitude:g.geoCode.longitude})};if(u)return e.jsxs(P,{className:n,children:[e.jsx(Q,{children:e.jsx(_e,{className:"h-6 w-48"})}),e.jsx(F,{className:"space-y-3",children:[1,2,3].map(g=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(_e,{className:"w-10 h-10 rounded"}),e.jsxs("div",{className:"flex-1 space-y-1",children:[e.jsx(_e,{className:"h-4 w-3/4"}),e.jsx(_e,{className:"h-3 w-1/2"})]})]},g))})]});if(m)return e.jsx(P,{className:n,children:e.jsxs(F,{className:"p-6 text-center",children:[e.jsx(ns,{className:"h-8 w-8 text-muted-foreground mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Unable to load points of interest. Please try again later."})]})});if(!c||c.length===0)return e.jsx(P,{className:n,children:e.jsxs(F,{className:"p-6 text-center",children:[e.jsx(Me,{className:"h-8 w-8 text-muted-foreground mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"No points of interest found in this area."})]})});const f=c.reduce((g,b)=>{const v=b.category||"OTHER";return g[v]||(g[v]=[]),g[v].push(b),g},{});return e.jsxs(P,{className:n,"data-testid":"card-amadeus-pois",children:[e.jsx(Q,{children:e.jsxs(X,{className:"flex items-center gap-2 text-lg","data-testid":"title-amadeus-pois",children:[e.jsx(Me,{className:"h-5 w-5 text-primary"}),"Points of Interest"]})}),e.jsx(F,{className:"space-y-6",children:Object.entries(f).map(([g,b])=>{const v=xhe[g]||Xr;return e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm font-medium text-muted-foreground mb-3 flex items-center gap-2",children:[e.jsx(v,{className:"h-4 w-4"}),cT[g]||g]}),e.jsx("div",{className:"space-y-2",children:b.slice(0,5).map(y=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/50 hover-elevate","data-testid":`poi-item-${y.id}`,children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-sm truncate",children:y.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsxs(O,{variant:"secondary",className:"text-xs",children:["Rank #",y.rank]}),y.tags?.slice(0,2).map(w=>e.jsx(O,{variant:"outline",className:"text-xs",children:w},w))]})]}),i&&e.jsx(S,{size:"sm",variant:"ghost",onClick:()=>x(y),"data-testid":`button-add-poi-${y.id}`,children:e.jsx(ps,{className:"h-4 w-4"})})]},y.id))})]},g)})})]})}function xb(t){return t>=70?"text-green-600 dark:text-green-400":t>=40?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400"}function dT(t){return t>=70?"bg-green-100 dark:bg-green-950":t>=40?"bg-yellow-100 dark:bg-yellow-950":"bg-red-100 dark:bg-red-950"}function fhe(t){return t>=70?"bg-green-500":t>=40?"bg-yellow-500":"bg-red-500"}function ghe(t){return t>=80?"Very Safe":t>=60?"Safe":t>=40?"Moderate":t>=20?"Caution Advised":"High Risk"}const vhe=[{key:"overall",label:"Overall Safety",icon:sr},{key:"women",label:"Women Safety",icon:wn},{key:"lgbtq",label:"LGBTQ+ Safety",icon:et},{key:"physicalHarm",label:"Physical Safety",icon:_l},{key:"theft",label:"Theft Risk (inverted)",icon:ag},{key:"medical",label:"Medical Services",icon:Qt},{key:"politicalFreedom",label:"Political Freedom",icon:D_}];function yhe({latitude:t,longitude:s,radius:a=5,className:r=""}){const n=`/api/amadeus/safety?latitude=${t}&longitude=${s}&radius=${a}`,{data:i,isLoading:l,isError:c}=Le({queryKey:[n],enabled:!!(t&&s)});if(l)return e.jsxs(P,{className:r,children:[e.jsx(Q,{children:e.jsx(_e,{className:"h-6 w-48"})}),e.jsxs(F,{className:"space-y-4",children:[e.jsx("div",{className:"flex items-center justify-center gap-3",children:e.jsx(_e,{className:"w-20 h-20 rounded-full"})}),e.jsx("div",{className:"space-y-3",children:[1,2,3,4].map(x=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(_e,{className:"w-8 h-8 rounded"}),e.jsx(_e,{className:"flex-1 h-4"})]},x))})]})]});if(c)return e.jsx(P,{className:r,children:e.jsxs(F,{className:"p-6 text-center",children:[e.jsx(ns,{className:"h-8 w-8 text-muted-foreground mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Unable to load safety information. Please try again later."})]})});if(!i||i.length===0)return e.jsx(P,{className:r,children:e.jsxs(F,{className:"p-6 text-center",children:[e.jsx(sr,{className:"h-8 w-8 text-muted-foreground mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"No safety data available for this location."})]})});const u=i[0],m=u.safetyScores.overall;return e.jsxs(P,{className:r,"data-testid":"card-amadeus-safety",children:[e.jsx(Q,{children:e.jsxs(X,{className:"flex items-center gap-2 text-lg","data-testid":"title-amadeus-safety",children:[e.jsx(sr,{className:"h-5 w-5 text-primary"}),"Destination Safety"]})}),e.jsxs(F,{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-center","data-testid":"safety-overall-container",children:e.jsx("div",{className:`relative w-24 h-24 rounded-full ${dT(m)} flex items-center justify-center`,children:e.jsxs("div",{className:"text-center",children:[e.jsx("span",{className:`text-3xl font-bold ${xb(m)}`,"data-testid":"text-safety-overall-score",children:m}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"/ 100"})]})})}),e.jsxs("div",{className:"text-center",children:[e.jsx(O,{variant:"secondary",className:`${dT(m)} ${xb(m)} border-0`,"data-testid":"badge-safety-label",children:ghe(m)}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2","data-testid":"text-safety-location",children:u.name})]}),e.jsx("div",{className:"space-y-4",children:vhe.slice(1).map(x=>{const f=x.icon,g=u.safetyScores[x.key],b=x.key==="theft"?100-g:g;return e.jsxs("div",{className:"space-y-1","data-testid":`safety-${x.key}`,children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"flex items-center gap-2 text-muted-foreground",children:[e.jsx(f,{className:"h-4 w-4"}),x.label]}),e.jsxs("span",{className:`font-medium ${xb(b)}`,children:[b,"/100"]})]}),e.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full ${fhe(b)} transition-all`,style:{width:`${b}%`}})})]},x.key)})}),e.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Safety data provided by Amadeus Safe Place API"})]})]})}function jhe({cart:t,destination:s,startDate:a,endDate:r,travelers:n,arrivalAirport:i,onBookTransfer:l}){const[c,u]=h.useState(new Set),m=h.useMemo(()=>{const b=[],v=t.filter(A=>A.type==="flights"||A.type==="flight"),y=t.filter(A=>A.type==="hotels"||A.type==="hotel"||A.type==="accommodations"||A.type==="accommodation"),w=t.filter(A=>A.type==="activity"||A.type==="activities"||A.type==="tour"||A.type==="tours").sort((A,V)=>{const H=A.date||"",I=V.date||"";return H.localeCompare(I)}),k=[...v].sort((A,V)=>{const H=A.metadata?.departureTime||A.date||"",I=V.metadata?.departureTime||V.date||"";return H.localeCompare(I)}),C=k.length>0?k[0]:void 0,_=k.length>1?k[k.length-1]:void 0,M=y[0],E=M?.metadata?.rawData?.hotel,R=E?{lat:E.latitude,lng:E.longitude}:void 0,z=M?.metadata?.includesAirportTransfer===!0;return C&&M?b.push({id:"airport-to-hotel",type:"airport_to_hotel",from:{name:i||`${s} Airport`,type:"airport",time:C.metadata?.arrivalTime},to:{name:M.name,type:"hotel",coordinates:R},date:C.date||a?.toISOString().split("T")[0]||"",status:z?"covered":"needs_transport",coveredBy:z?"Hotel provides free airport transfer":void 0,options:z?[]:kf("airport_to_hotel",s)}):M&&a&&b.push({id:"arrival-to-hotel",type:"airport_to_hotel",from:{name:i||`${s} Airport`,type:"airport"},to:{name:M.name,type:"hotel",coordinates:R},date:a.toISOString().split("T")[0],status:z?"covered":"needs_transport",coveredBy:z?"Hotel provides free airport transfer":void 0,options:z?[]:kf("airport_to_hotel",s)}),w.forEach((A,V)=>{const H=A.date||"",I=V===0?M:w[V-1],q=V===0?R:w[V-1]?.metadata?.meetingPointCoordinates;I&&b.push({id:`to-activity-${A.id}`,type:V===0?"hotel_to_activity":"activity_to_activity",from:{name:I.name,type:V===0?"hotel":"activity",coordinates:q},to:{name:A.name,type:"activity",coordinates:A.metadata?.meetingPointCoordinates,time:A.metadata?.departureTime},date:H,status:"needs_transport",options:kf("hotel_to_activity",s)})}),M&&(_||r)&&b.push({id:"hotel-to-airport",type:"hotel_to_airport",from:{name:M.name,type:"hotel",coordinates:R},to:{name:i||`${s} Airport`,type:"airport",time:_?.metadata?.departureTime},date:_?.date||r?.toISOString().split("T")[0]||"",status:z?"covered":"needs_transport",coveredBy:z?"Hotel provides free airport transfer":void 0,options:z?[]:kf("hotel_to_airport",s)}),b},[t,s,a,r,n,i]),x=b=>{u(v=>{const y=new Set(v);return y.has(b)?y.delete(b):y.add(b),y})},f=m.filter(b=>b.status==="needs_transport").length,g=m.filter(b=>b.status==="covered").length;return m.length===0?e.jsxs(P,{"data-testid":"transport-planner-empty",children:[e.jsx(Q,{children:e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(zs,{className:"h-5 w-5 text-[#FF385C]"}),"Trip Transportation"]})}),e.jsx(F,{children:e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(Jr,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),e.jsx("p",{children:"Add flights, hotels, or activities to your cart to see your transportation needs."})]})})]}):e.jsxs(P,{"data-testid":"transport-planner",children:[e.jsx(Q,{children:e.jsxs(X,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(zs,{className:"h-5 w-5 text-[#FF385C]"}),"Trip Transportation"]}),e.jsxs("div",{className:"flex gap-2",children:[g>0&&e.jsxs(O,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200","data-testid":"badge-covered-count",children:[e.jsx(rs,{className:"h-3 w-3 mr-1"}),g," covered"]}),f>0&&e.jsxs(O,{variant:"outline",className:"bg-amber-50 text-amber-700 border-amber-200","data-testid":"badge-needs-count",children:[e.jsx(ns,{className:"h-3 w-3 mr-1"}),f," need transport"]})]})]})}),e.jsxs(F,{className:"space-y-3",children:[m.map(b=>e.jsxs("div",{className:`border rounded-lg p-4 ${b.status==="covered"?"bg-green-50/50 border-green-200":"bg-amber-50/50 border-amber-200"}`,"data-testid":`transport-segment-${b.id}`,children:[e.jsxs("div",{className:"flex items-center justify-between cursor-pointer",onClick:()=>b.status==="needs_transport"&&x(b.id),"data-testid":`segment-header-${b.id}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[b.from.type==="airport"&&e.jsx(Pt,{className:"h-4 w-4 text-blue-600"}),b.from.type==="hotel"&&e.jsx(Us,{className:"h-4 w-4 text-purple-600"}),b.from.type==="activity"&&e.jsx(Me,{className:"h-4 w-4 text-orange-600"}),e.jsx("span",{className:"font-medium text-sm",children:b.from.name})]}),e.jsx(Kt,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("div",{className:"flex items-center gap-2",children:[b.to.type==="airport"&&e.jsx(Pt,{className:"h-4 w-4 text-blue-600"}),b.to.type==="hotel"&&e.jsx(Us,{className:"h-4 w-4 text-purple-600"}),b.to.type==="activity"&&e.jsx(Me,{className:"h-4 w-4 text-orange-600"}),e.jsx("span",{className:"font-medium text-sm",children:b.to.name})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[b.date&&e.jsx("span",{className:"text-xs text-muted-foreground",children:b.date}),b.status==="covered"?e.jsxs(O,{variant:"outline",className:"bg-green-100 text-green-700 border-green-300",children:[e.jsx(rs,{className:"h-3 w-3 mr-1"}),"Covered"]}):e.jsxs(e.Fragment,{children:[e.jsxs(O,{variant:"outline",className:"bg-amber-100 text-amber-700 border-amber-300",children:[e.jsx(ns,{className:"h-3 w-3 mr-1"}),"Need Transport"]}),c.has(b.id)?e.jsx(nl,{className:"h-4 w-4 text-muted-foreground"}):e.jsx(qs,{className:"h-4 w-4 text-muted-foreground"})]})]})]}),b.status==="covered"&&b.coveredBy&&e.jsxs("p",{className:"text-sm text-green-700 mt-2 flex items-center gap-2",children:[e.jsx(rs,{className:"h-4 w-4"}),b.coveredBy]}),b.status==="needs_transport"&&c.has(b.id)&&b.options&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-amber-200 space-y-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Transport Options:"}),b.options.map((v,y)=>e.jsxs("div",{className:"flex items-center justify-between bg-white rounded-lg p-3 border","data-testid":`transport-option-${b.id}-${y}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[v.type==="google_transit"&&e.jsx(Ma,{className:"h-5 w-5 text-blue-600"}),v.type==="amadeus_transfer"&&e.jsx(zs,{className:"h-5 w-5 text-purple-600"}),v.type==="12go"&&e.jsx(Jr,{className:"h-5 w-5 text-green-600"}),v.type==="taxi"&&e.jsx(zs,{className:"h-5 w-5 text-yellow-600"}),v.type==="hotel_shuttle"&&e.jsx(Jr,{className:"h-5 w-5 text-teal-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:v.name}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[v.provider,v.duration&&`  ${v.duration}`]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[v.isFree?e.jsx(O,{variant:"outline",className:"bg-green-50 text-green-700",children:"Free"}):v.price?e.jsxs("span",{className:"font-semibold",children:["$",v.price]}):e.jsx("span",{className:"text-sm text-muted-foreground",children:"Check price"}),v.actionUrl?e.jsxs(S,{size:"sm",variant:"outline",onClick:()=>window.open(v.actionUrl,"_blank"),"data-testid":`button-book-${b.id}-${y}`,children:["Book ",e.jsx(er,{className:"h-3 w-3 ml-1"})]}):e.jsx(S,{size:"sm",onClick:()=>l?.(b,v),"data-testid":`button-select-${b.id}-${y}`,children:"Select"})]})]},y))]})]},b.id)),e.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg border border-blue-200",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Ma,{className:"h-5 w-5 text-blue-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-blue-900",children:"Need trains, buses, or ferries?"}),e.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"Book ground transportation for longer journeys between cities."}),e.jsxs(S,{variant:"outline",size:"sm",className:"mt-3",onClick:()=>window.open(`https://12go.asia/en?z=13805109&curr=USD&departcity=${encodeURIComponent(s)}`,"_blank"),"data-testid":"button-browse-12go",children:["Browse 12Go Transportation ",e.jsx(er,{className:"h-3 w-3 ml-1"})]})]})]})})]})]})}function kf(t,s,a){const r=[];return r.push({type:"google_transit",name:"Public Transit",provider:"Via Google Maps",description:"Check local bus, metro, or train options"}),(t==="airport_to_hotel"||t==="hotel_to_airport")&&r.push({type:"amadeus_transfer",name:"Private Transfer",provider:"Book via Amadeus",description:"Door-to-door pickup service"}),r.push({type:"taxi",name:"Taxi / Ride-share",provider:"Grab, Uber, or local taxi",description:"On-demand pickup available locally"}),(t==="airport_to_hotel"||t==="hotel_to_airport")&&r.push({type:"12go",name:"Shared Shuttle or Bus",provider:"12Go Asia",actionUrl:`https://12go.asia/en?z=13805109&curr=USD&departcity=${encodeURIComponent(s)}`,description:"Book shared transport online"}),r}const Cf={travel:{heroImage:"https://images.unsplash.com/photo-1488646953014-85cb44e25828?w=1600&q=80",tabs:[{id:"activities",label:"Activities",icon:Jc,category:"activities"},{id:"hotels",label:"Hotels",icon:Us,category:"hotels"},{id:"services",label:"Services",icon:Js,category:"services-travel"},{id:"dining",label:"Dining",icon:Ns,category:"dining"},{id:"flights",label:"Flights",icon:Pt,category:"flights"},{id:"transportation",label:"Transportation",icon:zs,category:"transportation"}],filters:["Budget","Luxury","Family","Adventure","Business","Beach","City","Nature"],locationLabel:"Destination:",dateLabel:"Travel Dates:"},wedding:{heroImage:"https://images.unsplash.com/photo-1519741497674-611481863552?w=1600&q=80",tabs:[{id:"venues",label:"Venues",icon:Xr,category:"venue"},{id:"vendors",label:"Vendors",icon:et,category:"vendors"},{id:"services",label:"Services",icon:Js,category:"services-wedding"},{id:"guest-accommodations",label:"Guest Accommodations",icon:Us,category:"accommodations"},{id:"transportation",label:"Transportation",icon:zs,category:"transportation"},{id:"rehearsal",label:"Rehearsal",icon:Ns,category:"rehearsal"}],filters:["Indoor","Outdoor","Beach","Garden","Ballroom","Rustic","Modern","Traditional"],locationLabel:"Wedding Location:",dateLabel:"Wedding Date:",modes:{planning:{label:"Planning Mode",tabs:[{id:"venues",label:"Venues",icon:Xr,category:"venue"},{id:"vendors",label:"Vendors",icon:et,category:"vendors"},{id:"services",label:"Services",icon:Js,category:"services-wedding"},{id:"guest-accommodations",label:"Guest Accommodations",icon:Us,category:"accommodations"},{id:"transportation",label:"Transportation",icon:zs,category:"transportation"},{id:"rehearsal",label:"Rehearsal",icon:Ns,category:"rehearsal"}]},guest:{label:"Guest Activities Mode",tabs:[{id:"activities",label:"Activities",icon:Jc,category:"activities"},{id:"dining",label:"Dining",icon:Ns,category:"dining"},{id:"services",label:"Services",icon:Js,category:"services-guest"},{id:"welcome-events",label:"Welcome Events",icon:ya,category:"welcome"},{id:"transportation",label:"Transportation",icon:zs,category:"transportation"},{id:"local-experiences",label:"Local Experiences",icon:Me,category:"experiences"}]}}},proposal:{heroImage:"https://images.unsplash.com/photo-1515934751635-c81c6bc9a2d8?w=1600&q=80",tabs:[{id:"locations",label:"Locations",icon:Me,category:"venue"},{id:"services",label:"Services",icon:Js,category:"services-proposal"},{id:"celebration-dining",label:"Celebration Dining",icon:Ns,category:"dining"},{id:"post-proposal",label:"Post-Proposal Activities",icon:Qt,category:"activities"},{id:"accommodations",label:"Accommodations",icon:Us,category:"accommodations"}],filters:["Romantic","Private","Scenic","Restaurant","Beach","Rooftop","Garden","Sunset"],locationLabel:"Proposal Location:",dateLabel:"Proposal Date:"},birthday:{heroImage:"https://images.unsplash.com/photo-1530103862676-de8c9debad1d?w=1600&q=80",tabs:[{id:"venues",label:"Venues",icon:Xr,category:"venue"},{id:"activities",label:"Activities",icon:ya,category:"activities"},{id:"dining",label:"Dining",icon:$u,category:"dining"},{id:"entertainment",label:"Entertainment",icon:ei,category:"entertainment"},{id:"services",label:"Services",icon:Js,category:"services-birthday"},{id:"accommodations",label:"Accommodations",icon:Us,category:"accommodations"}],filters:["Kids","Teens","Adults","Milestone","Outdoor","Indoor","Theme Party","Elegant"],locationLabel:"Party Location:",dateLabel:"Party Date:"},"boys-trip":{heroImage:"https://images.unsplash.com/photo-1506869640319-fe1a24fd76dc?w=1600&q=80",tabs:[{id:"accommodations",label:"Accommodations",icon:Us,category:"accommodations"},{id:"activities",label:"Adventures",icon:MC,category:"adventures"},{id:"nightlife",label:"Nightlife",icon:Eb,category:"nightlife"},{id:"sports",label:"Sports",icon:MC,category:"sports"},{id:"services",label:"Services",icon:Js,category:"services-trip"}],filters:["Adventure","Sports","Nightlife","Beach","Mountains","City","Bachelor","Fishing"],locationLabel:"Destination:",dateLabel:"Trip Dates:"},"girls-trip":{heroImage:"https://images.unsplash.com/photo-1559181567-c3190ca9959b?w=1600&q=80",tabs:[{id:"accommodations",label:"Accommodations",icon:Us,category:"accommodations"},{id:"spa",label:"Spa & Wellness",icon:Qt,category:"spa"},{id:"shopping",label:"Shopping",icon:Vu,category:"shopping"},{id:"dining",label:"Dining & Wine",icon:Pu,category:"dining"},{id:"services",label:"Services",icon:Js,category:"services-trip"}],filters:["Spa","Shopping","Beach","Wine","Brunch","Wellness","Bachelorette","Luxury"],locationLabel:"Destination:",dateLabel:"Trip Dates:"},"date-night":{heroImage:"https://images.unsplash.com/photo-1414235077428-338989a2e8c0?w=1600&q=80",tabs:[{id:"dining",label:"Dining",icon:Ns,category:"dining"},{id:"activities",label:"Activities",icon:Qt,category:"activities"},{id:"entertainment",label:"Entertainment",icon:ei,category:"entertainment"},{id:"services",label:"Services",icon:Js,category:"services-romance"},{id:"transportation",label:"Transportation",icon:zs,category:"transportation"}],filters:["Romantic","Casual","Upscale","Adventure","Foodie","First Date","Anniversary"],locationLabel:"Location:",dateLabel:"Date:"},"corporate-events":{heroImage:"https://images.unsplash.com/photo-1540575467063-178a50c2df87?w=1600&q=80",tabs:[{id:"venues",label:"Venues",icon:Xr,category:"venue"},{id:"team-activities",label:"Team Activities",icon:et,category:"team-building"},{id:"services",label:"Services",icon:Js,category:"services-corporate"},{id:"dining",label:"Dining",icon:Ns,category:"dining"},{id:"transportation",label:"Transportation",icon:zs,category:"transportation"},{id:"accommodations",label:"Accommodations",icon:Us,category:"accommodations"}],filters:["Conference","Retreat","Workshop","Team Building","Seminar","Gala","Networking"],locationLabel:"Event Location:",dateLabel:"Event Date:"},reunions:{heroImage:"https://images.unsplash.com/photo-1511795409834-ef04bbd61622?w=1600&q=80",tabs:[{id:"venues",label:"Venues",icon:Xr,category:"venue"},{id:"activities",label:"Activities",icon:et,category:"activities"},{id:"services",label:"Services",icon:Js,category:"services-event"},{id:"dining",label:"Dining",icon:Ns,category:"dining"},{id:"accommodations",label:"Accommodations",icon:Us,category:"accommodations"},{id:"transportation",label:"Transportation",icon:zs,category:"transportation"}],filters:["Family","School","Friends","Outdoor","Indoor","Casual","Formal","Weekend"],locationLabel:"Reunion Location:",dateLabel:"Reunion Date:"},"wedding-anniversaries":{heroImage:"https://images.unsplash.com/photo-1522673607200-164d1b6ce486?w=1600&q=80",tabs:[{id:"dining",label:"Dining",icon:Ns,category:"dining"},{id:"venue",label:"Venues",icon:Xr,category:"venue"},{id:"activities",label:"Activities",icon:Qt,category:"activities"},{id:"photography",label:"Photography",icon:Rs,category:"photography"},{id:"services",label:"Services",icon:Js,category:"services-romance"}],filters:["Romantic","Elegant","Intimate","Luxury","Destination","Classic","Milestone"],locationLabel:"Celebration Location:",dateLabel:"Anniversary Date:"},retreats:{heroImage:"https://images.unsplash.com/photo-1545205597-3d9d02c29597?w=1600&q=80",tabs:[{id:"venues",label:"Venues",icon:Xr,category:"venue"},{id:"activities",label:"Activities",icon:Rh,category:"activities"},{id:"services",label:"Services",icon:Js,category:"services-retreat"},{id:"dining",label:"Dining",icon:Ns,category:"dining"},{id:"accommodations",label:"Accommodations",icon:Us,category:"accommodations"},{id:"wellness",label:"Wellness",icon:Qt,category:"wellness"}],filters:["Wellness","Yoga","Meditation","Nature","Spiritual","Detox","Corporate","Silent"],locationLabel:"Retreat Location:",dateLabel:"Retreat Dates:"},"baby-shower":{heroImage:"https://images.unsplash.com/photo-1544776193-352d25ca82cd?w=1600&q=80",tabs:[{id:"venue",label:"Venues",icon:Xr,category:"venue"},{id:"catering",label:"Catering",icon:$u,category:"catering"},{id:"decorations",label:"Decorations",icon:uc,category:"decorations"},{id:"entertainment",label:"Entertainment",icon:ei,category:"entertainment"},{id:"services",label:"Services",icon:Js,category:"services-party"}],filters:["Boy","Girl","Gender Neutral","Garden","Indoor","Elegant","Casual","Theme"],locationLabel:"Party Location:",dateLabel:"Party Date:"},"graduation-party":{heroImage:"https://images.unsplash.com/photo-1523050854058-8df90110c9f1?w=1600&q=80",tabs:[{id:"venue",label:"Venues",icon:Xr,category:"venue"},{id:"catering",label:"Catering",icon:Ns,category:"catering"},{id:"decorations",label:"Decorations",icon:s0,category:"decorations"},{id:"entertainment",label:"Entertainment",icon:ei,category:"entertainment"},{id:"services",label:"Services",icon:Js,category:"services-party"}],filters:["High School","College","Masters","PhD","Outdoor","Indoor","Casual","Formal"],locationLabel:"Party Location:",dateLabel:"Party Date:"},"engagement-party":{heroImage:"https://images.unsplash.com/photo-1469371670807-013ccf25f16a?w=1600&q=80",tabs:[{id:"venue",label:"Venues",icon:Xr,category:"venue"},{id:"catering",label:"Catering",icon:Pu,category:"catering"},{id:"photography",label:"Photography",icon:Rs,category:"photography"},{id:"entertainment",label:"Entertainment",icon:ei,category:"entertainment"},{id:"services",label:"Services",icon:Js,category:"services-wedding"}],filters:["Elegant","Casual","Garden","Rooftop","Beach","Restaurant","Home","Cocktail"],locationLabel:"Party Location:",dateLabel:"Party Date:"},"housewarming-party":{heroImage:"https://images.unsplash.com/photo-1556909114-f6e7ad7d3136?w=1600&q=80",tabs:[{id:"catering",label:"Catering",icon:Ns,category:"catering"},{id:"decorations",label:"Decorations",icon:Td,category:"decorations"},{id:"entertainment",label:"Entertainment",icon:ei,category:"entertainment"},{id:"rentals",label:"Rentals",icon:br,category:"rentals"},{id:"services",label:"Services",icon:Js,category:"services-party"}],filters:["Casual","Formal","BBQ","Cocktail","Brunch","Dinner","Open House","Theme"],locationLabel:"Party Location:",dateLabel:"Party Date:"},"retirement-party":{heroImage:"https://images.unsplash.com/photo-1464349095431-e9a21285b5f3?w=1600&q=80",tabs:[{id:"venue",label:"Venues",icon:Xr,category:"venue"},{id:"catering",label:"Catering",icon:Pu,category:"catering"},{id:"entertainment",label:"Entertainment",icon:ei,category:"entertainment"},{id:"decorations",label:"Decorations",icon:ya,category:"decorations"},{id:"services",label:"Services",icon:Js,category:"services-party"}],filters:["Elegant","Casual","Office","Restaurant","Garden","Formal","Surprise","Milestone"],locationLabel:"Party Location:",dateLabel:"Party Date:"},"career-achievement-party":{heroImage:"https://images.unsplash.com/photo-1504384308090-c894fdcc538d?w=1600&q=80",tabs:[{id:"venue",label:"Venues",icon:Xr,category:"venue"},{id:"catering",label:"Catering",icon:Ns,category:"catering"},{id:"av",label:"A/V Equipment",icon:jr,category:"av-equipment"},{id:"entertainment",label:"Entertainment",icon:ei,category:"entertainment"},{id:"services",label:"Services",icon:Js,category:"services-corporate"}],filters:["Promotion","Award","Milestone","Corporate","Formal","Cocktail","Dinner","Gala"],locationLabel:"Event Location:",dateLabel:"Event Date:"},"farewell-party":{heroImage:"https://images.unsplash.com/photo-1496024840928-4c417adf211d?w=1600&q=80",tabs:[{id:"venue",label:"Venues",icon:Xr,category:"venue"},{id:"catering",label:"Catering",icon:Ns,category:"catering"},{id:"entertainment",label:"Entertainment",icon:ei,category:"entertainment"},{id:"decorations",label:"Decorations",icon:on,category:"decorations"},{id:"services",label:"Services",icon:Js,category:"services-party"}],filters:["Casual","Formal","Office","Outdoor","Restaurant","Surprise","Sentimental","Fun"],locationLabel:"Party Location:",dateLabel:"Party Date:"},"holiday-party":{heroImage:"https://images.unsplash.com/photo-1482517967863-00e15c9b44be?w=1600&q=80",tabs:[{id:"venue",label:"Venues",icon:Xr,category:"venue"},{id:"catering",label:"Catering",icon:Ns,category:"catering"},{id:"decorations",label:"Decorations",icon:Rh,category:"decorations"},{id:"entertainment",label:"Entertainment",icon:ei,category:"entertainment"},{id:"services",label:"Services",icon:Js,category:"services-party"}],filters:["Christmas","New Year","Thanksgiving","Easter","Halloween","July 4th","Corporate","Family"],locationLabel:"Party Location:",dateLabel:"Party Date:"},"bachelor-bachelorette":{heroImage:"https://images.unsplash.com/photo-1529543544277-7f15a4b8a8e8?w=1600&q=80",tabs:[{id:"destinations",label:"Destinations",icon:Me,category:"destinations"},{id:"accommodations",label:"Accommodations",icon:Us,category:"accommodations"},{id:"daytime-activities",label:"Daytime Activities",icon:Jc,category:"activities"},{id:"nightlife",label:"Nightlife",icon:Eb,category:"nightlife"},{id:"dining",label:"Dining",icon:Ns,category:"dining"},{id:"transportation",label:"Transportation",icon:zs,category:"transportation"},{id:"party-services",label:"Party Services",icon:ya,category:"party-services"}],filters:["Beach Party","City Nightlife","Adventure","Wellness","Vegas-Style","International"],locationLabel:"Party Destination:",dateLabel:"Party Dates:"},"anniversary-trip":{heroImage:"https://images.unsplash.com/photo-1522673607200-164d1b6ce486?w=1600&q=80",tabs:[{id:"destinations",label:"Destinations",icon:Qt,category:"destinations"},{id:"accommodations",label:"Romantic Stays",icon:Us,category:"accommodations"},{id:"experiences",label:"Couple Experiences",icon:et,category:"experiences"},{id:"dining",label:"Romantic Dining",icon:Ns,category:"dining"},{id:"spa-wellness",label:"Spa & Wellness",icon:aw,category:"spa"},{id:"special-touches",label:"Special Touches",icon:on,category:"special"},{id:"transportation",label:"Transportation",icon:zs,category:"transportation"},{id:"itinerary-builder",label:"Itinerary Builder",icon:Js,category:"planning"}],filters:["Ultra Romantic","Beach Paradise","European City","Wine Country","Island Escape","Mountain Retreat"],locationLabel:"Anniversary Destination:",dateLabel:"Anniversary Dates:"}},bhe={romance:"date-night",corporate:"corporate-events"};function Nhe(t){return bhe[t]||t}function whe({experienceType:t,destination:s,date:a,cart:r}){const[n,i]=h.useState(!1),[l,c]=h.useState(null),[u,m]=h.useState(null),x=async()=>{i(!0),m(null);try{const f=await fetch("/api/ai/optimize-experience",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({experienceType:t.name,destination:s,date:a?.toISOString(),selectedServices:r.map(b=>({name:b.name,provider:b.provider,price:b.price,category:b.type})),preferences:{}})});if(!f.ok)throw new Error("Failed to optimize");const g=await f.json();c(g)}catch{m("Unable to run optimization. Please try again.")}finally{i(!1)}};return l?e.jsxs("div",{className:"space-y-6",children:[e.jsxs(P,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:te("w-16 h-16 rounded-full flex items-center justify-center text-2xl font-bold text-white",l.overallScore>=80?"bg-green-500":l.overallScore>=60?"bg-amber-500":"bg-red-500"),children:l.overallScore}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold",children:"Optimization Score"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:l.summary})]})]}),e.jsx(S,{variant:"outline",onClick:()=>c(null),"data-testid":"button-reoptimize",children:"Run Again"})]}),l.estimatedTotal.savings>0&&e.jsx("div",{className:"bg-green-50 dark:bg-green-950 border border-green-200 dark:border-green-800 rounded-md p-4 mb-4",children:e.jsxs("div",{className:"flex items-center gap-2 text-green-700 dark:text-green-300",children:[e.jsx(qe,{className:"w-5 h-5"}),e.jsxs("span",{className:"font-semibold",children:["Potential Savings: $",l.estimatedTotal.savings]})]})})]}),l.recommendations.length>0&&e.jsxs(P,{className:"p-6",children:[e.jsxs("h4",{className:"font-semibold mb-4 flex items-center gap-2",children:[e.jsx(Xo,{className:"w-5 h-5 text-[#FF385C]"}),"Recommendations"]}),e.jsx("div",{className:"space-y-3",children:l.recommendations.map((f,g)=>e.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-md bg-muted/50",children:[e.jsx("div",{className:te("w-2 h-2 rounded-full mt-2 flex-shrink-0",f.impact==="high"?"bg-red-500":f.impact==="medium"?"bg-amber-500":"bg-blue-500")}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:f.title}),e.jsx("p",{className:"text-sm text-muted-foreground",children:f.description}),f.potentialSavings&&e.jsxs(O,{variant:"secondary",className:"mt-1",children:["Save $",f.potentialSavings]})]})]},g))})]}),l.optimizedSchedule.length>0&&e.jsxs(P,{className:"p-6",children:[e.jsxs("h4",{className:"font-semibold mb-4 flex items-center gap-2",children:[e.jsx(Je,{className:"w-5 h-5 text-[#FF385C]"}),"Optimized Schedule"]}),e.jsx("div",{className:"space-y-2",children:l.optimizedSchedule.map((f,g)=>e.jsxs("div",{className:"flex items-start gap-4 p-3 rounded-md bg-muted/50",children:[e.jsx("span",{className:"text-sm font-medium text-muted-foreground w-20 flex-shrink-0",children:f.time}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:f.activity}),e.jsx("p",{className:"text-sm text-muted-foreground",children:f.location}),f.notes&&e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:f.notes})]})]},g))})]}),l.warnings.length>0&&e.jsxs(P,{className:"p-6 border-amber-200 dark:border-amber-800",children:[e.jsx("h4",{className:"font-semibold mb-3 text-amber-600 dark:text-amber-400",children:"Warnings"}),e.jsx("ul",{className:"space-y-2 text-sm text-muted-foreground",children:l.warnings.map((f,g)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-amber-500",children:"!"}),f]},g))})]})]}):e.jsxs(P,{className:"p-8 text-center",children:[e.jsx(Xo,{className:"w-12 h-12 text-[#FF385C] mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"AI Optimization"}),e.jsxs("p",{className:"text-muted-foreground mb-4 max-w-md mx-auto",children:["Let our AI analyze your selections and optimize your ",t.name.toLowerCase()," plan for the best experience, timing, and value."]}),r.length===0&&e.jsx("p",{className:"text-sm text-amber-600 dark:text-amber-400 mb-4",children:"Add some items to your cart first for better optimization results."}),u&&e.jsx("p",{className:"text-sm text-red-500 mb-4",children:u}),e.jsx(S,{className:"bg-[#FF385C] ",onClick:x,disabled:n,"data-testid":"button-optimize",children:n?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 mr-2 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Optimizing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(qe,{className:"w-4 h-4 mr-2"}),"Optimize My ",t.name]})})]})}function uT(){const[t,s]=Xf("/experiences/:slug"),[a,r]=Xf("/experiences/:slug/new"),n=a?r:s,[,i]=La(),{toast:l}=Bs(),{user:c}=qr(),u=n?.slug||"",m=Nhe(u),{data:x,isLoading:f}=Le({queryKey:["/api/experience-types",m],enabled:!!m}),{data:g,isLoading:b}=Le({queryKey:["/api/provider-services"]}),{data:v,refetch:y}=Le({queryKey:["/api/cart",{experience:m}],enabled:!!m}),[w,k]=h.useState(()=>{if(typeof window>"u")return[];try{const G=sessionStorage.getItem(`externalCart_${m}`);return G?JSON.parse(G):[]}catch{return[]}});h.useEffect(()=>{if(!(typeof window>"u"))try{const G=sessionStorage.getItem(`externalCart_${m}`);k(G?JSON.parse(G):[])}catch{k([])}},[m]),h.useEffect(()=>{typeof window>"u"||(w.length>0?sessionStorage.setItem(`externalCart_${m}`,JSON.stringify(w)):sessionStorage.removeItem(`externalCart_${m}`))},[w,m]);const C=h.useMemo(()=>[...v?.items?v.items.map(Oe=>({id:Oe.serviceId,cartItemId:Oe.id,type:"service",name:Oe.service?.serviceName||"Unknown Service",price:parseFloat(Oe.service?.price||"0"),quantity:Oe.quantity||1,provider:"Platform Provider"})):[],...w],[v,w]),_=Cf[m]||Cf.wedding,M=h.useMemo(()=>{if(typeof window>"u")return null;try{const G=sessionStorage.getItem(`searchSettings_${m}`);return G?JSON.parse(G):null}catch{return null}},[]),E=G=>{if(typeof window>"u")return null;try{const Oe=sessionStorage.getItem(`searchSettings_${G}`);return Oe?JSON.parse(Oe):null}catch{return null}},[R,z]=h.useState(M?.destination??""),[A,V]=h.useState(M?.originCity??""),[H,I]=h.useState(M?.originCode??""),[q,fe]=h.useState(M?.startDate?new Date(M.startDate):void 0),[oe,Ee]=h.useState(M?.endDate?new Date(M.endDate):void 0),[me,ie]=h.useState(M?.activeTab??_.tabs[0]?.id??"venue"),[B,ae]=h.useState(M?.searchQuery??""),[ke,$]=h.useState(M?.priceRange??[0,500]),[L,W]=h.useState(M?.minRating??0),[re,se]=h.useState(M?.sortBy??"popular"),[ge,K]=h.useState(M?.selectedFilters??[]),[J,je]=h.useState(M?.selectedInterests??[]),[ze,ft]=h.useState(M?.flightMaxPrice??2e3),[Nt,ht]=h.useState(M?.flightStops??"any"),[Lt,gs]=h.useState(M?.flightSortBy??"price"),[ks,Ys]=h.useState(M?.hotelMaxPrice??5e3),[cs,ce]=h.useState(M?.hotelStarRating??0),[at,Z]=h.useState(M?.hotelSortBy??"price"),[xe,Ae]=h.useState(M?.travelers??2),[Qe,Ue]=h.useState(M?.detailsSubmitted??!1),Ve=hhe(),ut=m==="bachelor-bachelorette"||m==="anniversary-trip",[$t,ss]=h.useState("planning"),Ds=h.useMemo(()=>_.modes&&m==="wedding"&&($t==="planning"?_.modes.planning:_.modes.guest)?.tabs||_.tabs,[_,m,$t]),Hs=h.useRef(!1),sa=h.useRef(m);h.useEffect(()=>{if(typeof window>"u")return;const G=sa.current!==m;if(!Hs.current||G){Hs.current=!0,sa.current=m;const Se=E(m),is=(Cf[m]||Cf.wedding).tabs[0]?.id||"venue";z(Se?.destination??""),V(Se?.originCity??""),I(Se?.originCode??""),fe(Se?.startDate?new Date(Se.startDate):void 0),Ee(Se?.endDate?new Date(Se.endDate):void 0),ie(Se?.activeTab??is),ae(Se?.searchQuery??""),$(Se?.priceRange??[0,500]),W(Se?.minRating??0),se(Se?.sortBy??"popular"),K(Se?.selectedFilters??[]),je(Se?.selectedInterests??[]),ft(Se?.flightMaxPrice??2e3),ht(Se?.flightStops??"any"),gs(Se?.flightSortBy??"price"),Ys(Se?.hotelMaxPrice??5e3),ce(Se?.hotelStarRating??0),Z(Se?.hotelSortBy??"price"),Ae(Se?.travelers??2),Ue(Se?.detailsSubmitted??!1)}},[m]),h.useEffect(()=>{if(typeof window>"u")return;const G={destination:R,originCity:A,originCode:H,startDate:q?.toISOString(),endDate:oe?.toISOString(),activeTab:me,searchQuery:B,priceRange:ke,minRating:L,sortBy:re,selectedFilters:ge,selectedInterests:J,flightMaxPrice:ze,flightStops:Nt,flightSortBy:Lt,hotelMaxPrice:ks,hotelStarRating:cs,hotelSortBy:at,travelers:xe,detailsSubmitted:Qe};sessionStorage.setItem(`searchSettings_${m}`,JSON.stringify(G))},[m,R,A,H,q,oe,me,B,ke,L,re,ge,J,ze,Nt,Lt,ks,cs,at,xe,Qe]);const[pr,ar]=h.useState(!1),[wa,Re]=h.useState(!0),[Ct,ls]=h.useState(!1),[aa,Zs]=h.useState(!1),[Ga,Cr]=h.useState(!1),[rr,Hr]=h.useState(!1),[gi,vs]=h.useState("ai-match"),[Ka,dn]=h.useState({x:24,y:24}),[Fr,Pn]=h.useState(!1),[xl,Kn]=h.useState(!1),Ri=h.useRef(null),fr=h.useCallback((G,Oe)=>{Pn(!0),Kn(!1),Ri.current={x:G,y:Oe,buttonX:Ka.x,buttonY:Ka.y}},[Ka]),Wr=h.useCallback((G,Oe)=>{if(!Fr||!Ri.current)return;const Se=Ri.current.x-G,Ts=Ri.current.y-Oe;(Math.abs(Se)>5||Math.abs(Ts)>5)&&Kn(!0);const is=Math.max(24,Math.min(window.innerWidth-80,Ri.current.buttonX+Se)),ys=Math.max(24,Math.min(window.innerHeight-80,Ri.current.buttonY+Ts));dn({x:is,y:ys})},[Fr]),Li=h.useCallback(()=>{Pn(!1),Ri.current=null},[]);h.useEffect(()=>{if(!Fr)return;const G=is=>Wr(is.clientX,is.clientY),Oe=()=>Li(),Se=is=>{is.touches.length===1&&Wr(is.touches[0].clientX,is.touches[0].clientY)},Ts=()=>Li();return window.addEventListener("mousemove",G),window.addEventListener("mouseup",Oe),window.addEventListener("touchmove",Se),window.addEventListener("touchend",Ts),()=>{window.removeEventListener("mousemove",G),window.removeEventListener("mouseup",Oe),window.removeEventListener("touchmove",Se),window.removeEventListener("touchend",Ts)}},[Fr,Wr,Li]);const[yc,Dd]=h.useState(!1),[jc,An]=h.useState(!1),[vi,wo]=h.useState(!1),[ko,Fd]=h.useState([]),[bc,Dt]=h.useState([]),[le,Xe]=h.useState(null);h.useEffect(()=>{if(!R||R.length<2||!Qe)return;(async()=>{try{const Oe=await fetch("/api/geocode",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({address:R})});if(Oe.ok){const Se=await Oe.json();Xe({lat:Se.lat,lng:Se.lng})}else console.warn("Geocoding failed:",Oe.status),Xe(null)}catch(Oe){console.error("Geocoding error:",Oe),Xe(null)}})()},[R,Qe]);const{data:gt=[]}=Le({queryKey:["/api/custom-venues",{experienceType:m}],enabled:!!m}),Qs=async()=>{if(C.length===0){l({variant:"destructive",title:"Cart is empty",description:"Add some services first"});return}if(!c){l({title:"Please sign in",description:"Sign in to use AI comparison"});return}An(!0);const G=C.map(Oe=>({name:Oe.name,category:Oe.type,price:Oe.price.toString(),provider:Oe.provider||"Provider",location:R}));try{const Se=await(await Ft("POST","/api/itinerary-comparisons",{title:`${x?.name||"Trip"} Experience`,destination:R,startDate:q?.toISOString().split("T")[0]||new Date().toISOString().split("T")[0],endDate:oe?.toISOString().split("T")[0]||new Date(Date.now()+6048e5).toISOString().split("T")[0],budget:Co.toString(),travelers:2})).json();sessionStorage.setItem(`comparison_baseline_${Se.id}`,JSON.stringify(G)),ar(!1),i(`/itinerary-comparison/${Se.id}`)}catch(Oe){console.error("Failed to create comparison:",Oe),l({variant:"destructive",title:"Failed to create comparison",description:Oe?.message||"Please try again"})}finally{An(!1)}},{data:hs}=Le({queryKey:["/api/wallet"],retry:!1,staleTime:3e4}),ma=hs?.balance??0,ra=h.useMemo(()=>q&&oe&&oe<q?"End date cannot be before start date":null,[q,oe]),un=G=>{G&&q&&G<q?Ee(q):Ee(G)},Dn=!ra&&R.trim(),Vl=()=>{Cr(!0)},_a=()=>{Hr(!0)},Ul=G=>{K(Oe=>Oe.includes(G)?Oe.filter(Se=>Se!==G):[...Oe,G])},mn=G=>{je(Oe=>Oe.includes(G)?Oe.filter(Se=>Se!==G):[...Oe,G])},Xx=G=>typeof G=="object"?G.isExternal===!0:C.find(Se=>Se.id===G)?.isExternal===!0,na=async G=>{if(!c){l({variant:"destructive",title:"Sign in required",description:"Please sign in to add items to your cart"}),setTimeout(()=>{window.location.href="/api/login"},1500);return}const Oe=G.id.startsWith("custom-"),Se=G.id.startsWith("hotel-")||G.id.startsWith("activity-")||G.id.startsWith("flight-"),Ts=G.isExternal===!0||Se,is=C.find(ys=>ys.id===G.id);if(Ts){is?(k(ys=>ys.map(Xs=>Xs.id===G.id?{...Xs,quantity:Xs.quantity+1}:Xs)),l({title:"Cart updated",description:"Item quantity increased"})):(k(ys=>[...ys,{...G,quantity:G.quantity||1}]),l({title:"Added to cart",description:`${G.name} added to your cart`})),sessionStorage.setItem("experienceContext",JSON.stringify({title:`${x?.name||m} Experience`,experienceType:x?.name||m,experienceSlug:m,destination:R,startDate:q?.toISOString().split("T")[0],endDate:oe?.toISOString().split("T")[0],travelers:2}));return}if(is&&is.cartItemId)try{await Ft("PATCH",`/api/cart/${is.cartItemId}`,{quantity:is.quantity+1}),_t.invalidateQueries({queryKey:["/api/cart",m]}),l({title:"Cart updated",description:"Item quantity increased"})}catch{l({variant:"destructive",title:"Failed to update cart"})}else if(!is)try{const ys={quantity:1,experienceSlug:m};Oe?ys.customVenueId=G.id.replace("custom-",""):ys.serviceId=G.id,await Ft("POST","/api/cart",ys),_t.invalidateQueries({queryKey:["/api/cart",m]}),l({title:"Added to cart",description:`${G.name} added to your cart`})}catch{l({variant:"destructive",title:"Failed to add to cart"})}sessionStorage.setItem("experienceContext",JSON.stringify({title:`${x?.name||m} Experience`,experienceType:x?.name||m,experienceSlug:m,destination:R,startDate:q?.toISOString().split("T")[0],endDate:oe?.toISOString().split("T")[0],travelers:2})),i("/cart")},Md=async G=>{if(Xx(G)){k(Se=>Se.filter(Ts=>Ts.id!==G)),l({title:"Removed from cart"});return}const Oe=C.find(Se=>Se.id===G);if(Oe?.cartItemId)try{await Ft("DELETE",`/api/cart/${Oe.cartItemId}`),_t.invalidateQueries({queryKey:["/api/cart",m]})}catch{l({variant:"destructive",title:"Failed to remove from cart"})}},mv=async(G,Oe)=>{const Se=Math.max(1,Math.min(10,Oe));if(Xx(G)){k(is=>is.map(ys=>ys.id===G?{...ys,quantity:Se}:ys));return}const Ts=C.find(is=>is.id===G);if(Ts?.cartItemId)try{await Ft("PATCH",`/api/cart/${Ts.cartItemId}`,{quantity:Se}),_t.invalidateQueries({queryKey:["/api/cart",m]})}catch{l({variant:"destructive",title:"Failed to update quantity"})}},Co=C.reduce((G,Oe)=>G+Oe.price*Oe.quantity,0),pl=_.tabs.find(G=>G.id===me)?.category,Fn=h.useMemo(()=>{if(!g)return[];let G=[...g];if(pl&&(G=G.filter(Oe=>fme(Oe.serviceType||"",Oe.serviceName,Oe.description||"",pl))),B){const Oe=B.toLowerCase();G=G.filter(Se=>Se.serviceName.toLowerCase().includes(Oe)||Se.shortDescription?.toLowerCase().includes(Oe)||Se.description?.toLowerCase().includes(Oe))}return(ke[0]>0||ke[1]<500)&&(G=G.filter(Oe=>{const Se=Number(Oe.price)||0;return Se>=ke[0]&&(ke[1]>=500||Se<=ke[1])})),L>0&&(G=G.filter(Oe=>(Number(Oe.averageRating)||0)>=L)),ge.length>0&&(G=G.filter(Oe=>{const Se=(Oe.description||"").toLowerCase(),Ts=Oe.serviceName.toLowerCase();return ge.some(is=>Se.includes(is.toLowerCase())||Ts.includes(is.toLowerCase()))})),re==="price-low"?G.sort((Oe,Se)=>(Number(Oe.price)||0)-(Number(Se.price)||0)):re==="price-high"?G.sort((Oe,Se)=>(Number(Se.price)||0)-(Number(Oe.price)||0)):re==="rating"&&G.sort((Oe,Se)=>(Number(Se.averageRating)||0)-(Number(Oe.averageRating)||0)),G},[g,B,ke,L,re,pl,ge]),So=h.useMemo(()=>{const G=Qe?Fn.map((Se,Ts)=>{typeof Se.id=="number"?Se.id:parseInt(String(Se.id),10);const is=137.5*(Math.PI/180),ys=Ts*is,Xs=.01+Ts*.002,Ya=Math.cos(ys)*Xs,yi=Math.sin(ys)*Xs,ha=le?.lat??40.7128,Oa=le?.lng??-74.006;return{id:Se.id.toString(),name:Se.serviceName,category:Se.serviceType||pl||"venue",price:Number(Se.price)||0,rating:Number(Se.averageRating)||4.5,lat:ha+Ya,lng:Oa+yi,description:Se.shortDescription||Se.description||void 0}}):[];return[...me==="venue"||me==="accommodations"||me==="hotels"?gt.filter(Se=>Se.latitude&&Se.longitude).map(Se=>({id:`custom-${Se.id}`,name:Se.name,category:"custom-venue",price:Number(Se.estimatedCost)||0,rating:5,lat:Number(Se.latitude),lng:Number(Se.longitude),description:Se.address||Se.notes||"Custom location"})):[],...G,...ko,...bc]},[Fn,pl,gt,me,ko,bc,le,Qe]),To=h.useMemo(()=>C.map(G=>G.id),[C]),fl=h.useMemo(()=>C.filter(G=>G.type==="activities"&&G.metadata?.meetingPointCoordinates).map(G=>({id:G.id,name:G.name,lat:G.metadata.meetingPointCoordinates.lat,lng:G.metadata.meetingPointCoordinates.lng,meetingPoint:G.metadata?.meetingPoint,duration:G.metadata?.duration})),[C]),Yn=h.useMemo(()=>{const G=C.find(Oe=>(Oe.type==="hotels"||Oe.type==="hotel"||Oe.type==="accommodations")&&Oe.metadata?.rawData?.hotel?.latitude);if(G?.metadata?.rawData?.hotel){const Oe=G.metadata.rawData.hotel;return{id:G.id,name:G.name,lat:Oe.latitude,lng:Oe.longitude}}},[C]),[Nc,km]=h.useState(new Map),[Cm,wc]=h.useState(null);return h.useEffect(()=>{if(!Yn||fl.length===0){km(new Map);return}(async()=>{try{const Oe=await fetch("/api/routes/transit-multi",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({origin:{lat:Yn.lat,lng:Yn.lng,name:Yn.name},destinations:fl.map(Se=>({id:Se.id,lat:Se.lat,lng:Se.lng,name:Se.name}))})});if(Oe.ok){const Se=await Oe.json();if(Se?.routes){const Ts=new Map;Object.entries(Se.routes).forEach(([is,ys])=>{Ts.set(is,ys)}),km(Ts)}}}catch(Oe){console.error("Failed to fetch transit routes:",Oe)}})()},[Yn?.id,Yn?.lat,Yn?.lng,JSON.stringify(fl.map(G=>({id:G.id,lat:G.lat,lng:G.lng})))]),f?e.jsx(Yt,{children:e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(_e,{className:"h-[320px] w-full"}),e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx(_e,{className:"h-12 w-full mb-4"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(G=>e.jsx(_e,{className:"h-64 w-full"},G))})]})]})}):x?e.jsx(Yt,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsxs(CI,{direction:"horizontal",className:"h-screen hidden lg:flex",children:[e.jsxs(DN,{defaultSize:60,minSize:40,maxSize:80,className:"h-full flex flex-col overflow-hidden",children:[e.jsxs("div",{className:"flex-1 overflow-y-auto min-h-0",children:[e.jsxs("div",{className:"relative h-56 md:h-72 lg:h-80 flex-shrink-0 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:`url('${_.heroImage}')`}}),e.jsxs("div",{className:"absolute top-0 left-0 right-0 bg-white/90 backdrop-blur-sm px-4 py-2 flex items-center justify-end gap-3 z-10",children:[e.jsx(Ce,{href:"/credits",children:e.jsxs(S,{variant:"outline",size:"sm",className:"gap-2","data-testid":"button-credits",children:[e.jsx(FC,{className:"w-4 h-4 text-amber-500"}),ma," Credits",e.jsx(ps,{className:"w-3 h-3"})]})}),e.jsxs(S,{variant:"outline",size:"sm",className:"gap-2",onClick:Vl,"data-testid":"button-expert-help-ribbon",children:[e.jsx(Qi,{className:"w-4 h-4"}),"Get Expert Help"]}),e.jsxs(S,{variant:"outline",size:"sm",onClick:()=>{sessionStorage.setItem("experienceContext",JSON.stringify({title:`${x.name} Experience`,experienceType:x.name,experienceSlug:m,destination:R,startDate:q?.toISOString().split("T")[0],endDate:oe?.toISOString().split("T")[0],travelers:2})),i("/cart")},className:"gap-1.5","data-testid":"button-cart-ribbon",children:[e.jsx(Nn,{className:"w-4 h-4"}),e.jsx("span",{"data-testid":"text-cart-items",children:C.length}),e.jsx("span",{className:"text-muted-foreground",children:"|"}),e.jsxs("span",{"data-testid":"text-cart-total",children:["$",Co.toLocaleString()]})]}),e.jsxs(S,{size:"sm",onClick:_a,disabled:!Dn,className:"gap-1.5 bg-[#FF385C]","data-testid":"button-generate-ribbon",children:[e.jsx(Xo,{className:"w-4 h-4"}),"Generate Itinerary"]})]})]}),e.jsx(P,{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md border p-4 sm:p-6 w-full max-w-xl mx-auto mt-[-200px] z-20 relative",children:e.jsxs(F,{className:"p-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:[x.name," Details"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(et,{className:"w-4 h-4 text-gray-500"}),e.jsxs(Wt,{value:xe.toString(),onValueChange:G=>Ae(parseInt(G)),children:[e.jsx(Vt,{className:"w-[140px] h-8","data-testid":"select-travelers",children:e.jsx(Gt,{})}),e.jsx(Ut,{children:[1,2,3,4,5,6,7,8,9,10].map(G=>e.jsxs(Pe,{value:G.toString(),"data-testid":`select-travelers-${G}`,children:[G," ",G===1?"traveler":"travelers"]},G))})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(ye,{htmlFor:"location",className:"text-sm font-medium",children:_.locationLabel}),e.jsx(Ne,{id:"location",placeholder:"Eg: Paris, New York, Japan",value:R,onChange:G=>z(G.target.value),className:"mt-1","data-testid":"input-location"})]}),e.jsxs("div",{children:[e.jsx(ye,{htmlFor:"origin",className:"text-sm font-medium",children:"City of Origin:"}),e.jsx(Ne,{id:"origin",placeholder:"Eg: Los Angeles, Chicago, Miami",value:A,onChange:G=>{V(G.target.value),I("")},className:"mt-1","data-testid":"input-origin"})]}),e.jsxs("div",{children:[e.jsx(ye,{className:"text-sm font-medium",children:_.dateLabel}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-1",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"From"}),e.jsxs(yn,{children:[e.jsx(jn,{asChild:!0,children:e.jsxs(S,{variant:"outline",size:"sm",className:te("w-full mt-1 justify-start text-left font-normal",!q&&"text-muted-foreground",ra&&"border-red-500"),"data-testid":"button-start-date",children:[e.jsx(Ge,{className:"mr-2 h-4 w-4"}),q?Et(q,"M/d/yyyy"):"Select"]})}),e.jsx(tn,{className:"w-auto p-0",children:e.jsx(Tl,{mode:"single",selected:q,onSelect:fe,initialFocus:!0})})]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"To"}),e.jsxs(yn,{children:[e.jsx(jn,{asChild:!0,children:e.jsxs(S,{variant:"outline",size:"sm",className:te("w-full mt-1 justify-start text-left font-normal",!oe&&"text-muted-foreground",ra&&"border-red-500"),"data-testid":"button-end-date",children:[e.jsx(Ge,{className:"mr-2 h-4 w-4"}),oe?Et(oe,"M/d/yyyy"):"Select"]})}),e.jsx(tn,{className:"w-auto p-0",children:e.jsx(Tl,{mode:"single",selected:oe,onSelect:un,disabled:G=>q?G<q:!1,initialFocus:!0})})]})]})]}),ra&&e.jsx("p",{className:"text-xs text-red-500 mt-1","data-testid":"text-date-error",children:ra})]}),e.jsxs(S,{className:"w-full bg-[#FF385C]  text-white",disabled:!!ra||!R.trim(),onClick:()=>{Ue(!0),l({title:"Details Saved",description:"Your travel details have been applied. Browse the tabs to find flights, hotels, and more!"})},"data-testid":"button-submit-details",children:["Submit ",x.name," Details"]})]})]})}),e.jsx("div",{className:"sticky top-0 z-40 bg-white dark:bg-gray-800 border-b",children:e.jsxs("div",{className:"container mx-auto px-4",children:[m==="wedding"&&_.modes&&e.jsxs("div",{className:"flex items-center justify-center gap-2 py-2 border-b border-gray-100 dark:border-gray-700",children:[e.jsx(S,{variant:$t==="planning"?"default":"outline",size:"sm",onClick:()=>{ss("planning"),ie(_.modes?.planning?.tabs[0]?.id||"venues")},className:$t==="planning"?"bg-[#FF385C]":"","data-testid":"button-wedding-mode-planning",children:"Planning Mode"}),e.jsx(S,{variant:$t==="guest"?"default":"outline",size:"sm",onClick:()=>{ss("guest"),ie(_.modes?.guest?.tabs[0]?.id||"activities")},className:$t==="guest"?"bg-[#FF385C]":"","data-testid":"button-wedding-mode-guest",children:"Guest Activities"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(Na,{value:me,onValueChange:ie,className:"w-full",children:[e.jsx(ca,{className:"h-auto bg-transparent p-0 gap-0",children:Ds.map(G=>e.jsx(it,{value:G.id,className:te("rounded-none border-b-2 border-transparent px-4 py-3 data-[state=active]:border-[#FF385C] data-[state=active]:text-[#FF385C]","data-[state=active]:shadow-none"),"data-testid":`tab-${G.id}`,children:G.label},G.id))}),e.jsxs("div",{className:"mt-2 space-y-1",children:[e.jsx("div",{className:"h-px bg-gray-200 dark:bg-gray-700 w-full"}),e.jsx("div",{className:"h-px bg-gray-200 dark:bg-gray-700 w-full"})]})]}),e.jsx(Rg,{open:pr,onOpenChange:ar,children:e.jsxs(cx,{className:"flex flex-col h-full",children:[e.jsx(dx,{className:"flex-shrink-0",children:e.jsx(ux,{children:"Your Selection"})}),e.jsx("div",{className:"flex-1 overflow-y-auto mt-4 pr-1",children:C.length===0?e.jsx("p",{className:"text-muted-foreground text-center py-8",children:"Your cart is empty"}):e.jsx("div",{className:"space-y-4 pb-4",children:C.map(G=>e.jsx(P,{children:e.jsxs(F,{className:"p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:G.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:G.provider})]}),e.jsx(S,{variant:"ghost",size:"icon",onClick:()=>Md(G.id),"data-testid":`button-remove-${G.id}`,children:e.jsx(Ia,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(ye,{className:"text-xs text-muted-foreground",children:["Quantity: ",G.quantity]}),e.jsxs("span",{className:"text-sm font-medium",children:["$",G.price*G.quantity]})]}),e.jsx(co,{value:[G.quantity],onValueChange:([Oe])=>mv(G.id,Oe),min:1,max:10,step:1,className:"w-full","data-testid":`slider-quantity-${G.id}`})]})]})},G.id))})}),C.length>0&&e.jsxs("div",{className:"flex-shrink-0 pt-4 border-t mt-auto",children:[e.jsx(ime,{onConnect:()=>{ar(!1),Vl()},cartTotal:Co}),e.jsxs("div",{className:"flex justify-between mb-4",children:[e.jsx("span",{className:"font-medium",children:"Total"}),e.jsxs("span",{className:"font-bold",children:["$",Co]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(S,{className:"w-full bg-[#FF385C] ",onClick:Qs,disabled:jc,"data-testid":"button-compare-ai",children:[jc?e.jsx(ot,{className:"w-4 h-4 mr-2 animate-spin"}):e.jsx(S_,{className:"w-4 h-4 mr-2"}),"Compare AI Alternatives"]}),e.jsx(S,{variant:"outline",className:"w-full",onClick:()=>{ar(!1),setTimeout(()=>i("/cart"),150)},"data-testid":"button-checkout",children:"Proceed to Checkout"})]})]})]})})]})]})}),e.jsxs("div",{className:"container mx-auto px-4 py-6",children:[e.jsxs(vd,{open:wa,onOpenChange:Re,children:[e.jsx(yd,{asChild:!0,children:e.jsxs(S,{variant:"ghost",className:"gap-2 mb-4","data-testid":"button-toggle-filters",children:[e.jsx(Uu,{className:"w-4 h-4"}),"Filters & Sort",e.jsx(qs,{className:te("w-4 h-4 transition-transform",wa&&"rotate-180")})]})}),e.jsx(jd,{children:e.jsx(P,{className:"mb-6",children:e.jsx(F,{className:"p-4 space-y-4",children:me==="flights"?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsxs("div",{className:"min-w-[200px] flex-1",children:[e.jsxs(ye,{className:"text-sm font-medium",children:["Max Price: $",ze]}),e.jsx(co,{value:[ze],onValueChange:G=>ft(G[0]),min:100,max:5e3,step:100,className:"mt-2","data-testid":"slider-flight-price"})]}),e.jsxs("div",{className:"min-w-[200px] flex-1",children:[e.jsx(ye,{className:"text-sm font-medium",children:"Stops"}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:[{value:"any",label:"Any"},{value:"nonstop",label:"Nonstop"},{value:"1stop",label:"1 Stop"}].map(G=>e.jsx(S,{variant:Nt===G.value?"default":"outline",size:"sm",onClick:()=>ht(G.value),className:Nt===G.value?"bg-[#FF385C]":"","data-testid":`button-stops-${G.value}`,children:G.label},G.value))})]}),e.jsxs("div",{className:"min-w-[140px] max-w-[180px]",children:[e.jsx(ye,{className:"text-sm font-medium",children:"Sort By"}),e.jsxs(Wt,{value:Lt,onValueChange:G=>gs(G),children:[e.jsx(Vt,{className:"mt-2","data-testid":"select-flight-sort",children:e.jsx(Gt,{})}),e.jsxs(Ut,{children:[e.jsx(Pe,{value:"price",children:"Lowest Price"}),e.jsx(Pe,{value:"duration",children:"Shortest Duration"}),e.jsx(Pe,{value:"departure",children:"Earliest Departure"})]})]})]})]})}):me==="hotels"||me==="accommodations"?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsxs("div",{className:"min-w-[200px] flex-1",children:[e.jsxs(ye,{className:"text-sm font-medium",children:["Max Price/Night: $",ks]}),e.jsx(co,{value:[ks],onValueChange:G=>Ys(G[0]),min:50,max:1e3,step:25,className:"mt-2","data-testid":"slider-hotel-price"})]}),e.jsxs("div",{className:"min-w-[200px] flex-1",children:[e.jsx(ye,{className:"text-sm font-medium",children:"Star Rating"}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:[0,3,4,5].map(G=>e.jsx(S,{variant:cs===G?"default":"outline",size:"sm",onClick:()=>ce(G),className:cs===G?"bg-[#FF385C]":"","data-testid":`button-stars-${G}`,children:G===0?"All":e.jsxs(e.Fragment,{children:[e.jsx(rt,{className:"w-3 h-3 mr-1 fill-current"}),G,"+"]})},G))})]}),e.jsxs("div",{className:"min-w-[140px] max-w-[180px]",children:[e.jsx(ye,{className:"text-sm font-medium",children:"Sort By"}),e.jsxs(Wt,{value:at,onValueChange:G=>Z(G),children:[e.jsx(Vt,{className:"mt-2","data-testid":"select-hotel-sort",children:e.jsx(Gt,{})}),e.jsxs(Ut,{children:[e.jsx(Pe,{value:"price",children:"Lowest Price"}),e.jsx(Pe,{value:"rating",children:"Highest Rating"})]})]})]})]})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx(ye,{className:"text-sm font-medium",children:"Search"}),e.jsxs("div",{className:"relative mt-1",children:[e.jsx(Ne,{placeholder:"Search by name, provider, or description...",value:B,onChange:G=>ae(G.target.value),className:"pl-10","data-testid":"input-search"}),e.jsx(ws,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsxs("div",{className:"min-w-[200px] flex-1",children:[e.jsxs(ye,{className:"text-sm font-medium",children:["Price Range: $",ke[0]," - $",ke[1],"+"]}),e.jsx(co,{value:ke,onValueChange:$,max:500,step:10,className:"mt-2","data-testid":"slider-price"})]}),e.jsxs("div",{className:"min-w-[200px] flex-1",children:[e.jsx(ye,{className:"text-sm font-medium",children:"Minimum Rating"}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:[0,3,3.5,4,4.5].map(G=>e.jsx(S,{variant:L===G?"default":"outline",size:"sm",onClick:()=>W(G),className:L===G?"bg-[#FF385C]":"","data-testid":`button-rating-${G}`,children:G===0?"All":e.jsxs(e.Fragment,{children:[e.jsx(rt,{className:"w-3 h-3 mr-1"}),G,"+"]})},G))})]}),e.jsxs("div",{className:"min-w-[140px] max-w-[180px]",children:[e.jsx(ye,{className:"text-sm font-medium",children:"Sort By"}),e.jsxs(Wt,{value:re,onValueChange:se,children:[e.jsx(Vt,{className:"mt-2","data-testid":"select-sort",children:e.jsx(Gt,{})}),e.jsxs(Ut,{children:[e.jsx(Pe,{value:"popular",children:"Most Popular"}),e.jsx(Pe,{value:"price-low",children:"Price: Low to High"}),e.jsx(Pe,{value:"price-high",children:"Price: High to Low"}),e.jsx(Pe,{value:"rating",children:"Highest Rated"})]})]})]})]}),e.jsxs("div",{children:[e.jsx(ye,{className:"text-sm font-medium mb-2 block",children:"Preferences"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[_.filters.map(G=>e.jsx(O,{variant:ge.includes(G)?"default":"outline",className:te("cursor-pointer",ge.includes(G)&&"bg-[#FF385C]"),onClick:()=>Ul(G),"data-testid":`filter-${G.toLowerCase()}`,children:G},G)),me==="activities"&&[{id:"culture",label:"Culture & History"},{id:"food",label:"Food & Dining"},{id:"adventure",label:"Adventure"},{id:"nature",label:"Nature & Outdoors"},{id:"nightlife",label:"Nightlife"},{id:"shopping",label:"Shopping"},{id:"wellness",label:"Wellness & Spa"},{id:"art",label:"Art & Museums"}].map(G=>e.jsx(O,{variant:J.includes(G.id)?"default":"outline",className:te("cursor-pointer",J.includes(G.id)&&"bg-[#FF385C]"),onClick:()=>mn(G.id),"data-testid":`interest-filter-${G.id}`,children:G.label},G.id)),(ge.length>0||J.length>0)&&e.jsx(S,{variant:"ghost",size:"sm",className:"text-xs h-6",onClick:()=>{K([]),je([])},"data-testid":"button-clear-filters",children:"Clear all"})]})]})]})})})})]}),ut&&x?.id&&e.jsx("div",{className:"mb-6",children:e.jsx(mhe,{experienceTypeId:x.id,activeTab:me,selectedFilters:Ve.selectedFilters,onFilterChange:Ve.onFilterChange,onClearFilters:Ve.onClearFilters})}),me==="flights"&&!Qe&&e.jsx(P,{className:"border-2 border-dashed mb-6",children:e.jsxs(F,{className:"p-8 text-center",children:[e.jsx(Pt,{className:"h-12 w-12 mx-auto mb-3 text-muted-foreground"}),e.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Search Flights"}),e.jsx("p",{className:"text-muted-foreground",children:'Fill in your Travel Details above and click "Submit" to search for available flights.'})]})}),me==="flights"&&Qe&&e.jsx("div",{className:"mb-6",children:e.jsx(Ume,{destination:R,origin:A,startDate:q,endDate:oe,travelers:xe,maxPrice:ze,stops:Nt,sortBy:Lt,onSelectFlight:G=>{const Oe=G.itineraries[0],Se=Oe?.segments[0],Ts=Oe?.segments[Oe.segments.length-1],ys=G.travelerPricings?.[0]?.fareDetailsBySegment?.[0],Xs=ys?.includedCheckedBags,Ya=Xs?.quantity!==void 0?`${Xs.quantity} bag${Xs.quantity!==1?"s":""}`:Xs?.weight?`${Xs.weight}${Xs.weightUnit||"kg"}`:void 0;na({id:`flight-${G.id}`,type:"flights",name:`${Se?.departure.iataCode}  ${Ts?.arrival.iataCode}`,price:parseFloat(G.price.total),quantity:1,provider:`${Se?.carrierCode} ${Se?.number}`,details:`${ys?.cabin||"Economy"} class${Ya?`, ${Ya}`:""}`,isExternal:!0,metadata:{cabin:ys?.cabin,baggage:Ya,stops:Oe?.segments.length-1,duration:Oe?.duration,airline:Se?.carrierCode,flightNumber:`${Se?.carrierCode}${Se?.number}`,departureTime:Se?.departure.at,arrivalTime:Ts?.arrival.at,seatsLeft:G.numberOfBookableSeats,lastTicketingDate:G.lastTicketingDate,travelers:xe,rawData:G}})}})}),(me==="hotels"||me==="accommodations")&&!Qe&&e.jsx(P,{className:"border-2 border-dashed mb-6",children:e.jsxs(F,{className:"p-8 text-center",children:[e.jsx(Us,{className:"h-12 w-12 mx-auto mb-3 text-muted-foreground"}),e.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Search Hotels"}),e.jsx("p",{className:"text-muted-foreground",children:'Fill in your Travel Details above and click "Submit" to search for available hotels.'})]})}),(me==="hotels"||me==="accommodations")&&Qe&&e.jsx("div",{className:"mb-6",children:e.jsx(Gme,{destination:R,checkIn:q,checkOut:oe,guests:xe,maxPrice:ks,starRating:cs,sortBy:at,activityLocations:fl,onResultsLoaded:Fd,destinationCenter:le,onSelectHotel:G=>{const Oe=G.hotel,Se=G.offers?.[0],Ts=Se?Math.max(1,Math.ceil((new Date(Se.checkOutDate).getTime()-new Date(Se.checkInDate).getTime())/(1e3*60*60*24))):1,is=Se?parseFloat(Se.price.total):0,ys=is/Ts,Xs=Se?.policies?.refundable?.cancellationRefund,Ya=Xs==="REFUNDABLE_UP_TO_DEADLINE"||Xs==="REFUNDABLE",yi=Se?.policies?.cancellations?.[0]?.deadline,ha=Se?.boardType,Oa=Se?.room?.typeEstimated,gl=Oa?.beds&&Oa?.bedType?`${Oa.beds} ${Oa.bedType.toLowerCase()}`:void 0,vl=Oa?.category?.replace(/_/g," ").toLowerCase(),kc=Se?.price?.taxes?.filter(Hl=>!Hl.included)?.reduce((Hl,yl)=>Hl+parseFloat(yl.amount),0)||0;na({id:`hotel-${Oe.hotelId}`,type:me,name:Oe.name,price:is,quantity:1,provider:"Amadeus Hotels",details:`${Ts} nights${ha?`, ${ha.replace(/_/g," ").toLowerCase()}`:""}${Ya?", refundable":""}`,isExternal:!0,metadata:{refundable:Ya,cancellationDeadline:yi,boardType:ha,bedInfo:gl,roomCategory:vl,taxTotal:kc,nights:Ts,pricePerNight:ys,checkInDate:Se?.checkInDate,checkOutDate:Se?.checkOutDate,travelers:xe,rawData:G}})}})}),me==="services"&&e.jsx("div",{className:"mb-6",children:e.jsx(rT,{defaultLocation:R,showCategoryFilter:!0,onAddToCart:G=>{na({id:`service-${G.id}`,type:"services",name:G.serviceName,price:parseFloat(G.price)||0,quantity:1,provider:"Platform Service"})}})}),me==="transportation"&&!Qe&&e.jsx("div",{className:"mb-6",children:e.jsx(rT,{defaultLocation:R,categorySlug:"transportation-logistics",showCategoryFilter:!1,title:"Transportation Services",onAddToCart:G=>{na({id:`transport-${G.id}`,type:"transportation",name:G.serviceName,price:parseFloat(G.price)||0,quantity:1,provider:"Platform Service"})}})}),me==="transportation"&&Qe&&e.jsxs("div",{className:"mb-6 space-y-6",children:[e.jsx(iT,{destination:R,startDate:q,endDate:oe,travelers:xe,filterType:"transport",onResultsLoaded:Dt,destinationCenter:le,onSelectActivity:G=>{const Oe=G.duration?.fixedDurationInMinutes||G.duration?.variableDurationFromMinutes||0,Se=Oe>0?Math.ceil(Oe/60):void 0,is=G.cancellationPolicy?.refundEligibility?.find(ha=>ha.percentageRefundable===100),ys=!!is,Xs=G.logistics;let Ya,yi;if(Xs?.start?.[0]){const ha=Xs.start[0].location,Oa=ha?.address;Ya=ha?.name||[Oa?.street,Oa?.city,Oa?.state,Oa?.country].filter(Boolean).join(", ")||Xs.start[0].description,ha?.coordinates&&(yi={lat:ha.coordinates.latitude,lng:ha.coordinates.longitude})}na({id:`transport-viator-${G.productCode}`,type:"transportation",name:G.title,price:(G.pricing?.summary?.fromPrice||0)*xe,quantity:1,provider:"Viator",details:`${Se?`${Se}h`:"Duration varies"}${ys?", Free cancellation":""}${Ya?` | ${Ya}`:""}`,isExternal:!0,metadata:{refundable:ys,cancellationDeadline:is?.dayRangeMin?`${is.dayRangeMin} days before`:void 0,duration:Se?`${Se} hours`:void 0,travelers:xe,meetingPoint:Ya,meetingPointCoordinates:yi,rawData:G}})}}),(fl.length>0||Yn)&&e.jsxs("div",{className:"mt-6 border-t pt-6",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[e.jsx(zs,{className:"h-5 w-5 text-[#FF385C]"}),"Getting Around"]}),e.jsx(cme,{activityLocations:fl,hotelLocation:Yn,initialTransitRoutes:Nc,onActivitySelect:wc})]}),e.jsx("div",{className:"mt-6 border-t pt-6",children:e.jsx(jhe,{cart:C,destination:R,startDate:q,endDate:oe,travelers:xe,onBookTransfer:(G,Oe)=>{na({id:`transport-${G.id}-${Date.now()}`,type:"transportation",name:`${Oe.name}: ${G.from.name}  ${G.to.name}`,price:Oe.price||0,quantity:1,provider:Oe.provider,details:Oe.description,isExternal:!0})}})})]}),me==="activities"&&!Qe&&e.jsx(P,{className:"border-2 border-dashed mb-6",children:e.jsxs(F,{className:"p-8 text-center",children:[e.jsx(Jc,{className:"h-12 w-12 mx-auto mb-3 text-muted-foreground"}),e.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Search Activities"}),e.jsx("p",{className:"text-muted-foreground",children:'Fill in your Travel Details above and click "Submit" to search for tours and activities.'})]})}),me==="activities"&&Qe&&e.jsxs("div",{className:"mb-6 space-y-4",children:[e.jsx(iT,{destination:R,startDate:q,endDate:oe,travelers:xe,interests:J,onResultsLoaded:Dt,destinationCenter:le,onSelectActivity:G=>{const Oe=G.duration?.fixedDurationInMinutes||G.duration?.variableDurationFromMinutes||0,Se=Oe>0?Math.ceil(Oe/60):void 0,is=G.cancellationPolicy?.refundEligibility?.find(ha=>ha.percentageRefundable===100),ys=!!is,Xs=G.logistics;let Ya,yi;if(Xs?.start?.[0]){const ha=Xs.start[0].location,Oa=ha?.address;Ya=ha?.name||[Oa?.street,Oa?.city,Oa?.state,Oa?.country].filter(Boolean).join(", ")||Xs.start[0].description,ha?.coordinates&&(yi={lat:ha.coordinates.latitude,lng:ha.coordinates.longitude})}na({id:`activity-${G.productCode}`,type:"activities",name:G.title,price:(G.pricing?.summary?.fromPrice||0)*xe,quantity:1,provider:"Viator",details:`${Se?`${Se}h`:"Duration varies"}${ys?", Free cancellation":""}${Ya?` | ${Ya}`:""}`,isExternal:!0,metadata:{refundable:ys,cancellationDeadline:is?.dayRangeMin?`${is.dayRangeMin} days before`:void 0,duration:Se?`${Se} hours`:void 0,travelers:xe,meetingPoint:Ya,meetingPointCoordinates:yi,rawData:G}})}}),le&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsx(phe,{latitude:le.lat,longitude:le.lng,onAddToCart:G=>{na({id:G.id,type:G.type,name:G.name,price:G.price,quantity:G.quantity,provider:G.provider,details:G.details,isExternal:G.isExternal})}})}),e.jsx("div",{children:e.jsx(yhe,{latitude:le.lat,longitude:le.lng})})]})]}),me!=="flights"&&me!=="hotels"&&me!=="services"&&me!=="transportation"&&me!=="activities"&&e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:Fn.length>0?`Showing ${Fn.length} ${Fn.length===1?"provider":"providers"}${gt.length>0?` + ${gt.length} custom`:""}${R?` in ${R}`:""}`:R?`No providers found in ${R}`:"Enter a location to see available options"}),(me==="venue"||me==="accommodations"||me==="hotels")&&e.jsxs(S,{variant:"outline",size:"sm",onClick:()=>wo(!0),"data-testid":"button-add-custom-venue",children:[e.jsx(ps,{className:"w-4 h-4 mr-1"}),"Add Custom Location"]})]}),me!=="flights"&&me!=="hotels"&&me!=="services"&&me!=="transportation"&&me!=="activities"&&me!=="logistics"&&e.jsx("div",{className:"flex gap-6",children:e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(me==="venue"||me==="accommodations"||me==="hotels")&&gt.length>0&&gt.map(G=>{const Oe=`custom-${G.id}`,Se=To.includes(Oe);return e.jsxs(P,{className:"overflow-hidden hover-elevate border-dashed border-2 border-[#FF385C]/30",children:[e.jsx("div",{className:"h-48 bg-gradient-to-br from-[#FF385C]/10 to-[#FF385C]/20 flex items-center justify-center",children:e.jsx(Me,{className:"w-12 h-12 text-[#FF385C]"})}),e.jsxs(F,{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx("h3",{className:"font-semibold text-lg",children:G.name}),e.jsx(O,{variant:"outline",className:"text-xs border-[#FF385C] text-[#FF385C]",children:"Custom"})]}),e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mb-3",children:G.address||G.notes||"Custom location"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-bold text-lg",children:G.estimatedCost?`$${G.estimatedCost}`:"Free"}),Se?e.jsxs(S,{size:"sm",variant:"outline",className:"border-red-500 text-red-500 hover:bg-red-50",onClick:()=>Md(Oe),"data-testid":`button-remove-custom-${G.id}`,children:[e.jsx(Ia,{className:"w-4 h-4 mr-1"}),"Remove"]}):e.jsxs(S,{size:"sm",className:"bg-[#FF385C] ",onClick:()=>na({id:Oe,type:"venue",name:G.name,price:Number(G.estimatedCost)||0,quantity:1,provider:"Custom Venue"}),"data-testid":`button-add-custom-${G.id}`,children:[e.jsx(ps,{className:"w-4 h-4 mr-1"}),"Add"]})]})]})]},Oe)}),b?[1,2,3,4,5,6].map(G=>e.jsxs(P,{children:[e.jsx(_e,{className:"h-48 w-full"}),e.jsxs(F,{className:"p-4",children:[e.jsx(_e,{className:"h-6 w-3/4 mb-2"}),e.jsx(_e,{className:"h-4 w-full mb-2"}),e.jsx(_e,{className:"h-4 w-1/2"})]})]},G)):Fn.length>0?Fn.map(G=>e.jsxs(P,{className:"overflow-hidden hover-elevate",children:[e.jsx("div",{className:"h-48 bg-gradient-to-br from-gray-200 to-gray-300 dark:from-gray-700 dark:to-gray-800 flex items-center justify-center",children:e.jsx(va,{className:"w-12 h-12 text-gray-400"})}),e.jsxs(F,{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx("h3",{className:"font-semibold text-lg",children:G.serviceName}),e.jsxs(O,{variant:"secondary",className:"text-xs",children:[e.jsx(rt,{className:"w-3 h-3 mr-1 fill-amber-400 text-amber-400"}),G.averageRating||"4.8"]})]}),e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mb-3",children:G.shortDescription||G.description}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"font-bold text-lg",children:["$",G.price||0]}),e.jsxs(S,{size:"sm",className:"bg-[#FF385C] ",onClick:()=>na({id:G.id.toString(),type:me,name:G.serviceName,price:Number(G.price)||0,quantity:1,provider:"Platform Provider"}),"data-testid":`button-add-${G.id}`,children:[e.jsx(ps,{className:"w-4 h-4 mr-1"}),"Add"]})]})]})]},G.id)):e.jsxs("div",{className:"col-span-full text-center py-12",children:[e.jsx(va,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"No providers available yet"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"We're adding providers for this category. Check back soon!"}),e.jsx(S,{variant:"outline","data-testid":"button-notify-me",children:"Notify Me When Available"})]})]})})})]})]}),C.length>0&&e.jsx("div",{className:"flex-shrink-0 border-t bg-white dark:bg-gray-800 px-4 py-3 shadow-lg","data-testid":"cart-summary-persistent",children:e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[e.jsxs(O,{variant:"secondary",className:"flex-shrink-0","data-testid":"badge-cart-count",children:[C.length," item",C.length!==1?"s":""]}),e.jsxs("div",{className:"flex gap-2 overflow-x-auto scrollbar-hide",children:[C.slice(0,3).map(G=>e.jsx(O,{variant:"outline",className:"flex-shrink-0 max-w-[120px] truncate text-xs","data-testid":`badge-cart-item-${G.id}`,children:G.name},G.id)),C.length>3&&e.jsxs(O,{variant:"outline",className:"flex-shrink-0 text-xs",children:["+",C.length-3," more"]})]})]}),e.jsxs("div",{className:"flex items-center gap-3 flex-shrink-0",children:[e.jsxs("span",{className:"font-bold text-lg","data-testid":"text-cart-total-persistent",children:["$",Co.toLocaleString()]}),e.jsxs(S,{size:"sm",onClick:()=>{sessionStorage.setItem("experienceContext",JSON.stringify({title:`${x?.name} Experience`,experienceType:x?.name,experienceSlug:m,destination:R,startDate:q?.toISOString().split("T")[0],endDate:oe?.toISOString().split("T")[0],travelers:2})),i("/cart")},className:"bg-[#FF385C]","data-testid":"button-view-cart-persistent",children:[e.jsx(Nn,{className:"w-4 h-4 mr-1"}),"View Cart"]})]})]})})]}),e.jsx(SI,{className:"w-2 bg-gray-200 dark:bg-gray-700 hover:bg-[#FF385C] transition-colors cursor-col-resize flex items-center justify-center",children:e.jsx("div",{className:"w-1 h-8 bg-gray-400 dark:bg-gray-500 rounded-full"})}),e.jsx(DN,{defaultSize:40,minSize:20,maxSize:60,className:"relative",children:e.jsx(J3,{providers:So,selectedProviderIds:To,destination:R,destinationCenter:le,onAddToCart:G=>na({id:G.id,type:G.category,name:G.name,price:G.price,quantity:1,provider:"Platform Provider"}),onRemoveFromCart:Md,height:"100%",activityLocations:fl,hotelLocation:Yn,transitRoutes:Nc,highlightedActivityId:Cm})})]}),e.jsxs("div",{className:"lg:hidden flex flex-col min-h-screen",children:[e.jsxs("div",{className:"relative h-48 flex-shrink-0 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:`url('${_.heroImage}')`}}),e.jsxs("div",{className:"absolute top-0 left-0 right-0 bg-white/90 backdrop-blur-sm px-3 py-2 flex items-center justify-end gap-2 z-10",children:[e.jsx(Ce,{href:"/credits",children:e.jsxs(S,{variant:"outline",size:"sm",className:"gap-1 text-xs",children:[e.jsx(FC,{className:"w-3 h-3 text-amber-500"}),ma,e.jsx(ps,{className:"w-2 h-2"})]})}),e.jsxs(S,{variant:"outline",size:"sm",className:"gap-1 text-xs",onClick:Vl,"data-testid":"button-expert-help-ribbon-mobile",children:[e.jsx(Qi,{className:"w-3 h-3"}),"Expert"]}),e.jsxs(S,{variant:"outline",size:"sm",onClick:()=>{sessionStorage.setItem("experienceContext",JSON.stringify({title:`${x.name} Experience`,experienceType:x.name,destination:R,startDate:q?.toISOString().split("T")[0],endDate:oe?.toISOString().split("T")[0],travelers:2})),i("/cart")},className:"gap-1 px-2","data-testid":"button-cart-ribbon-mobile",children:[e.jsx(Nn,{className:"w-3 h-3"}),e.jsx("span",{"data-testid":"text-cart-items-mobile",children:C.length})]}),e.jsxs(S,{size:"sm",onClick:_a,disabled:!Dn,className:"gap-1 px-2 bg-[#FF385C]","data-testid":"button-generate-ribbon-mobile",children:[e.jsx(Xo,{className:"w-3 h-3"}),"Generate"]})]})]}),e.jsx(P,{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md border p-4 w-full max-w-md mx-auto mt-[-80px] z-20 relative",children:e.jsxs(F,{className:"p-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h2",{className:"text-lg font-semibold",children:[x.name," Details"]}),e.jsx(et,{className:"w-4 h-4 text-gray-400"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx(ye,{className:"text-sm font-medium",children:_.locationLabel}),e.jsx(Ne,{placeholder:"Eg: Paris, New York",value:R,onChange:G=>z(G.target.value),className:"mt-1"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:"From"}),e.jsxs(yn,{children:[e.jsx(jn,{asChild:!0,children:e.jsxs(S,{variant:"outline",size:"sm",className:"w-full mt-1 justify-start text-xs",children:[e.jsx(Ge,{className:"mr-1 h-3 w-3"}),q?Et(q,"M/d/yy"):"Select"]})}),e.jsx(tn,{className:"w-auto p-0",children:e.jsx(Tl,{mode:"single",selected:q,onSelect:fe})})]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:"To"}),e.jsxs(yn,{children:[e.jsx(jn,{asChild:!0,children:e.jsxs(S,{variant:"outline",size:"sm",className:"w-full mt-1 justify-start text-xs",children:[e.jsx(Ge,{className:"mr-1 h-3 w-3"}),oe?Et(oe,"M/d/yy"):"Select"]})}),e.jsx(tn,{className:"w-auto p-0",children:e.jsx(Tl,{mode:"single",selected:oe,onSelect:un,disabled:G=>q?G<q:!1})})]})]})]}),e.jsx(S,{className:"w-full bg-[#FF385C]  text-white",disabled:!!ra,children:"Submit Details"})]})]})}),m==="wedding"&&_.modes&&e.jsxs("div",{className:"flex items-center justify-center gap-2 py-2 border-b bg-white dark:bg-gray-800",children:[e.jsx(S,{variant:$t==="planning"?"default":"outline",size:"sm",onClick:()=>{ss("planning"),ie(_.modes?.planning?.tabs[0]?.id||"venues")},className:$t==="planning"?"bg-[#FF385C]":"",children:"Planning"}),e.jsx(S,{variant:$t==="guest"?"default":"outline",size:"sm",onClick:()=>{ss("guest"),ie(_.modes?.guest?.tabs[0]?.id||"activities")},className:$t==="guest"?"bg-[#FF385C]":"",children:"Guest Activities"})]}),e.jsx("div",{className:"bg-white dark:bg-gray-800 border-b mt-4 px-2 overflow-x-auto",children:e.jsx(Na,{value:me,onValueChange:ie,children:e.jsx(ca,{className:"h-auto bg-transparent p-0 gap-0 flex-nowrap",children:Ds.map(G=>e.jsx(it,{value:G.id,className:"rounded-none border-b-2 border-transparent px-3 py-2 text-sm data-[state=active]:border-[#FF385C] data-[state=active]:text-[#FF385C] whitespace-nowrap",children:G.label},G.id))})})}),e.jsx("div",{className:"flex-1 p-4 pb-20",children:e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:b?[1,2,3,4].map(G=>e.jsx(P,{children:e.jsx(_e,{className:"h-40 w-full"})},G)):Fn.length>0?Fn.slice(0,6).map(G=>e.jsxs(P,{className:"overflow-hidden",children:[e.jsx("div",{className:"h-32 bg-gradient-to-br from-gray-200 to-gray-300 flex items-center justify-center",children:e.jsx(va,{className:"w-8 h-8 text-gray-400"})}),e.jsxs(F,{className:"p-3",children:[e.jsx("h3",{className:"font-medium text-sm truncate",children:G.serviceName}),e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsxs("span",{className:"font-bold",children:["$",G.price||0]}),e.jsxs(S,{size:"sm",className:"bg-[#FF385C]  h-7 text-xs",onClick:()=>na({id:G.id.toString(),type:me,name:G.serviceName,price:Number(G.price)||0,quantity:1,provider:"Platform Provider"}),children:[e.jsx(ps,{className:"w-3 h-3 mr-1"}),"Add"]})]})]})]},G.id)):e.jsxs("div",{className:"col-span-full text-center py-8",children:[e.jsx(va,{className:"w-10 h-10 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"No providers available yet"})]})})})]}),e.jsx("div",{className:"lg:hidden",children:e.jsx(vd,{children:e.jsxs("div",{className:"sticky bottom-0 bg-white dark:bg-gray-800 border-t shadow-lg z-40",children:[e.jsx(yd,{asChild:!0,children:e.jsxs(S,{variant:"ghost",className:"w-full flex items-center justify-between p-4 h-auto","data-testid":"button-toggle-map-mobile",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Me,{className:"w-5 h-5 text-[#FF385C]"}),e.jsx("span",{className:"font-medium",children:"View Map"}),C.length>0&&e.jsxs(O,{className:"bg-[#FF385C]",children:[C.length," selected"]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[C.length>0&&e.jsxs("span",{className:"font-bold text-[#FF385C]",children:["$",Co]}),e.jsx(qs,{className:"w-5 h-5"})]})]})}),e.jsx(jd,{children:e.jsx("div",{className:"h-[300px] border-t",children:e.jsx(J3,{providers:So,selectedProviderIds:To,destination:R,destinationCenter:le,onAddToCart:G=>na({id:G.id,type:G.category,name:G.name,price:G.price,quantity:1,provider:"Platform Provider"}),onRemoveFromCart:Md,height:"100%",activityLocations:fl,hotelLocation:Yn,transitRoutes:Nc})})})]})})}),e.jsx(Rg,{open:aa,onOpenChange:Zs,children:e.jsxs(cx,{side:"right",className:"w-full sm:max-w-lg overflow-y-auto",children:[e.jsx(dx,{children:e.jsxs(ux,{className:"flex items-center gap-2",children:[e.jsx(qe,{className:"w-5 h-5 text-[#FF385C]"}),"AI Optimization"]})}),e.jsx("div",{className:"mt-4",children:e.jsx(whe,{experienceType:x,destination:R,date:q,cart:C})})]})}),e.jsx(nme,{experienceType:x?.name,destination:R,onRequestExpert:()=>{},isOpen:Ct,onClose:()=>ls(!1)}),!Ct&&e.jsx(S,{onClick:()=>{xl||ls(!0)},onMouseDown:G=>{G.preventDefault(),fr(G.clientX,G.clientY)},onTouchStart:G=>{G.touches.length===1&&fr(G.touches[0].clientX,G.touches[0].clientY)},className:te("fixed h-14 w-14 rounded-full bg-[#FF385C]  shadow-lg z-[9999] cursor-grab",Fr&&"cursor-grabbing"),style:{bottom:`${Ka.y}px`,right:`${Ka.x}px`},size:"icon","data-testid":"button-open-chat",children:e.jsx(Qi,{className:"w-6 h-6"})}),e.jsx(gme,{open:vi,onOpenChange:wo,experienceType:m,userId:c?.id,onVenueAdded:G=>{_t.invalidateQueries({queryKey:["/api/custom-venues",m]}),na({id:`custom-${G.id}`,type:"venue",name:G.name,price:Number(G.estimatedCost)||0,quantity:1,provider:"Custom Venue"}),l({title:"Custom venue added",description:`${G.name} is now in your plan`})}}),e.jsx(rn,{open:Ga,onOpenChange:Cr,children:e.jsxs(zr,{className:"max-w-3xl max-h-[85vh] overflow-y-auto",children:[e.jsxs(Vr,{children:[e.jsxs(Ur,{className:"flex items-center gap-2",children:[e.jsx(Qi,{className:"w-5 h-5 text-[#FF385C]"}),"Get Expert Help"]}),e.jsx(nn,{children:"Find AI-matched experts or chat with an advisor for personalized travel guidance"})]}),e.jsxs(Na,{value:gi,onValueChange:G=>vs(G),className:"mt-4",children:[e.jsxs(ca,{className:"grid w-full grid-cols-2",children:[e.jsxs(it,{value:"ai-match",className:"gap-2","data-testid":"tab-ai-match",children:[e.jsx(qe,{className:"w-4 h-4"}),"AI-Matched Experts"]}),e.jsxs(it,{value:"chat",className:"gap-2","data-testid":"tab-chat",children:[e.jsx(Qi,{className:"w-4 h-4"}),"Live Chat"]})]}),e.jsxs("div",{className:"mt-4",children:[gi==="ai-match"&&e.jsx(dme,{destination:R,startDate:q,endDate:oe,experienceType:x?.name,travelers:xe,preferences:J,userId:c?.id,isVisible:!0}),gi==="chat"&&e.jsxs("div",{className:"min-h-[400px]",children:[e.jsx("p",{className:"text-center text-muted-foreground mb-4",children:"Click the chat button in the bottom right corner to start a conversation with a travel advisor."}),e.jsx("div",{className:"flex justify-center",children:e.jsxs(S,{onClick:()=>{Cr(!1),ls(!0)},className:"bg-[#FF385C]","data-testid":"button-start-chat",children:[e.jsx(Qi,{className:"w-4 h-4 mr-2"}),"Start Chat with Expert"]})})]})]})]})]})}),e.jsx(rn,{open:rr,onOpenChange:Hr,children:e.jsxs(zr,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(Vr,{children:[e.jsxs(Ur,{className:"flex items-center gap-2",children:[e.jsx(Xo,{className:"w-5 h-5 text-[#FF385C]"}),"AI Itinerary Builder",e.jsx(O,{variant:"secondary",className:"text-[10px] ml-2",children:"Powered by Grok"})]}),e.jsxs(nn,{children:["Let AI create a personalized day-by-day itinerary for your ",x?.name||"travel"," to ",R||"your destination"]})]}),e.jsx("div",{className:"mt-4",children:!R.trim()||!q||!oe?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(qe,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Complete Your Travel Details"}),e.jsx("p",{className:"text-muted-foreground max-w-md mx-auto mb-6",children:"Please fill in your destination and travel dates before generating an AI itinerary."}),e.jsxs(S,{variant:"outline",onClick:()=>{Hr(!1),document.querySelector('[data-testid="input-location"]')?.scrollIntoView({behavior:"smooth"})},"data-testid":"button-close-itinerary-dialog",children:[e.jsx(la,{className:"h-4 w-4 mr-2"}),"Fill Travel Details"]})]}):e.jsx(nhe,{destination:R,startDate:q,endDate:oe,travelers:xe,experienceType:x?.name,onClose:()=>Hr(!1),onSave:G=>{Hr(!1),i(`/itinerary/${G}`)}})})]})})]})}):e.jsx(Yt,{children:e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:e.jsxs(P,{className:"p-8 max-w-md text-center",children:[e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Experience Not Found"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"The experience type you're looking for doesn't exist."}),e.jsx(Ce,{href:"/",children:e.jsxs(S,{"data-testid":"button-back-home",children:[e.jsx(la,{className:"w-4 h-4 mr-2"}),"Back to Home"]})})]})})})}function khe(){return e.jsx("div",{className:"min-h-screen bg-background p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("h1",{className:"text-3xl font-bold mb-6","data-testid":"text-page-title",children:"Traveloure System Architecture"}),e.jsxs(P,{children:[e.jsx(Q,{children:e.jsx(X,{"data-testid":"text-diagram-title",children:"Complete Architecture Diagram"})}),e.jsx(F,{children:e.jsx("pre",{className:"text-[10px] sm:text-xs md:text-sm font-mono bg-muted p-4 rounded-lg overflow-x-auto whitespace-pre leading-relaxed","data-testid":"text-architecture-diagram",children:`

                              TRAVELOURE - AI-POWERED TRAVEL PLANNING PLATFORM                      
                                        SYSTEM ARCHITECTURE                                         




  FRONTEND LAYER (React 18 + TypeScript + Vite + TanStack Query + Wouter)                          

                                                                                                   
    
    EXPERIENCE TEMPLATES (22+ Template Types)                                                    
                                                                                                 
    Row 1:  Travel    Wedding    Proposal    Romance    Birthday    Corporate               
    Row 2:  Boys Trip    Girls Trip    Date Night    Corporate Events    Reunions            
    Row 3:  Wedding Anniversary    Retreats    Baby Shower    Honeymoon    Bachelor/ette     
    Row 4:  Family Reunion    Graduation    Religious Pilgrimage    Adventure    Wellness    
    Row 5:  Cultural Immersion    Food & Wine    Photography Tour    Solo Travel             
                                                                                                 
    Shared Template Features:                                                                    
     Dynamic tab system with category-specific content (Flights, Hotels, Activities, etc.)    
     Multi-level filtering (single_select, multi_select, range, toggle filter types)         
     Universal filters (date range, budget, booking status, traveler count)                  
     Interactive map view with provider locations and route visualization                    
     AI Optimization tab for itinerary analysis and suggestions                              
     Transportation tab with Trip Transport Planner integration                              
     Cart integration with real-time booking management                                      
     Real-time availability checking across all providers                                    
     Provider comparison, reviews, and ratings                                               
    
                                                                                                   
    
    TRIP TRANSPORT PLANNER                                                                       
    Features:                                                                                    
     Analyzes all cart bookings (flights, hotels, activities)                                 
     Builds transport timeline segments:                                                      
        Airport  Hotel (arrival)                                                              
        Hotel  Activities                                                                     
        Activity  Activity                                                                    
        Hotel  Airport (departure)                                                            
     Hotel transfer perk detection (shows "Covered" if included)                              
     Flight sorting by departure time for arrival/departure identification                    
     Transport options: Google Transit, Amadeus transfers, taxi/ride-share, 12Go affiliate    
    
                                                                                                   
    
    AI-POWERED FEATURES                                                                          
     AI Itinerary Builder        Autonomous trip planning with Grok                          
     Real-Time Intelligence      Live travel updates and alerts                              
     Expert-Traveler Matching    AI-powered matching with local experts                      
     AI Content Assistant        Helps experts create service descriptions                   
     Hidden Gems Discovery       12-category local secrets finder                            
     Spontaneous Activities      Real-time opportunity discovery with urgency scoring        
    
                                                                                                   
    
    ROLE-BASED DASHBOARDS                                                                        
     Provider Dashboard          Features: Bookings, Services, Earnings, Calendar           
     Admin Dashboard             Features: Users, Analytics, Revenue, System Config         
     Executive Assistant         Features: Executives, Events, Travel, Communications       
    
                                                                                                   
    
    CORE UI COMPONENTS                                                                           
     Amadeus POIs                Points of Interest discovery with categories                
     Amadeus Transfers           Airport transfer booking with vehicle options               
     Amadeus Safety              6-category safety ratings (LGBTQ+, medical, theft, etc.)    
     Google Maps Integration     Interactive mapping and route visualization                 
     Expert Advisor Chat         Direct communication with travel experts                    
     Wallet & Billing            Credit packages, transactions, payment management           
     Reviews & Notifications     User reviews and real-time updates                          
    
                                                                                                   

                                                 
                                                 

  BACKEND INTELLIGENCE LAYER (Express + Node.js + TypeScript + Zod)                                

                                                                                                   
    
    DUAL AI SYSTEM                                                                               
     AI Orchestrator             Routes requests to appropriate AI provider                  
     Grok (xAI)                  Expert matching, city intelligence, content generation,    
                                   autonomous itinerary building, hidden gems discovery        
     Anthropic Claude            Empathetic chat, itinerary optimization, transport          
                                   analysis, nuanced travel advice                             
     TravelPulse AI              Daily city intelligence updates                             
    
                                                                                                   
    
    LOGISTICS INTELLIGENCE LAYER                                                                 
     Payment Orchestration       Secure payment processing and transaction management        
     Multi-Person Coordination   RSVP tracking, group management, shared planning            
     Vendor Management           Provider onboarding, availability, communication            
     Itinerary Optimization      AI-powered scheduling and route optimization                
     Budget Intelligence         Cost splitting, currency conversion, tip calculation        
     Emergency Response          Crisis protocols and emergency contact management           
     Coordination Hub            Planning lifecycle, state management, bookings              
    
                                                                                                   
    
    INTEGRATION SERVICES                                                                         
     Amadeus Service             Flights, hotels, POIs, transfers, tours, safety ratings    
     Viator Partner API          Real-time tours and activities with booking                 
     Fever Partner API           Event discovery and ticketing in global cities              
     12Go Affiliate              Ground transport (trains, buses, ferries) ID: 13805109     
     SerpAPI Hybrid Search       Venue searches with native provider prioritization          
     Unified Experience Catalog  Cross-provider search with template-driven retrieval        
     Content Enrichment          Merges AI recommendations with booking/affiliate data       
    
                                                                                                   
    
    AFFILIATE WEB SCRAPING SYSTEM                                                                
     Partner Management          Tracking IDs, commission rates, status                      
     AI-Powered Extraction       Grok converts HTML to structured product data               
     Link Generation             Automatic affiliate link creation with templates            
     Click Tracking              Attribution for commission calculation                      
     Admin UI                    /admin/affiliate-partners for CRUD and scrape triggers      
    
                                                                                                   
    
    CACHING & PERFORMANCE                                                                        
     External API Cache          24-hour caching for hotel, flight, activity data            
     Background Refreshers       Automatic cache updates for fresh data                      
     POI/Transfer/Safety Cache   Amadeus data caching for performance                        
     Fever Events Cache          Event data caching with expiration                          
    
                                                                                                   
    
    AUTHENTICATION & SECURITY                                                                    
     Replit Auth (OIDC)          OpenID Connect via Passport.js                              
     Session Management          PostgreSQL-backed sessions with connect-pg-simple           
     Role-Based Access Control   Provider, Admin, EA, Expert, User roles                     
     Ownership Verification      Resource-level permission checking                          
    
                                                                                                   

                                                 
                                                 

  DATABASE LAYER (PostgreSQL + Drizzle ORM)                                                        

                                                                                                   
    
    CORE DATA MODELS                                                                             
     users                       User accounts, profiles, preferences                        
     sessions                    Authentication sessions                                     
     trips                       Trip details, destinations, dates                           
     itineraries                 Day-by-day trip plans                                       
     bookings                    Reservation records                                         
     experts                     Travel expert profiles and specializations                 
     providers                   Service provider accounts                                   
     reviews                     User reviews and ratings                                    
     notifications               User notification queue                                     
     credits                     User credit balances                                        
     wallet_transactions         Payment history                                             
     credit_packages             Available credit packages for purchase                      
    
                                                                                                   
    
    CACHE TABLES                                                                                 
     poi_cache                   Amadeus Points of Interest cache                            
     transfer_cache              Airport transfer options cache                              
     safety_cache                Destination safety ratings cache                            
     hotel_cache                 Hotel search results cache                                  
     flight_cache                Flight search results cache                                 
     activity_cache              Activities and tours cache                                  
     fever_events_cache          Fever events data cache                                     
    
                                                                                                   
    
    AFFILIATE TABLES                                                                             
     affiliate_partners          Partner info, tracking IDs, commission rates                
     affiliate_products          Scraped product data with affiliate links                   
     affiliate_scrape_jobs       Scraping job status and history                             
     affiliate_clicks            Click tracking for attribution                              
    
                                                                                                   
    
    TEMPLATE TABLES                                                                              
     experience_templates        22+ template definitions                                    
     template_tabs               Tab configurations per template                             
     template_filters            Filter definitions per template                             
    
                                                                                                   

                                                 
                                                 

  EXTERNAL INTEGRATIONS                                                                            

                                                                                                   
      
    TRAVEL APIs                   AI PROVIDERS                   OTHER SERVICES             
     Amadeus Self-Service       xAI (Grok)                  Google Maps API        
        Flights                     Expert Matching               Maps                 
        Hotels                      City Intelligence             Directions           
        Points of Interest          Content Generation            Transit              
        Tours & Activities          Hidden Gems                   Places               
        Airport Transfers                                                                
        Safety Ratings           Anthropic (Claude)           SerpAPI               
                                     Chat                          Venue Search         
     Viator Partner API            Optimization                  Restaurants          
        Tours & Activities          Transport Analysis            Attractions          
        Real-time Booking           Travel Advice                 Nightlife            
                                                                                          
     Fever Partner API              Replit Auth (OIDC)    
        Events & Tickets                                            Authentication       
        Global Cities                                               Session Management   
                                                                                           
     12Go Asia Affiliate                                       
         Trains                                                                              
         Buses                                                                               
         Ferries                                                                             
         ID: 13805109                                                                        
      
                                                                                                   




  KEY AFFILIATE PARTNERS                                                                           

   12Go Asia           Tracking ID: 13805109         Ground transportation across Asia          
   Musement            Tracking ID: traveloure-llc-3497    Tours and activities                 
   Klook               Tracking ID: 104866           Activities and experiences                 

`})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mt-6",children:[e.jsxs(P,{children:[e.jsx(Q,{className:"pb-2",children:e.jsx(X,{className:"text-base","data-testid":"text-frontend-title",children:"Frontend Stack"})}),e.jsx(F,{className:"text-sm text-muted-foreground",children:e.jsxs("ul",{className:"space-y-1",children:[e.jsx("li",{children:"React 18 + TypeScript"}),e.jsx("li",{children:"Vite build tool"}),e.jsx("li",{children:"TanStack Query"}),e.jsx("li",{children:"Wouter routing"}),e.jsx("li",{children:"Tailwind + shadcn/ui"}),e.jsx("li",{children:"Framer Motion"})]})})]}),e.jsxs(P,{children:[e.jsx(Q,{className:"pb-2",children:e.jsx(X,{className:"text-base","data-testid":"text-backend-title",children:"Backend Stack"})}),e.jsx(F,{className:"text-sm text-muted-foreground",children:e.jsxs("ul",{className:"space-y-1",children:[e.jsx("li",{children:"Node.js + Express"}),e.jsx("li",{children:"TypeScript"}),e.jsx("li",{children:"Zod validation"}),e.jsx("li",{children:"RESTful APIs"}),e.jsx("li",{children:"Passport.js (OIDC)"}),e.jsx("li",{children:"Drizzle ORM"})]})})]}),e.jsxs(P,{children:[e.jsx(Q,{className:"pb-2",children:e.jsx(X,{className:"text-base","data-testid":"text-ai-title",children:"AI Systems"})}),e.jsx(F,{className:"text-sm text-muted-foreground",children:e.jsxs("ul",{className:"space-y-1",children:[e.jsx("li",{children:"Grok (xAI) - Matching"}),e.jsx("li",{children:"Claude - Chat/Optimization"}),e.jsx("li",{children:"AI Orchestrator"}),e.jsx("li",{children:"TravelPulse Intelligence"}),e.jsx("li",{children:"Hidden Gems Discovery"}),e.jsx("li",{children:"Content Enrichment"})]})})]}),e.jsxs(P,{children:[e.jsx(Q,{className:"pb-2",children:e.jsx(X,{className:"text-base","data-testid":"text-integrations-title",children:"Integrations"})}),e.jsx(F,{className:"text-sm text-muted-foreground",children:e.jsxs("ul",{className:"space-y-1",children:[e.jsx("li",{children:"Amadeus API"}),e.jsx("li",{children:"Viator Partner API"}),e.jsx("li",{children:"Fever Partner API"}),e.jsx("li",{children:"12Go Asia Affiliate"}),e.jsx("li",{children:"Google Maps"}),e.jsx("li",{children:"SerpAPI"})]})})]})]})]})})}const Che={travel:5,wedding:14,proposal:10,romance:5,birthday:8,corporate:7,"boys-trip":8,"girls-trip":11},She={Plane:Pt,Heart:Qt,Gem:cr,Diamond:k_,HeartHandshake:rw,Cake:$u,Briefcase:Ta,Users:et,Sparkles:qe,Calendar:Ge},The={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},_he={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}};function Ehe(){const{data:t,isLoading:s}=Le({queryKey:["/api/experience-types"]});return e.jsx(Yt,{children:e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-primary/10 via-primary/5 to-background py-16 sm:py-24",children:[e.jsx("div",{className:"absolute inset-0 bg-grid-pattern opacity-5"}),e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs(He.div,{className:"max-w-3xl mx-auto text-center",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},children:[e.jsxs(O,{variant:"secondary",className:"mb-4",children:[e.jsx(qe,{className:"h-3 w-3 mr-1"}),"Experience Planning"]}),e.jsx("h1",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold text-foreground mb-4",children:"Plan Your Perfect Experience"}),e.jsx("p",{className:"text-lg text-muted-foreground mb-8",children:"Choose from 8 curated experience templates. Our guided wizards help you plan every detail, connect with expert providers, and create unforgettable moments."}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(Me,{className:"h-4 w-4 text-primary"}),e.jsx("span",{children:"Interactive Maps"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(rt,{className:"h-4 w-4 text-primary"}),e.jsx("span",{children:"Expert Providers"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(Je,{className:"h-4 w-4 text-primary"}),e.jsx("span",{children:"Step-by-Step Guidance"})]})]})]})})]}),e.jsx("div",{className:"container mx-auto px-4 py-12",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[s?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:Array.from({length:8}).map((a,r)=>e.jsxs(P,{className:"p-6",children:[e.jsx(_e,{className:"h-12 w-12 rounded-full mb-4"}),e.jsx(_e,{className:"h-6 w-3/4 mb-2"}),e.jsx(_e,{className:"h-4 w-full mb-4"}),e.jsx(_e,{className:"h-4 w-1/2"})]},r))}):e.jsx(He.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",variants:The,initial:"hidden",animate:"visible",children:t?.map(a=>{const r=a.icon&&She[a.icon]||qe,n=a.color||"#FF385C",i=Che[a.slug]||5;return e.jsx(He.div,{variants:_he,children:e.jsx(Ce,{href:`/experiences/${a.slug}/new`,children:e.jsxs(P,{className:"group relative overflow-visible h-full cursor-pointer transition-all duration-300 hover-elevate","data-testid":`card-experience-${a.slug}`,children:[e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"h-12 w-12 rounded-full flex items-center justify-center mb-4 transition-transform group-hover:scale-110",style:{backgroundColor:`${n}20`},children:e.jsx(r,{className:"h-6 w-6",style:{color:n}})}),e.jsxs("h3",{className:"text-lg font-semibold text-foreground mb-2 flex items-center gap-2",children:[a.name,e.jsx($s,{className:"h-4 w-4 opacity-0 -translate-x-2 transition-all group-hover:opacity-100 group-hover:translate-x-0 text-muted-foreground"})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4 line-clamp-2",children:a.description}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(O,{variant:"outline",className:"text-xs",children:[i," steps"]}),e.jsx(Kt,{className:"h-4 w-4 text-muted-foreground transition-transform group-hover:translate-x-1",style:{color:n}})]})]}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 opacity-0 transition-opacity group-hover:opacity-100",style:{backgroundColor:n}})]})})},a.id)})}),e.jsx(He.div,{className:"mt-16 text-center",initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},children:e.jsxs(P,{className:"p-8 bg-muted/50",children:[e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Need Help Deciding?"}),e.jsx("p",{className:"text-muted-foreground mb-6 max-w-lg mx-auto",children:"Connect with our travel experts who specialize in different experience types. They can help you choose and plan the perfect experience."}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-3",children:[e.jsx(Ce,{href:"/experts",children:e.jsxs(S,{"data-testid":"button-find-expert",children:["Find an Expert",e.jsx(Kt,{className:"h-4 w-4 ml-2"})]})}),e.jsx(Ce,{href:"/discover",children:e.jsx(S,{variant:"outline","data-testid":"button-help-decide",children:"Explore Packages"})})]})]})})]})})]})})}const Phe={activity:$r,hotel:va,event:Ge,flight:Pt},Ahe={activity:"#10B981",hotel:"#3B82F6",event:"#8B5CF6",flight:"#F59E0B"},mT={viator:"Viator",fever:"Fever",amadeus:"Amadeus"},Dhe={activity:"travel",hotel:"travel",event:"date-night",flight:"travel"};function Fhe(){const[,t]=La(),{toast:s}=Bs(),[a,r]=h.useState(""),[n,i]=h.useState(""),[l,c]=h.useState(""),[u,m]=h.useState("popular"),[x,f]=h.useState([0,1e3]),[g,b]=h.useState(0),[v,y]=h.useState([]),[w,k]=h.useState(!1),C=I=>{const q=Dhe[I.type]||"travel";s({title:"Starting your trip",description:`Adding "${I.title}" to your planning...`}),t(`/experiences/${q}/new`)},_=h.useMemo(()=>{const I=new URLSearchParams;return n&&I.set("query",n),l&&I.set("destination",l),u&&I.set("sortBy",u),x[0]>0&&I.set("priceMin",x[0].toString()),x[1]<1e3&&I.set("priceMax",x[1].toString()),g>0&&I.set("rating",g.toString()),v.length>0&&I.set("providers",v.join(",")),I.set("limit","20"),I.toString()},[n,l,u,x,g,v]),{data:M,isLoading:E}=Le({queryKey:[`/api/catalog/search?${_}`]}),{data:R}=Le({queryKey:["/api/catalog/destinations"]}),z=I=>{I.preventDefault(),i(a)},A=I=>{y(q=>q.includes(I)?q.filter(fe=>fe!==I):[...q,I])},V=()=>{r(""),i(""),c(""),m("popular"),f([0,1e3]),b(0),y([])},H=[l,x[0]>0||x[1]<1e3,g>0,v.length>0].filter(Boolean).length;return e.jsx(Yt,{children:e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("div",{className:"relative overflow-hidden bg-gradient-to-br from-primary/10 via-primary/5 to-background py-12 sm:py-16",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs(He.div,{className:"max-w-3xl mx-auto text-center",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:[e.jsxs(O,{variant:"secondary",className:"mb-4","data-testid":"badge-discovery-header",children:[e.jsx(qe,{className:"h-3 w-3 mr-1"}),"Discover Experiences"]}),e.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-foreground mb-4","data-testid":"text-page-title",children:"Explore Activities, Events & Hotels"}),e.jsx("p",{className:"text-muted-foreground mb-4","data-testid":"text-page-description",children:"Browse our curated catalog of experiences from top providers worldwide."}),e.jsxs(Ce,{href:"/experiences",className:"text-sm text-primary hover:underline inline-flex items-center gap-1 mb-6","data-testid":"link-experience-types",children:["Or explore by experience type",e.jsx($s,{className:"h-3 w-3"})]}),e.jsxs("form",{onSubmit:z,className:"flex flex-col sm:flex-row gap-3 max-w-xl mx-auto",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(ws,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(Ne,{placeholder:"Search experiences...",value:a,onChange:I=>r(I.target.value),className:"pl-10","data-testid":"input-search"})]}),e.jsx(S,{type:"submit","data-testid":"button-search",children:"Search"})]})]})})}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[e.jsx("aside",{className:"lg:w-64 flex-shrink-0",children:e.jsxs("div",{className:"lg:sticky lg:top-4 space-y-4",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs(S,{variant:"outline",size:"sm",onClick:()=>k(!w),className:"lg:hidden","data-testid":"button-toggle-filters",children:[e.jsx(Di,{className:"h-4 w-4 mr-2"}),"Filters",H>0&&e.jsx(O,{variant:"secondary",className:"ml-2","data-testid":"badge-filter-count",children:H})]})}),e.jsxs(P,{className:`p-4 space-y-6 ${w?"block":"hidden lg:block"}`,"data-testid":"card-filters",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"font-semibold flex items-center gap-2","data-testid":"text-filters-title",children:[e.jsx(Di,{className:"h-4 w-4"}),"Filters"]}),H>0&&e.jsxs(S,{variant:"ghost",size:"sm",onClick:V,"data-testid":"button-clear-filters",children:[e.jsx(Ia,{className:"h-3 w-3 mr-1"}),"Clear"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium","data-testid":"label-destination",children:"Destination"}),e.jsxs(Wt,{value:l||"_all",onValueChange:I=>c(I==="_all"?"":I),children:[e.jsx(Vt,{"data-testid":"select-destination",children:e.jsx(Gt,{placeholder:"All destinations"})}),e.jsxs(Ut,{children:[e.jsx(Pe,{value:"_all","data-testid":"select-item-destination-all",children:"All destinations"}),R?.slice(0,20).map(I=>e.jsx(Pe,{value:I,"data-testid":`select-item-destination-${I}`,children:I},I))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium","data-testid":"label-sort",children:"Sort By"}),e.jsxs(Wt,{value:u,onValueChange:m,children:[e.jsx(Vt,{"data-testid":"select-sort",children:e.jsx(Gt,{})}),e.jsxs(Ut,{children:[e.jsx(Pe,{value:"popular","data-testid":"select-item-sort-popular",children:"Most Popular"}),e.jsx(Pe,{value:"price_low","data-testid":"select-item-sort-price-low",children:"Price: Low to High"}),e.jsx(Pe,{value:"price_high","data-testid":"select-item-sort-price-high",children:"Price: High to Low"}),e.jsx(Pe,{value:"rating","data-testid":"select-item-sort-rating",children:"Highest Rated"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-sm font-medium","data-testid":"label-price",children:"Price Range"}),e.jsx(co,{value:x,onValueChange:I=>f(I),min:0,max:1e3,step:50,"data-testid":"slider-price"}),e.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[e.jsxs("span",{"data-testid":"text-price-min",children:["$",x[0]]}),e.jsxs("span",{"data-testid":"text-price-max",children:["$",x[1],"+"]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-sm font-medium","data-testid":"label-rating",children:"Minimum Rating"}),e.jsx("div",{className:"flex gap-2",children:[0,3,3.5,4,4.5].map(I=>e.jsx(S,{variant:g===I?"default":"outline",size:"sm",onClick:()=>b(I),className:"flex-1","data-testid":`button-rating-${I}`,children:I===0?"All":`${I}+`},I))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium","data-testid":"label-providers",children:"Providers"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:["viator","fever","amadeus"].map(I=>e.jsx(O,{variant:v.includes(I)?"default":"outline",className:"cursor-pointer hover-elevate",onClick:()=>A(I),"data-testid":`badge-provider-${I}`,children:mT[I]},I))})]})]})]})}),e.jsxs("main",{className:"flex-1",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsx("p",{className:"text-sm text-muted-foreground","data-testid":"text-results-count",children:E?"Searching...":`${M?.total||0} experiences found`})}),E?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4","data-testid":"grid-loading",children:Array.from({length:6}).map((I,q)=>e.jsxs(P,{className:"overflow-hidden",children:[e.jsx(_e,{className:"h-48 w-full"}),e.jsxs("div",{className:"p-4 space-y-3",children:[e.jsx(_e,{className:"h-5 w-3/4"}),e.jsx(_e,{className:"h-4 w-full"}),e.jsx(_e,{className:"h-4 w-1/2"})]})]},q))}):M?.items.length===0?e.jsxs(P,{className:"p-12 text-center","data-testid":"card-no-results",children:[e.jsx(ws,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2","data-testid":"text-no-results-title",children:"No experiences found"}),e.jsx("p",{className:"text-muted-foreground mb-4","data-testid":"text-no-results-description",children:"Try adjusting your filters or search terms."}),e.jsx(S,{variant:"outline",onClick:V,"data-testid":"button-clear-no-results",children:"Clear Filters"})]}):e.jsx(He.div,{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",initial:{opacity:0},animate:{opacity:1},"data-testid":"grid-results",children:M?.items.map(I=>{const q=Phe[I.type]||$r,fe=Ahe[I.type]||"#666";return e.jsx(He.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:e.jsxs(P,{className:"overflow-hidden group hover-elevate cursor-pointer h-full flex flex-col","data-testid":`card-item-${I.id}`,children:[e.jsxs("div",{className:"relative h-48 bg-muted",children:[I.imageUrl?e.jsx("img",{src:I.imageUrl,alt:I.title,className:"w-full h-full object-cover transition-transform group-hover:scale-105","data-testid":`img-item-${I.id}`}):e.jsx("div",{className:"w-full h-full flex items-center justify-center","data-testid":`placeholder-item-${I.id}`,children:e.jsx(q,{className:"h-16 w-16 text-muted-foreground/50"})}),e.jsx("div",{className:"absolute top-2 left-2 flex gap-1",children:e.jsxs(O,{style:{backgroundColor:fe},className:"text-white text-xs","data-testid":`badge-type-${I.id}`,children:[e.jsx(q,{className:"h-3 w-3 mr-1"}),I.type]})}),e.jsx(O,{variant:"secondary",className:"absolute top-2 right-2 text-xs","data-testid":`badge-provider-item-${I.id}`,children:mT[I.provider]||I.provider})]}),e.jsxs("div",{className:"p-4 flex-1 flex flex-col",children:[e.jsx("h3",{className:"font-semibold text-foreground mb-1 line-clamp-2","data-testid":`text-title-${I.id}`,children:I.title}),I.destination&&e.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground mb-2","data-testid":`text-destination-${I.id}`,children:[e.jsx(Me,{className:"h-3 w-3"}),e.jsx("span",{className:"capitalize",children:I.destination})]}),I.description&&e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mb-3 flex-1","data-testid":`text-description-${I.id}`,children:I.description}),e.jsxs("div",{className:"flex items-center justify-between mt-auto pt-3 border-t",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[I.rating&&e.jsxs("div",{className:"flex items-center gap-1 text-sm","data-testid":`text-rating-${I.id}`,children:[e.jsx(rt,{className:"h-3 w-3 fill-amber-400 text-amber-400"}),e.jsx("span",{className:"font-medium",children:I.rating.toFixed(1)}),I.reviewCount&&e.jsxs("span",{className:"text-muted-foreground",children:["(",I.reviewCount,")"]})]}),I.duration&&e.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground","data-testid":`text-duration-${I.id}`,children:[e.jsx(Je,{className:"h-3 w-3"}),e.jsx("span",{children:I.duration})]})]}),I.price&&e.jsxs("div",{className:"flex items-center text-lg font-semibold text-primary","data-testid":`text-price-${I.id}`,children:[e.jsx(bt,{className:"h-4 w-4"}),I.price.toFixed(0)]})]}),e.jsxs("div",{className:"flex gap-2 mt-3",children:[e.jsxs(S,{size:"sm",className:"flex-1",onClick:()=>C(I),"data-testid":`button-plan-${I.id}`,children:[e.jsx(ps,{className:"h-3 w-3 mr-1"}),"Plan Trip"]}),I.bookingUrl&&e.jsx(S,{size:"sm",variant:"outline",onClick:oe=>{oe.stopPropagation(),window.open(I.bookingUrl,"_blank")},"data-testid":`button-book-${I.id}`,children:e.jsx(er,{className:"h-3 w-3"})})]})]})]})},I.id)})})]})]})})]})})}const Mhe=[{id:"all",label:"All Deals"},{id:"flash",label:"Flash Sales"},{id:"seasonal",label:"Seasonal"},{id:"lastminute",label:"Last Minute"},{id:"bundle",label:"Bundles"}],hT=[{id:1,title:"Bali Paradise Escape",destination:"Bali, Indonesia",originalPrice:2499,salePrice:1799,discount:28,duration:"7 days",travelers:"2",rating:4.9,reviews:234,category:"flash",endsIn:"2 days",image:null,highlights:["Private villa","Spa included","Temple tour"],featured:!0},{id:2,title:"Tokyo Cultural Discovery",destination:"Tokyo, Japan",originalPrice:3299,salePrice:2499,discount:24,duration:"6 days",travelers:"2",rating:4.8,reviews:189,category:"seasonal",endsIn:"5 days",image:null,highlights:["Cherry blossom season","Tea ceremony","Sushi class"],featured:!0},{id:3,title:"Santorini Romantic Getaway",destination:"Santorini, Greece",originalPrice:2899,salePrice:2199,discount:24,duration:"5 days",travelers:"2",rating:4.9,reviews:312,category:"lastminute",endsIn:"24 hours",image:null,highlights:["Sunset cruise","Wine tasting","Cave hotel"],featured:!1},{id:4,title:"Costa Rica Adventure Bundle",destination:"Costa Rica",originalPrice:2699,salePrice:1999,discount:26,duration:"8 days",travelers:"2-4",rating:4.7,reviews:156,category:"bundle",endsIn:"7 days",image:null,highlights:["Zip-lining","Volcano hike","Wildlife safari"],featured:!1},{id:5,title:"Paris Luxury Weekend",destination:"Paris, France",originalPrice:1899,salePrice:1399,discount:26,duration:"4 days",travelers:"2",rating:4.8,reviews:278,category:"flash",endsIn:"3 days",image:null,highlights:["5-star hotel","Private tour","Michelin dinner"],featured:!1},{id:6,title:"Maldives All-Inclusive",destination:"Maldives",originalPrice:4999,salePrice:3799,discount:24,duration:"6 days",travelers:"2",rating:5,reviews:145,category:"seasonal",endsIn:"10 days",image:null,highlights:["Overwater villa","All meals","Snorkeling"],featured:!0}];function Ihe(){const[t,s]=h.useState(""),[a,r]=h.useState("all"),n=hT.filter(l=>{const c=t===""||l.title.toLowerCase().includes(t.toLowerCase())||l.destination.toLowerCase().includes(t.toLowerCase()),u=a==="all"||l.category===a;return c&&u}),i=hT.filter(l=>l.featured);return e.jsxs("div",{className:"min-h-screen bg-[#F9FAFB]",children:[e.jsx("section",{className:"bg-gradient-to-r from-[#FF385C] to-[#E23350] text-white py-16",children:e.jsx("div",{className:"container mx-auto px-4 max-w-6xl",children:e.jsxs(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center",children:[e.jsxs(O,{className:"bg-white/20 text-white mb-6",children:[e.jsx(qe,{className:"w-3 h-3 mr-1"}),"Limited Time Offers"]}),e.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Exclusive Travel Deals"}),e.jsx("p",{className:"text-lg text-white/90 max-w-2xl mx-auto mb-8",children:"Discover incredible savings on handpicked trips. Book now before these deals disappear!"}),e.jsxs("div",{className:"relative max-w-xl mx-auto",children:[e.jsx(ws,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx(Ne,{placeholder:"Search destinations or deals...",value:t,onChange:l=>s(l.target.value),className:"pl-12 h-14 text-lg border-0 bg-white text-[#111827] rounded-xl","data-testid":"input-search-deals"})]})]})})}),e.jsx("section",{className:"py-12 -mt-8",children:e.jsxs("div",{className:"container mx-auto px-4 max-w-6xl",children:[e.jsx("h2",{className:"text-2xl font-bold text-[#111827] mb-6",children:"Featured Deals"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:i.map((l,c)=>e.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:c*.1},children:e.jsx(P,{className:"bg-white border-[#E5E7EB] hover:shadow-xl transition-shadow overflow-hidden group",children:e.jsxs(F,{className:"p-0",children:[e.jsxs("div",{className:"relative h-48 bg-gradient-to-br from-gray-200 to-gray-300",children:[e.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-gray-400",children:e.jsx(Me,{className:"w-12 h-12"})}),e.jsx("div",{className:"absolute top-3 left-3",children:e.jsxs(O,{className:"bg-[#FF385C] text-white",children:[e.jsx(b$,{className:"w-3 h-3 mr-1"}),l.discount,"% OFF"]})}),e.jsxs("div",{className:"absolute bottom-3 left-3 bg-black/70 text-white px-3 py-1 rounded-full text-sm flex items-center gap-1",children:[e.jsx(R_,{className:"w-3 h-3"}),"Ends in ",l.endsIn]})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-[#6B7280] mb-2",children:[e.jsx(Me,{className:"w-4 h-4"}),e.jsx("span",{children:l.destination})]}),e.jsx("h3",{className:"font-semibold text-[#111827] mb-2 group-hover:text-[#FF385C] transition-colors",children:l.title}),e.jsxs("div",{className:"flex flex-wrap gap-3 text-sm text-[#6B7280] mb-3",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ge,{className:"w-4 h-4"}),l.duration]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(rt,{className:"w-4 h-4 text-yellow-500 fill-yellow-500"}),l.rating]})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsxs("span",{className:"text-sm text-[#6B7280] line-through",children:["$",l.originalPrice]}),e.jsxs("span",{className:"ml-2 text-2xl font-bold text-[#FF385C]",children:["$",l.salePrice]})]}),e.jsx("span",{className:"text-sm text-[#6B7280]",children:"per person"})]}),e.jsx(Ce,{href:`/deals/${l.id}`,children:e.jsxs(S,{className:"w-full bg-[#FF385C] hover:bg-[#E23350] text-white","data-testid":`button-view-deal-${l.id}`,children:["View Deal",e.jsx(Kt,{className:"w-4 h-4 ml-2"})]})})]})]})})},l.id))})]})}),e.jsx("section",{className:"py-12",children:e.jsxs("div",{className:"container mx-auto px-4 max-w-6xl",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-8",children:[e.jsx("div",{className:"flex flex-wrap gap-2",children:Mhe.map(l=>e.jsx(S,{variant:a===l.id?"default":"outline",size:"sm",onClick:()=>r(l.id),className:te(a===l.id?"bg-[#FF385C] hover:bg-[#E23350] text-white":"border-[#E5E7EB]"),"data-testid":`button-category-${l.id}`,children:l.label},l.id))}),e.jsxs(S,{variant:"outline",className:"border-[#E5E7EB]","data-testid":"button-filter",children:[e.jsx(Di,{className:"w-4 h-4 mr-2"}),"Filter"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map((l,c)=>e.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:c*.05},children:e.jsx(P,{className:"bg-white border-[#E5E7EB] hover:shadow-lg transition-shadow overflow-hidden group",children:e.jsxs(F,{className:"p-0",children:[e.jsxs("div",{className:"relative h-40 bg-gradient-to-br from-gray-200 to-gray-300",children:[e.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-gray-400",children:e.jsx(Me,{className:"w-10 h-10"})}),e.jsx("div",{className:"absolute top-3 left-3",children:e.jsxs(O,{className:"bg-[#FF385C] text-white text-xs",children:[l.discount,"% OFF"]})}),e.jsx("div",{className:"absolute top-3 right-3",children:e.jsxs(O,{variant:"secondary",className:"text-xs",children:[e.jsx(Je,{className:"w-3 h-3 mr-1"}),l.endsIn]})})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-1 text-sm text-[#6B7280] mb-1",children:[e.jsx(Me,{className:"w-3 h-3"}),l.destination]}),e.jsx("h3",{className:"font-semibold text-[#111827] mb-2 group-hover:text-[#FF385C] transition-colors",children:l.title}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-[#6B7280] mb-3",children:[e.jsx("span",{children:l.duration}),e.jsx("span",{className:"text-[#E5E7EB]",children:"|"}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(rt,{className:"w-3 h-3 text-yellow-500 fill-yellow-500"}),l.rating]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("span",{className:"text-sm text-[#6B7280] line-through",children:["$",l.originalPrice]}),e.jsxs("span",{className:"ml-1 text-lg font-bold text-[#FF385C]",children:["$",l.salePrice]})]}),e.jsx(Ce,{href:`/deals/${l.id}`,children:e.jsx(S,{size:"sm",className:"bg-[#FF385C] hover:bg-[#E23350] text-white","data-testid":`button-book-${l.id}`,children:"Book Now"})})]})]})]})})},l.id))}),n.length===0&&e.jsxs("div",{className:"text-center py-16",children:[e.jsx(S$,{className:"w-16 h-16 text-[#9CA3AF] mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-[#111827] mb-2",children:"No deals found"}),e.jsx("p",{className:"text-[#6B7280] mb-4",children:"Try adjusting your search or filters"}),e.jsx(S,{variant:"outline",onClick:()=>{s(""),r("all")},"data-testid":"button-clear-filters",children:"Clear Filters"})]})]})}),e.jsx("section",{className:"py-16 bg-white border-t border-[#E5E7EB]",children:e.jsxs("div",{className:"container mx-auto px-4 max-w-4xl text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-[#111827] mb-4",children:"Never Miss a Deal"}),e.jsx("p",{className:"text-[#6B7280] mb-6",children:"Subscribe to get exclusive deals and flash sales delivered to your inbox"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 max-w-md mx-auto",children:[e.jsx(Ne,{placeholder:"Enter your email",className:"h-12 border-[#E5E7EB]","data-testid":"input-newsletter"}),e.jsx(S,{className:"h-12 px-8 bg-[#FF385C] hover:bg-[#E23350] text-white","data-testid":"button-subscribe",children:"Subscribe"})]})]})})]})}var XI={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},xT=st.createContext&&st.createContext(XI),Rhe=["attr","size","title"];function Lhe(t,s){if(t==null)return{};var a=Ohe(t,s),r,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],!(s.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function Ohe(t,s){if(t==null)return{};var a={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(s.indexOf(r)>=0)continue;a[r]=t[r]}return a}function Yg(){return Yg=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},Yg.apply(this,arguments)}function pT(t,s){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);s&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,r)}return a}function Qg(t){for(var s=1;s<arguments.length;s++){var a=arguments[s]!=null?arguments[s]:{};s%2?pT(Object(a),!0).forEach(function(r){$he(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):pT(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}function $he(t,s,a){return s=Bhe(s),s in t?Object.defineProperty(t,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[s]=a,t}function Bhe(t){var s=zhe(t,"string");return typeof s=="symbol"?s:s+""}function zhe(t,s){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var r=a.call(t,s);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(t)}function ZI(t){return t&&t.map((s,a)=>st.createElement(s.tag,Qg({key:a},s.attr),ZI(s.child)))}function wm(t){return s=>st.createElement(Vhe,Yg({attr:Qg({},t.attr)},s),ZI(t.child))}function Vhe(t){var s=a=>{var{attr:r,size:n,title:i}=t,l=Lhe(t,Rhe),c=n||a.size||"1em",u;return a.className&&(u=a.className),t.className&&(u=(u?u+" ":"")+t.className),st.createElement("svg",Yg({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},a.attr,r,l,{className:u,style:Qg(Qg({color:t.color||a.color},a.style),t.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),i&&st.createElement("title",null,i),t.children)};return xT!==void 0?st.createElement(xT.Consumer,null,a=>s(a)):s(XI)}function Uhe(t){return wm({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M2.15 4.318a42.16 42.16 0 0 0-.454.003c-.15.005-.303.013-.452.04a1.44 1.44 0 0 0-1.06.772c-.07.138-.114.278-.14.43-.028.148-.037.3-.04.45A10.2 10.2 0 0 0 0 6.222v11.557c0 .07.002.138.003.207.004.15.013.303.04.452.027.15.072.291.142.429a1.436 1.436 0 0 0 .63.63c.138.07.278.115.43.142.148.027.3.036.45.04l.208.003h20.194l.207-.003c.15-.004.303-.013.452-.04.15-.027.291-.071.428-.141a1.432 1.432 0 0 0 .631-.631c.07-.138.115-.278.141-.43.027-.148.036-.3.04-.45.002-.07.003-.138.003-.208l.001-.246V6.221c0-.07-.002-.138-.004-.207a2.995 2.995 0 0 0-.04-.452 1.446 1.446 0 0 0-1.2-1.201 3.022 3.022 0 0 0-.452-.04 10.448 10.448 0 0 0-.453-.003zm0 .512h19.942c.066 0 .131.002.197.003.115.004.25.01.375.032.109.02.2.05.287.094a.927.927 0 0 1 .407.407.997.997 0 0 1 .094.288c.022.123.028.258.031.374.002.065.003.13.003.197v11.552c0 .065 0 .13-.003.196-.003.115-.009.25-.032.375a.927.927 0 0 1-.5.693 1.002 1.002 0 0 1-.286.094 2.598 2.598 0 0 1-.373.032l-.2.003H1.906c-.066 0-.133-.002-.196-.003a2.61 2.61 0 0 1-.375-.032c-.109-.02-.2-.05-.288-.094a.918.918 0 0 1-.406-.407 1.006 1.006 0 0 1-.094-.288 2.531 2.531 0 0 1-.032-.373 9.588 9.588 0 0 1-.002-.197V6.224c0-.065 0-.131.002-.197.004-.114.01-.248.032-.375.02-.108.05-.199.094-.287a.925.925 0 0 1 .407-.406 1.03 1.03 0 0 1 .287-.094c.125-.022.26-.029.375-.032.065-.002.131-.002.196-.003zm4.71 3.7c-.3.016-.668.199-.88.456-.191.22-.36.58-.316.918.338.03.675-.169.888-.418.205-.258.345-.603.308-.955zm2.207.42v5.493h.852v-1.877h1.18c1.078 0 1.835-.739 1.835-1.812 0-1.07-.742-1.805-1.808-1.805zm.852.719h.982c.739 0 1.161.396 1.161 1.089 0 .692-.422 1.092-1.164 1.092h-.979zm-3.154.3c-.45.01-.83.28-1.05.28-.235 0-.593-.264-.981-.257a1.446 1.446 0 0 0-1.23.747c-.527.908-.139 2.255.374 2.995.249.366.549.769.944.754.373-.014.52-.242.973-.242.454 0 .586.242.98.235.41-.007.667-.366.915-.733.286-.417.403-.82.41-.841-.007-.008-.79-.308-.797-1.209-.008-.754.615-1.113.644-1.135-.352-.52-.9-.578-1.09-.593a1.123 1.123 0 0 0-.092-.002zm8.204.397c-.99 0-1.606.533-1.652 1.256h.777c.072-.358.369-.586.845-.586.502 0 .803.266.803.711v.309l-1.097.064c-.951.054-1.488.484-1.488 1.184 0 .72.548 1.207 1.332 1.207.526 0 1.032-.281 1.264-.727h.019v.659h.788v-2.76c0-.803-.62-1.317-1.591-1.317zm1.94.072l1.446 4.009c0 .003-.073.24-.073.247-.125.41-.33.571-.711.571-.069 0-.206 0-.267-.015v.666c.06.011.267.019.335.019.83 0 1.226-.312 1.568-1.283l1.5-4.214h-.868l-1.012 3.259h-.015l-1.013-3.26zm-1.167 2.189v.316c0 .521-.45.917-1.024.917-.442 0-.731-.228-.731-.579 0-.342.278-.56.769-.593z"},child:[]}]})(t)}function qhe(t){return wm({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M9.101 23.691v-7.98H6.627v-3.667h2.474v-1.58c0-4.085 1.848-5.978 5.858-5.978.401 0 .955.042 1.468.103a8.68 8.68 0 0 1 1.141.195v3.325a8.623 8.623 0 0 0-.653-.036 26.805 26.805 0 0 0-.733-.009c-.707 0-1.259.096-1.675.309a1.686 1.686 0 0 0-.679.622c-.258.42-.374.995-.374 1.752v1.297h3.919l-.386 2.103-.287 1.564h-3.246v8.245C19.396 23.238 24 18.179 24 12.044c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.628 3.874 10.35 9.101 11.647Z"},child:[]}]})(t)}function fT(t){return wm({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M7.0301.084c-1.2768.0602-2.1487.264-2.911.5634-.7888.3075-1.4575.72-2.1228 1.3877-.6652.6677-1.075 1.3368-1.3802 2.127-.2954.7638-.4956 1.6365-.552 2.914-.0564 1.2775-.0689 1.6882-.0626 4.947.0062 3.2586.0206 3.6671.0825 4.9473.061 1.2765.264 2.1482.5635 2.9107.308.7889.72 1.4573 1.388 2.1228.6679.6655 1.3365 1.0743 2.1285 1.38.7632.295 1.6361.4961 2.9134.552 1.2773.056 1.6884.069 4.9462.0627 3.2578-.0062 3.668-.0207 4.9478-.0814 1.28-.0607 2.147-.2652 2.9098-.5633.7889-.3086 1.4578-.72 2.1228-1.3881.665-.6682 1.0745-1.3378 1.3795-2.1284.2957-.7632.4966-1.636.552-2.9124.056-1.2809.0692-1.6898.063-4.948-.0063-3.2583-.021-3.6668-.0817-4.9465-.0607-1.2797-.264-2.1487-.5633-2.9117-.3084-.7889-.72-1.4568-1.3876-2.1228C21.2982 1.33 20.628.9208 19.8378.6165 19.074.321 18.2017.1197 16.9244.0645 15.6471.0093 15.236-.005 11.977.0014 8.718.0076 8.31.0215 7.0301.0839m.1402 21.6932c-1.17-.0509-1.8053-.2453-2.2287-.408-.5606-.216-.96-.4771-1.3819-.895-.422-.4178-.6811-.8186-.9-1.378-.1644-.4234-.3624-1.058-.4171-2.228-.0595-1.2645-.072-1.6442-.079-4.848-.007-3.2037.0053-3.583.0607-4.848.05-1.169.2456-1.805.408-2.2282.216-.5613.4762-.96.895-1.3816.4188-.4217.8184-.6814 1.3783-.9003.423-.1651 1.0575-.3614 2.227-.4171 1.2655-.06 1.6447-.072 4.848-.079 3.2033-.007 3.5835.005 4.8495.0608 1.169.0508 1.8053.2445 2.228.408.5608.216.96.4754 1.3816.895.4217.4194.6816.8176.9005 1.3787.1653.4217.3617 1.056.4169 2.2263.0602 1.2655.0739 1.645.0796 4.848.0058 3.203-.0055 3.5834-.061 4.848-.051 1.17-.245 1.8055-.408 2.2294-.216.5604-.4763.96-.8954 1.3814-.419.4215-.8181.6811-1.3783.9-.4224.1649-1.0577.3617-2.2262.4174-1.2656.0595-1.6448.072-4.8493.079-3.2045.007-3.5825-.006-4.848-.0608M16.953 5.5864A1.44 1.44 0 1 0 18.39 4.144a1.44 1.44 0 0 0-1.437 1.4424M5.8385 12.012c.0067 3.4032 2.7706 6.1557 6.173 6.1493 3.4026-.0065 6.157-2.7701 6.1506-6.1733-.0065-3.4032-2.771-6.1565-6.174-6.1498-3.403.0067-6.156 2.771-6.1496 6.1738M8 12.0077a4 4 0 1 1 4.008 3.9921A3.9996 3.9996 0 0 1 8 12.0077"},child:[]}]})(t)}function Hhe(t){return wm({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M11.343 18.031c.058.049.12.098.181.146-1.177.783-2.59 1.238-4.107 1.238C3.32 19.416 0 16.096 0 12c0-4.095 3.32-7.416 7.416-7.416 1.518 0 2.931.456 4.105 1.238-.06.051-.12.098-.165.15C9.6 7.489 8.595 9.688 8.595 12c0 2.311 1.001 4.51 2.748 6.031zm5.241-13.447c-1.52 0-2.931.456-4.105 1.238.06.051.12.098.165.15C14.4 7.489 15.405 9.688 15.405 12c0 2.31-1.001 4.507-2.748 6.031-.058.049-.12.098-.181.146 1.177.783 2.588 1.238 4.107 1.238C20.68 19.416 24 16.096 24 12c0-4.094-3.32-7.416-7.416-7.416zM12 6.174c-.096.075-.189.15-.28.231C10.156 7.764 9.169 9.765 9.169 12c0 2.236.987 4.236 2.551 5.595.09.08.185.158.28.232.096-.074.189-.152.28-.232 1.563-1.359 2.551-3.359 2.551-5.595 0-2.235-.987-4.236-2.551-5.595-.09-.08-.184-.156-.28-.231z"},child:[]}]})(t)}function Whe(t){return wm({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M7.016 19.198h-4.2a.562.562 0 0 1-.555-.65L5.093.584A.692.692 0 0 1 5.776 0h7.222c3.417 0 5.904 2.488 5.846 5.5-.006.25-.027.5-.066.747A6.794 6.794 0 0 1 12.071 12H8.743a.69.69 0 0 0-.682.583l-.325 2.056-.013.083-.692 4.39-.015.087zM19.79 6.142c-.01.087-.01.175-.023.261a7.76 7.76 0 0 1-7.695 6.598H9.007l-.283 1.795-.013.083-.692 4.39-.134.843-.014.088H6.86l-.497 3.15a.562.562 0 0 0 .555.65h3.612c.34 0 .63-.249.683-.585l.952-6.031a.692.692 0 0 1 .683-.584h2.126a6.793 6.793 0 0 0 6.707-5.752c.306-1.95-.466-3.744-1.89-4.906z"},child:[]}]})(t)}function Ghe(t){return wm({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M9.112 8.262L5.97 15.758H3.92L2.374 9.775c-.094-.368-.175-.503-.461-.658C1.447 8.864.677 8.627 0 8.479l.046-.217h3.3a.904.904 0 01.894.764l.817 4.338 2.018-5.102zm8.033 5.049c.008-1.979-2.736-2.088-2.717-2.972.006-.269.262-.555.822-.628a3.66 3.66 0 011.913.336l.34-1.59a5.207 5.207 0 00-1.814-.333c-1.917 0-3.266 1.02-3.278 2.479-.012 1.079.963 1.68 1.698 2.04.756.367 1.01.603 1.006.931-.005.504-.602.725-1.16.734-.975.015-1.54-.263-1.992-.473l-.351 1.642c.453.208 1.289.39 2.156.398 2.037 0 3.37-1.006 3.377-2.564m5.061 2.447H24l-1.565-7.496h-1.656a.883.883 0 00-.826.55l-2.909 6.946h2.036l.405-1.12h2.488zm-2.163-2.656l1.02-2.815.588 2.815zm-8.16-4.84l-1.603 7.496H8.34l1.605-7.496z"},child:[]}]})(t)}const gT=[{id:1,name:"Bali Paradise Villa - 5 nights",category:"Accommodation",price:1250,originalPrice:1500},{id:2,name:"Temple Tour with Local Guide",category:"Activity",price:85,originalPrice:100},{id:3,name:"Ubud Rice Terrace Trekking",category:"Activity",price:65,originalPrice:75},{id:4,name:"Traditional Balinese Cooking Class",category:"Activity",price:55,originalPrice:65}],Khe=[{id:"card",label:"Credit/Debit Card",icons:[Ghe,Hhe]},{id:"paypal",label:"PayPal",icons:[Whe]},{id:"applepay",label:"Apple Pay",icons:[Uhe]}];function Yhe(){const{toast:t}=Bs(),[,s]=La(),[a,r]=h.useState("card"),[n,i]=h.useState(!1),[l,c]=h.useState(""),[u,m]=h.useState(!1),[x,f]=h.useState(!1),g=gT.reduce((E,R)=>E+R.price,0),b=u?g*.1:0,v=45,y=g-b+v,w=()=>{l.toLowerCase()==="travel10"?(m(!0),t({title:"Promo applied!",description:"10% discount has been applied to your order."})):t({title:"Invalid code",description:"This promo code is not valid.",variant:"destructive"})},[k,C]=h.useState({cardNumber:"",expiry:"",cvv:"",cardName:""}),_=a!=="card"||k.cardNumber.length>=16&&k.expiry.length>=5&&k.cvv.length>=3&&k.cardName.length>=2,M=async()=>{if(!x){t({title:"Please agree to terms",description:"You must agree to the terms and conditions to continue.",variant:"destructive"});return}if(a==="card"&&!_){t({title:"Invalid card details",description:"Please enter valid card information.",variant:"destructive"});return}i(!0),await new Promise(E=>setTimeout(E,2e3)),i(!1),t({title:"Payment successful!",description:"Your booking has been confirmed."}),s("/dashboard")};return e.jsxs("div",{className:"min-h-screen bg-[#F9FAFB]",children:[e.jsx("header",{className:"bg-white border-b border-[#E5E7EB] sticky top-0 z-50",children:e.jsx("div",{className:"container mx-auto px-4 max-w-6xl",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsxs(Ce,{href:"/cart",className:"flex items-center gap-2 text-[#6B7280] hover:text-[#111827]","data-testid":"link-back",children:[e.jsx(la,{className:"w-5 h-5"}),"Back to Cart"]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-[#6B7280]",children:[e.jsx(ag,{className:"w-4 h-4"}),"Secure Checkout"]})]})})}),e.jsx("div",{className:"container mx-auto px-4 max-w-6xl py-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-2 space-y-6",children:e.jsxs(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[e.jsx("h1",{className:"text-2xl font-bold text-[#111827] mb-6",children:"Complete Your Booking"}),e.jsxs(P,{className:"border-[#E5E7EB] mb-6",children:[e.jsx(Q,{className:"pb-3",children:e.jsx(X,{className:"text-lg text-[#111827]",children:"Trip Details"})}),e.jsx(F,{children:e.jsxs("div",{className:"flex flex-wrap gap-6 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 text-[#6B7280]",children:[e.jsx(Me,{className:"w-4 h-4 text-[#FF385C]"}),"Bali, Indonesia"]}),e.jsxs("div",{className:"flex items-center gap-2 text-[#6B7280]",children:[e.jsx(Ge,{className:"w-4 h-4 text-[#FF385C]"}),"Feb 15 - Feb 20, 2026"]}),e.jsxs("div",{className:"flex items-center gap-2 text-[#6B7280]",children:[e.jsx(et,{className:"w-4 h-4 text-[#FF385C]"}),"2 Travelers"]})]})})]}),e.jsxs(P,{className:"border-[#E5E7EB]",children:[e.jsx(Q,{children:e.jsx(X,{className:"text-lg text-[#111827]",children:"Payment Method"})}),e.jsxs(F,{className:"space-y-6",children:[e.jsx(av,{value:a,onValueChange:r,className:"space-y-3",children:Khe.map(E=>e.jsxs("div",{className:`flex items-center justify-between p-4 border rounded-lg cursor-pointer transition-colors ${a===E.id?"border-[#FF385C] bg-[#FFF5F7]":"border-[#E5E7EB] hover:border-[#FF385C]"}`,onClick:()=>r(E.id),"data-testid":`radio-payment-${E.id}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(rv,{value:E.id}),e.jsx("span",{className:"font-medium text-[#111827]",children:E.label})]}),e.jsx("div",{className:"flex items-center gap-2",children:E.icons.map((R,z)=>e.jsx(R,{className:"w-8 h-8 text-[#6B7280]"},z))})]},E.id))}),a==="card"&&e.jsxs(He.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"space-y-4 pt-4 border-t border-[#E5E7EB]",children:[e.jsxs("div",{children:[e.jsx(ye,{htmlFor:"cardNumber",className:"text-[#374151]",children:"Card Number"}),e.jsxs("div",{className:"relative mt-2",children:[e.jsx(Sa,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx(Ne,{id:"cardNumber",placeholder:"1234 5678 9012 3456",value:k.cardNumber,onChange:E=>C(R=>({...R,cardNumber:E.target.value.replace(/\D/g,"").slice(0,16)})),className:"pl-10 h-12 border-[#E5E7EB]","data-testid":"input-card-number"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ye,{htmlFor:"expiry",className:"text-[#374151]",children:"Expiry Date"}),e.jsx(Ne,{id:"expiry",placeholder:"MM/YY",value:k.expiry,onChange:E=>C(R=>({...R,expiry:E.target.value.slice(0,5)})),className:"mt-2 h-12 border-[#E5E7EB]","data-testid":"input-expiry"})]}),e.jsxs("div",{children:[e.jsx(ye,{htmlFor:"cvv",className:"text-[#374151]",children:"CVV"}),e.jsx(Ne,{id:"cvv",placeholder:"123",value:k.cvv,onChange:E=>C(R=>({...R,cvv:E.target.value.replace(/\D/g,"").slice(0,4)})),className:"mt-2 h-12 border-[#E5E7EB]","data-testid":"input-cvv"})]})]}),e.jsxs("div",{children:[e.jsx(ye,{htmlFor:"cardName",className:"text-[#374151]",children:"Name on Card"}),e.jsx(Ne,{id:"cardName",placeholder:"John Doe",value:k.cardName,onChange:E=>C(R=>({...R,cardName:E.target.value})),className:"mt-2 h-12 border-[#E5E7EB]","data-testid":"input-card-name"})]})]}),e.jsxs("div",{className:"pt-4 border-t border-[#E5E7EB]",children:[e.jsx("h3",{className:"font-medium text-[#111827] mb-4",children:"Billing Address"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(ye,{htmlFor:"address",className:"text-[#374151]",children:"Street Address"}),e.jsx(Ne,{id:"address",placeholder:"123 Main St",className:"mt-2 h-12 border-[#E5E7EB]","data-testid":"input-address"})]}),e.jsxs("div",{children:[e.jsx(ye,{htmlFor:"city",className:"text-[#374151]",children:"City"}),e.jsx(Ne,{id:"city",placeholder:"New York",className:"mt-2 h-12 border-[#E5E7EB]","data-testid":"input-city"})]}),e.jsxs("div",{children:[e.jsx(ye,{htmlFor:"zip",className:"text-[#374151]",children:"ZIP Code"}),e.jsx(Ne,{id:"zip",placeholder:"10001",className:"mt-2 h-12 border-[#E5E7EB]","data-testid":"input-zip"})]})]})]})]})]}),e.jsxs("div",{className:"flex items-start gap-3 p-4 bg-[#F3F4F6] rounded-lg",children:[e.jsx(Fl,{id:"terms",checked:x,onCheckedChange:E=>f(E),"data-testid":"checkbox-terms"}),e.jsxs("label",{htmlFor:"terms",className:"text-sm text-[#6B7280]",children:["I agree to the"," ",e.jsx(Ce,{href:"/terms-conditions",className:"text-[#FF385C] underline",children:"Terms & Conditions"})," ","and"," ",e.jsx(Ce,{href:"/privacy-policy",className:"text-[#FF385C] underline",children:"Privacy Policy"}),". I understand that my booking is subject to the cancellation policy of each service provider."]})]})]})}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"sticky top-24",children:[e.jsxs(P,{className:"border-[#E5E7EB]",children:[e.jsx(Q,{children:e.jsx(X,{className:"text-lg text-[#111827]",children:"Order Summary"})}),e.jsxs(F,{className:"space-y-4",children:[e.jsx("div",{className:"space-y-3",children:gT.map(E=>e.jsxs("div",{className:"flex items-start justify-between text-sm",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-[#111827]",children:E.name}),e.jsx("div",{className:"text-[#6B7280]",children:E.category})]}),e.jsxs("div",{className:"text-right",children:[E.originalPrice>E.price&&e.jsxs("div",{className:"text-[#9CA3AF] line-through text-xs",children:["$",E.originalPrice]}),e.jsxs("div",{className:"font-medium text-[#111827]",children:["$",E.price]})]})]},E.id))}),e.jsx(Ja,{}),e.jsxs("div",{children:[e.jsx(ye,{className:"text-sm text-[#374151]",children:"Promo Code"}),e.jsxs("div",{className:"flex gap-2 mt-2",children:[e.jsx(Ne,{placeholder:"Enter code",value:l,onChange:E=>c(E.target.value),disabled:u,className:"h-10 border-[#E5E7EB]","data-testid":"input-promo"}),e.jsx(S,{variant:"outline",size:"sm",onClick:w,disabled:u||!l,className:"h-10","data-testid":"button-apply-promo",children:u?e.jsx(rs,{className:"w-4 h-4"}):"Apply"})]}),u&&e.jsxs(O,{className:"mt-2 bg-green-100 text-green-700",children:[e.jsx(on,{className:"w-3 h-3 mr-1"}),"TRAVEL10 applied"]})]}),e.jsx(Ja,{}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-[#6B7280]",children:"Subtotal"}),e.jsxs("span",{className:"text-[#111827]",children:["$",g]})]}),b>0&&e.jsxs("div",{className:"flex justify-between text-green-600",children:[e.jsx("span",{children:"Discount (10%)"}),e.jsxs("span",{children:["-$",b.toFixed(0)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-[#6B7280]",children:"Service Fee"}),e.jsxs("span",{className:"text-[#111827]",children:["$",v]})]})]}),e.jsx(Ja,{}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-semibold text-[#111827]",children:"Total"}),e.jsxs("span",{className:"text-2xl font-bold text-[#FF385C]",children:["$",y.toFixed(0)]})]}),e.jsx(S,{className:"w-full h-12 bg-[#FF385C] hover:bg-[#E23350] text-white text-lg",onClick:M,disabled:n||!x||!_,"data-testid":"button-pay-now",children:n?"Processing...":e.jsxs(e.Fragment,{children:[e.jsx(ag,{className:"w-4 h-4 mr-2"}),"Pay $",y.toFixed(0)]})}),e.jsxs("div",{className:"flex items-center justify-center gap-2 text-xs text-[#6B7280]",children:[e.jsx(sr,{className:"w-4 h-4"}),"Secure payment powered by Stripe"]})]})]}),e.jsx(P,{className:"border-[#E5E7EB] mt-4 bg-gradient-to-r from-[#FFF5F7] to-white",children:e.jsx(F,{className:"p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-[#FF385C] flex items-center justify-center flex-shrink-0",children:e.jsx(qe,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-[#111827] mb-1",children:"Optimize Your Trip?"}),e.jsx("p",{className:"text-sm text-[#6B7280] mb-2",children:"Let AI arrange your activities for the best experience"}),e.jsx(Ce,{href:"/optimize",children:e.jsx(S,{size:"sm",variant:"outline",className:"border-[#FF385C] text-[#FF385C]","data-testid":"button-optimize",children:"Add for $29"})})]})]})})})]})})]})})]})}const Sf=[{id:1,title:"Basic Info"},{id:2,title:"Expertise"},{id:3,title:"Services"},{id:4,title:"Experience"},{id:5,title:"Availability"},{id:6,title:"Review"}],Qhe=[{value:"budget_travel",label:"Budget Travel"},{value:"luxury_experiences",label:"Luxury Experiences"},{value:"adventure_outdoor",label:"Adventure & Outdoor"},{value:"cultural_immersion",label:"Cultural Immersion"},{value:"family_friendly",label:"Family Friendly"},{value:"solo_travel",label:"Solo Travel"},{value:"food_wine",label:"Food & Wine"},{value:"photography_tours",label:"Photography Tours"},{value:"honeymoon",label:"Honeymoon Planning"},{value:"wellness_retreat",label:"Wellness & Retreat"},{value:"group_travel",label:"Group Travel"},{value:"backpacking",label:"Backpacking"}],Xhe=["Paris, France","Tokyo, Japan","Barcelona, Spain","Bali, Indonesia","New York, USA","Rome, Italy","Mumbai, India","Sydney, Australia","London, UK","Dubai, UAE"],Zhe=["Cultural Tours","Adventure Travel","Food & Wine","Luxury Travel","Budget Travel","Wedding Planning","Honeymoon Planning","Family Vacations","Solo Travel","Business Travel","Photography Tours","Historical Tours"],Jhe=["English","Spanish","French","Japanese","Mandarin","Hindi","Portuguese","German","Italian","Arabic","Korean","Russian"],exe=[{icon:bt,text:"Earn $3,000-$10,000+/month"},{icon:Je,text:"Set your own schedule"},{icon:et,text:"Access to global travelers"},{icon:qe,text:"AI-powered planning tools"}];function txe(){const{toast:t}=Bs(),[,s]=La(),[a,r]=h.useState(1),[n,i]=h.useState(!1),[l,c]=h.useState(!1),u=new URLSearchParams(window.location.search),m=u.get("influencer")==="true",x=u.get("auth"),[f,g]=h.useState({firstName:"",lastName:"",email:"",phone:"",country:"",city:"",destinations:[],specialties:[],languages:[],experienceTypes:[],specializations:[],selectedServices:[],yearsExperience:"",bio:"",portfolio:"",certifications:"",availability:"",responseTime:"",hourlyRate:"",agreeToTerms:!1,isInfluencer:m,instagramLink:"",tiktokLink:"",youtubeLink:"",instagramFollowers:"",tiktokFollowers:"",youtubeFollowers:""}),{data:b}=Le({queryKey:["/api/auth/user"],enabled:x==="facebook",retry:!1}),{data:v}=Le({queryKey:["/api/auth/instagram-data"],enabled:x==="facebook",retry:!1});h.useEffect(()=>{b&&x==="facebook"&&(g(A=>({...A,firstName:A.firstName||b.firstName||"",lastName:A.lastName||b.lastName||"",email:A.email||b.email||"",isInfluencer:!0})),c(!0),t({title:"Account Connected",description:"Your social account has been linked successfully!"}))},[b,x,t]),h.useEffect(()=>{v?.connected&&(g(A=>({...A,instagramLink:A.instagramLink||`https://instagram.com/${v.username}`,instagramFollowers:A.instagramFollowers||String(v.followers_count||"")})),t({title:"Instagram Verified",description:`@${v.username} connected with ${v.followers_count?.toLocaleString()} followers`}))},[v,t]);const{data:y=[]}=Le({queryKey:["/api/experience-types"]}),{data:w=[]}=Le({queryKey:["/api/expert-service-categories"]}),k=(A,V)=>{g(H=>({...H,[A]:V}))},C=(A,V)=>{const H=f[A];H.includes(V)?k(A,H.filter(I=>I!==V)):k(A,[...H,V])},_=()=>{switch(a){case 1:return f.firstName&&f.lastName&&f.email&&f.phone;case 2:return f.destinations.length>0&&f.specialties.length>0&&f.languages.length>0&&f.experienceTypes.length>0;case 3:return f.selectedServices.length>0;case 4:return f.yearsExperience&&f.bio.length>20;case 5:return f.availability&&f.responseTime&&f.hourlyRate;case 6:return f.agreeToTerms;default:return!0}},M=()=>{if(!_()){t({title:"Please complete all required fields",description:"Fill in all required information before continuing.",variant:"destructive"});return}a<Sf.length&&r(A=>A+1)},E=()=>{a>1&&r(A=>A-1)},R=Ot({mutationFn:async()=>{if(f.agreeToTerms)try{await Ft("POST","/api/auth/accept-terms",{acceptTerms:!0,acceptPrivacy:!0})}catch{console.log("Terms acceptance recorded (or user not authenticated)")}const A=f.isInfluencer?{instagram:f.instagramFollowers?parseInt(f.instagramFollowers):0,tiktok:f.tiktokFollowers?parseInt(f.tiktokFollowers):0,youtube:f.youtubeFollowers?parseInt(f.youtubeFollowers):0}:{},V={firstName:f.firstName,lastName:f.lastName,email:f.email,phone:f.phone,country:f.country,city:f.city,destinations:f.destinations,specialties:f.specialties,languages:f.languages,experienceTypes:f.experienceTypes,specializations:f.specializations,selectedServices:f.selectedServices,yearsOfExperience:f.yearsExperience,bio:f.bio,portfolio:f.portfolio,certifications:f.certifications,availability:f.availability,responseTime:f.responseTime,hourlyRate:f.hourlyRate,isInfluencer:f.isInfluencer,instagramLink:f.instagramLink,tiktokLink:f.tiktokLink,youtubeLink:f.youtubeLink,socialFollowers:A};return Ft("POST","/api/expert-application",V)},onSuccess:()=>{t({title:"Application submitted!",description:"We'll review your application and get back to you within 48 hours."}),s("/dashboard")},onError:A=>{t({title:"Submission failed",description:A.message||"There was an error submitting your application. Please try again.",variant:"destructive"})}}),z=async()=>{i(!0);try{await R.mutateAsync()}finally{i(!1)}};return e.jsxs("div",{className:"min-h-screen bg-[#F9FAFB]",children:[e.jsx("header",{className:"bg-white border-b border-[#E5E7EB] sticky top-0 z-50",children:e.jsx("div",{className:"container mx-auto px-4 max-w-4xl",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsxs(Ce,{href:"/partner-with-us",className:"flex items-center gap-2 text-[#6B7280] hover:text-[#111827]","data-testid":"link-back",children:[e.jsx(la,{className:"w-5 h-5"}),"Back"]}),e.jsx("span",{className:"font-semibold text-[#111827]",children:"Travel Expert Application"}),e.jsx("div",{className:"w-20"})]})})}),e.jsx("div",{className:"bg-white border-b border-[#E5E7EB] py-4",children:e.jsx("div",{className:"container mx-auto px-4 max-w-4xl",children:e.jsx("div",{className:"flex items-center justify-between",children:Sf.map((A,V)=>e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:te("flex items-center gap-2 px-3 py-2 rounded-lg transition-colors",a===A.id?"bg-[#FFE3E8] text-[#FF385C]":a>A.id?"text-green-600":"text-[#9CA3AF]"),children:[e.jsx("div",{className:te("w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium",a===A.id?"bg-[#FF385C] text-white":a>A.id?"bg-green-100 text-green-600":"bg-[#F3F4F6] text-[#9CA3AF]"),children:a>A.id?e.jsx(rs,{className:"w-4 h-4"}):A.id}),e.jsx("span",{className:"hidden sm:inline text-sm font-medium",children:A.title})]}),V<Sf.length-1&&e.jsx("div",{className:te("w-8 md:w-12 h-0.5 mx-2",a>A.id?"bg-green-300":"bg-[#E5E7EB]")})]},A.id))})})}),e.jsxs("div",{className:"container mx-auto px-4 max-w-2xl py-8",children:[e.jsxs(He.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.2},children:[a===1&&e.jsxs(P,{className:"border-[#E5E7EB]",children:[e.jsx(Q,{children:e.jsx(X,{className:"text-2xl text-[#111827]",children:"Basic Information"})}),e.jsxs(F,{className:"space-y-4",children:[l?e.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-5 border border-green-200 dark:border-green-800",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(rs,{className:"w-5 h-5 text-green-600"}),e.jsx("p",{className:"font-semibold text-green-700 dark:text-green-400",children:"Social Account Connected"})]}),e.jsxs("p",{className:"text-sm text-green-600 dark:text-green-500",children:["Your information has been auto-filled from your social account.",v?.connected&&e.jsx("span",{className:"block mt-1",children:e.jsxs(O,{variant:"secondary",className:"mt-2",children:[e.jsx(fT,{className:"w-3 h-3 mr-1"}),"@",v.username," - ",v.followers_count?.toLocaleString()," followers"]})})]})]}):e.jsxs("div",{className:"bg-gradient-to-r from-[#1877F2]/5 via-[#E1306C]/5 to-[#833AB4]/5 rounded-lg p-5 border border-[#E5E7EB]",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(qe,{className:"w-5 h-5 text-primary"}),e.jsx("p",{className:"font-semibold text-foreground",children:"Quick Sign-In with Social Media"})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Sign in with your social account to auto-fill your information and verify your profile faster."}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs(S,{type:"button",variant:"outline",className:"bg-[#1877F2] hover:bg-[#166FE5] text-white border-none",onClick:()=>window.location.href="/api/auth/facebook","data-testid":"button-facebook-login-top",children:[e.jsx(qhe,{className:"w-4 h-4 mr-2"}),"Continue with Facebook"]}),e.jsxs(S,{type:"button",variant:"outline",className:"bg-gradient-to-r from-[#833AB4] via-[#E1306C] to-[#F77737] hover:opacity-90 text-white border-none",onClick:()=>window.location.href="/api/auth/facebook","data-testid":"button-instagram-login-top",children:[e.jsx(fT,{className:"w-4 h-4 mr-2"}),"Continue with Instagram"]})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("span",{className:"w-full border-t"})}),e.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:e.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"Or fill in manually"})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ye,{className:"text-[#374151]",children:"First Name"}),e.jsx(Ne,{value:f.firstName,onChange:A=>k("firstName",A.target.value),className:"mt-2 h-12 border-[#E5E7EB]","data-testid":"input-first-name"})]}),e.jsxs("div",{children:[e.jsx(ye,{className:"text-[#374151]",children:"Last Name"}),e.jsx(Ne,{value:f.lastName,onChange:A=>k("lastName",A.target.value),className:"mt-2 h-12 border-[#E5E7EB]","data-testid":"input-last-name"})]})]}),e.jsxs("div",{children:[e.jsx(ye,{className:"text-[#374151]",children:"Email"}),e.jsx(Ne,{type:"email",value:f.email,onChange:A=>k("email",A.target.value),className:"mt-2 h-12 border-[#E5E7EB]","data-testid":"input-email"})]}),e.jsxs("div",{children:[e.jsx(ye,{className:"text-[#374151]",children:"Phone"}),e.jsx(Ne,{type:"tel",value:f.phone,onChange:A=>k("phone",A.target.value),className:"mt-2 h-12 border-[#E5E7EB]","data-testid":"input-phone"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ye,{className:"text-[#374151]",children:"Country"}),e.jsx(Ne,{value:f.country,onChange:A=>k("country",A.target.value),className:"mt-2 h-12 border-[#E5E7EB]","data-testid":"input-country"})]}),e.jsxs("div",{children:[e.jsx(ye,{className:"text-[#374151]",children:"City"}),e.jsx(Ne,{value:f.city,onChange:A=>k("city",A.target.value),className:"mt-2 h-12 border-[#E5E7EB]","data-testid":"input-city"})]})]}),e.jsxs("div",{className:"border-t pt-6 mt-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(Fl,{id:"isInfluencer",checked:f.isInfluencer,onCheckedChange:A=>k("isInfluencer",A),"data-testid":"checkbox-is-influencer"}),e.jsxs("div",{children:[e.jsx(ye,{htmlFor:"isInfluencer",className:"text-[#374151] font-medium cursor-pointer",children:"I'm a Travel Content Creator / Influencer"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Get a verified creator badge and earn referral commissions"})]})]}),f.isInfluencer&&e.jsxs("div",{className:"space-y-4 pl-6 border-l-2 border-primary/20",children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Share your social media profiles. We'll verify your creator status and enable referral tracking."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ye,{className:"text-[#374151]",children:"Instagram Profile"}),e.jsx(Ne,{value:f.instagramLink,onChange:A=>k("instagramLink",A.target.value),placeholder:"https://instagram.com/yourhandle",className:"mt-2 h-12 border-[#E5E7EB]","data-testid":"input-instagram-link"})]}),e.jsxs("div",{children:[e.jsx(ye,{className:"text-[#374151]",children:"Instagram Followers"}),e.jsx(Ne,{value:f.instagramFollowers,onChange:A=>k("instagramFollowers",A.target.value),placeholder:"e.g. 50000",className:"mt-2 h-12 border-[#E5E7EB]","data-testid":"input-instagram-followers"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ye,{className:"text-[#374151]",children:"TikTok Profile"}),e.jsx(Ne,{value:f.tiktokLink,onChange:A=>k("tiktokLink",A.target.value),placeholder:"https://tiktok.com/@yourhandle",className:"mt-2 h-12 border-[#E5E7EB]","data-testid":"input-tiktok-link"})]}),e.jsxs("div",{children:[e.jsx(ye,{className:"text-[#374151]",children:"TikTok Followers"}),e.jsx(Ne,{value:f.tiktokFollowers,onChange:A=>k("tiktokFollowers",A.target.value),placeholder:"e.g. 100000",className:"mt-2 h-12 border-[#E5E7EB]","data-testid":"input-tiktok-followers"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ye,{className:"text-[#374151]",children:"YouTube Channel"}),e.jsx(Ne,{value:f.youtubeLink,onChange:A=>k("youtubeLink",A.target.value),placeholder:"https://youtube.com/@yourchannel",className:"mt-2 h-12 border-[#E5E7EB]","data-testid":"input-youtube-link"})]}),e.jsxs("div",{children:[e.jsx(ye,{className:"text-[#374151]",children:"YouTube Subscribers"}),e.jsx(Ne,{value:f.youtubeFollowers,onChange:A=>k("youtubeFollowers",A.target.value),placeholder:"e.g. 25000",className:"mt-2 h-12 border-[#E5E7EB]","data-testid":"input-youtube-followers"})]})]})]})]})]})]}),a===2&&e.jsxs(P,{className:"border-[#E5E7EB]",children:[e.jsx(Q,{children:e.jsx(X,{className:"text-2xl text-[#111827]",children:"Your Expertise"})}),e.jsxs(F,{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs(ye,{className:"text-[#374151] mb-3 block",children:[e.jsx(Nr,{className:"w-4 h-4 inline mr-2"}),"Destinations You Cover (select all that apply)"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:Xhe.map(A=>e.jsx(O,{variant:f.destinations.includes(A)?"default":"outline",className:te("cursor-pointer px-3 py-2",f.destinations.includes(A)?"bg-[#FF385C] hover:bg-[#E23350]":"border-[#E5E7EB] hover:border-[#FF385C]"),onClick:()=>C("destinations",A),"data-testid":`badge-destination-${A.toLowerCase().replace(/[,\s]/g,"-")}`,children:A},A))})]}),e.jsxs("div",{children:[e.jsxs(ye,{className:"text-[#374151] mb-3 block",children:[e.jsx(jr,{className:"w-4 h-4 inline mr-2"}),"Specialties (select all that apply)"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:Zhe.map(A=>e.jsx(O,{variant:f.specialties.includes(A)?"default":"outline",className:te("cursor-pointer px-3 py-2",f.specialties.includes(A)?"bg-[#FF385C] hover:bg-[#E23350]":"border-[#E5E7EB] hover:border-[#FF385C]"),onClick:()=>C("specialties",A),"data-testid":`badge-specialty-${A.toLowerCase().replace(/\s/g,"-")}`,children:A},A))})]}),e.jsxs("div",{children:[e.jsxs(ye,{className:"text-[#374151] mb-3 block",children:[e.jsx(No,{className:"w-4 h-4 inline mr-2"}),"Languages You Speak"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:Jhe.map(A=>e.jsx(O,{variant:f.languages.includes(A)?"default":"outline",className:te("cursor-pointer px-3 py-2",f.languages.includes(A)?"bg-[#FF385C] hover:bg-[#E23350]":"border-[#E5E7EB] hover:border-[#FF385C]"),onClick:()=>C("languages",A),"data-testid":`badge-language-${A.toLowerCase()}`,children:A},A))})]}),e.jsxs("div",{children:[e.jsxs(ye,{className:"text-[#374151] mb-3 block",children:[e.jsx(Ge,{className:"w-4 h-4 inline mr-2"}),"Experience Types You Can Plan (select all that apply)"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:y.map(A=>e.jsx(O,{variant:f.experienceTypes.includes(A.id)?"default":"outline",className:te("cursor-pointer px-3 py-2",f.experienceTypes.includes(A.id)?"bg-[#FF385C] hover:bg-[#E23350]":"border-[#E5E7EB] hover:border-[#FF385C]"),onClick:()=>C("experienceTypes",A.id),"data-testid":`badge-experience-${A.slug}`,children:A.name},A.id))})]}),e.jsxs("div",{children:[e.jsxs(ye,{className:"text-[#374151] mb-3 block",children:[e.jsx(rt,{className:"w-4 h-4 inline mr-2"}),"Your Specializations"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:Qhe.map(A=>e.jsx(O,{variant:f.specializations.includes(A.value)?"default":"outline",className:te("cursor-pointer px-3 py-2",f.specializations.includes(A.value)?"bg-[#FF385C] hover:bg-[#E23350]":"border-[#E5E7EB] hover:border-[#FF385C]"),onClick:()=>C("specializations",A.value),"data-testid":`badge-specialization-${A.value}`,children:A.label},A.value))})]})]})]}),a===3&&e.jsxs(P,{className:"border-[#E5E7EB]",children:[e.jsxs(Q,{children:[e.jsx(X,{className:"text-2xl text-[#111827]",children:"Services You Offer"}),e.jsx("p",{className:"text-[#6B7280] text-sm mt-1",children:"Select the services you want to offer to travelers. You can set custom pricing later."})]}),e.jsx(F,{className:"space-y-6",children:w.map(A=>e.jsxs("div",{children:[e.jsxs(ye,{className:"text-[#374151] mb-3 block font-semibold",children:[e.jsx(Ta,{className:"w-4 h-4 inline mr-2"}),A.name]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:A.offerings?.map(V=>e.jsxs(O,{variant:f.selectedServices.includes(V.id)?"default":"outline",className:te("cursor-pointer px-3 py-2",f.selectedServices.includes(V.id)?"bg-[#FF385C] hover:bg-[#E23350]":"border-[#E5E7EB] hover:border-[#FF385C]"),onClick:()=>C("selectedServices",V.id),"data-testid":`badge-service-${V.id}`,children:[V.name," - $",V.price]},V.id))})]},A.id))})]}),a===4&&e.jsxs(P,{className:"border-[#E5E7EB]",children:[e.jsx(Q,{children:e.jsx(X,{className:"text-2xl text-[#111827]",children:"Your Experience"})}),e.jsxs(F,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(ye,{className:"text-[#374151]",children:"Years of Experience"}),e.jsxs(Wt,{value:f.yearsExperience,onValueChange:A=>k("yearsExperience",A),children:[e.jsx(Vt,{className:"mt-2 h-12 border-[#E5E7EB]","data-testid":"select-experience",children:e.jsx(Gt,{placeholder:"Select years of experience"})}),e.jsxs(Ut,{children:[e.jsx(Pe,{value:"1-2",children:"1-2 years"}),e.jsx(Pe,{value:"3-5",children:"3-5 years"}),e.jsx(Pe,{value:"5-10",children:"5-10 years"}),e.jsx(Pe,{value:"10+",children:"10+ years"})]})]})]}),e.jsxs("div",{children:[e.jsx(ye,{className:"text-[#374151]",children:"Bio / About You"}),e.jsx(Ks,{value:f.bio,onChange:A=>k("bio",A.target.value),placeholder:"Tell travelers about yourself, your passion for travel, and what makes you a great guide...",className:"mt-2 border-[#E5E7EB]",rows:5,"data-testid":"textarea-bio"})]}),e.jsxs("div",{children:[e.jsx(ye,{className:"text-[#374151]",children:"Portfolio / Website (optional)"}),e.jsx(Ne,{value:f.portfolio,onChange:A=>k("portfolio",A.target.value),placeholder:"https://yourwebsite.com",className:"mt-2 h-12 border-[#E5E7EB]","data-testid":"input-portfolio"})]}),e.jsxs("div",{children:[e.jsx(ye,{className:"text-[#374151]",children:"Certifications / Qualifications"}),e.jsx(Ks,{value:f.certifications,onChange:A=>k("certifications",A.target.value),placeholder:"List any relevant certifications, licenses, or qualifications...",className:"mt-2 border-[#E5E7EB]",rows:3,"data-testid":"textarea-certifications"})]})]})]}),a===5&&e.jsxs(P,{className:"border-[#E5E7EB]",children:[e.jsx(Q,{children:e.jsx(X,{className:"text-2xl text-[#111827]",children:"Availability & Rates"})}),e.jsxs(F,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(ye,{className:"text-[#374151]",children:"Weekly Availability"}),e.jsxs(Wt,{value:f.availability,onValueChange:A=>k("availability",A),children:[e.jsx(Vt,{className:"mt-2 h-12 border-[#E5E7EB]","data-testid":"select-availability",children:e.jsx(Gt,{placeholder:"Select your availability"})}),e.jsxs(Ut,{children:[e.jsx(Pe,{value:"5-10",children:"5-10 hours/week"}),e.jsx(Pe,{value:"10-20",children:"10-20 hours/week"}),e.jsx(Pe,{value:"20-30",children:"20-30 hours/week"}),e.jsx(Pe,{value:"30+",children:"30+ hours/week (Full-time)"})]})]})]}),e.jsxs("div",{children:[e.jsx(ye,{className:"text-[#374151]",children:"Typical Response Time"}),e.jsxs(Wt,{value:f.responseTime,onValueChange:A=>k("responseTime",A),children:[e.jsx(Vt,{className:"mt-2 h-12 border-[#E5E7EB]","data-testid":"select-response-time",children:e.jsx(Gt,{placeholder:"Select response time"})}),e.jsxs(Ut,{children:[e.jsx(Pe,{value:"1",children:"Within 1 hour"}),e.jsx(Pe,{value:"2",children:"Within 2 hours"}),e.jsx(Pe,{value:"4",children:"Within 4 hours"}),e.jsx(Pe,{value:"24",children:"Within 24 hours"})]})]})]}),e.jsxs("div",{children:[e.jsx(ye,{className:"text-[#374151]",children:"Desired Hourly Rate (USD)"}),e.jsxs("div",{className:"relative mt-2",children:[e.jsx(bt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx(Ne,{type:"number",value:f.hourlyRate,onChange:A=>k("hourlyRate",A.target.value),placeholder:"75",className:"pl-10 h-12 border-[#E5E7EB]","data-testid":"input-hourly-rate"})]}),e.jsx("p",{className:"text-sm text-[#6B7280] mt-2",children:"Average expert rates: $50-150/hour depending on experience"})]})]})]}),a===6&&e.jsxs(P,{className:"border-[#E5E7EB]",children:[e.jsx(Q,{children:e.jsx(X,{className:"text-2xl text-[#111827]",children:"Review Your Application"})}),e.jsxs(F,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-[#6B7280]",children:"Name:"}),e.jsxs("span",{className:"ml-2 text-[#111827] font-medium",children:[f.firstName," ",f.lastName]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-[#6B7280]",children:"Email:"}),e.jsx("span",{className:"ml-2 text-[#111827] font-medium",children:f.email})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-[#6B7280]",children:"Location:"}),e.jsxs("span",{className:"ml-2 text-[#111827] font-medium",children:[f.city,", ",f.country]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-[#6B7280]",children:"Experience:"}),e.jsxs("span",{className:"ml-2 text-[#111827] font-medium",children:[f.yearsExperience," years"]})]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-[#6B7280] text-sm",children:"Destinations:"}),e.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:f.destinations.map(A=>e.jsx(O,{variant:"secondary",className:"text-xs",children:A},A))})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-[#6B7280] text-sm",children:"Specialties:"}),e.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:f.specialties.map(A=>e.jsx(O,{variant:"secondary",className:"text-xs",children:A},A))})]}),e.jsxs("div",{className:"p-4 bg-[#F3F4F6] rounded-lg",children:[e.jsx("h4",{className:"font-medium text-[#111827] mb-2",children:"Benefits You'll Get:"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:exe.map(A=>e.jsxs("div",{className:"flex items-center gap-2 text-sm text-[#6B7280]",children:[e.jsx(A.icon,{className:"w-4 h-4 text-[#FF385C]"}),A.text]},A.text))})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Fl,{id:"terms",checked:f.agreeToTerms,onCheckedChange:A=>k("agreeToTerms",A),"data-testid":"checkbox-terms"}),e.jsxs("label",{htmlFor:"terms",className:"text-sm text-[#6B7280]",children:["I agree to the"," ",e.jsx("a",{href:"/terms",target:"_blank",rel:"noopener noreferrer",className:"text-[#FF385C] underline",children:"Terms of Service"})," ","and"," ",e.jsx("a",{href:"/privacy",target:"_blank",rel:"noopener noreferrer",className:"text-[#FF385C] underline",children:"Privacy Policy"})]})]})]})]})]},a),e.jsxs("div",{className:"flex items-center justify-between mt-8",children:[e.jsxs(S,{variant:"outline",onClick:E,disabled:a===1,className:"border-[#E5E7EB]","data-testid":"button-back",children:[e.jsx(la,{className:"w-4 h-4 mr-2"}),"Back"]}),a<Sf.length?e.jsxs(S,{onClick:M,disabled:!_(),className:"bg-[#FF385C] hover:bg-[#E23350] text-white","data-testid":"button-next-step",children:["Next",e.jsx(Kt,{className:"w-4 h-4 ml-2"})]}):e.jsx(S,{onClick:z,disabled:!f.agreeToTerms||n,className:"bg-[#FF385C] hover:bg-[#E23350] text-white","data-testid":"button-submit",children:n?"Submitting...":"Submit Application"})]})]})]})}const Tf=[{id:1,title:"Business Info"},{id:2,title:"Services"},{id:3,title:"Details"},{id:4,title:"Review"}],sxe=["Hotels & Accommodations","Restaurants & Dining","Tours & Activities","Transportation","Event Venues","Wellness & Spa","Photography","Catering","Entertainment","Equipment Rentals"],axe=["Sole Proprietorship","Partnership","LLC","Corporation","Non-Profit"],rxe=[{icon:et,text:"Access to qualified travelers"},{icon:bt,text:"Competitive commission rates"},{icon:rt,text:"Review and rating system"},{icon:sr,text:"Secure payment processing"}];function nxe(){const{toast:t}=Bs(),[,s]=La(),[a,r]=h.useState(1),[n,i]=h.useState(!1),[l,c]=h.useState({businessName:"",businessType:"",registrationNumber:"",taxId:"",email:"",phone:"",website:"",address:"",city:"",country:"",serviceCategories:[],description:"",capacity:"",priceRange:"",amenities:"",hasInsurance:!1,hasLicense:!1,agreeToTerms:!1}),u=(v,y)=>{c(w=>({...w,[v]:y}))},m=v=>{l.serviceCategories.includes(v)?u("serviceCategories",l.serviceCategories.filter(y=>y!==v)):u("serviceCategories",[...l.serviceCategories,v])},x=()=>{switch(a){case 1:return l.businessName&&l.businessType&&l.email&&l.phone;case 2:return l.serviceCategories.length>0&&l.description.length>20;case 3:return l.address&&l.city&&l.country&&l.hasInsurance&&l.hasLicense;case 4:return l.agreeToTerms;default:return!0}},f=()=>{if(!x()){t({title:"Please complete all required fields",description:"Fill in all required information before continuing.",variant:"destructive"});return}a<Tf.length&&r(v=>v+1)},g=()=>{a>1&&r(v=>v-1)},b=async()=>{i(!0),await new Promise(v=>setTimeout(v,2e3)),i(!1),t({title:"Registration submitted!",description:"We'll review your application and get back to you within 48-72 hours."}),s("/dashboard")};return e.jsxs("div",{className:"min-h-screen bg-[#F9FAFB]",children:[e.jsx("header",{className:"bg-white border-b border-[#E5E7EB] sticky top-0 z-50",children:e.jsx("div",{className:"container mx-auto px-4 max-w-4xl",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsxs(Ce,{href:"/partner-with-us",className:"flex items-center gap-2 text-[#6B7280] hover:text-[#111827]","data-testid":"link-back",children:[e.jsx(la,{className:"w-5 h-5"}),"Back"]}),e.jsx("span",{className:"font-semibold text-[#111827]",children:"Service Provider Registration"}),e.jsx("div",{className:"w-20"})]})})}),e.jsx("div",{className:"bg-white border-b border-[#E5E7EB] py-4",children:e.jsx("div",{className:"container mx-auto px-4 max-w-4xl",children:e.jsx("div",{className:"flex items-center justify-between",children:Tf.map((v,y)=>e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:te("flex items-center gap-2 px-3 py-2 rounded-lg transition-colors",a===v.id?"bg-[#FFE3E8] text-[#FF385C]":a>v.id?"text-green-600":"text-[#9CA3AF]"),children:[e.jsx("div",{className:te("w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium",a===v.id?"bg-[#FF385C] text-white":a>v.id?"bg-green-100 text-green-600":"bg-[#F3F4F6] text-[#9CA3AF]"),children:a>v.id?e.jsx(rs,{className:"w-4 h-4"}):v.id}),e.jsx("span",{className:"hidden sm:inline text-sm font-medium",children:v.title})]}),y<Tf.length-1&&e.jsx("div",{className:te("w-12 md:w-20 h-0.5 mx-2",a>v.id?"bg-green-300":"bg-[#E5E7EB]")})]},v.id))})})}),e.jsxs("div",{className:"container mx-auto px-4 max-w-2xl py-8",children:[e.jsxs(He.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.2},children:[a===1&&e.jsxs(P,{className:"border-[#E5E7EB]",children:[e.jsx(Q,{children:e.jsxs(X,{className:"text-2xl text-[#111827] flex items-center gap-2",children:[e.jsx(va,{className:"w-6 h-6 text-[#FF385C]"}),"Business Information"]})}),e.jsxs(F,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(ye,{className:"text-[#374151]",children:"Business Name"}),e.jsx(Ne,{value:l.businessName,onChange:v=>u("businessName",v.target.value),placeholder:"Your Business Name",className:"mt-2 h-12 border-[#E5E7EB]","data-testid":"input-business-name"})]}),e.jsxs("div",{children:[e.jsx(ye,{className:"text-[#374151]",children:"Business Type"}),e.jsxs(Wt,{value:l.businessType,onValueChange:v=>u("businessType",v),children:[e.jsx(Vt,{className:"mt-2 h-12 border-[#E5E7EB]","data-testid":"select-business-type",children:e.jsx(Gt,{placeholder:"Select business type"})}),e.jsx(Ut,{children:axe.map(v=>e.jsx(Pe,{value:v,children:v},v))})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ye,{className:"text-[#374151]",children:"Registration Number"}),e.jsx(Ne,{value:l.registrationNumber,onChange:v=>u("registrationNumber",v.target.value),className:"mt-2 h-12 border-[#E5E7EB]","data-testid":"input-registration"})]}),e.jsxs("div",{children:[e.jsx(ye,{className:"text-[#374151]",children:"Tax ID"}),e.jsx(Ne,{value:l.taxId,onChange:v=>u("taxId",v.target.value),className:"mt-2 h-12 border-[#E5E7EB]","data-testid":"input-tax-id"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ye,{className:"text-[#374151]",children:"Email"}),e.jsx(Ne,{type:"email",value:l.email,onChange:v=>u("email",v.target.value),className:"mt-2 h-12 border-[#E5E7EB]","data-testid":"input-email"})]}),e.jsxs("div",{children:[e.jsx(ye,{className:"text-[#374151]",children:"Phone"}),e.jsx(Ne,{type:"tel",value:l.phone,onChange:v=>u("phone",v.target.value),className:"mt-2 h-12 border-[#E5E7EB]","data-testid":"input-phone"})]})]}),e.jsxs("div",{children:[e.jsx(ye,{className:"text-[#374151]",children:"Website (optional)"}),e.jsx(Ne,{value:l.website,onChange:v=>u("website",v.target.value),placeholder:"https://yourbusiness.com",className:"mt-2 h-12 border-[#E5E7EB]","data-testid":"input-website"})]})]})]}),a===2&&e.jsxs(P,{className:"border-[#E5E7EB]",children:[e.jsx(Q,{children:e.jsx(X,{className:"text-2xl text-[#111827]",children:"Service Categories"})}),e.jsxs(F,{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(ye,{className:"text-[#374151] mb-3 block",children:"Select all categories that apply to your business"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:sxe.map(v=>e.jsx("button",{onClick:()=>m(v),className:te("p-4 rounded-lg border-2 text-left transition-all",l.serviceCategories.includes(v)?"border-[#FF385C] bg-[#FFE3E8]":"border-[#E5E7EB] hover:border-[#FF385C]"),"data-testid":`button-category-${v.toLowerCase().replace(/\s/g,"-")}`,children:e.jsx("span",{className:te("font-medium",l.serviceCategories.includes(v)?"text-[#FF385C]":"text-[#374151]"),children:v})},v))})]}),e.jsxs("div",{children:[e.jsx(ye,{className:"text-[#374151]",children:"Business Description"}),e.jsx(Ks,{value:l.description,onChange:v=>u("description",v.target.value),placeholder:"Describe your business, services offered, and what makes you unique...",className:"mt-2 border-[#E5E7EB]",rows:5,"data-testid":"textarea-description"})]})]})]}),a===3&&e.jsxs(P,{className:"border-[#E5E7EB]",children:[e.jsx(Q,{children:e.jsxs(X,{className:"text-2xl text-[#111827]",children:[e.jsx(Me,{className:"w-6 h-6 text-[#FF385C] inline mr-2"}),"Location & Details"]})}),e.jsxs(F,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(ye,{className:"text-[#374151]",children:"Address"}),e.jsx(Ne,{value:l.address,onChange:v=>u("address",v.target.value),placeholder:"Street address",className:"mt-2 h-12 border-[#E5E7EB]","data-testid":"input-address"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ye,{className:"text-[#374151]",children:"City"}),e.jsx(Ne,{value:l.city,onChange:v=>u("city",v.target.value),className:"mt-2 h-12 border-[#E5E7EB]","data-testid":"input-city"})]}),e.jsxs("div",{children:[e.jsx(ye,{className:"text-[#374151]",children:"Country"}),e.jsx(Ne,{value:l.country,onChange:v=>u("country",v.target.value),className:"mt-2 h-12 border-[#E5E7EB]","data-testid":"input-country"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ye,{className:"text-[#374151]",children:"Capacity (if applicable)"}),e.jsx(Ne,{value:l.capacity,onChange:v=>u("capacity",v.target.value),placeholder:"e.g., 50 guests",className:"mt-2 h-12 border-[#E5E7EB]","data-testid":"input-capacity"})]}),e.jsxs("div",{children:[e.jsx(ye,{className:"text-[#374151]",children:"Price Range"}),e.jsxs(Wt,{value:l.priceRange,onValueChange:v=>u("priceRange",v),children:[e.jsx(Vt,{className:"mt-2 h-12 border-[#E5E7EB]","data-testid":"select-price-range",children:e.jsx(Gt,{placeholder:"Select range"})}),e.jsxs(Ut,{children:[e.jsx(Pe,{value:"budget",children:"Budget ($)"}),e.jsx(Pe,{value:"moderate",children:"Moderate ($$)"}),e.jsx(Pe,{value:"upscale",children:"Upscale ($$$)"}),e.jsx(Pe,{value:"luxury",children:"Luxury ($$$$)"})]})]})]})]}),e.jsxs("div",{children:[e.jsx(ye,{className:"text-[#374151]",children:"Amenities / Features"}),e.jsx(Ks,{value:l.amenities,onChange:v=>u("amenities",v.target.value),placeholder:"List key amenities, features, or services you offer...",className:"mt-2 border-[#E5E7EB]",rows:3,"data-testid":"textarea-amenities"})]}),e.jsxs("div",{className:"space-y-3 pt-4 border-t border-[#E5E7EB]",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Fl,{id:"insurance",checked:l.hasInsurance,onCheckedChange:v=>u("hasInsurance",v),"data-testid":"checkbox-insurance"}),e.jsx("label",{htmlFor:"insurance",className:"text-sm text-[#374151]",children:"I have valid business liability insurance"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Fl,{id:"license",checked:l.hasLicense,onCheckedChange:v=>u("hasLicense",v),"data-testid":"checkbox-license"}),e.jsx("label",{htmlFor:"license",className:"text-sm text-[#374151]",children:"I have all required business licenses and permits"})]})]})]})]}),a===4&&e.jsxs(P,{className:"border-[#E5E7EB]",children:[e.jsx(Q,{children:e.jsx(X,{className:"text-2xl text-[#111827]",children:"Review Your Registration"})}),e.jsxs(F,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-[#6B7280]",children:"Business Name:"}),e.jsx("span",{className:"ml-2 text-[#111827] font-medium",children:l.businessName})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-[#6B7280]",children:"Type:"}),e.jsx("span",{className:"ml-2 text-[#111827] font-medium",children:l.businessType})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-[#6B7280]",children:"Location:"}),e.jsxs("span",{className:"ml-2 text-[#111827] font-medium",children:[l.city,", ",l.country]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-[#6B7280]",children:"Contact:"}),e.jsx("span",{className:"ml-2 text-[#111827] font-medium",children:l.email})]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-[#6B7280] text-sm",children:"Service Categories:"}),e.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:l.serviceCategories.map(v=>e.jsx(O,{variant:"secondary",className:"text-xs",children:v},v))})]}),e.jsxs("div",{className:"p-4 bg-[#F3F4F6] rounded-lg",children:[e.jsx("h4",{className:"font-medium text-[#111827] mb-2",children:"Platform Benefits:"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:rxe.map(v=>e.jsxs("div",{className:"flex items-center gap-2 text-sm text-[#6B7280]",children:[e.jsx(v.icon,{className:"w-4 h-4 text-[#FF385C]"}),v.text]},v.text))})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Fl,{id:"terms",checked:l.agreeToTerms,onCheckedChange:v=>u("agreeToTerms",v),"data-testid":"checkbox-terms"}),e.jsxs("label",{htmlFor:"terms",className:"text-sm text-[#6B7280]",children:["I agree to the"," ",e.jsx(Ce,{href:"/service-provider-terms",className:"text-[#FF385C] underline",children:"Service Provider Terms"})," ","and"," ",e.jsx(Ce,{href:"/privacy-policy",className:"text-[#FF385C] underline",children:"Privacy Policy"})]})]})]})]})]},a),e.jsxs("div",{className:"flex items-center justify-between mt-8",children:[e.jsxs(S,{variant:"outline",onClick:g,disabled:a===1,className:"border-[#E5E7EB]","data-testid":"button-back",children:[e.jsx(la,{className:"w-4 h-4 mr-2"}),"Back"]}),a<Tf.length?e.jsxs(S,{onClick:f,disabled:!x(),className:"bg-[#FF385C] hover:bg-[#E23350] text-white","data-testid":"button-next-step",children:["Next",e.jsx(Kt,{className:"w-4 h-4 ml-2"})]}):e.jsx(S,{onClick:b,disabled:!l.agreeToTerms||n,className:"bg-[#FF385C] hover:bg-[#E23350] text-white","data-testid":"button-submit",children:n?"Submitting...":"Submit Registration"})]})]})]})}const JI="13805109";function ixe(t){return new Date(t).toISOString().split("T")[0]}function lxe(t,s,a,r=1){const n="https://12go.co/en/travel",i=t.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,""),l=s.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"");let c=`${n}/${i}/${l}`;const u=new URLSearchParams;return u.set("affiliate_id",JI),a&&u.set("date",ixe(a)),r>1&&u.set("people",r.toString()),`${c}?${u.toString()}`}function oxe(t){const s="https://12go.co/en",a=new URLSearchParams;return a.set("affiliate_id",JI),t&&a.set("q",t),`${s}?${a.toString()}`}function cxe({origin:t,destination:s,departureDate:a,passengers:r=1,className:n="",variant:i="full"}){const l=t&&s,c=l?lxe(t,s,a,r):oxe(s),u=()=>{window.open(c,"_blank","noopener,noreferrer")};return i==="button"?e.jsxs(S,{onClick:u,className:n,"data-testid":"button-12go-transport",children:[e.jsx(Ma,{className:"w-4 h-4 mr-2"}),"Find Transportation",e.jsx(er,{className:"w-3 h-3 ml-2"})]}):i==="compact"?e.jsx(P,{className:`${n}`,"data-testid":"card-12go-compact",children:e.jsx(F,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex gap-1",children:[e.jsx(Ma,{className:"w-5 h-5 text-blue-600"}),e.jsx(Jr,{className:"w-5 h-5 text-green-600"}),e.jsx(Rf,{className:"w-5 h-5 text-cyan-600"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:"Ground Transportation"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Trains, buses, ferries via 12Go"})]})]}),e.jsxs(S,{size:"sm",onClick:u,"data-testid":"button-12go-search",children:["Search",e.jsx(er,{className:"w-3 h-3 ml-1"})]})]})})}):e.jsxs(P,{className:`${n}`,"data-testid":"card-12go-transport",children:[e.jsx(Q,{className:"pb-3",children:e.jsxs(X,{className:"flex items-center gap-2 text-lg",children:[e.jsxs("div",{className:"flex gap-1",children:[e.jsx(Ma,{className:"w-5 h-5 text-blue-600"}),e.jsx(Jr,{className:"w-5 h-5 text-green-600"}),e.jsx(Rf,{className:"w-5 h-5 text-cyan-600"})]}),"Ground Transportation"]})}),e.jsxs(F,{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Book trains, buses, and ferries for your trip. Powered by 12Go Travel."}),l&&e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(Me,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"font-medium",children:t}),e.jsx("span",{className:"text-gray-400",children:"to"}),e.jsx("span",{className:"font-medium",children:s})]}),a&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(Ge,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{children:new Date(a).toLocaleDateString()})]}),r>1&&e.jsxs(O,{variant:"secondary",className:"text-xs",children:[r," passengers"]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs(O,{variant:"outline",className:"text-xs",children:[e.jsx(Ma,{className:"w-3 h-3 mr-1"})," Trains"]}),e.jsxs(O,{variant:"outline",className:"text-xs",children:[e.jsx(Jr,{className:"w-3 h-3 mr-1"})," Buses"]}),e.jsxs(O,{variant:"outline",className:"text-xs",children:[e.jsx(Rf,{className:"w-3 h-3 mr-1"})," Ferries"]}),e.jsxs(O,{variant:"outline",className:"text-xs",children:[e.jsx(Pt,{className:"w-3 h-3 mr-1"})," Flights"]})]}),e.jsxs(S,{onClick:u,className:"w-full","data-testid":"button-12go-book",children:[l?"Search Routes":"Browse Transportation",e.jsx(er,{className:"w-4 h-4 ml-2"})]}),e.jsx("p",{className:"text-xs text-gray-400 text-center",children:"Opens 12Go.co in a new tab"})]})]})}const yh={id:"1",title:"Romantic Paris Getaway",destination:"Paris, France",startDate:new Date("2026-03-15"),endDate:new Date("2026-03-22"),travelers:2,budget:5e3,status:"confirmed",coverImage:"https://images.unsplash.com/photo-1502602898657-3e91760cbb34?w=1200",days:[{day:1,date:new Date("2026-03-15"),title:"Arrival & Eiffel Tower",activities:[{id:"a1",time:"14:00",title:"Airport Arrival",type:"transport",icon:Pt,location:"Charles de Gaulle Airport",duration:"1h",notes:"Private transfer to hotel",booked:!0,bookingType:"partner",bookingStatus:"confirmed",partnerName:"12Go",price:85},{id:"a2",time:"16:00",title:"Hotel Check-in",type:"accommodation",icon:Us,location:"Le Marais Boutique Hotel",duration:"30min",notes:"Suite with Eiffel Tower view",booked:!0,bookingType:"inApp",bookingStatus:"confirmed",price:0},{id:"a3",time:"18:00",title:"Eiffel Tower Visit",type:"attraction",icon:Rs,location:"Champ de Mars",duration:"2h",notes:"Skip-the-line tickets included",booked:!0,bookingType:"inApp",bookingStatus:"confirmed",price:45},{id:"a4",time:"20:30",title:"Dinner at Le Jules Verne",type:"dining",icon:Ns,location:"Eiffel Tower, 2nd Floor",duration:"2h",notes:"Michelin-starred restaurant",booked:!0,price:350}]},{day:2,date:new Date("2026-03-16"),title:"Art & Culture",activities:[{id:"b1",time:"09:00",title:"Breakfast at Cafe de Flore",type:"dining",icon:oo,location:"Saint-Germain-des-Pres",duration:"1h",notes:"Famous literary cafe",booked:!1,price:40},{id:"b2",time:"10:30",title:"Louvre Museum",type:"attraction",icon:Rs,location:"Rue de Rivoli",duration:"4h",notes:"Guided tour with art historian",booked:!0,price:120},{id:"b3",time:"15:00",title:"Seine River Cruise",type:"activity",icon:Ab,location:"Pont Neuf",duration:"1.5h",notes:"Champagne cruise",booked:!0,price:85},{id:"b4",time:"19:00",title:"Dinner in Montmartre",type:"dining",icon:Ns,location:"Le Consulat",duration:"2h",notes:"Traditional French cuisine",booked:!1,price:120}]},{day:3,date:new Date("2026-03-17"),title:"Palace & Gardens",activities:[{id:"c1",time:"08:30",title:"Day Trip to Versailles",type:"transport",icon:zs,location:"Hotel Pickup",duration:"45min",notes:"Private car service",booked:!0,price:150},{id:"c2",time:"10:00",title:"Palace of Versailles",type:"attraction",icon:Rs,location:"Versailles",duration:"4h",notes:"Full palace and gardens tour",booked:!0,price:95},{id:"c3",time:"14:30",title:"Lunch at Ore",type:"dining",icon:Ns,location:"Palace of Versailles",duration:"1.5h",notes:"Ducasse restaurant in the palace",booked:!0,price:180},{id:"c4",time:"16:30",title:"Gardens Exploration",type:"activity",icon:ld,location:"Versailles Gardens",duration:"2h",notes:"Marie Antoinette's Estate",booked:!1,price:0}]},{day:4,date:new Date("2026-03-18"),title:"Shopping & Nightlife",activities:[{id:"d1",time:"10:00",title:"Champs-Elysees Shopping",type:"shopping",icon:Vu,location:"Avenue des Champs-Elysees",duration:"3h",notes:"Personal shopping assistant available",booked:!1,price:0},{id:"d2",time:"14:00",title:"Lunch at L'Avenue",type:"dining",icon:Ns,location:"Avenue Montaigne",duration:"1.5h",notes:"Celebrity hotspot",booked:!0,price:150},{id:"d3",time:"16:00",title:"Galeries Lafayette",type:"shopping",icon:Vu,location:"Boulevard Haussmann",duration:"2h",notes:"Free rooftop access",booked:!1,price:0},{id:"d4",time:"20:00",title:"Moulin Rouge Show",type:"entertainment",icon:qe,location:"Place Blanche",duration:"3h",notes:"Dinner and show package",booked:!0,price:400}]}]},dxe={transport:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400",accommodation:"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400",attraction:"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400",dining:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400",activity:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",shopping:"bg-pink-100 text-pink-700 dark:bg-pink-900/30 dark:text-pink-400",entertainment:"bg-indigo-100 text-indigo-700 dark:bg-indigo-900/30 dark:text-indigo-400"};function uxe(){const[,t]=Xf("/itinerary/:id"),s=t?.id||"1",{data:a,isLoading:r}=KD(s),{data:n,isLoading:i}=ise(s),[l,c]=h.useState(1),[u,m]=h.useState(!1),[x,f]=h.useState(!1),[g,b]=h.useState(""),[v,y]=h.useState(!1),{toast:w}=Bs(),k=r||i,C=async()=>{y(!0);try{if(!(await fetch("/api/expert-booking-requests",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({tripId:s,notes:g})})).ok)throw new Error("Failed to submit request");f(!1),b(""),w({title:"Request Sent",description:"An expert will review your itinerary and handle all bookings. You'll be notified when complete."})}catch{w({title:"Request Failed",description:"Unable to submit your request. Please try again.",variant:"destructive"})}finally{y(!1)}},_=L=>["transport","event","concert","show","entertainment"].includes(L.toLowerCase())?"partner":"inApp",M=L=>{if(L.toLowerCase()==="transport")return"12Go";if(["event","concert","show","entertainment"].includes(L.toLowerCase()))return"Fever"},E=(L,W)=>L==="12Go"?`https://12go.co/en/travel/${W?.split(",")[0]?.toLowerCase().replace(/\s+/g,"-")||"paris"}?affiliate_id=13805109`:L==="Fever"?"https://feverup.com/":"#",R=L=>{const W=L?.days||L?.dailyItinerary;if(!W)return null;const re={transport:Pt,accommodation:Us,attraction:Rs,dining:Ns,activity:ld,shopping:Vu,entertainment:qe,breakfast:oo,lunch:Ns,dinner:Ns};return W.map((se,ge)=>({day:se.day||se.dayNumber||ge+1,date:Lr(a?new Date(a.startDate):new Date,ge),title:se.title||se.theme||`Day ${ge+1}`,activities:(se.activities||[]).map((K,J)=>{const je=K.type||"activity";return{id:`a${ge}-${J}`,time:K.time||K.startTime||"09:00",title:K.name||K.title||"Activity",type:je,icon:re[je.toLowerCase()]||Rs,location:K.location||K.venue||"",duration:K.duration||"1h",notes:K.description||K.notes||"",booked:K.bookingRequired===!1||K.booked||!1,bookingType:K.bookingType||_(je),bookingStatus:K.bookingStatus||(K.booked?"confirmed":"pending"),partnerName:K.partnerName||M(je),price:K.estimatedCost||K.cost||K.price||0}})}))},z=n?.itineraryData?R(n.itineraryData):null,A=a?{...yh,id:a.id,title:a.title||yh.title,destination:a.destination,startDate:new Date(a.startDate),endDate:new Date(a.endDate),travelers:a.numberOfTravelers||1,budget:Number(a.budget)||yh.budget,status:a.status||"draft",days:z||yh.days}:yh;if(k)return e.jsx("div",{className:"min-h-screen bg-[#F9FAFB] dark:bg-gray-900 flex items-center justify-center",children:e.jsx(ot,{className:"w-10 h-10 animate-spin text-[#FF385C]"})});const V=A.days.find(L=>L.day===l),H=A.days.flatMap(L=>L.activities).filter(L=>L.booked).length,I=A.days.flatMap(L=>L.activities).length,q=A.days.flatMap(L=>L.activities).reduce((L,W)=>L+W.price,0),fe=L=>{const W=L.match(/(\d+(?:\.\d+)?)\s*(h|hour|min|m)/i);if(!W)return 0;const re=parseFloat(W[1]),se=W[2].toLowerCase();return se==="h"||se==="hour"?re*60:re},oe=A.days.flatMap(L=>L.activities).filter(L=>L.type==="transport").reduce((L,W)=>L+fe(W.duration),0),Ee=A.days.flatMap(L=>L.activities).reduce((L,W)=>L+fe(W.duration),0),me=L=>{const W=Math.floor(L/60),re=L%60;return W===0?`${re}m`:re===0?`${W}h`:`${W}h ${re}m`},ie=I>0?H/I:0,B=A.days.length>0?I/A.days.length:0,ae=Ee>0?oe/Ee:0,ke=I>0?q/I:0,$=I>0?Math.round(ie*40+Math.min(B/5,1)*30+(1-Math.min(ae,.3)/.3)*20+Math.min(200/Math.max(ke,1),1)*10):0;return e.jsxs("div",{className:"min-h-screen bg-[#F9FAFB] dark:bg-gray-900",children:[e.jsxs("div",{className:"relative h-64 md:h-80 bg-cover bg-center",style:{backgroundImage:`url(${A.coverImage})`},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/60 via-black/40 to-black/80"}),e.jsxs("div",{className:"absolute inset-0 flex flex-col justify-between p-4 md:p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(Ce,{href:"/my-trips",children:e.jsxs(S,{variant:"ghost",className:"text-white hover:bg-white/20","data-testid":"button-back",children:[e.jsx(la,{className:"w-5 h-5 mr-2"}),"Back to Trips"]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(S,{variant:"ghost",size:"icon",className:"text-white hover:bg-white/20",onClick:()=>m(!u),"data-testid":"button-save",children:e.jsx(Qt,{className:`w-5 h-5 ${u?"fill-[#FF385C] text-[#FF385C]":""}`})}),e.jsx(S,{variant:"ghost",size:"icon",className:"text-white hover:bg-white/20","data-testid":"button-share",children:e.jsx(cw,{className:"w-5 h-5"})}),e.jsx(S,{variant:"ghost",size:"icon",className:"text-white hover:bg-white/20","data-testid":"button-download",children:e.jsx(Un,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{children:[e.jsxs(O,{className:"bg-green-500 text-white mb-3","data-testid":"badge-status",children:[e.jsx(Fa,{className:"w-3 h-3 mr-1"}),A.status]}),e.jsx("h1",{className:"text-2xl md:text-4xl font-bold text-white mb-2","data-testid":"text-title",children:A.title}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-white/90 text-sm",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Me,{className:"w-4 h-4"}),A.destination]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ge,{className:"w-4 h-4"}),Et(A.startDate,"MMM d")," - ",Et(A.endDate,"MMM d, yyyy")]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(et,{className:"w-4 h-4"}),A.travelers," travelers"]})]})]})]})]}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-6 -mt-8 relative z-10",children:[e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-6",children:[{label:"Total Days",value:A.days.length,icon:Ge},{label:"Activities",value:I,icon:rt},{label:"Booked",value:`${H}/${I}`,icon:Fa},{label:"Total Cost",value:`$${q.toLocaleString()}`,icon:bt},{label:"Travel Time",value:me(oe),icon:R_},{label:"Efficiency",value:`${$}%`,icon:u$,highlight:$>=70}].map((L,W)=>e.jsx(P,{className:"bg-white dark:bg-gray-800",children:e.jsxs(F,{className:"p-4 flex items-center gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${L.highlight?"bg-green-100 dark:bg-green-900/30":"bg-[#FFE3E8] dark:bg-[#FF385C]/20"}`,children:e.jsx(L.icon,{className:`w-5 h-5 ${L.highlight?"text-green-600 dark:text-green-400":"text-[#FF385C]"}`})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-[#6B7280]",children:L.label}),e.jsx("p",{className:`text-lg font-bold ${L.highlight?"text-green-600 dark:text-green-400":"text-[#111827] dark:text-white"}`,"data-testid":`text-stat-${L.label.toLowerCase().replace(" ","-")}`,children:L.value})]})]})},W))}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 pb-12",children:[e.jsxs("div",{className:"lg:w-64 flex-shrink-0",children:[e.jsxs(P,{className:"bg-white dark:bg-gray-800 sticky top-4",children:[e.jsx(Q,{className:"pb-2",children:e.jsx(X,{className:"text-sm font-medium text-[#6B7280]",children:"Trip Days"})}),e.jsx(F,{className:"p-2",children:e.jsx(Ha,{className:"h-auto lg:h-[400px]",children:e.jsx("div",{className:"flex lg:flex-col gap-2 overflow-x-auto lg:overflow-x-visible pb-2 lg:pb-0",children:A.days.map(L=>e.jsxs("button",{onClick:()=>c(L.day),className:`flex-shrink-0 w-full text-left p-3 rounded-lg transition-all ${l===L.day?"bg-[#FF385C] text-white":"bg-gray-50 dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600"}`,"data-testid":`button-day-${L.day}`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("p",{className:`text-xs ${l===L.day?"text-white/80":"text-[#6B7280]"}`,children:["Day ",L.day]}),e.jsx("p",{className:`font-medium text-sm ${l===L.day?"text-white":"text-[#111827] dark:text-white"}`,children:Et(L.date,"EEE, MMM d")})]}),e.jsx(O,{variant:"secondary",className:`text-xs ${l===L.day?"bg-white/20 text-white":""}`,children:L.activities.length})]}),e.jsx("p",{className:`text-xs mt-1 truncate ${l===L.day?"text-white/90":"text-[#6B7280]"}`,children:L.title})]},L.day))})})})]}),e.jsx(cxe,{destination:A.destination.split(",")[0],departureDate:A.startDate.toISOString(),passengers:A.travelers,variant:"full",className:"mt-4"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx(xm,{mode:"wait",children:V&&e.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},children:e.jsxs(P,{className:"bg-white dark:bg-gray-800 mb-4",children:[e.jsxs(Q,{className:"flex flex-row items-center justify-between gap-4 pb-2",children:[e.jsxs("div",{children:[e.jsxs(X,{className:"text-xl text-[#111827] dark:text-white",children:["Day ",V.day,": ",V.title]}),e.jsx("p",{className:"text-sm text-[#6B7280]",children:Et(V.date,"EEEE, MMMM d, yyyy")})]}),e.jsxs(S,{variant:"outline",size:"sm","data-testid":"button-edit-day",children:[e.jsx(ii,{className:"w-4 h-4 mr-2"}),"Edit Day"]})]}),e.jsx(F,{className:"pt-4",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-4 top-0 bottom-0 w-0.5 bg-gray-200 dark:bg-gray-700"}),e.jsx("div",{className:"space-y-4",children:V.activities.map((L,W)=>e.jsxs(He.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:W*.1},className:"relative pl-10",children:[e.jsx("div",{className:`absolute left-2 top-4 w-5 h-5 rounded-full flex items-center justify-center ${L.booked?"bg-green-500":"bg-gray-300 dark:bg-gray-600"}`,children:L.booked?e.jsx(Fa,{className:"w-3 h-3 text-white"}):e.jsx(i$,{className:"w-3 h-3 text-gray-500"})}),e.jsx(P,{className:"border border-gray-200 dark:border-gray-700 hover:shadow-md transition-shadow",children:e.jsx(F,{className:"p-4",children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[e.jsx("div",{className:`p-2 rounded-lg ${dxe[L.type]}`,children:e.jsx(L.icon,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("span",{className:"text-sm font-medium text-[#6B7280]",children:L.time}),e.jsx(O,{variant:"outline",className:"text-xs",children:L.duration}),(L.bookingType||_(L.type))==="inApp"?e.jsxs(O,{className:"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400 text-xs","data-testid":`badge-inapp-${L.id}`,children:[e.jsx(lg,{className:"w-3 h-3 mr-1"}),"Book on Traveloure"]}):e.jsxs(O,{className:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400 text-xs","data-testid":`badge-partner-${L.id}`,children:[e.jsx(er,{className:"w-3 h-3 mr-1"}),L.partnerName||M(L.type)||"Partner"]}),L.booked&&e.jsx(O,{className:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400 text-xs",children:L.bookingStatus==="confirmed"?"Confirmed":"Booked"})]}),e.jsx("h4",{className:"font-semibold text-[#111827] dark:text-white mt-1","data-testid":`text-activity-${L.id}`,children:L.title}),e.jsxs("p",{className:"text-sm text-[#6B7280] flex items-center gap-1 mt-1",children:[e.jsx(Me,{className:"w-3 h-3"}),L.location]}),L.notes&&e.jsx("p",{className:"text-sm text-[#6B7280] mt-1 italic",children:L.notes})]})]}),e.jsxs("div",{className:"text-right flex-shrink-0",children:[L.price>0&&e.jsxs("p",{className:"font-semibold text-[#111827] dark:text-white",children:["$",L.price]}),!L.booked&&L.price>0&&((L.bookingType||_(L.type))==="inApp"?e.jsxs(S,{size:"sm",className:"mt-2 bg-[#FF385C] hover:bg-[#E23350]","data-testid":`button-book-${L.id}`,children:[e.jsx(Sa,{className:"w-3 h-3 mr-1"}),"Book Now"]}):e.jsxs(S,{size:"sm",variant:"outline",className:"mt-2 border-blue-500 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20","data-testid":`button-book-partner-${L.id}`,onClick:()=>{const re=L.partnerName||M(L.type);window.open(E(re,A.destination),"_blank")},children:[e.jsx(er,{className:"w-3 h-3 mr-1"}),"Book via ",L.partnerName||M(L.type)||"Partner"]}))]})]})})})]},L.id))})]})})]})},l)}),e.jsx(P,{className:"bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-900/20 dark:to-orange-900/20 border-amber-200 dark:border-amber-800",children:e.jsx(F,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 rounded-full bg-amber-100 dark:bg-amber-900/40",children:e.jsx(wn,{className:"w-6 h-6 text-amber-600 dark:text-amber-400"})}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold text-[#111827] dark:text-white flex items-center gap-2",children:["Let an Expert Book Everything",e.jsx(O,{className:"bg-amber-100 text-amber-700 dark:bg-amber-900/40 dark:text-amber-400 text-xs",children:"Recommended"})]}),e.jsx("p",{className:"text-sm text-[#6B7280]",children:"Our travel experts will handle all bookings for you - both on-site and partner bookings."})]})]}),e.jsxs(S,{className:"bg-amber-500 hover:bg-amber-600 text-white whitespace-nowrap",onClick:()=>f(!0),"data-testid":"button-expert-booking",children:[e.jsx(zu,{className:"w-4 h-4 mr-2"}),"Request Expert Booking"]})]})})}),e.jsxs(P,{className:"bg-white dark:bg-gray-800",children:[e.jsx(Q,{className:"pb-2",children:e.jsxs(X,{className:"text-lg flex items-center gap-2",children:[e.jsx(Sa,{className:"w-5 h-5 text-[#FF385C]"}),"Booking Summary"]})}),e.jsx(F,{className:"pt-2",children:e.jsx("div",{className:"space-y-3",children:(()=>{const L=A.days.flatMap(K=>K.activities),W=L.filter(K=>(K.bookingType||_(K.type))==="inApp"&&!K.booked),re=L.filter(K=>(K.bookingType||_(K.type))==="partner"&&!K.booked),se=W.reduce((K,J)=>K+(J.price||0),0),ge=re.reduce((K,J)=>K+(J.price||0),0);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-emerald-50 dark:bg-emerald-900/20 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(lg,{className:"w-4 h-4 text-emerald-600"}),e.jsx("span",{className:"text-sm font-medium",children:"Book on Traveloure"})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("span",{className:"text-sm text-[#6B7280]",children:[W.length," items"]}),e.jsxs("p",{className:"font-semibold text-emerald-600",children:["$",se]})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(er,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-sm font-medium",children:"Book via Partners"})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("span",{className:"text-sm text-[#6B7280]",children:[re.length," items"]}),e.jsxs("p",{className:"font-semibold text-blue-600",children:["$",ge]})]})]}),e.jsx("div",{className:"border-t pt-3 mt-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-semibold text-[#111827] dark:text-white",children:"Total Pending"}),e.jsxs("span",{className:"font-bold text-lg text-[#FF385C]",children:["$",se+ge]})]})})]})})()})})]}),e.jsx(P,{className:"bg-white dark:bg-gray-800",children:e.jsx(F,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 rounded-full bg-[#FFE3E8] dark:bg-[#FF385C]/20",children:e.jsx(Vs,{className:"w-6 h-6 text-[#FF385C]"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-[#111827] dark:text-white",children:"Need help with your trip?"}),e.jsx("p",{className:"text-sm text-[#6B7280]",children:"Chat with our AI assistant or connect with an expert"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(S,{variant:"outline","data-testid":"button-ai-help",children:[e.jsx(qe,{className:"w-4 h-4 mr-2"}),"AI Assistant"]}),e.jsx(S,{className:"bg-[#FF385C] hover:bg-[#E23350]","data-testid":"button-expert-help",children:"Talk to Expert"})]})]})})})]})]})]}),e.jsx(rn,{open:x,onOpenChange:f,children:e.jsxs(zr,{className:"sm:max-w-lg",children:[e.jsxs(Vr,{children:[e.jsxs(Ur,{className:"flex items-center gap-2",children:[e.jsx(wn,{className:"w-5 h-5 text-amber-500"}),"Request Expert Booking Assistance"]}),e.jsx(nn,{children:"Let our travel experts handle all bookings for your itinerary. They'll coordinate both on-site and partner bookings, ensuring everything is confirmed before your trip."})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-amber-800 dark:text-amber-300 mb-2",children:"What's included:"}),e.jsxs("ul",{className:"text-sm text-amber-700 dark:text-amber-400 space-y-1",children:[e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(Fa,{className:"w-4 h-4"}),"All hotel and accommodation bookings"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(Fa,{className:"w-4 h-4"}),"Tour and activity reservations"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(Fa,{className:"w-4 h-4"}),"Ground transportation (trains, buses, ferries)"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(Fa,{className:"w-4 h-4"}),"Event and show tickets"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(Fa,{className:"w-4 h-4"}),"Restaurant reservations"]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Special requests or notes (optional)"}),e.jsx(Ks,{placeholder:"Any preferences, dietary requirements, accessibility needs, or special occasions...",value:g,onChange:L=>b(L.target.value),className:"min-h-[100px]","data-testid":"input-expert-notes"})]}),e.jsxs("div",{className:"flex items-start gap-2 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsx(ns,{className:"w-5 h-5 text-[#6B7280] flex-shrink-0 mt-0.5"}),e.jsx("p",{className:"text-sm text-[#6B7280]",children:"An expert will contact you within 24 hours to confirm your itinerary and payment details. You'll only be charged once all bookings are confirmed."})]})]}),e.jsxs(jo,{className:"flex gap-2",children:[e.jsx(S,{variant:"outline",onClick:()=>f(!1),children:"Cancel"}),e.jsx(S,{className:"bg-amber-500 hover:bg-amber-600 text-white",onClick:C,disabled:v,"data-testid":"button-confirm-expert-booking",children:v?e.jsxs(e.Fragment,{children:[e.jsx(ot,{className:"w-4 h-4 mr-2 animate-spin"}),"Submitting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(zu,{className:"w-4 h-4 mr-2"}),"Submit Request"]})})]})]})})]})}const mxe=[{id:1,credits:50,price:49,popular:!1},{id:2,credits:100,price:89,popular:!0,savings:"11%"},{id:3,credits:250,price:199,popular:!1,savings:"20%"},{id:4,credits:500,price:349,popular:!1,savings:"30%"}],hxe=[{id:1,type:"purchase",description:"Credit Package Purchase",amount:100,credits:100,date:new Date("2026-01-02"),status:"completed"},{id:2,type:"spent",description:"AI Itinerary Generation - Tokyo Trip",amount:0,credits:-15,date:new Date("2026-01-01"),status:"completed"},{id:3,type:"spent",description:"Expert Consultation - 30 min",amount:0,credits:-25,date:new Date("2025-12-28"),status:"completed"},{id:4,type:"bonus",description:"New Year Bonus Credits",amount:0,credits:20,date:new Date("2025-12-25"),status:"completed"},{id:5,type:"spent",description:"Restaurant Booking - Paris",amount:0,credits:-10,date:new Date("2025-12-20"),status:"completed"},{id:6,type:"purchase",description:"Credit Package Purchase",amount:49,credits:50,date:new Date("2025-12-15"),status:"completed"}],xxe=[{id:1,type:"visa",last4:"4242",expiry:"12/27",isDefault:!0},{id:2,type:"mastercard",last4:"8888",expiry:"06/26",isDefault:!1}],pxe=[{id:"INV-2026-001",date:new Date("2026-01-02"),amount:89,status:"paid"},{id:"INV-2025-012",date:new Date("2025-12-15"),amount:49,status:"paid"},{id:"INV-2025-011",date:new Date("2025-11-20"),amount:199,status:"paid"}];function fxe(){const[t,s]=h.useState(null);return e.jsx(al,{children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-[#111827] dark:text-white","data-testid":"text-page-title",children:"Credits & Billing"}),e.jsx("p",{className:"text-[#6B7280] mt-1",children:"Manage your credits and payment methods"})]}),e.jsxs(S,{className:"bg-[#FF385C] hover:bg-[#E23350]","data-testid":"button-buy-credits",children:[e.jsx(ps,{className:"w-4 h-4 mr-2"}),"Buy Credits"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(P,{className:"bg-gradient-to-br from-[#FF385C] to-[#E23350] text-white",children:e.jsxs(F,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:e.jsx(qe,{className:"w-6 h-6"})}),e.jsx(O,{className:"bg-white/20 text-white",children:"Active"})]}),e.jsx("p",{className:"text-white/80 text-sm",children:"Current Balance"}),e.jsx("p",{className:"text-4xl font-bold mt-1","data-testid":"text-credit-balance",children:150}),e.jsx("p",{className:"text-white/80 text-sm mt-1",children:"credits available"})]})}),e.jsx(P,{children:e.jsxs(F,{className:"p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:e.jsx(JO,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})})}),e.jsx("p",{className:"text-[#6B7280] text-sm",children:"This Month Spent"}),e.jsx("p",{className:"text-3xl font-bold text-[#111827] dark:text-white mt-1","data-testid":"text-monthly-spent",children:50}),e.jsx("p",{className:"text-[#6B7280] text-sm mt-1",children:"credits used"}),e.jsx(Pr,{value:33,className:"mt-3 h-2"})]})}),e.jsx(P,{children:e.jsxs(F,{className:"p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:e.jsx(on,{className:"w-6 h-6 text-green-600 dark:text-green-400"})})}),e.jsx("p",{className:"text-[#6B7280] text-sm",children:"Bonus Credits"}),e.jsx("p",{className:"text-3xl font-bold text-[#111827] dark:text-white mt-1","data-testid":"text-bonus-credits",children:"20"}),e.jsx("p",{className:"text-[#6B7280] text-sm mt-1",children:"earned this month"}),e.jsxs(S,{variant:"ghost",className:"mt-2 p-0 h-auto text-[#FF385C]","data-testid":"link-earn-more",children:["Earn more ",e.jsx(Ei,{className:"w-3 h-3 ml-1"})]})]})})]}),e.jsxs(Na,{defaultValue:"packages",className:"space-y-6",children:[e.jsxs(ca,{className:"bg-gray-100 dark:bg-gray-800",children:[e.jsx(it,{value:"packages","data-testid":"tab-packages",children:"Credit Packages"}),e.jsx(it,{value:"history","data-testid":"tab-history",children:"Transaction History"}),e.jsx(it,{value:"payment","data-testid":"tab-payment",children:"Payment Methods"}),e.jsx(it,{value:"invoices","data-testid":"tab-invoices",children:"Invoices"})]}),e.jsxs(xt,{value:"packages",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:mxe.map(n=>e.jsxs(P,{className:`relative cursor-pointer transition-all ${t===n.id?"ring-2 ring-[#FF385C] border-[#FF385C]":"hover:shadow-md"} ${n.popular?"border-[#FF385C]":""}`,onClick:()=>s(n.id),"data-testid":`card-package-${n.credits}`,children:[n.popular&&e.jsx(O,{className:"absolute -top-3 left-1/2 -translate-x-1/2 bg-[#FF385C]",children:"Most Popular"}),e.jsxs(F,{className:"p-6 text-center",children:[e.jsx("div",{className:"p-3 bg-[#FFE3E8] dark:bg-[#FF385C]/20 rounded-full w-fit mx-auto mb-4",children:e.jsx(qe,{className:"w-8 h-8 text-[#FF385C]"})}),e.jsx("p",{className:"text-4xl font-bold text-[#111827] dark:text-white",children:n.credits}),e.jsx("p",{className:"text-[#6B7280] mb-4",children:"credits"}),e.jsxs("p",{className:"text-2xl font-bold text-[#111827] dark:text-white",children:["$",n.price]}),n.savings&&e.jsxs(O,{variant:"secondary",className:"mt-2",children:["Save ",n.savings]}),e.jsx(S,{className:`w-full mt-4 ${t===n.id?"bg-[#FF385C] hover:bg-[#E23350]":"bg-gray-900 hover:bg-gray-800 dark:bg-gray-700"}`,"data-testid":`button-select-${n.credits}`,children:t===n.id?"Selected":"Select"})]})]},n.id))}),t&&e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsxs(S,{className:"bg-[#FF385C] hover:bg-[#E23350]","data-testid":"button-checkout",children:["Proceed to Checkout",e.jsx(Ei,{className:"w-4 h-4 ml-2"})]})})]}),e.jsx(xt,{value:"history",children:e.jsxs(P,{children:[e.jsxs(Q,{className:"flex flex-row items-center justify-between gap-4",children:[e.jsx(X,{className:"text-lg",children:"Transaction History"}),e.jsxs(S,{variant:"outline",size:"sm","data-testid":"button-export-history",children:[e.jsx(Un,{className:"w-4 h-4 mr-2"}),"Export"]})]}),e.jsx(F,{children:e.jsx("div",{className:"space-y-4",children:hxe.map(n=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-800 rounded-lg","data-testid":`row-transaction-${n.id}`,children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`p-2 rounded-lg ${n.type==="purchase"?"bg-green-100 dark:bg-green-900/30":n.type==="bonus"?"bg-purple-100 dark:bg-purple-900/30":"bg-gray-200 dark:bg-gray-700"}`,children:n.type==="purchase"?e.jsx(Sa,{className:"w-5 h-5 text-green-600 dark:text-green-400"}):n.type==="bonus"?e.jsx(on,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"}):e.jsx(Ei,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-[#111827] dark:text-white",children:n.description}),e.jsx("p",{className:"text-sm text-[#6B7280]",children:Et(n.date,"MMM d, yyyy")})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:`font-bold ${n.credits>0?"text-green-600":"text-[#111827] dark:text-white"}`,children:[n.credits>0?"+":"",n.credits," credits"]}),n.amount>0&&e.jsxs("p",{className:"text-sm text-[#6B7280]",children:["$",n.amount]})]})]},n.id))})})]})}),e.jsx(xt,{value:"payment",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(P,{children:[e.jsxs(Q,{className:"flex flex-row items-center justify-between gap-4",children:[e.jsx(X,{className:"text-lg",children:"Saved Payment Methods"}),e.jsxs(S,{variant:"outline",size:"sm","data-testid":"button-add-payment",children:[e.jsx(ps,{className:"w-4 h-4 mr-2"}),"Add New"]})]}),e.jsx(F,{className:"space-y-4",children:xxe.map(n=>e.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 dark:border-gray-700 rounded-lg","data-testid":`card-payment-${n.last4}`,children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-2 bg-gray-100 dark:bg-gray-800 rounded-lg",children:e.jsx(Sa,{className:"w-6 h-6 text-[#6B7280]"})}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-[#111827] dark:text-white capitalize",children:[n.type," ending in ",n.last4]}),e.jsxs("p",{className:"text-sm text-[#6B7280]",children:["Expires ",n.expiry]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[n.isDefault&&e.jsx(O,{variant:"secondary",children:"Default"}),e.jsx(S,{variant:"ghost",size:"sm","data-testid":`button-edit-payment-${n.last4}`,children:"Edit"})]})]},n.id))})]}),e.jsxs(P,{children:[e.jsx(Q,{children:e.jsx(X,{className:"text-lg",children:"Billing Address"})}),e.jsx(F,{children:e.jsxs("div",{className:"p-4 border border-gray-200 dark:border-gray-700 rounded-lg",children:[e.jsx("p",{className:"font-medium text-[#111827] dark:text-white",children:"John Doe"}),e.jsx("p",{className:"text-[#6B7280] mt-1",children:"123 Main Street"}),e.jsx("p",{className:"text-[#6B7280]",children:"San Francisco, CA 94105"}),e.jsx("p",{className:"text-[#6B7280]",children:"United States"}),e.jsx(S,{variant:"outline",size:"sm",className:"mt-4","data-testid":"button-edit-billing",children:"Edit Address"})]})})]})]})}),e.jsx(xt,{value:"invoices",children:e.jsxs(P,{children:[e.jsx(Q,{children:e.jsx(X,{className:"text-lg",children:"Invoices"})}),e.jsx(F,{children:e.jsx("div",{className:"space-y-4",children:pxe.map(n=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-800 rounded-lg","data-testid":`row-invoice-${n.id}`,children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-2 bg-gray-200 dark:bg-gray-700 rounded-lg",children:e.jsx(Mf,{className:"w-5 h-5 text-[#6B7280]"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-[#111827] dark:text-white",children:n.id}),e.jsx("p",{className:"text-sm text-[#6B7280]",children:Et(n.date,"MMMM d, yyyy")})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-bold text-[#111827] dark:text-white",children:["$",n.amount]}),e.jsx(O,{variant:"secondary",className:"bg-green-100 text-green-700",children:n.status})]}),e.jsx(S,{variant:"ghost",size:"icon","data-testid":`button-download-${n.id}`,children:e.jsx(Un,{className:"w-4 h-4"})})]})]},n.id))})})]})})]})]})})}const uu=[{id:1,title:"Basic Information",description:"Personal details and contact information",status:"completed",completedAt:"Dec 28, 2025"},{id:2,title:"Expertise & Destinations",description:"Your specialties and destination knowledge",status:"completed",completedAt:"Dec 28, 2025"},{id:3,title:"Experience & Portfolio",description:"Professional background and work samples",status:"completed",completedAt:"Dec 29, 2025"},{id:4,title:"Document Verification",description:"ID verification and certifications",status:"in_progress",note:"Waiting for document review"},{id:5,title:"Interview",description:"Video call with our team",status:"pending"},{id:6,title:"Final Approval",description:"Account activation",status:"pending"}],gxe=[{id:1,name:"Government ID",status:"verified",uploadedAt:"Dec 28, 2025"},{id:2,name:"Professional Certifications",status:"pending",uploadedAt:"Dec 29, 2025"},{id:3,name:"Portfolio/Work Samples",status:"verified",uploadedAt:"Dec 28, 2025"}];function vxe(){const t=uu.filter(r=>r.status==="completed").length,s=t/uu.length*100,a=uu.find(r=>r.status==="in_progress")||uu.find(r=>r.status==="pending");return e.jsx(al,{children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-[#111827] dark:text-white","data-testid":"text-page-title",children:"Expert Application Status"}),e.jsx("p",{className:"text-[#6B7280] mt-1",children:"Track your progress to becoming a travel expert"})]}),e.jsxs(O,{className:"bg-amber-100 text-amber-700 px-4 py-2","data-testid":"badge-status",children:[e.jsx(Je,{className:"w-4 h-4 mr-2"}),"Under Review"]})]}),e.jsx(P,{className:"bg-gradient-to-r from-[#FF385C] to-[#E23350] text-white",children:e.jsxs(F,{className:"p-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold",children:"Application Progress"}),e.jsxs("p",{className:"text-white/80 mt-1",children:[t," of ",uu.length," steps completed"]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("p",{className:"text-4xl font-bold","data-testid":"text-progress-percentage",children:[Math.round(s),"%"]})})]}),e.jsx(Pr,{value:s,className:"mt-4 h-3 bg-white/20"})]})}),a&&e.jsx(P,{className:"border-2 border-[#FF385C] bg-[#FFF5F7] dark:bg-[#FF385C]/10",children:e.jsx(F,{className:"p-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-3 bg-[#FF385C] rounded-full",children:e.jsx(Je,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("h3",{className:"text-lg font-semibold text-[#111827] dark:text-white",children:["Current Step: ",a.title]}),e.jsx("p",{className:"text-[#6B7280] mt-1",children:a.description}),a.note&&e.jsxs("p",{className:"text-amber-600 dark:text-amber-400 mt-2 flex items-center gap-2",children:[e.jsx(ns,{className:"w-4 h-4"}),a.note]})]}),a.status==="pending"&&e.jsxs(S,{className:"bg-[#FF385C] hover:bg-[#E23350]","data-testid":"button-continue",children:["Continue",e.jsx(Kt,{className:"w-4 h-4 ml-2"})]})]})})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(P,{children:[e.jsx(Q,{children:e.jsx(X,{className:"text-lg",children:"Application Timeline"})}),e.jsx(F,{children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-4 top-0 bottom-0 w-0.5 bg-gray-200 dark:bg-gray-700"}),e.jsx("div",{className:"space-y-6",children:uu.map((r,n)=>e.jsxs("div",{className:"relative pl-10","data-testid":`step-${r.id}`,children:[e.jsx("div",{className:`absolute left-2 top-1 w-5 h-5 rounded-full flex items-center justify-center ${r.status==="completed"?"bg-green-500":r.status==="in_progress"?"bg-[#FF385C]":"bg-gray-300 dark:bg-gray-600"}`,children:r.status==="completed"?e.jsx(Fa,{className:"w-3 h-3 text-white"}):r.status==="in_progress"?e.jsx(Je,{className:"w-3 h-3 text-white"}):e.jsx("span",{className:"text-xs text-white font-medium",children:r.id})}),e.jsxs("div",{className:`p-4 rounded-lg ${r.status==="completed"?"bg-green-50 dark:bg-green-900/20":r.status==="in_progress"?"bg-[#FFF5F7] dark:bg-[#FF385C]/10 border border-[#FF385C]":"bg-gray-50 dark:bg-gray-800"}`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-[#111827] dark:text-white",children:r.title}),e.jsx("p",{className:"text-sm text-[#6B7280] mt-1",children:r.description})]}),e.jsxs("div",{className:"text-right",children:[r.status==="completed"&&e.jsxs(O,{className:"bg-green-100 text-green-700",children:[e.jsx(e0,{className:"w-3 h-3 mr-1"}),"Completed"]}),r.status==="in_progress"&&e.jsxs(O,{className:"bg-amber-100 text-amber-700",children:[e.jsx(Je,{className:"w-3 h-3 mr-1"}),"In Progress"]}),r.status==="pending"&&e.jsx(O,{variant:"secondary",children:"Pending"})]})]}),r.completedAt&&e.jsxs("p",{className:"text-xs text-[#6B7280] mt-2",children:["Completed on ",r.completedAt]}),r.note&&e.jsxs("p",{className:"text-sm text-amber-600 dark:text-amber-400 mt-2 flex items-center gap-1",children:[e.jsx(ns,{className:"w-3 h-3"}),r.note]})]})]},r.id))})]})})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(P,{children:[e.jsx(Q,{children:e.jsxs(X,{className:"text-lg flex items-center gap-2",children:[e.jsx(oa,{className:"w-5 h-5"}),"Documents"]})}),e.jsxs(F,{className:"space-y-4",children:[gxe.map(r=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg","data-testid":`doc-${r.id}`,children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-[#111827] dark:text-white text-sm",children:r.name}),e.jsx("p",{className:"text-xs text-[#6B7280]",children:r.uploadedAt})]}),r.status==="verified"?e.jsxs(O,{className:"bg-green-100 text-green-700",children:[e.jsx(Fa,{className:"w-3 h-3 mr-1"}),"Verified"]}):e.jsxs(O,{className:"bg-amber-100 text-amber-700",children:[e.jsx(Je,{className:"w-3 h-3 mr-1"}),"Pending"]})]},r.id)),e.jsxs(S,{variant:"outline",className:"w-full","data-testid":"button-upload-doc",children:[e.jsx(mw,{className:"w-4 h-4 mr-2"}),"Upload Document"]})]})]}),e.jsxs(P,{children:[e.jsx(Q,{children:e.jsx(X,{className:"text-lg",children:"Need Help?"})}),e.jsxs(F,{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-[#6B7280]",children:"Have questions about your application? Our team is here to help."}),e.jsxs(S,{variant:"outline",className:"w-full","data-testid":"button-contact-support",children:[e.jsx(Vs,{className:"w-4 h-4 mr-2"}),"Contact Support"]}),e.jsx(Ce,{href:"/faq",children:e.jsxs(S,{variant:"ghost",className:"w-full","data-testid":"link-faq",children:["View FAQ",e.jsx(Kt,{className:"w-4 h-4 ml-2"})]})})]})]}),e.jsx(P,{className:"bg-gradient-to-br from-purple-500 to-indigo-600 text-white",children:e.jsxs(F,{className:"p-6",children:[e.jsx(rt,{className:"w-8 h-8 mb-3"}),e.jsx("h4",{className:"font-semibold text-lg",children:"Prepare for Success"}),e.jsx("p",{className:"text-white/80 text-sm mt-2",children:"While you wait, check out our expert guidelines and best practices."}),e.jsx(S,{variant:"secondary",className:"mt-4 w-full","data-testid":"button-view-guidelines",children:"View Guidelines"})]})})]})]})]})})}const mu=[{id:1,title:"Business Information",description:"Company details and contact information",status:"completed",completedAt:"Dec 30, 2025"},{id:2,title:"Service Categories",description:"Types of services you offer",status:"completed",completedAt:"Dec 30, 2025"},{id:3,title:"Location & Compliance",description:"Business address and legal requirements",status:"completed",completedAt:"Dec 31, 2025"},{id:4,title:"Document Verification",description:"Business license and insurance verification",status:"in_progress",note:"Insurance document under review"},{id:5,title:"Quality Assessment",description:"Service quality review",status:"pending"},{id:6,title:"Account Activation",description:"Final approval and onboarding",status:"pending"}],yxe=[{id:1,name:"Business License",status:"verified",uploadedAt:"Dec 30, 2025"},{id:2,name:"Insurance Certificate",status:"pending",uploadedAt:"Dec 31, 2025"},{id:3,name:"Tax Registration",status:"verified",uploadedAt:"Dec 30, 2025"},{id:4,name:"Health & Safety Cert",status:"not_uploaded",uploadedAt:null}],hu={name:"Sunset Beach Resort & Spa",type:"Accommodation",email:"contact@sunsetbeachresort.com",phone:"+1 (555) 123-4567",address:"123 Ocean Drive, Miami Beach, FL 33139",services:["Luxury Rooms","Spa Services","Event Venues","Restaurant"]};function jxe(){const t=mu.filter(r=>r.status==="completed").length,s=t/mu.length*100,a=mu.find(r=>r.status==="in_progress")||mu.find(r=>r.status==="pending");return e.jsx(al,{children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-[#111827] dark:text-white","data-testid":"text-page-title",children:"Service Provider Application"}),e.jsx("p",{className:"text-[#6B7280] mt-1",children:"Track your business verification progress"})]}),e.jsxs(O,{className:"bg-amber-100 text-amber-700 px-4 py-2","data-testid":"badge-status",children:[e.jsx(Je,{className:"w-4 h-4 mr-2"}),"Under Review"]})]}),e.jsx(P,{className:"bg-gradient-to-r from-[#FF385C] to-[#E23350] text-white",children:e.jsxs(F,{className:"p-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold",children:"Verification Progress"}),e.jsxs("p",{className:"text-white/80 mt-1",children:[t," of ",mu.length," steps completed"]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("p",{className:"text-4xl font-bold","data-testid":"text-progress-percentage",children:[Math.round(s),"%"]})})]}),e.jsx(Pr,{value:s,className:"mt-4 h-3 bg-white/20"})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a&&e.jsx(P,{className:"border-2 border-[#FF385C] bg-[#FFF5F7] dark:bg-[#FF385C]/10",children:e.jsx(F,{className:"p-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-3 bg-[#FF385C] rounded-full",children:e.jsx(Je,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("h3",{className:"text-lg font-semibold text-[#111827] dark:text-white",children:["Current Step: ",a.title]}),e.jsx("p",{className:"text-[#6B7280] mt-1",children:a.description}),a.note&&e.jsxs("p",{className:"text-amber-600 dark:text-amber-400 mt-2 flex items-center gap-2",children:[e.jsx(ns,{className:"w-4 h-4"}),a.note]})]})]})})}),e.jsxs(P,{children:[e.jsx(Q,{children:e.jsx(X,{className:"text-lg",children:"Verification Timeline"})}),e.jsx(F,{children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-4 top-0 bottom-0 w-0.5 bg-gray-200 dark:bg-gray-700"}),e.jsx("div",{className:"space-y-6",children:mu.map(r=>e.jsxs("div",{className:"relative pl-10","data-testid":`step-${r.id}`,children:[e.jsx("div",{className:`absolute left-2 top-1 w-5 h-5 rounded-full flex items-center justify-center ${r.status==="completed"?"bg-green-500":r.status==="in_progress"?"bg-[#FF385C]":"bg-gray-300 dark:bg-gray-600"}`,children:r.status==="completed"?e.jsx(Fa,{className:"w-3 h-3 text-white"}):r.status==="in_progress"?e.jsx(Je,{className:"w-3 h-3 text-white"}):e.jsx("span",{className:"text-xs text-white font-medium",children:r.id})}),e.jsxs("div",{className:`p-4 rounded-lg ${r.status==="completed"?"bg-green-50 dark:bg-green-900/20":r.status==="in_progress"?"bg-[#FFF5F7] dark:bg-[#FF385C]/10 border border-[#FF385C]":"bg-gray-50 dark:bg-gray-800"}`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-[#111827] dark:text-white",children:r.title}),e.jsx("p",{className:"text-sm text-[#6B7280] mt-1",children:r.description})]}),e.jsxs("div",{children:[r.status==="completed"&&e.jsxs(O,{className:"bg-green-100 text-green-700",children:[e.jsx(e0,{className:"w-3 h-3 mr-1"}),"Done"]}),r.status==="in_progress"&&e.jsxs(O,{className:"bg-amber-100 text-amber-700",children:[e.jsx(Je,{className:"w-3 h-3 mr-1"}),"In Progress"]}),r.status==="pending"&&e.jsx(O,{variant:"secondary",children:"Pending"})]})]}),r.completedAt&&e.jsxs("p",{className:"text-xs text-[#6B7280] mt-2",children:["Completed on ",r.completedAt]}),r.note&&e.jsxs("p",{className:"text-sm text-amber-600 dark:text-amber-400 mt-2 flex items-center gap-1",children:[e.jsx(ns,{className:"w-3 h-3"}),r.note]})]})]},r.id))})]})})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(P,{children:[e.jsx(Q,{children:e.jsxs(X,{className:"text-lg flex items-center gap-2",children:[e.jsx(va,{className:"w-5 h-5"}),"Business Details"]})}),e.jsxs(F,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-lg font-semibold text-[#111827] dark:text-white","data-testid":"text-business-name",children:hu.name}),e.jsx(O,{variant:"secondary",className:"mt-1",children:hu.type})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 text-[#6B7280]",children:[e.jsx(qn,{className:"w-4 h-4"}),hu.email]}),e.jsxs("div",{className:"flex items-center gap-2 text-[#6B7280]",children:[e.jsx($l,{className:"w-4 h-4"}),hu.phone]}),e.jsxs("div",{className:"flex items-start gap-2 text-[#6B7280]",children:[e.jsx(Me,{className:"w-4 h-4 mt-0.5"}),hu.address]})]}),e.jsxs("div",{className:"pt-3 border-t border-gray-200 dark:border-gray-700",children:[e.jsx("p",{className:"text-sm font-medium text-[#111827] dark:text-white mb-2",children:"Services"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:hu.services.map((r,n)=>e.jsx(O,{variant:"outline",children:r},n))})]}),e.jsx(S,{variant:"outline",className:"w-full","data-testid":"button-edit-business",children:"Edit Details"})]})]}),e.jsxs(P,{children:[e.jsx(Q,{children:e.jsxs(X,{className:"text-lg flex items-center gap-2",children:[e.jsx(oa,{className:"w-5 h-5"}),"Documents"]})}),e.jsxs(F,{className:"space-y-3",children:[yxe.map(r=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg","data-testid":`doc-${r.id}`,children:[e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"font-medium text-[#111827] dark:text-white text-sm truncate",children:r.name}),r.uploadedAt&&e.jsx("p",{className:"text-xs text-[#6B7280]",children:r.uploadedAt})]}),r.status==="verified"?e.jsxs(O,{className:"bg-green-100 text-green-700 flex-shrink-0",children:[e.jsx(Fa,{className:"w-3 h-3 mr-1"}),"Verified"]}):r.status==="pending"?e.jsxs(O,{className:"bg-amber-100 text-amber-700 flex-shrink-0",children:[e.jsx(Je,{className:"w-3 h-3 mr-1"}),"Pending"]}):e.jsx(O,{variant:"destructive",className:"flex-shrink-0",children:"Required"})]},r.id)),e.jsxs(S,{variant:"outline",className:"w-full","data-testid":"button-upload-doc",children:[e.jsx(mw,{className:"w-4 h-4 mr-2"}),"Upload Document"]})]})]}),e.jsxs(P,{children:[e.jsx(Q,{children:e.jsx(X,{className:"text-lg",children:"Need Help?"})}),e.jsxs(F,{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-[#6B7280]",children:"Questions about your application? We're here to assist."}),e.jsxs(S,{variant:"outline",className:"w-full","data-testid":"button-contact-support",children:[e.jsx(Vs,{className:"w-4 h-4 mr-2"}),"Contact Support"]}),e.jsx(Ce,{href:"/faq",children:e.jsxs(S,{variant:"ghost",className:"w-full","data-testid":"link-faq",children:["View FAQ",e.jsx(Kt,{className:"w-4 h-4 ml-2"})]})})]})]})]})]})]})})}const _f=[{id:1,name:"Vacation Planning",description:"Full-service vacation planning and booking",icon:Pt,contracts:24,revenue:12500,avgRating:4.9,active:!0,subCategories:["Beach Getaways","City Breaks","Adventure Trips"],commissionRate:15},{id:2,name:"Romantic Events",description:"Proposals, anniversaries, and honeymoons",icon:Qt,contracts:18,revenue:28e3,avgRating:5,active:!0,subCategories:["Proposals","Honeymoons","Anniversaries"],commissionRate:18},{id:3,name:"Celebrations",description:"Birthday parties and special occasions",icon:on,contracts:12,revenue:8500,avgRating:4.8,active:!0,subCategories:["Birthdays","Reunions","Graduations"],commissionRate:12},{id:4,name:"Group Events",description:"Bachelor/bachelorette parties and group trips",icon:ya,contracts:8,revenue:15e3,avgRating:4.7,active:!1,subCategories:["Bachelor Parties","Bachelorette Parties","Group Adventures"],commissionRate:14},{id:5,name:"Corporate",description:"Business travel and corporate retreats",icon:Ta,contracts:5,revenue:45e3,avgRating:4.9,active:!0,subCategories:["Retreats","Conferences","Team Building"],commissionRate:20}],bxe=[{id:1,client:"Sarah & Mike",category:"Romantic Events",type:"Honeymoon Planning",value:4500,status:"active",dueDate:"Feb 15, 2026"},{id:2,client:"Tech Innovations Inc",category:"Corporate",type:"Retreat Planning",value:15e3,status:"pending",dueDate:"Mar 1, 2026"},{id:3,client:"Johnson Family",category:"Celebrations",type:"50th Birthday",value:2800,status:"completed",dueDate:"Jan 5, 2026"},{id:4,client:"Adventure Seekers Group",category:"Vacation Planning",type:"Safari Trip",value:8200,status:"active",dueDate:"Apr 10, 2026"}];function Nxe(){const[t,s]=h.useState(""),[a,r]=h.useState(!1),n=_f.filter(u=>{const m=u.name.toLowerCase().includes(t.toLowerCase()),x=a?u.active:!0;return m&&x}),i=_f.reduce((u,m)=>u+m.contracts,0),l=_f.reduce((u,m)=>u+m.revenue,0),c=_f.filter(u=>u.active).length;return e.jsx(Dr,{title:"Contract Categories",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900","data-testid":"text-page-title",children:"Contract Categories"}),e.jsx("p",{className:"text-gray-600",children:"Manage your service categories and track contracts"})]}),e.jsxs(S,{className:"bg-[#FF385C] ","data-testid":"button-add-category",children:[e.jsx(ps,{className:"w-4 h-4 mr-2"}),"Add Category"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(P,{children:e.jsx(F,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-[#FFE3E8] rounded-lg",children:e.jsx(oa,{className:"w-5 h-5 text-[#FF385C]"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Contracts"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900","data-testid":"text-total-contracts",children:i})]})]})})}),e.jsx(P,{children:e.jsx(F,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(bt,{className:"w-5 h-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Revenue"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900","data-testid":"text-total-revenue",children:["$",l.toLocaleString()]})]})]})})}),e.jsx(P,{children:e.jsx(F,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(et,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Active Categories"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900","data-testid":"text-active-categories",children:c})]})]})})}),e.jsx(P,{children:e.jsx(F,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-amber-100 rounded-lg",children:e.jsx(rt,{className:"w-5 h-5 text-amber-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Avg Rating"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900","data-testid":"text-avg-rating",children:"4.9"})]})]})})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(ws,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(Ne,{placeholder:"Search categories...",value:t,onChange:u=>s(u.target.value),className:"pl-10","data-testid":"input-search"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(tr,{checked:a,onCheckedChange:r,"data-testid":"switch-active-only"}),e.jsx(ye,{className:"text-sm text-gray-600",children:"Active only"})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:n.map(u=>e.jsx(P,{className:u.active?"":"opacity-60","data-testid":`card-category-${u.id}`,children:e.jsxs(F,{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-[#FFE3E8] rounded-lg",children:e.jsx(u.icon,{className:"w-6 h-6 text-[#FF385C]"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:u.name}),e.jsx("p",{className:"text-sm text-gray-600",children:u.description})]})]}),e.jsxs(Yu,{children:[e.jsx(Qu,{asChild:!0,children:e.jsx(S,{variant:"ghost",size:"icon","data-testid":`button-menu-${u.id}`,children:e.jsx(Bu,{className:"w-4 h-4"})})}),e.jsxs(cd,{align:"end",children:[e.jsxs(Va,{"data-testid":`menu-edit-${u.id}`,children:[e.jsx(ii,{className:"w-4 h-4 mr-2"}),"Edit"]}),e.jsxs(Va,{"data-testid":`menu-view-${u.id}`,children:[e.jsx(oa,{className:"w-4 h-4 mr-2"}),"View Contracts"]}),e.jsxs(Va,{className:"text-red-600","data-testid":`menu-delete-${u.id}`,children:[e.jsx(pi,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})]}),e.jsx("div",{className:"flex flex-wrap gap-1 mb-4",children:u.subCategories.map((m,x)=>e.jsx(O,{variant:"secondary",className:"text-xs",children:m},x))}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 pt-4 border-t border-gray-200",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Contracts"}),e.jsx("p",{className:"font-semibold text-gray-900",children:u.contracts})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Revenue"}),e.jsxs("p",{className:"font-semibold text-gray-900",children:["$",u.revenue.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Rating"}),e.jsxs("p",{className:"font-semibold text-gray-900 flex items-center gap-1",children:[e.jsx(rt,{className:"w-3 h-3 text-amber-500 fill-amber-500"}),u.avgRating]})]})]}),e.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-gray-200",children:[e.jsxs("span",{className:"text-sm text-gray-600",children:[u.commissionRate,"% commission"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Active"}),e.jsx(tr,{checked:u.active,"data-testid":`switch-active-${u.id}`})]})]})]})},u.id))}),e.jsxs(P,{children:[e.jsxs(Q,{className:"flex flex-row items-center justify-between gap-4",children:[e.jsx(X,{className:"text-lg",children:"Recent Contracts"}),e.jsx(S,{variant:"outline",size:"sm","data-testid":"button-view-all-contracts",children:"View All"})]}),e.jsx(F,{children:e.jsx("div",{className:"space-y-4",children:bxe.map(u=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg","data-testid":`row-contract-${u.id}`,children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-2 bg-white rounded-lg border border-gray-200",children:e.jsx(oa,{className:"w-5 h-5 text-gray-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:u.client}),e.jsxs("p",{className:"text-sm text-gray-600",children:[u.category," - ",u.type]})]})]}),e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-semibold text-gray-900",children:["$",u.value.toLocaleString()]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Due: ",u.dueDate]})]}),e.jsxs(O,{className:u.status==="active"?"bg-green-100 text-green-700":u.status==="pending"?"bg-amber-100 text-amber-700":"bg-gray-100 text-gray-700",children:[u.status==="active"&&e.jsx(Fa,{className:"w-3 h-3 mr-1"}),u.status==="pending"&&e.jsx(Je,{className:"w-3 h-3 mr-1"}),u.status]})]})]},u.id))})})]})]})})}function wxe(){const{data:t,isLoading:s}=Le({queryKey:["/api/expert/revenue-optimization"]}),{data:a}=Le({queryKey:["/api/expert/referrals"]}),{data:r}=Le({queryKey:["/api/expert/tips"]}),n=t?.summary??{totalRevenue:0,availableBalance:0,pendingBalance:0},i=t?.incomeStreams,l=t?.projections??{projectedGrowth:0,potentialMax:0,avgBookingValue:0},c=t?.insights??[],u={current:n.totalRevenue,projected:l.projectedGrowth,potential:l.potentialMax,nextMonth:Math.round(n.totalRevenue*1.1),percentIncrease:n.totalRevenue>0?Math.round((l.projectedGrowth/n.totalRevenue-1)*100):15},m=[{title:i?.templateSales?.name||"Itinerary Templates",description:i?.templateSales?.description||"Sell pre-built itineraries on the marketplace",monthlyEarnings:i?.templateSales?.revenue||0,sales:i?.templateSales?.sales||0,icon:br,status:i?.templateSales?.status||"setup",link:"/expert/templates",split:i?.templateSales?.split},{title:i?.affiliateCommissions?.name||"Affiliate Commissions",description:i?.affiliateCommissions?.description||"Earn from client bookings automatically",monthlyEarnings:i?.affiliateCommissions?.revenue||0,pending:i?.affiliateCommissions?.pending||0,icon:bt,status:i?.affiliateCommissions?.status||"available",split:i?.affiliateCommissions?.split},{title:i?.tips?.name||"Tips",description:i?.tips?.description||"Gratuity from satisfied travelers",monthlyEarnings:i?.tips?.revenue||0,count:i?.tips?.count||0,icon:on,status:i?.tips?.status||"available",split:i?.tips?.split},{title:i?.referralBonuses?.name||"Referral Bonuses",description:i?.referralBonuses?.description||"Earn $50 for each qualified expert referral",monthlyEarnings:i?.referralBonuses?.revenue||0,referrals:i?.referralBonuses?.qualified||0,icon:et,status:i?.referralBonuses?.status||"available",split:i?.referralBonuses?.split,referralCode:a?.referralCode}],x={available:n.availableBalance,pending:n.pendingBalance,processing:0,dailyFee:1.5},f=c.length>0?c:[{type:"opportunity",title:"Start earning on Traveloure",description:"Set up your services and templates to begin generating income.",impact:"Unlock multiple income streams",priority:"high"}],g={currentRate:l.avgBookingValue>0?Math.round(l.avgBookingValue):75,marketAverage:95,topExpertRate:150,suggestedRate:110,potentialIncrease:47},b=[{id:1,title:"Add Transportation Service",description:"Most clients also need transportation coordination",potential:"+$180/trip average",adoption:92,icon:qa},{id:2,title:"Offer Photography Package",description:"Many proposal clients want photo coordination",potential:"+$250/booking",adoption:68,icon:on},{id:3,title:"Premium Concierge Add-on",description:"High-value clients often upgrade",potential:"+$400/trip",adoption:45,icon:rt}],v=[{season:"Peak Travel Season",location:"Your Markets",timing:"Varies by destination",demandIncrease:120,suggestedRateIncrease:20,icon:Ml,status:"future",daysAway:30}],y=w=>{switch(w){case"high":return"bg-red-100 text-red-700 border-red-200";case"medium":return"bg-yellow-100 text-yellow-700 border-yellow-200";case"low":return"bg-blue-100 text-blue-700 border-blue-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}};return e.jsx(Dr,{title:"Revenue Optimization",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-foreground","data-testid":"text-revenue-title",children:"Revenue Optimization"}),e.jsx("p",{className:"text-muted-foreground",children:"Maximize your earnings with AI-powered insights"})]}),e.jsx("div",{className:"flex gap-2",children:e.jsx(Ce,{href:"/expert/earnings",children:e.jsxs(S,{variant:"outline","data-testid":"button-view-earnings",children:[e.jsx(Db,{className:"w-4 h-4 mr-2"})," View Earnings"]})})})]}),e.jsxs(Na,{defaultValue:"projections",className:"space-y-6",children:[e.jsxs(ca,{className:"grid w-full grid-cols-4 lg:w-auto lg:inline-grid",children:[e.jsx(it,{value:"projections","data-testid":"tab-projections",children:"Projections"}),e.jsx(it,{value:"pricing","data-testid":"tab-pricing",children:"Pricing"}),e.jsx(it,{value:"passive","data-testid":"tab-passive",children:"Passive Income"}),e.jsx(it,{value:"payout","data-testid":"tab-payout",children:"Instant Payout"})]}),e.jsx(xt,{value:"projections",className:"space-y-6",children:s?e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[1,2,3,4].map(w=>e.jsx(_e,{className:"h-28 rounded-lg"},w))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(_e,{className:"h-64 rounded-lg"}),e.jsx(_e,{className:"h-64 rounded-lg"})]}),e.jsx(_e,{className:"h-48 rounded-lg"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(P,{className:"border","data-testid":"card-current-month",children:e.jsx(F,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"This Month"}),e.jsxs("p",{className:"text-2xl font-bold text-foreground",children:["$",u.current.toLocaleString()]}),e.jsxs("p",{className:"text-sm text-green-600 flex items-center gap-1",children:[e.jsx(Ei,{className:"w-3 h-3"})," +15% vs last month"]})]}),e.jsx("div",{className:"w-12 h-12 rounded-lg bg-primary/10 flex items-center justify-center",children:e.jsx(bt,{className:"w-6 h-6 text-primary"})})]})})}),e.jsx(P,{className:"border","data-testid":"card-projected",children:e.jsx(F,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Projected (This Month)"}),e.jsxs("p",{className:"text-2xl font-bold text-foreground",children:["$",u.projected.toLocaleString()]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Based on current pipeline"})]}),e.jsx("div",{className:"w-12 h-12 rounded-lg bg-blue-100 flex items-center justify-center",children:e.jsx(Xt,{className:"w-6 h-6 text-blue-600"})})]})})}),e.jsx(P,{className:"border","data-testid":"card-potential",children:e.jsx(F,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Potential Maximum"}),e.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["$",u.potential.toLocaleString()]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"If all optimizations applied"})]}),e.jsx("div",{className:"w-12 h-12 rounded-lg bg-green-100 flex items-center justify-center",children:e.jsx(oi,{className:"w-6 h-6 text-green-600"})})]})})}),e.jsx(P,{className:"border","data-testid":"card-next-month",children:e.jsx(F,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Next Month Forecast"}),e.jsxs("p",{className:"text-2xl font-bold text-foreground",children:["$",u.nextMonth.toLocaleString()]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Based on bookings"})]}),e.jsx("div",{className:"w-12 h-12 rounded-lg bg-purple-100 flex items-center justify-center",children:e.jsx(Ge,{className:"w-6 h-6 text-purple-600"})})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(P,{className:"border",children:[e.jsxs(Q,{children:[e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(zn,{className:"w-5 h-5 text-amber-500"}),"Actionable Insights"]}),e.jsx(Tt,{children:"AI-powered recommendations to increase your revenue"})]}),e.jsx(F,{className:"space-y-3",children:f.map((w,k)=>e.jsx("div",{className:"p-4 rounded-lg border hover-elevate cursor-pointer transition-all","data-testid":`insight-${k}`,children:e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("p",{className:"font-medium text-foreground",children:w.title}),e.jsx(O,{variant:"outline",className:y(w.priority),children:w.priority})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:w.description}),e.jsx("p",{className:"text-sm text-green-600 font-medium mt-2",children:w.impact})]}),e.jsx(S,{size:"sm",variant:"ghost",children:e.jsx($s,{className:"w-4 h-4"})})]})},k))})]}),e.jsxs(P,{className:"border",children:[e.jsxs(Q,{children:[e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(qa,{className:"w-5 h-5 text-amber-500"}),"Upsell Opportunities"]}),e.jsx(Tt,{children:"Services your clients frequently request"})]}),e.jsx(F,{className:"space-y-4",children:b.map(w=>e.jsxs("div",{className:"p-4 rounded-lg border","data-testid":`upsell-${w.id}`,children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-amber-100 flex items-center justify-center shrink-0",children:e.jsx(w.icon,{className:"w-5 h-5 text-amber-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsx("p",{className:"font-medium text-foreground",children:w.title}),e.jsx(O,{className:"bg-green-100 text-green-700 border-green-200",children:w.potential})]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:w.description}),e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground mb-1",children:[e.jsx("span",{children:"Client adoption rate"}),e.jsxs("span",{children:[w.adoption,"%"]})]}),e.jsx(Pr,{value:w.adoption,className:"h-2"})]})]})]}),e.jsxs(S,{className:"w-full mt-3 bg-primary",size:"sm","data-testid":`button-add-service-${w.id}`,children:[e.jsx(DC,{className:"w-4 h-4 mr-2"})," Add This Service"]})]},w.id))})]})]}),e.jsxs(P,{className:"border",children:[e.jsxs(Q,{children:[e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(Ge,{className:"w-5 h-5 text-primary"}),"Seasonal Demand Forecast"]}),e.jsx(Tt,{children:"Adjust your pricing based on upcoming high-demand periods"})]}),e.jsx(F,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:v.map((w,k)=>e.jsxs("div",{className:`p-4 rounded-lg border ${w.status==="current"?"border-primary bg-primary/5":w.status==="upcoming"?"border-amber-300 bg-amber-50":""}`,"data-testid":`season-${k}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${w.status==="current"?"bg-primary/20":"bg-muted"}`,children:e.jsx(w.icon,{className:`w-5 h-5 ${w.status==="current"?"text-primary":"text-muted-foreground"}`})}),w.status==="current"&&e.jsx(O,{className:"bg-primary text-primary-foreground",children:"Active Now"}),w.status==="upcoming"&&e.jsxs(O,{variant:"outline",className:"bg-amber-100 text-amber-700 border-amber-200",children:[w.daysAway," days"]})]}),e.jsx("p",{className:"font-medium text-foreground",children:w.season}),e.jsx("p",{className:"text-sm text-muted-foreground",children:w.location}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:w.timing}),e.jsxs("div",{className:"mt-3 pt-3 border-t space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Demand"}),e.jsxs("span",{className:"text-green-600 font-medium",children:["+",w.demandIncrease,"%"]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Suggested Rate"}),e.jsxs("span",{className:"text-primary font-medium",children:["+",w.suggestedRateIncrease,"%"]})]})]}),w.status!=="current"&&e.jsx(S,{variant:"outline",size:"sm",className:"w-full mt-3","data-testid":`button-prepare-${k}`,children:"Prepare Now"})]},k))})})]})]})}),e.jsx(xt,{value:"pricing",className:"space-y-6",children:e.jsxs(P,{className:"border",children:[e.jsxs(Q,{children:[e.jsx(X,{children:"Suggested Pricing Analysis"}),e.jsx(Tt,{children:"Based on your expertise, ratings, and market conditions"})]}),e.jsxs(F,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"p-4 rounded-lg border text-center",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Your Current Rate"}),e.jsxs("p",{className:"text-3xl font-bold text-foreground",children:["$",g.currentRate]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"/hour"})]}),e.jsxs("div",{className:"p-4 rounded-lg border text-center",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Market Average"}),e.jsxs("p",{className:"text-3xl font-bold text-foreground",children:["$",g.marketAverage]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"/hour"})]}),e.jsxs("div",{className:"p-4 rounded-lg border text-center bg-green-50 border-green-200",children:[e.jsx("p",{className:"text-sm text-green-700",children:"Suggested Rate"}),e.jsxs("p",{className:"text-3xl font-bold text-green-600",children:["$",g.suggestedRate]}),e.jsxs("p",{className:"text-xs text-green-600",children:["+",g.potentialIncrease,"% increase"]})]}),e.jsxs("div",{className:"p-4 rounded-lg border text-center",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Top Expert Rate"}),e.jsxs("p",{className:"text-3xl font-bold text-foreground",children:["$",g.topExpertRate]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"/hour"})]})]}),e.jsx("div",{className:"p-4 rounded-lg bg-blue-50 border border-blue-200",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(zn,{className:"w-5 h-5 text-blue-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-blue-800",children:"Why you should raise your rates"}),e.jsxs("ul",{className:"text-sm text-blue-700 mt-2 space-y-1",children:[e.jsx("li",{children:"Your 4.9 rating puts you in the top 10% of experts"}),e.jsx("li",{children:"98% response rate shows high reliability"}),e.jsx("li",{children:"156 reviews provide strong social proof"}),e.jsx("li",{children:"Experts with similar profiles charge $100-120/hour"})]})]})]})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(S,{className:"bg-primary","data-testid":"button-update-rates",children:"Update My Rates"}),e.jsx(S,{variant:"outline","data-testid":"button-view-comparison",children:"View Full Comparison"})]})]})]})}),e.jsxs(xt,{value:"passive",className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(P,{className:"border","data-testid":"card-passive-total",children:e.jsx(F,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Passive Income (Monthly)"}),e.jsx("p",{className:"text-2xl font-bold text-foreground",children:"$770"}),e.jsxs("p",{className:"text-sm text-green-600 flex items-center gap-1",children:[e.jsx(Ei,{className:"w-3 h-3"})," +23% this month"]})]}),e.jsx("div",{className:"w-12 h-12 rounded-lg bg-green-100 flex items-center justify-center",children:e.jsx(bt,{className:"w-6 h-6 text-green-600"})})]})})}),e.jsx(P,{className:"border","data-testid":"card-templates-sold",children:e.jsx(F,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Templates Sold"}),e.jsx("p",{className:"text-2xl font-bold text-foreground",children:"23"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"This month"})]}),e.jsx("div",{className:"w-12 h-12 rounded-lg bg-blue-100 flex items-center justify-center",children:e.jsx(br,{className:"w-6 h-6 text-blue-600"})})]})})}),e.jsx(P,{className:"border","data-testid":"card-affiliate-bookings",children:e.jsx(F,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Affiliate Bookings"}),e.jsx("p",{className:"text-2xl font-bold text-foreground",children:"18"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Earning commission"})]}),e.jsx("div",{className:"w-12 h-12 rounded-lg bg-purple-100 flex items-center justify-center",children:e.jsx(et,{className:"w-6 h-6 text-purple-600"})})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(P,{className:"border",children:[e.jsxs(Q,{children:[e.jsx(X,{children:"Passive Income Streams"}),e.jsx(Tt,{children:"Earn money even when you're not actively working"})]}),e.jsx(F,{className:"space-y-4",children:m.map((w,k)=>e.jsxs("div",{className:"p-4 rounded-lg border","data-testid":`passive-stream-${k}`,children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${w.status==="active"?"bg-green-100":"bg-muted"}`,children:e.jsx(w.icon,{className:`w-5 h-5 ${w.status==="active"?"text-green-600":"text-muted-foreground"}`})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"font-medium text-foreground",children:w.title}),w.status==="active"?e.jsxs(O,{className:"bg-green-100 text-green-700 border-green-200",children:["$",w.monthlyEarnings,"/mo"]}):e.jsx(O,{variant:"outline",children:"Available"})]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:w.description})]})]}),w.status==="available"&&e.jsxs(S,{className:"w-full mt-3",variant:"outline","data-testid":`button-activate-${k}`,children:[e.jsx(qe,{className:"w-4 h-4 mr-2"})," Get Started"]})]},k))})]}),e.jsxs(P,{className:"border",children:[e.jsxs(Q,{children:[e.jsx(X,{children:"Create Itinerary Templates"}),e.jsx(Tt,{children:"Package your expertise and earn royalties"})]}),e.jsx(F,{className:"space-y-4",children:e.jsxs("div",{className:"p-4 rounded-lg bg-primary/5 border border-primary/20",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx(br,{className:"w-8 h-8 text-primary"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-foreground",children:"Sell Your Best Itineraries"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Earn 70% royalty on each sale"})]})]}),e.jsxs("ul",{className:"text-sm text-muted-foreground space-y-2 mb-4",children:[e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(Rt,{className:"w-4 h-4 text-green-500"}),"Package your expertise once, earn repeatedly"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(Rt,{className:"w-4 h-4 text-green-500"}),"Travelers customize and book from your templates"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(Rt,{className:"w-4 h-4 text-green-500"}),"Build your brand and attract new clients"]})]}),e.jsxs(S,{className:"w-full bg-primary","data-testid":"button-create-template",children:[e.jsx(DC,{className:"w-4 h-4 mr-2"})," Create Template"]})]})})]})]})]}),e.jsxs(xt,{value:"payout",className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(P,{className:"border border-green-200 bg-green-50","data-testid":"card-available-balance",children:e.jsx(F,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-green-700",children:"Available for Instant Payout"}),e.jsxs("p",{className:"text-3xl font-bold text-green-700",children:["$",x.available.toLocaleString()]}),e.jsx("p",{className:"text-sm text-green-600",children:"Ready to withdraw now"})]}),e.jsx("div",{className:"w-12 h-12 rounded-lg bg-green-200 flex items-center justify-center",children:e.jsx(Db,{className:"w-6 h-6 text-green-700"})})]})})}),e.jsx(P,{className:"border","data-testid":"card-pending-balance",children:e.jsx(F,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending (Trips in Progress)"}),e.jsxs("p",{className:"text-2xl font-bold text-foreground",children:["$",x.pending.toLocaleString()]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Available after completion"})]}),e.jsx("div",{className:"w-12 h-12 rounded-lg bg-amber-100 flex items-center justify-center",children:e.jsx(Je,{className:"w-6 h-6 text-amber-600"})})]})})}),e.jsx(P,{className:"border","data-testid":"card-processing",children:e.jsx(F,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Processing"}),e.jsxs("p",{className:"text-2xl font-bold text-foreground",children:["$",x.processing.toLocaleString()]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Being transferred"})]}),e.jsx("div",{className:"w-12 h-12 rounded-lg bg-blue-100 flex items-center justify-center",children:e.jsx(Sa,{className:"w-6 h-6 text-blue-600"})})]})})})]}),e.jsxs(P,{className:"border",children:[e.jsxs(Q,{children:[e.jsx(X,{children:"Instant Payout Options"}),e.jsx(Tt,{children:"Get your money faster - withdraw anytime"})]}),e.jsxs(F,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 rounded-lg border hover-elevate cursor-pointer","data-testid":"option-instant-payout",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx(qa,{className:"w-6 h-6 text-amber-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-foreground",children:"Instant Payout"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive within 30 minutes"})]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm mb-3",children:[e.jsx("span",{className:"text-muted-foreground",children:"Fee"}),e.jsxs("span",{className:"text-foreground",children:[x.dailyFee,"% (min $0.25)"]})]}),e.jsxs(S,{className:"w-full bg-primary","data-testid":"button-instant-payout",children:[e.jsx(qa,{className:"w-4 h-4 mr-2"})," Request Instant Payout"]})]}),e.jsxs("div",{className:"p-4 rounded-lg border hover-elevate cursor-pointer","data-testid":"option-standard-payout",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx(Ge,{className:"w-6 h-6 text-blue-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-foreground",children:"Standard Payout"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive in 2-3 business days"})]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm mb-3",children:[e.jsx("span",{className:"text-muted-foreground",children:"Fee"}),e.jsx("span",{className:"text-green-600 font-medium",children:"Free"})]}),e.jsxs(S,{variant:"outline",className:"w-full","data-testid":"button-standard-payout",children:[e.jsx(Ge,{className:"w-4 h-4 mr-2"})," Request Standard Payout"]})]})]}),e.jsx("div",{className:"p-4 rounded-lg bg-blue-50 border border-blue-200",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(ns,{className:"w-5 h-5 text-blue-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-blue-800",children:"Daily Payout Available"}),e.jsxs("p",{className:"text-sm text-blue-700 mt-1",children:["Enable automatic daily payouts to receive your earnings every day instead of waiting. Small ",x.dailyFee,"% fee applies."]}),e.jsx(S,{variant:"outline",size:"sm",className:"mt-2","data-testid":"button-enable-daily",children:"Enable Daily Payouts"})]})]})})]})]})]})]})]})})}function kxe(){const t={rank:7,points:4850,nextRankPoints:5200,percentToNext:93,region:"Kyoto, Japan",globalRank:156},s=[{rank:1,name:"Sakura Tanaka",region:"Tokyo",avatar:"",points:8920,badge:"Elite",rating:5,clients:89,change:0},{rank:2,name:"Marco Silva",region:"Lisbon",avatar:"",points:7650,badge:"Elite",rating:4.9,clients:72,change:1},{rank:3,name:"Emma Chen",region:"Singapore",avatar:"",points:7120,badge:"Elite",rating:4.9,clients:68,change:-1},{rank:4,name:"Carlos Mendez",region:"Barcelona",avatar:"",points:6840,badge:"Pro",rating:4.8,clients:61,change:2},{rank:5,name:"Sophie Laurent",region:"Paris",avatar:"",points:6200,badge:"Pro",rating:4.9,clients:54,change:0},{rank:6,name:"Yuki Yamamoto",region:"Osaka",avatar:"",points:5450,badge:"Pro",rating:4.8,clients:48,change:-2},{rank:7,name:"You",region:"Kyoto",avatar:"",points:4850,badge:"Rising Star",rating:4.9,clients:42,change:2,isUser:!0},{rank:8,name:"David Kim",region:"Seoul",avatar:"",points:4620,badge:"Rising Star",rating:4.7,clients:38,change:-1},{rank:9,name:"Maria Garcia",region:"Madrid",avatar:"",points:4380,badge:"Rising Star",rating:4.8,clients:35,change:1},{rank:10,name:"Hans Mueller",region:"Berlin",avatar:"",points:4100,badge:"Rising Star",rating:4.7,clients:32,change:0}],a=[{name:"Top Rated",description:"Maintained 4.9+ rating for 6 months",icon:rt,earned:!0,tier:"gold"},{name:"Quick Responder",description:"Average response time under 30 min",icon:Je,earned:!0,tier:"gold"},{name:"Client Favorite",description:"50+ repeat clients",icon:et,earned:!1,progress:84,tier:"silver"},{name:"Revenue Champion",description:"Top 10% monthly earnings",icon:bt,earned:!1,progress:72,tier:"bronze"},{name:"Perfect Score",description:"100 five-star reviews",icon:jr,earned:!1,progress:78,tier:"bronze"},{name:"Rising Star",description:"Fastest growing in your region",icon:IC,earned:!0,tier:"silver"}],r=[{title:"January Top Performer",description:"Highest client satisfaction this month",prize:"$500 bonus",yourPosition:4,totalParticipants:156,endsIn:"6 days",status:"active"},{title:"Response Champion",description:"Fastest average response time",prize:"Featured placement for 1 week",yourPosition:2,totalParticipants:156,endsIn:"6 days",status:"active"},{title:"New Client Leader",description:"Most new clients acquired",prize:"Premium profile badge",yourPosition:8,totalParticipants:156,endsIn:"6 days",status:"active"}],n=c=>{switch(c){case"gold":return"bg-yellow-100 text-yellow-700 border-yellow-300";case"silver":return"bg-gray-100 text-gray-700 border-gray-300";case"bronze":return"bg-amber-100 text-amber-700 border-amber-300";default:return"bg-gray-100 text-gray-600 border-gray-200"}},i=c=>{switch(c){case 1:return e.jsx(tw,{className:"w-5 h-5 text-yellow-500"});case 2:return e.jsx(OC,{className:"w-5 h-5 text-gray-400"});case 3:return e.jsx(OC,{className:"w-5 h-5 text-amber-600"});default:return e.jsxs("span",{className:"text-sm font-bold text-muted-foreground",children:["#",c]})}},l=c=>c>0?e.jsxs("span",{className:"flex items-center text-green-600 text-xs",children:[e.jsx(nl,{className:"w-3 h-3"}),c]}):c<0?e.jsxs("span",{className:"flex items-center text-red-600 text-xs",children:[e.jsx(qs,{className:"w-3 h-3"}),Math.abs(c)]}):e.jsx("span",{className:"flex items-center text-muted-foreground text-xs",children:e.jsx(_b,{className:"w-3 h-3"})});return e.jsx(Dr,{title:"Leaderboard",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-foreground","data-testid":"text-leaderboard-title",children:"Expert Leaderboard"}),e.jsx("p",{className:"text-muted-foreground",children:"Compete with top experts and earn recognition"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(P,{className:"border bg-primary/5 border-primary/20","data-testid":"card-your-rank",children:e.jsx(F,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/20 flex items-center justify-center",children:e.jsx(ed,{className:"w-6 h-6 text-primary"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Your Regional Rank"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("p",{className:"text-2xl font-bold text-foreground",children:["#",t.rank]}),e.jsxs("span",{className:"flex items-center text-green-600 text-sm",children:[e.jsx(nl,{className:"w-4 h-4"}),"2 from last month"]})]})]})]})})}),e.jsx(P,{className:"border","data-testid":"card-global-rank",children:e.jsx(F,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center",children:e.jsx(oi,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Global Rank"}),e.jsxs("p",{className:"text-2xl font-bold text-foreground",children:["#",t.globalRank]})]})]})})}),e.jsx(P,{className:"border","data-testid":"card-points",children:e.jsx(F,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-amber-100 flex items-center justify-center",children:e.jsx(qa,{className:"w-6 h-6 text-amber-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Points"}),e.jsx("p",{className:"text-2xl font-bold text-foreground",children:t.points.toLocaleString()})]})]})})}),e.jsx(P,{className:"border","data-testid":"card-badges-earned",children:e.jsx(F,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-green-100 flex items-center justify-center",children:e.jsx(jr,{className:"w-6 h-6 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Badges Earned"}),e.jsxs("p",{className:"text-2xl font-bold text-foreground",children:[a.filter(c=>c.earned).length,"/",a.length]})]})]})})})]}),e.jsx(P,{className:"border",children:e.jsxs(F,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-sm font-medium text-foreground",children:"Progress to Top 5"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[t.points," / ",t.nextRankPoints," points"]})]}),e.jsx(Pr,{value:t.percentToNext,className:"h-3"}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Earn ",t.nextRankPoints-t.points," more points to reach #6"]})]})}),e.jsxs(Na,{defaultValue:"rankings",className:"space-y-6",children:[e.jsxs(ca,{className:"grid w-full grid-cols-3 lg:w-auto lg:inline-grid",children:[e.jsx(it,{value:"rankings","data-testid":"tab-rankings",children:"Rankings"}),e.jsx(it,{value:"badges","data-testid":"tab-badges",children:"Badges"}),e.jsx(it,{value:"competitions","data-testid":"tab-competitions",children:"Competitions"})]}),e.jsx(xt,{value:"rankings",className:"space-y-4",children:e.jsxs(P,{className:"border",children:[e.jsxs(Q,{children:[e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(ed,{className:"w-5 h-5 text-amber-500"}),"Top 10 Experts - ",t.region]}),e.jsx(Tt,{children:"Regional leaderboard updated weekly"})]}),e.jsx(F,{children:e.jsx("div",{className:"space-y-2",children:s.map((c,u)=>e.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border hover-elevate ${c.isUser?"bg-primary/5 border-primary/20":""}`,"data-testid":`expert-rank-${c.rank}`,children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-8 flex justify-center",children:i(c.rank)}),e.jsxs(Ls,{className:"h-10 w-10",children:[e.jsx(Br,{src:c.avatar}),e.jsx(Os,{className:c.isUser?"bg-primary/20 text-primary":"bg-muted",children:c.name.split(" ").map(m=>m[0]).join("")})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:`font-medium ${c.isUser?"text-primary":"text-foreground"}`,children:c.name}),e.jsx(O,{variant:"outline",className:"text-xs",children:c.badge})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:c.region})]})]}),e.jsxs("div",{className:"flex items-center gap-6 text-sm",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"font-medium text-foreground",children:c.points.toLocaleString()}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"points"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(rt,{className:"w-3 h-3 text-yellow-500"}),e.jsx("span",{className:"font-medium",children:c.rating})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"rating"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"font-medium text-foreground",children:c.clients}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"clients"})]}),e.jsx("div",{className:"w-8",children:l(c.change)})]})]},u))})})]})}),e.jsx(xt,{value:"badges",className:"space-y-4",children:e.jsxs(P,{className:"border",children:[e.jsxs(Q,{children:[e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(jr,{className:"w-5 h-5 text-primary"}),"Achievement Badges"]}),e.jsx(Tt,{children:"Collect badges to boost your profile visibility"})]}),e.jsx(F,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:a.map((c,u)=>e.jsx("div",{className:`p-4 rounded-lg border ${c.earned?n(c.tier):"bg-muted/30"}`,"data-testid":`badge-${u}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${c.earned?"bg-white/50":"bg-muted"}`,children:e.jsx(c.icon,{className:`w-6 h-6 ${c.earned?"":"text-muted-foreground"}`})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:`font-medium ${c.earned?"":"text-muted-foreground"}`,children:c.name}),c.earned&&e.jsx(Rt,{className:"w-4 h-4 text-green-600"})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:c.description}),!c.earned&&c.progress&&e.jsxs("div",{className:"mt-2",children:[e.jsx(Pr,{value:c.progress,className:"h-2"}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[c.progress,"% complete"]})]})]})]})},u))})})]})}),e.jsx(xt,{value:"competitions",className:"space-y-4",children:e.jsxs(P,{className:"border",children:[e.jsxs(Q,{children:[e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(IC,{className:"w-5 h-5 text-orange-500"}),"Monthly Competitions"]}),e.jsx(Tt,{children:"Compete for prizes and recognition"})]}),e.jsx(F,{className:"space-y-4",children:r.map((c,u)=>e.jsx("div",{className:"p-4 rounded-lg border","data-testid":`competition-${u}`,children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("p",{className:"font-medium text-foreground",children:c.title}),e.jsx(O,{className:"bg-green-100 text-green-700 border-green-200",children:"Active"})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:c.description}),e.jsxs("div",{className:"flex items-center gap-4 mt-3 text-sm",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(ed,{className:"w-4 h-4 text-amber-500"}),e.jsx("span",{className:"text-foreground font-medium",children:c.prize})]}),e.jsxs("span",{className:"text-muted-foreground",children:[c.totalParticipants," participants"]}),e.jsxs("span",{className:"text-muted-foreground",children:["Ends in ",c.endsIn]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Your Position"}),e.jsxs("p",{className:"text-2xl font-bold text-primary",children:["#",c.yourPosition]})]})]})},u))})]})})]})]})})}function Cxe(){const{data:t,isLoading:s,error:a}=Le({queryKey:["/api/recommendations/expert"]});if(s)return e.jsxs(P,{className:"hover-elevate",children:[e.jsx(Q,{children:e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(zn,{className:"w-5 h-5 text-amber-500"}),"Service Opportunities"]})}),e.jsx(F,{className:"space-y-4",children:[1,2,3].map(n=>e.jsxs("div",{className:"space-y-2",children:[e.jsx(_e,{className:"h-4 w-3/4"}),e.jsx(_e,{className:"h-3 w-full"}),e.jsx(_e,{className:"h-3 w-1/2"})]},n))})]});if(a||!t)return null;if(t.recommendations.length===0)return e.jsx(P,{className:"hover-elevate",children:e.jsxs(Q,{children:[e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(zn,{className:"w-5 h-5 text-amber-500"}),"Service Opportunities"]}),e.jsx(Tt,{children:t.message||"No recommendations available at this time. Add more destinations to your profile."})]})});const r=n=>{switch(n){case"low":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"medium":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"high":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200"}};return e.jsxs(P,{className:"hover-elevate",children:[e.jsxs(Q,{children:[e.jsxs("div",{className:"flex items-center justify-between gap-2 flex-wrap",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(zn,{className:"w-5 h-5 text-amber-500"}),e.jsx(X,{children:"Service Opportunities"})]}),e.jsxs(O,{variant:"outline",className:"text-primary",children:[e.jsx(qe,{className:"w-3 h-3 mr-1"}),"AI Powered"]})]}),e.jsx(Tt,{children:"Service recommendations based on TravelPulse market trends in your destinations"})]}),e.jsxs(F,{className:"space-y-4",children:[t.recommendations.slice(0,5).map(n=>e.jsxs("div",{className:"p-4 rounded-lg border bg-card hover-elevate transition-colors",children:[e.jsxs("div",{className:"flex items-start justify-between gap-4 flex-wrap",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap mb-1",children:[e.jsx("h4",{className:"font-medium",children:n.title}),n.supportingData.demandLevel==="trending"&&e.jsxs(O,{variant:"default",className:"bg-primary",children:[e.jsx(Xt,{className:"w-3 h-3 mr-1"}),"Trending"]})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:n.description}),e.jsxs("div",{className:"flex items-center gap-3 flex-wrap text-xs",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Me,{className:"w-3 h-3"}),n.city]}),e.jsxs(O,{variant:"outline",className:r(n.competitionLevel),children:[n.competitionLevel," competition"]}),n.potentialRevenue&&e.jsxs("span",{className:"flex items-center gap-1 text-green-600",children:[e.jsx(bt,{className:"w-3 h-3"}),"$",n.potentialRevenue.toLocaleString()," potential"]})]})]}),e.jsx("div",{className:"flex flex-col items-end gap-2",children:e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:"Opportunity"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Pr,{value:n.opportunityScore,className:"w-16 h-2"}),e.jsxs("span",{className:"text-sm font-medium",children:[n.opportunityScore,"%"]})]})]})})]}),n.actionItems.length>0&&e.jsxs("div",{className:"mt-3 pt-3 border-t",children:[e.jsx("div",{className:"text-xs font-medium text-muted-foreground mb-2",children:"Next steps:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:n.actionItems.slice(0,3).map((i,l)=>e.jsxs("span",{className:"text-xs flex items-center gap-1 bg-muted px-2 py-1 rounded",children:[e.jsx($s,{className:"w-3 h-3"}),i]},l))})]})]},n.id)),t.recommendations.length>5&&e.jsxs(S,{variant:"outline",className:"w-full",children:["View all ",t.recommendations.length," opportunities",e.jsx(Kt,{className:"w-4 h-4 ml-2"})]})]})]})}function Sxe(){const{data:t,isLoading:s}=Le({queryKey:["/api/expert/analytics/dashboard"]}),{data:a,isLoading:r}=Le({queryKey:["/api/expert/market-intelligence"]}),n=s||r,i=[{type:"opportunity",title:"Trending destinations to promote",description:a?.trending?.[0]?`${a.trending[0].destination} is trending - ${a.trending[0].reason}`:"Check market trends for new opportunities",action:"View trends",impact:"Increase visibility"},{type:"growth",title:"Optimize your conversion rate",description:t?.keyMetrics?.conversionRate?.status==="needs_improvement"?"Your conversion rate is below average. Consider faster response times and competitive pricing.":"Your conversion rate is healthy. Keep up the good work!",action:"View funnel",impact:t?.keyMetrics?.conversionRate?.value||"N/A"},{type:"retention",title:"Client lifetime value opportunity",description:`Average CLV is $${t?.clientLifetimeValue?.average||0}. Repeat rate: ${t?.clientLifetimeValue?.repeatRate||0}%`,action:"Re-engage clients",impact:"Increase repeat bookings"}],l=m=>{switch(m){case"urgent":return"border-red-200 bg-red-50 dark:bg-red-950/20";case"opportunity":return"border-amber-200 bg-amber-50 dark:bg-amber-950/20";case"growth":return"border-green-200 bg-green-50 dark:bg-green-950/20";case"retention":return"border-blue-200 bg-blue-50 dark:bg-blue-950/20";default:return"border-gray-200"}},c=m=>{switch(m){case"urgent":return e.jsx(ns,{className:"w-5 h-5 text-red-600"});case"opportunity":return e.jsx(qa,{className:"w-5 h-5 text-amber-600"});case"growth":return e.jsx(Xt,{className:"w-5 h-5 text-green-600"});case"retention":return e.jsx(et,{className:"w-5 h-5 text-blue-600"});default:return e.jsx(zn,{className:"w-5 h-5 text-gray-600"})}},u=m=>{switch(m){case"excellent":return e.jsx(O,{className:"bg-green-100 text-green-700 border-green-200",children:"Excellent"});case"good":return e.jsx(O,{className:"bg-blue-100 text-blue-700 border-blue-200",children:"Good"});case"needs_improvement":return e.jsx(O,{className:"bg-amber-100 text-amber-700 border-amber-200",children:"Needs Work"});default:return null}};return e.jsx(Dr,{title:"Analytics",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-foreground","data-testid":"text-analytics-title",children:"Business Analytics"}),e.jsx("p",{className:"text-muted-foreground",children:"Real-time insights from your data nervous system"})]}),n?e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[1,2,3,4].map(m=>e.jsx(_e,{className:"h-28 rounded-lg"},m))}),e.jsx(_e,{className:"h-64 rounded-lg"}),e.jsx(_e,{className:"h-48 rounded-lg"})]}):e.jsxs(e.Fragment,{children:[t?.expertProfile?.destinations?.length||t?.expertProfile?.city||t?.serviceAlignment?.length?e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[e.jsxs(P,{className:"border","data-testid":"card-your-markets",children:[e.jsxs(Q,{className:"pb-2",children:[e.jsxs(X,{className:"text-base flex items-center gap-2",children:[e.jsx(Me,{className:"w-4 h-4 text-primary"}),"Your Markets"]}),e.jsx(Tt,{children:"Intelligence is filtered for your focus areas"})]}),e.jsx(F,{children:e.jsxs("div",{className:"flex flex-wrap gap-2",children:[t?.expertProfile?.destinations?.map((m,x)=>e.jsx(O,{variant:"outline",className:"bg-primary/10",children:m},x)),t?.expertProfile?.city&&e.jsx(O,{variant:"outline",className:"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300",children:t.expertProfile.city}),t?.expertProfile?.country&&e.jsx(O,{variant:"outline",className:"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300",children:t.expertProfile.country}),!t?.expertProfile?.destinations?.length&&!t?.expertProfile?.city&&!t?.expertProfile?.country&&e.jsx("span",{className:"text-sm text-muted-foreground",children:"No markets set - showing global trends"})]})})]}),e.jsxs(P,{className:"border","data-testid":"card-service-alignment",children:[e.jsxs(Q,{className:"pb-2",children:[e.jsxs(X,{className:"text-base flex items-center gap-2",children:[e.jsx(oi,{className:"w-4 h-4 text-primary"}),"Service Alignment"]}),e.jsx(Tt,{children:"Services you selected at signup"})]}),e.jsx(F,{children:e.jsxs("div",{className:"flex flex-wrap gap-2",children:[t?.serviceAlignment?.map((m,x)=>e.jsxs(O,{variant:"outline",className:m.status==="created"?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 border-green-200":"bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-300 border-amber-200",children:[m.name,m.status==="created"?" ":" (pending)"]},x)),!t?.serviceAlignment?.length&&e.jsx("span",{className:"text-sm text-muted-foreground",children:"No services selected at signup"})]})})]})]}):null,e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(P,{className:"border","data-testid":"metric-total-revenue",children:e.jsxs(F,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(bt,{className:"w-5 h-5 text-green-600"}),e.jsx(O,{className:"bg-green-100 text-green-700 border-green-200",children:"Revenue"})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Revenue"}),e.jsxs("p",{className:"text-2xl font-bold text-foreground",children:["$",(t?.summary?.totalRevenue||0).toLocaleString()]}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Templates: $",(t?.summary?.templateRevenue||0).toLocaleString()]})]})}),e.jsx(P,{className:"border","data-testid":"metric-conversion",children:e.jsxs(F,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(oi,{className:"w-5 h-5 text-muted-foreground"}),u(t?.keyMetrics?.conversionRate?.status||"")]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Conversion Rate"}),e.jsx("p",{className:"text-2xl font-bold text-foreground",children:t?.keyMetrics?.conversionRate?.value||"0%"}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Benchmark: ",t?.keyMetrics?.conversionRate?.benchmark||"55%"]})]})}),e.jsx(P,{className:"border","data-testid":"metric-rating",children:e.jsxs(F,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(qe,{className:"w-5 h-5 text-amber-500"}),u(t?.keyMetrics?.avgRating?.status||"")]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Average Rating"}),e.jsx("p",{className:"text-2xl font-bold text-foreground",children:t?.keyMetrics?.avgRating?.value||"0"}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Benchmark: ",t?.keyMetrics?.avgRating?.benchmark||"4.5"]})]})}),e.jsx(P,{className:"border","data-testid":"metric-booking-value",children:e.jsxs(F,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(et,{className:"w-5 h-5 text-muted-foreground"}),u(t?.keyMetrics?.avgBookingValue?.status||"")]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Avg Booking Value"}),e.jsx("p",{className:"text-2xl font-bold text-foreground",children:t?.keyMetrics?.avgBookingValue?.value||"$0"}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Benchmark: ",t?.keyMetrics?.avgBookingValue?.benchmark||"$350"]})]})})]}),e.jsxs(P,{className:"border",children:[e.jsxs(Q,{children:[e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(zn,{className:"w-5 h-5 text-amber-500"}),"Actionable Insights"]}),e.jsx(Tt,{children:"AI-powered recommendations based on your data"})]}),e.jsx(F,{className:"space-y-3",children:i.map((m,x)=>e.jsx("div",{className:`p-4 rounded-lg border ${l(m.type)}`,"data-testid":`insight-${x}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[c(m.type),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-foreground",children:m.title}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:m.description}),e.jsxs("div",{className:"flex items-center gap-4 mt-3",children:[e.jsxs(S,{size:"sm",variant:"outline","data-testid":`button-insight-${x}`,children:[m.action," ",e.jsx(Kt,{className:"w-3 h-3 ml-1"})]}),e.jsx("span",{className:"text-sm text-green-600 font-medium",children:m.impact})]})]})]})},x))})]}),e.jsxs(Na,{defaultValue:"opportunities",className:"space-y-6",children:[e.jsxs(ca,{className:"grid w-full grid-cols-5 lg:w-auto lg:inline-grid",children:[e.jsx(it,{value:"opportunities","data-testid":"tab-opportunities",children:"Opportunities"}),e.jsx(it,{value:"funnel","data-testid":"tab-funnel",children:"Conversion Funnel"}),e.jsx(it,{value:"revenue","data-testid":"tab-revenue",children:"Revenue by Service"}),e.jsx(it,{value:"market","data-testid":"tab-market",children:"Market Intelligence"}),e.jsx(it,{value:"lifetime","data-testid":"tab-lifetime",children:"Client Value"})]}),e.jsx(xt,{value:"opportunities",children:e.jsx(Cxe,{})}),e.jsx(xt,{value:"funnel",children:e.jsxs(P,{className:"border",children:[e.jsxs(Q,{children:[e.jsx(X,{children:"Conversion Funnel"}),e.jsx(Tt,{children:"Track how visitors become paying clients"})]}),e.jsx(F,{children:e.jsx("div",{className:"space-y-4",children:(t?.conversionFunnel||[]).map((m,x)=>e.jsxs("div",{className:"flex items-center gap-4","data-testid":`funnel-stage-${x}`,children:[e.jsx("div",{className:"w-32 text-sm text-muted-foreground",children:m.stage}),e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(Pr,{value:m.percent,className:"h-6 flex-1"}),e.jsx("span",{className:"text-sm font-medium w-16 text-right",children:m.count})]})}),e.jsx("div",{className:"w-16 text-right",children:x>0&&e.jsxs("span",{className:`text-sm ${m.percent>=70?"text-green-600":m.percent>=50?"text-amber-600":"text-red-600"}`,children:[m.percent.toFixed(0),"%"]})})]},x))})})]})}),e.jsx(xt,{value:"revenue",children:e.jsxs(P,{className:"border",children:[e.jsxs(Q,{children:[e.jsx(X,{children:"Revenue by Service"}),e.jsx(Tt,{children:"See which services generate the most income"})]}),e.jsx(F,{children:(t?.revenueByService||[]).length>0?e.jsx("div",{className:"space-y-4",children:t?.revenueByService.map((m,x)=>e.jsxs("div",{className:"flex items-center gap-4","data-testid":`revenue-service-${x}`,children:[e.jsx("div",{className:"w-40 text-sm text-foreground font-medium truncate",children:m.service}),e.jsx("div",{className:"flex-1",children:e.jsx(Pr,{value:m.percentage,className:"h-4"})}),e.jsxs("div",{className:"w-24 text-right",children:[e.jsxs("p",{className:"text-sm font-medium",children:["$",m.revenue.toLocaleString()]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[m.bookings," bookings"]})]})]},x))}):e.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No revenue data yet. Start accepting bookings to see insights."})})]})}),e.jsxs(xt,{value:"market",children:[a?.expertMarkets&&(a.expertMarkets.destinations?.length>0||a.expertMarkets.city||a.expertMarkets.country)&&e.jsxs("div",{className:"mb-4 p-3 rounded-lg border bg-primary/5 flex items-center gap-2",children:[e.jsx(Me,{className:"w-4 h-4 text-primary"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Showing trends for your markets:",e.jsx("span",{className:"font-medium text-foreground ml-1",children:[...a.expertMarkets.destinations||[],a.expertMarkets.city,a.expertMarkets.country].filter(Boolean).join(", ")})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(P,{className:"border",children:[e.jsxs(Q,{children:[e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(Xt,{className:"w-5 h-5 text-primary"}),"Trending Destinations"]}),e.jsx(Tt,{children:"Popular destinations travelers are searching for"})]}),e.jsx(F,{children:e.jsxs("div",{className:"space-y-3",children:[(a?.trending||[]).slice(0,5).map((m,x)=>e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border hover-elevate","data-testid":`trending-${x}`,children:[e.jsx(Me,{className:"w-4 h-4 text-primary"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-foreground",children:m.destination}),e.jsx("p",{className:"text-xs text-muted-foreground",children:m.reason})]}),e.jsx(O,{variant:"outline",children:m.category})]},x)),(!a?.trending||a.trending.length===0)&&e.jsx("p",{className:"text-muted-foreground text-center py-4",children:"Market data loading..."})]})})]}),e.jsxs(P,{className:"border",children:[e.jsxs(Q,{children:[e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(Ge,{className:"w-5 h-5 text-amber-500"}),"Seasonal Demand Forecast"]}),e.jsx(Tt,{children:"Upcoming high-demand periods"})]}),e.jsx(F,{children:e.jsx("div",{className:"space-y-3",children:(a?.seasonalDemand||[]).map((m,x)=>e.jsxs("div",{className:"p-3 rounded-lg border","data-testid":`season-${x}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"font-medium text-foreground",children:m.season}),e.jsxs(O,{variant:"outline",className:m.status==="upcoming"?"bg-amber-100 text-amber-700":"",children:[m.daysAway," days"]})]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[m.location," - ",m.timing]}),e.jsxs("div",{className:"flex gap-4 mt-2 text-xs",children:[e.jsxs("span",{className:"text-green-600",children:["+",m.demandIncrease,"% demand"]}),e.jsxs("span",{className:"text-primary",children:["+",m.suggestedRateIncrease,"% rate suggested"]})]})]},x))})})]})]})]}),e.jsx(xt,{value:"lifetime",children:e.jsxs(P,{className:"border",children:[e.jsxs(Q,{children:[e.jsx(X,{children:"Client Lifetime Value"}),e.jsx(Tt,{children:"Understanding your client relationships"})]}),e.jsx(F,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"text-center p-6 rounded-lg border",children:[e.jsxs("p",{className:"text-3xl font-bold text-foreground",children:["$",t?.clientLifetimeValue?.average||0]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Average CLV"})]}),e.jsxs("div",{className:"text-center p-6 rounded-lg border",children:[e.jsxs("p",{className:"text-3xl font-bold text-foreground",children:[t?.clientLifetimeValue?.repeatRate||0,"%"]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Repeat Rate"})]}),e.jsxs("div",{className:"text-center p-6 rounded-lg border",children:[e.jsx("p",{className:"text-3xl font-bold text-foreground",children:t?.clientLifetimeValue?.avgBookingsPerClient||0}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Avg Bookings/Client"})]})]})})]})})]})]})]})})}const Txe=bn({title:jt().min(3,"Title must be at least 3 characters").max(255),description:jt().min(10,"Description must be at least 10 characters"),shortDescription:jt().max(500).optional(),destination:jt().min(2,"Destination is required"),duration:lD.number().min(1,"Duration must be at least 1 day"),price:jt().regex(/^\d+\.?\d*$/,"Please enter a valid price"),category:jt().optional(),highlights:jt().optional(),isPublished:Lx().default(!1)});function _xe(){const{toast:t}=Bs(),[s,a]=h.useState(!1),r=H0({resolver:a2(Txe),defaultValues:{title:"",description:"",shortDescription:"",destination:"",duration:7,price:"",category:"adventure",highlights:"",isPublished:!1}}),{data:n,isLoading:i}=Le({queryKey:["/api/expert/templates"]}),{data:l}=Le({queryKey:["/api/expert/earnings"]}),{data:c}=Le({queryKey:["/api/expert/template-sales"]}),u=Ot({mutationFn:async C=>{const _={...C,highlights:C.highlights?.split(",").map(E=>E.trim()).filter(Boolean)||[]};return(await Ft("POST","/api/expert/templates",_)).json()},onSuccess:()=>{_t.invalidateQueries({queryKey:["/api/expert/templates"]}),a(!1),r.reset(),t({title:"Template created!",description:"Your itinerary template has been saved."})},onError:()=>{t({title:"Error",description:"Failed to create template. Please try again.",variant:"destructive"})}}),m=Ot({mutationFn:async({id:C,isPublished:_})=>(await Ft("PATCH",`/api/expert/templates/${C}`,{isPublished:_})).json(),onSuccess:()=>{_t.invalidateQueries({queryKey:["/api/expert/templates"]}),t({title:"Template updated!",description:"Template publish status has been updated."})}}),x=Ot({mutationFn:async C=>{await Ft("DELETE",`/api/expert/templates/${C}`)},onSuccess:()=>{_t.invalidateQueries({queryKey:["/api/expert/templates"]}),t({title:"Template deleted",description:"Your template has been removed."})}}),f=C=>{u.mutate(C)},g=l?.summary?.total??0,b=c?.length??0,v=n?.filter(C=>C.isPublished)?.length??0,y=[{id:1,name:"Initial Inquiry Response",category:"Inquiry",content:"Thank you for reaching out! I'd love to help you plan your trip to {destination}.",usageCount:145,lastUsed:"2 hours ago",aiGenerated:!1},{id:2,name:"Quote Follow-up",category:"Sales",content:"Hi {client_name}, just wanted to follow up on the quote I sent for your {trip_type}.",usageCount:89,lastUsed:"1 day ago",aiGenerated:!1},{id:3,name:"Booking Confirmation",category:"Confirmation",content:"Great news! Your {trip_type} is confirmed for {dates}.",usageCount:67,lastUsed:"3 days ago",aiGenerated:!1}],w=[{context:"Client asks about pricing",suggestion:"Based on your requirements for a {duration} trip to {destination}, I typically charge...",confidence:95},{context:"Client wants to modify dates",suggestion:"I can definitely work with the new dates ({new_dates}). Let me check availability...",confidence:92}],k=C=>{switch(C){case"Inquiry":return"bg-blue-100 text-blue-700 dark:bg-blue-950 dark:text-blue-300";case"Sales":return"bg-green-100 text-green-700 dark:bg-green-950 dark:text-green-300";case"Confirmation":return"bg-purple-100 text-purple-700 dark:bg-purple-950 dark:text-purple-300";default:return"bg-muted text-muted-foreground"}};return e.jsx(Dr,{title:"Templates",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-foreground","data-testid":"text-templates-title",children:"Templates & Quick Responses"}),e.jsx("p",{className:"text-muted-foreground",children:"Save time with reusable templates and earn passive income"})]})}),e.jsxs(Na,{defaultValue:"itineraries",className:"space-y-6",children:[e.jsxs(ca,{className:"grid w-full grid-cols-3 lg:w-auto lg:inline-grid",children:[e.jsx(it,{value:"itineraries","data-testid":"tab-itineraries",children:"Itinerary Templates"}),e.jsx(it,{value:"responses","data-testid":"tab-responses",children:"Quick Responses"}),e.jsx(it,{value:"ai-replies","data-testid":"tab-ai-replies",children:"AI Smart Replies"})]}),e.jsxs(xt,{value:"itineraries",className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsx(P,{className:"border bg-primary/5 border-primary/20","data-testid":"card-template-earnings",children:e.jsx(F,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/20 flex items-center justify-center",children:e.jsx(bt,{className:"w-5 h-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Earnings"}),e.jsxs("p",{className:"text-2xl font-bold text-foreground",children:["$",g.toFixed(2)]})]})]})})}),e.jsx(P,{className:"border","data-testid":"card-template-sales",children:e.jsx(F,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-muted flex items-center justify-center",children:e.jsx(br,{className:"w-5 h-5 text-muted-foreground"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Templates Sold"}),e.jsx("p",{className:"text-2xl font-bold text-foreground",children:b})]})]})})}),e.jsx(P,{className:"border","data-testid":"card-template-active",children:e.jsx(F,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-muted flex items-center justify-center",children:e.jsx(oa,{className:"w-5 h-5 text-muted-foreground"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Published Templates"}),e.jsx("p",{className:"text-2xl font-bold text-foreground",children:v})]})]})})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Your Itinerary Templates"}),e.jsxs(rn,{open:s,onOpenChange:a,children:[e.jsx(qx,{asChild:!0,children:e.jsxs(S,{className:"bg-primary","data-testid":"button-create-itinerary",children:[e.jsx(ps,{className:"w-4 h-4 mr-2"})," Create Itinerary Template"]})}),e.jsxs(zr,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(Vr,{children:[e.jsx(Ur,{children:"Create Itinerary Template"}),e.jsx(nn,{children:"Create a ready-made travel itinerary that travelers can purchase. You'll earn 80% of the sale price."})]}),e.jsx(W0,{...r,children:e.jsxs("form",{onSubmit:r.handleSubmit(f),className:"space-y-4 py-4",children:[e.jsx(_s,{control:r.control,name:"title",render:({field:C})=>e.jsxs(Cs,{children:[e.jsx(Ss,{children:"Title *"}),e.jsx(Es,{children:e.jsx(Ne,{placeholder:"e.g., 7-Day Tokyo Adventure",...C,"data-testid":"input-template-title"})}),e.jsx(Ms,{})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(_s,{control:r.control,name:"destination",render:({field:C})=>e.jsxs(Cs,{children:[e.jsx(Ss,{children:"Destination *"}),e.jsx(Es,{children:e.jsx(Ne,{placeholder:"e.g., Tokyo, Japan",...C,"data-testid":"input-template-destination"})}),e.jsx(Ms,{})]})}),e.jsx(_s,{control:r.control,name:"duration",render:({field:C})=>e.jsxs(Cs,{children:[e.jsx(Ss,{children:"Duration (days) *"}),e.jsx(Es,{children:e.jsx(Ne,{type:"number",min:"1",...C,"data-testid":"input-template-duration"})}),e.jsx(Ms,{})]})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(_s,{control:r.control,name:"price",render:({field:C})=>e.jsxs(Cs,{children:[e.jsx(Ss,{children:"Price (USD) *"}),e.jsx(Es,{children:e.jsx(Ne,{placeholder:"49.99",...C,"data-testid":"input-template-price"})}),e.jsx(Ms,{})]})}),e.jsx(_s,{control:r.control,name:"category",render:({field:C})=>e.jsxs(Cs,{children:[e.jsx(Ss,{children:"Category"}),e.jsxs(Wt,{onValueChange:C.onChange,defaultValue:C.value,children:[e.jsx(Es,{children:e.jsx(Vt,{"data-testid":"select-template-category",children:e.jsx(Gt,{})})}),e.jsxs(Ut,{children:[e.jsx(Pe,{value:"adventure",children:"Adventure"}),e.jsx(Pe,{value:"cultural",children:"Cultural"}),e.jsx(Pe,{value:"luxury",children:"Luxury"}),e.jsx(Pe,{value:"budget",children:"Budget"}),e.jsx(Pe,{value:"family",children:"Family"}),e.jsx(Pe,{value:"romantic",children:"Romantic"}),e.jsx(Pe,{value:"business",children:"Business"})]})]}),e.jsx(Ms,{})]})})]}),e.jsx(_s,{control:r.control,name:"shortDescription",render:({field:C})=>e.jsxs(Cs,{children:[e.jsx(Ss,{children:"Short Description"}),e.jsx(Es,{children:e.jsx(Ne,{placeholder:"Brief summary shown in listings",...C,"data-testid":"input-template-short-desc"})}),e.jsx(Ms,{})]})}),e.jsx(_s,{control:r.control,name:"description",render:({field:C})=>e.jsxs(Cs,{children:[e.jsx(Ss,{children:"Full Description *"}),e.jsx(Es,{children:e.jsx(Ks,{placeholder:"Detailed description of what's included in this itinerary...",className:"min-h-[100px]",...C,"data-testid":"input-template-description"})}),e.jsx(Ms,{})]})}),e.jsx(_s,{control:r.control,name:"highlights",render:({field:C})=>e.jsxs(Cs,{children:[e.jsx(Ss,{children:"Highlights (comma-separated)"}),e.jsx(Es,{children:e.jsx(Ne,{placeholder:"e.g., Hidden temples, Local food tours, Mt. Fuji day trip",...C,"data-testid":"input-template-highlights"})}),e.jsx(zg,{children:"Separate multiple highlights with commas"}),e.jsx(Ms,{})]})}),e.jsx(_s,{control:r.control,name:"isPublished",render:({field:C})=>e.jsxs(Cs,{className:"flex items-center gap-3 pt-2",children:[e.jsx(Es,{children:e.jsx(tr,{checked:C.value,onCheckedChange:C.onChange,"data-testid":"switch-template-publish"})}),e.jsx(Ss,{className:"cursor-pointer !mt-0",children:"Publish immediately (make available for purchase)"})]})}),e.jsxs(jo,{children:[e.jsx(S,{type:"button",variant:"outline",onClick:()=>a(!1),children:"Cancel"}),e.jsx(S,{type:"submit",disabled:u.isPending,"data-testid":"button-save-template",children:u.isPending?e.jsxs(e.Fragment,{children:[e.jsx(ot,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating..."]}):"Create Template"})]})]})})]})]})]}),i?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[1,2,3,4].map(C=>e.jsx(_e,{className:"h-48"},C))}):n&&n.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.map(C=>e.jsx(P,{className:"border","data-testid":`itinerary-${C.id}`,children:e.jsxs(F,{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between gap-3 mb-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"font-medium text-foreground",children:C.title}),e.jsx(O,{variant:C.isPublished?"default":"outline",children:C.isPublished?"Published":"Draft"})]}),e.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1 mt-1",children:[e.jsx(Me,{className:"w-3 h-3"})," ",C.destination]})]}),e.jsxs("p",{className:"text-xl font-bold text-primary",children:["$",C.price]})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mb-3",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ge,{className:"w-3 h-3"})," ",C.duration," days"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(br,{className:"w-3 h-3"})," ",C.salesCount??0," sold"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Er,{className:"w-3 h-3"})," ",C.viewCount??0," views"]}),C.averageRating&&parseFloat(C.averageRating)>0&&e.jsxs("span",{className:"flex items-center gap-1 text-amber-600",children:[e.jsx(rt,{className:"w-3 h-3 fill-current"})," ",parseFloat(C.averageRating).toFixed(1)]})]}),(C.salesCount??0)>0&&e.jsxs("div",{className:"p-2 rounded bg-muted text-sm mb-3",children:["Earned $",((C.salesCount??0)*parseFloat(C.price)*.8).toFixed(2)," from this template"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(S,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>m.mutate({id:C.id,isPublished:!C.isPublished}),"data-testid":`button-toggle-${C.id}`,children:C.isPublished?"Unpublish":"Publish"}),e.jsxs(Yu,{children:[e.jsx(Qu,{asChild:!0,children:e.jsx(S,{size:"icon",variant:"ghost","data-testid":`button-menu-${C.id}`,children:e.jsx(Bu,{className:"w-4 h-4"})})}),e.jsxs(cd,{align:"end",children:[e.jsxs(Va,{"data-testid":`menu-edit-${C.id}`,children:[e.jsx(ng,{className:"w-4 h-4 mr-2"})," Edit"]}),e.jsxs(Va,{"data-testid":`menu-preview-${C.id}`,children:[e.jsx(Er,{className:"w-4 h-4 mr-2"})," Preview"]}),e.jsxs(Va,{className:"text-destructive",onClick:()=>x.mutate(C.id),"data-testid":`menu-delete-${C.id}`,children:[e.jsx(pi,{className:"w-4 h-4 mr-2"})," Delete"]})]})]})]})]})},C.id))}):e.jsx(P,{className:"border-dashed",children:e.jsxs(F,{className:"p-8 text-center",children:[e.jsx(oa,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No itinerary templates yet"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Create your first itinerary template to start earning passive income from your travel expertise."}),e.jsxs(S,{onClick:()=>a(!0),"data-testid":"button-create-first",children:[e.jsx(ps,{className:"w-4 h-4 mr-2"})," Create Your First Template"]})]})})]}),e.jsxs(xt,{value:"responses",className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx(ws,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.jsx(Ne,{placeholder:"Search templates...",className:"pl-10","data-testid":"input-search-templates"})]}),e.jsxs(S,{variant:"outline","data-testid":"button-ai-generate",children:[e.jsx(qe,{className:"w-4 h-4 mr-2"})," Generate with AI"]})]}),e.jsx("div",{className:"grid grid-cols-1 gap-4",children:y.map(C=>e.jsx(P,{className:"border","data-testid":`template-${C.id}`,children:e.jsx(F,{className:"p-4",children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("p",{className:"font-medium text-foreground",children:C.name}),e.jsx(O,{variant:"outline",className:k(C.category),children:C.category}),C.aiGenerated&&e.jsxs(O,{variant:"secondary",children:[e.jsx(qe,{className:"w-3 h-3 mr-1"})," AI Generated"]})]}),e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:C.content}),e.jsxs("div",{className:"flex items-center gap-4 mt-3 text-xs text-muted-foreground",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(sg,{className:"w-3 h-3"})," Used ",C.usageCount," times"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Je,{className:"w-3 h-3"})," Last used ",C.lastUsed]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(S,{size:"sm",variant:"outline","data-testid":`button-use-${C.id}`,children:[e.jsx(ul,{className:"w-3 h-3 mr-1"})," Use"]}),e.jsxs(Yu,{children:[e.jsx(Qu,{asChild:!0,children:e.jsx(S,{size:"icon",variant:"ghost",children:e.jsx(Bu,{className:"w-4 h-4"})})}),e.jsxs(cd,{align:"end",children:[e.jsxs(Va,{children:[e.jsx(ng,{className:"w-4 h-4 mr-2"})," Edit"]}),e.jsxs(Va,{children:[e.jsx(sg,{className:"w-4 h-4 mr-2"})," Duplicate"]}),e.jsxs(Va,{className:"text-destructive",children:[e.jsx(pi,{className:"w-4 h-4 mr-2"})," Delete"]})]})]})]})]})})},C.id))})]}),e.jsx(xt,{value:"ai-replies",className:"space-y-4",children:e.jsxs(P,{className:"border",children:[e.jsxs(Q,{children:[e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(qe,{className:"w-5 h-5 text-primary"}),"AI Smart Reply System"]}),e.jsx(Tt,{children:"Our AI analyzes your conversations and suggests contextual responses"})]}),e.jsxs(F,{className:"space-y-4",children:[e.jsx("div",{className:"p-4 rounded-lg bg-muted",children:e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx(Rt,{className:"w-5 h-5 text-primary"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"AI Replies Enabled"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"You'll see smart suggestions when responding to clients"})]})]})}),e.jsx("h4",{className:"font-medium text-foreground mt-6",children:"Recent AI Suggestions"}),e.jsx("div",{className:"space-y-3",children:w.map((C,_)=>e.jsxs("div",{className:"p-4 rounded-lg border","data-testid":`ai-suggestion-${_}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(O,{variant:"outline",className:"bg-muted",children:C.context}),e.jsxs("span",{className:"text-xs text-muted-foreground font-medium",children:[C.confidence,"% confidence"]})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:C.suggestion})]},_))}),e.jsxs(S,{variant:"outline",className:"w-full mt-4","data-testid":"button-train-ai",children:[e.jsx(qe,{className:"w-4 h-4 mr-2"})," Train AI on Your Style"]})]})]})})]})]})})}const pb=[{id:"travel-guide",label:"Travel Guide",icon:uo,color:"text-blue-500",description:"Comprehensive destination guides"},{id:"review",label:"Review",icon:rt,color:"text-amber-500",description:"Hotel, restaurant, experience reviews"},{id:"top-list",label:"Top List",icon:lw,color:"text-purple-500",description:"Top 10s, best of lists"},{id:"photo-gallery",label:"Photo Gallery",icon:Rs,color:"text-pink-500",description:"Curated photo collections"},{id:"video-content",label:"Video",icon:dm,color:"text-red-500",description:"Travel vlogs and reels"},{id:"itinerary",label:"Itinerary",icon:Ge,color:"text-green-500",description:"Day-by-day travel plans"},{id:"food-guide",label:"Food Guide",icon:Ns,color:"text-orange-500",description:"Local cuisine recommendations"},{id:"hotel-guide",label:"Hotel Guide",icon:Us,color:"text-cyan-500",description:"Accommodation recommendations"},{id:"tips-tricks",label:"Tips & Tricks",icon:qe,color:"text-violet-500",description:"Travel hacks and advice"},{id:"story",label:"Travel Story",icon:Qt,color:"text-rose-500",description:"Personal travel narratives"}],Exe=bn({title:jt().min(3,"Title must be at least 3 characters").max(255),contentType:jt().min(1,"Select a content type"),description:jt().min(10,"Description must be at least 10 characters"),destination:jt().min(2,"Destination is required"),coverImageUrl:jt().url("Enter a valid URL").optional().or(lx("")),tags:jt().optional(),instagramCaption:jt().max(2200,"Instagram captions are limited to 2200 characters").optional(),instagramHashtags:jt().optional(),publishToInstagram:Lx().default(!1),status:T1(["draft","published","scheduled"]).default("draft")}),jh=[{id:1,title:"Hidden Gems of Kyoto: A Local's Guide",contentType:"travel-guide",description:"Discover the secret spots in Kyoto that most tourists miss. From hidden temples to authentic local eateries.",destination:"Kyoto, Japan",coverImageUrl:"https://images.unsplash.com/photo-1493976040374-85c8e12f0c0e?w=800",tags:["japan","kyoto","hidden-gems","local-guide"],status:"published",views:2340,likes:189,createdAt:"2026-01-15T10:00:00Z",updatedAt:"2026-01-20T14:30:00Z"},{id:2,title:"Top 10 Beach Resorts in Bali",contentType:"top-list",description:"The ultimate ranking of Bali's best beach resorts for every budget.",destination:"Bali, Indonesia",coverImageUrl:"https://images.unsplash.com/photo-1537996194471-e657df975ab4?w=800",tags:["bali","resorts","beach","luxury"],status:"published",instagramPostId:"123456789",views:5620,likes:432,createdAt:"2026-01-10T08:00:00Z",updatedAt:"2026-01-18T09:15:00Z"},{id:3,title:"Street Food Tour: Bangkok Edition",contentType:"food-guide",description:"A comprehensive guide to the best street food in Bangkok's vibrant markets.",destination:"Bangkok, Thailand",coverImageUrl:"https://images.unsplash.com/photo-1504674900247-0877df9cc836?w=800",tags:["bangkok","street-food","thailand","foodie"],status:"draft",views:0,likes:0,createdAt:"2026-01-25T16:00:00Z",updatedAt:"2026-01-25T16:00:00Z"}];function Pxe(t,s){const a=["#travel","#wanderlust","#travelgram","#instatravel","#traveloure"],r=t.split(",").map(i=>`#${i.trim().toLowerCase().replace(/\s+/g,"")}`),n={"travel-guide":["#travelguide","#traveltips","#explore"],review:["#review","#honest","#recommendation"],"top-list":["#top10","#bestof","#mustsee"],"photo-gallery":["#photography","#photooftheday","#travelphotography"],"video-content":["#reels","#travelreels","#video"],itinerary:["#itinerary","#tripplanning","#daytrip"],"food-guide":["#foodie","#streetfood","#localfood"],"hotel-guide":["#hotel","#resort","#luxury"],"tips-tricks":["#travelhacks","#tips","#advice"],story:["#travelstory","#adventure","#memories"]};return[...a,...r,...n[s]||[]].join(" ")}function Axe(){const{toast:t}=Bs(),[,s]=La(),a=IT(),[r,n]=h.useState(!1),[i,l]=h.useState("all"),[c,u]=h.useState(""),[m,x]=h.useState(null),{data:f}=Le({queryKey:["/api/instagram/status"]}),g=f?.connected??!1;h.useEffect(()=>{const A=new URLSearchParams(a);A.get("instagram")==="connected"&&(_t.invalidateQueries({queryKey:["/api/instagram/status"]}),t({title:"Instagram Connected!",description:"Your Instagram account is now linked."}),s("/expert/content-studio",{replace:!0})),A.get("error")&&(t({title:"Connection Failed",description:A.get("error")||"Failed to connect Instagram",variant:"destructive"}),s("/expert/content-studio",{replace:!0}))},[a,t,s]);const b=Ot({mutationFn:async A=>Ft("/api/instagram/publish",{method:"POST",body:JSON.stringify(A),headers:{"Content-Type":"application/json"}}),onSuccess:()=>{t({title:"Published!",description:"Your content is now live on Instagram."})},onError:A=>{t({title:"Publish Failed",description:A.message||"Could not publish to Instagram",variant:"destructive"})}}),v=H0({resolver:a2(Exe),defaultValues:{title:"",contentType:"",description:"",destination:"",coverImageUrl:"",tags:"",instagramCaption:"",instagramHashtags:"",publishToInstagram:!1,status:"draft"}}),y=v.watch("contentType"),w=v.watch("destination"),k=v.watch("publishToInstagram"),C=()=>{if(w&&y){const A=Pxe(w,y);v.setValue("instagramHashtags",A),t({title:"Hashtags generated!",description:"Auto-generated hashtags based on your content."})}else t({title:"Missing info",description:"Please fill in destination and content type first.",variant:"destructive"})},_=async()=>{{t({title:"Configuration Required",description:"Instagram integration requires Meta App setup.",variant:"destructive"});return}},M=jh.filter(A=>{const V=A.title.toLowerCase().includes(c.toLowerCase())||A.destination.toLowerCase().includes(c.toLowerCase()),H=i==="all"||A.status===i||A.contentType===i;return V&&H}),E=async A=>{try{if(A.publishToInstagram&&g&&A.coverImageUrl){const V=A.instagramCaption?`${A.instagramCaption}

${A.instagramHashtags}`:`${A.title}

${A.description}

${A.instagramHashtags}`;b.mutate({imageUrl:A.coverImageUrl,caption:V})}else t({title:"Content created!",description:"Saved as draft."});n(!1),v.reset()}catch{t({title:"Error",description:"Failed to create content",variant:"destructive"})}},R=A=>pb.find(V=>V.id===A)||pb[0],z=A=>{switch(A){case"published":return e.jsx(O,{className:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",children:"Published"});case"scheduled":return e.jsx(O,{className:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400",children:"Scheduled"});default:return e.jsx(O,{variant:"secondary",children:"Draft"})}};return e.jsx(Dr,{children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-content-studio-title",children:"Content Creator Studio"}),e.jsx("p",{className:"text-muted-foreground",children:"Create and manage your travel content with Instagram integration"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[g?e.jsxs(O,{className:"bg-gradient-to-r from-purple-500 via-pink-500 to-orange-500 text-white gap-1.5",children:[e.jsx(xu,{className:"w-3.5 h-3.5"}),"Connected"]}):e.jsxs(S,{variant:"outline",onClick:_,className:"gap-2","data-testid":"button-connect-instagram",children:[e.jsx(xu,{className:"w-4 h-4"}),"Connect Instagram"]}),e.jsxs(S,{onClick:()=>n(!0),"data-testid":"button-create-content",children:[e.jsx(ps,{className:"w-4 h-4 mr-2"}),"Create Content"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsx(P,{children:e.jsx(F,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Content"}),e.jsx("p",{className:"text-2xl font-bold",children:jh.length})]}),e.jsx(oa,{className:"w-8 h-8 text-muted-foreground/50"})]})})}),e.jsx(P,{children:e.jsx(F,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Published"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:jh.filter(A=>A.status==="published").length})]}),e.jsx(Rt,{className:"w-8 h-8 text-green-500/50"})]})})}),e.jsx(P,{children:e.jsx(F,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Views"}),e.jsx("p",{className:"text-2xl font-bold",children:jh.reduce((A,V)=>A+V.views,0).toLocaleString()})]}),e.jsx(Er,{className:"w-8 h-8 text-muted-foreground/50"})]})})}),e.jsx(P,{children:e.jsx(F,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Likes"}),e.jsx("p",{className:"text-2xl font-bold text-rose-600",children:jh.reduce((A,V)=>A+V.likes,0).toLocaleString()})]}),e.jsx(Qt,{className:"w-8 h-8 text-rose-500/50"})]})})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(ws,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.jsx(Ne,{placeholder:"Search content...",value:c,onChange:A=>u(A.target.value),className:"pl-10","data-testid":"input-search-content"})]}),e.jsx(Na,{value:i,onValueChange:l,className:"w-full sm:w-auto",children:e.jsxs(ca,{children:[e.jsx(it,{value:"all","data-testid":"tab-all",children:"All"}),e.jsx(it,{value:"published","data-testid":"tab-published",children:"Published"}),e.jsx(it,{value:"draft","data-testid":"tab-draft",children:"Drafts"})]})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:M.map(A=>{const V=R(A.contentType);return e.jsxs(P,{className:"overflow-hidden hover-elevate cursor-pointer","data-testid":`card-content-${A.id}`,children:[A.coverImageUrl&&e.jsxs("div",{className:"aspect-video relative overflow-hidden",children:[e.jsx("img",{src:A.coverImageUrl,alt:A.title,className:"w-full h-full object-cover"}),e.jsxs("div",{className:"absolute top-2 left-2 flex gap-2",children:[z(A.status),A.instagramPostId&&e.jsx(O,{className:"bg-gradient-to-r from-purple-500 via-pink-500 to-orange-500 text-white",children:e.jsx(xu,{className:"w-3 h-3"})})]})]}),e.jsxs(Q,{className:"pb-2",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:te("w-8 h-8 rounded-lg flex items-center justify-center bg-muted",V.color),children:e.jsx(V.icon,{className:"w-4 h-4"})}),e.jsx(O,{variant:"outline",className:"text-xs",children:V.label})]}),e.jsxs(Yu,{children:[e.jsx(Qu,{asChild:!0,children:e.jsx(S,{variant:"ghost",size:"icon",className:"h-8 w-8","data-testid":`button-menu-${A.id}`,children:e.jsx(ng,{className:"w-4 h-4"})})}),e.jsxs(cd,{align:"end",children:[e.jsxs(Va,{"data-testid":`menu-edit-${A.id}`,children:[e.jsx(ng,{className:"w-4 h-4 mr-2"}),"Edit"]}),e.jsxs(Va,{"data-testid":`menu-duplicate-${A.id}`,children:[e.jsx(sg,{className:"w-4 h-4 mr-2"}),"Duplicate"]}),!A.instagramPostId&&e.jsxs(Va,{"data-testid":`menu-instagram-${A.id}`,children:[e.jsx(xu,{className:"w-4 h-4 mr-2"}),"Post to Instagram"]}),e.jsx(f6,{}),e.jsxs(Va,{className:"text-destructive","data-testid":`menu-delete-${A.id}`,children:[e.jsx(pi,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})]}),e.jsx(X,{className:"text-lg line-clamp-2",children:A.title})]}),e.jsxs(F,{className:"pb-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mb-3",children:A.description}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-3",children:[e.jsx(Me,{className:"w-3.5 h-3.5"}),e.jsx("span",{children:A.destination})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Er,{className:"w-3.5 h-3.5"}),A.views.toLocaleString()]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Qt,{className:"w-3.5 h-3.5"}),A.likes.toLocaleString()]})]}),e.jsx("span",{className:"text-muted-foreground",children:new Date(A.updatedAt).toLocaleDateString()})]})]})]},A.id)})}),M.length===0&&e.jsx(P,{className:"p-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx(oa,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No content found"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:c?"Try adjusting your search":"Create your first piece of content to get started"}),e.jsxs(S,{onClick:()=>n(!0),"data-testid":"button-create-first-content",children:[e.jsx(ps,{className:"w-4 h-4 mr-2"}),"Create Content"]})]})}),e.jsx(rn,{open:r,onOpenChange:n,children:e.jsxs(zr,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(Vr,{children:[e.jsx(Ur,{children:"Create New Content"}),e.jsx(nn,{children:"Create travel content and optionally publish to Instagram"})]}),e.jsx(W0,{...v,children:e.jsxs("form",{onSubmit:v.handleSubmit(E),className:"space-y-6",children:[e.jsx(_s,{control:v.control,name:"contentType",render:({field:A})=>e.jsxs(Cs,{children:[e.jsx(Ss,{children:"Content Type"}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-2",children:pb.map(V=>e.jsxs("button",{type:"button",onClick:()=>A.onChange(V.id),className:te("flex flex-col items-center gap-1.5 p-3 rounded-lg border transition-all",A.value===V.id?"border-primary bg-primary/5":"border-border hover:border-primary/50"),"data-testid":`button-type-${V.id}`,children:[e.jsx(V.icon,{className:te("w-5 h-5",V.color)}),e.jsx("span",{className:"text-xs font-medium text-center",children:V.label})]},V.id))}),e.jsx(Ms,{})]})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsx(_s,{control:v.control,name:"title",render:({field:A})=>e.jsxs(Cs,{children:[e.jsx(Ss,{children:"Title"}),e.jsx(Es,{children:e.jsx(Ne,{placeholder:"e.g., Hidden Gems of Tokyo",...A,"data-testid":"input-title"})}),e.jsx(Ms,{})]})}),e.jsx(_s,{control:v.control,name:"destination",render:({field:A})=>e.jsxs(Cs,{children:[e.jsx(Ss,{children:"Destination"}),e.jsx(Es,{children:e.jsx(Ne,{placeholder:"e.g., Tokyo, Japan",...A,"data-testid":"input-destination"})}),e.jsx(Ms,{})]})})]}),e.jsx(_s,{control:v.control,name:"description",render:({field:A})=>e.jsxs(Cs,{children:[e.jsx(Ss,{children:"Description"}),e.jsx(Es,{children:e.jsx(Ks,{placeholder:"Describe your content...",rows:4,...A,"data-testid":"textarea-description"})}),e.jsx(Ms,{})]})}),e.jsx(_s,{control:v.control,name:"coverImageUrl",render:({field:A})=>e.jsxs(Cs,{children:[e.jsx(Ss,{children:"Cover Image URL"}),e.jsx(Es,{children:e.jsx(Ne,{placeholder:"https://...",...A,"data-testid":"input-cover-image"})}),e.jsx(zg,{children:"Enter a URL for your cover image"}),e.jsx(Ms,{})]})}),e.jsx(_s,{control:v.control,name:"tags",render:({field:A})=>e.jsxs(Cs,{children:[e.jsx(Ss,{children:"Tags"}),e.jsx(Es,{children:e.jsx(Ne,{placeholder:"japan, travel, adventure (comma separated)",...A,"data-testid":"input-tags"})}),e.jsx(Ms,{})]})}),e.jsxs("div",{className:"border rounded-lg p-4 space-y-4 bg-gradient-to-r from-purple-500/5 via-pink-500/5 to-orange-500/5",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(xu,{className:"w-5 h-5 text-pink-500"}),e.jsx("h3",{className:"font-semibold",children:"Instagram Publishing"})]}),e.jsx(_s,{control:v.control,name:"publishToInstagram",render:({field:A})=>e.jsxs(Cs,{className:"flex items-center gap-2 space-y-0",children:[e.jsx(Ss,{className:"text-sm",children:"Publish to Instagram"}),e.jsx(Es,{children:e.jsx(tr,{checked:A.value,onCheckedChange:A.onChange,"data-testid":"switch-instagram"})})]})})]}),k&&e.jsxs("div",{className:"space-y-4",children:[e.jsx(_s,{control:v.control,name:"instagramCaption",render:({field:A})=>e.jsxs(Cs,{children:[e.jsx(Ss,{children:"Instagram Caption"}),e.jsx(Es,{children:e.jsx(Ks,{placeholder:"Write your Instagram caption...",rows:3,...A,"data-testid":"textarea-instagram-caption"})}),e.jsxs(zg,{children:[A.value?.length||0,"/2200 characters"]}),e.jsx(Ms,{})]})}),e.jsx(_s,{control:v.control,name:"instagramHashtags",render:({field:A})=>e.jsxs(Cs,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(Ss,{children:"Hashtags"}),e.jsxs(S,{type:"button",variant:"ghost",size:"sm",onClick:C,className:"gap-1.5","data-testid":"button-generate-hashtags",children:[e.jsx(qe,{className:"w-3.5 h-3.5"}),"Auto-generate"]})]}),e.jsx(Es,{children:e.jsx(Ks,{placeholder:"#travel #wanderlust...",rows:2,...A,"data-testid":"textarea-hashtags"})}),e.jsx(Ms,{})]})}),!g&&e.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg bg-amber-50 dark:bg-amber-950/30 text-amber-700 dark:text-amber-400",children:[e.jsx(ns,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"Connect your Instagram account to publish directly"})]})]})]}),e.jsxs(jo,{className:"gap-2",children:[e.jsx(S,{type:"button",variant:"outline",onClick:()=>n(!1),"data-testid":"button-cancel",children:"Cancel"}),e.jsx(S,{type:"submit","data-testid":"button-save-content",children:k?e.jsxs(e.Fragment,{children:[e.jsx(ul,{className:"w-4 h-4 mr-2"}),"Save & Publish"]}):e.jsxs(e.Fragment,{children:[e.jsx(oa,{className:"w-4 h-4 mr-2"}),"Save Draft"]})})]})]})})]})})]})})}const Dxe={serviceName:"",description:"",categoryId:"",serviceType:"consultation",deliveryMethod:"video",deliveryTimeframe:"",price:"",location:"",requirements:"",whatIncluded:"",status:"draft"},vT=[{value:"consultation",label:"Consultation",description:"1-on-1 advice sessions"},{value:"planning",label:"Full Planning",description:"Complete trip/event planning"},{value:"review",label:"Cart Review",description:"Review and optimize selections"},{value:"booking",label:"Booking Assistance",description:"Help with reservations"},{value:"custom",label:"Custom Package",description:"Tailored service offering"}],yT=[{value:"video",label:"Video Call",icon:dm,description:"Live video consultation"},{value:"in-person",label:"In-Person",icon:Me,description:"Meet in person"},{value:"document",label:"Document Delivery",icon:oa,description:"Written deliverable"},{value:"hybrid",label:"Hybrid",icon:br,description:"Combination approach"}],Wo=[{id:1,title:"Basics",description:"Service name and type"},{id:2,title:"Details",description:"Description and delivery"},{id:3,title:"Pricing",description:"Set your rates"},{id:4,title:"Requirements",description:"What you need from clients"},{id:5,title:"Review",description:"Preview and publish"}];function Fxe(){const[t,s]=h.useState(1),[a,r]=h.useState(Dxe),[n,i]=h.useState({}),{toast:l}=Bs(),[,c]=La(),{data:u=[]}=Le({queryKey:["/api/service-categories"]}),m=Ot({mutationFn:async E=>Ft("POST","/api/provider/services",E),onSuccess:()=>{_t.invalidateQueries({queryKey:["/api/expert/services"]}),_t.invalidateQueries({queryKey:["/api/expert/analytics"]}),l({title:"Service created successfully"}),c("/expert/services")},onError:E=>{l({title:"Failed to create service",description:E.message||"Please try again",variant:"destructive"})}}),x=(E,R)=>{r(z=>({...z,[E]:R})),n[E]&&i(z=>({...z,[E]:void 0}))},f=E=>{const R={};switch(E){case 1:a.serviceName.trim()||(R.serviceName="Service name is required"),a.serviceType||(R.serviceType="Please select a service type");break;case 2:a.description.trim()||(R.description="Description is required"),a.deliveryMethod||(R.deliveryMethod="Please select a delivery method");break;case 3:(!a.price||Number(a.price)<=0)&&(R.price="Please enter a valid price");break}return i(R),Object.keys(R).length===0},g=()=>{f(t)&&s(E=>Math.min(E+1,Wo.length))},b=()=>{s(E=>Math.max(E-1,1))},v=(E=!1)=>{m.mutate({...a,status:E?"draft":"active"})},y=()=>e.jsx("div",{className:"flex items-center justify-center mb-8",children:Wo.map((E,R)=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:te("flex items-center justify-center w-10 h-10 rounded-full border-2 transition-colors",t===E.id?"bg-[#FF385C] border-[#FF385C] text-white":t>E.id?"bg-green-500 border-green-500 text-white":"border-gray-300 text-gray-400"),children:t>E.id?e.jsx(rs,{className:"w-5 h-5"}):E.id}),R<Wo.length-1&&e.jsx("div",{className:te("w-16 h-1 mx-2",t>E.id?"bg-green-500":"bg-gray-200")})]},E.id))}),w=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ye,{htmlFor:"serviceName",children:"Service Name"}),e.jsx(Ne,{id:"serviceName",value:a.serviceName,onChange:E=>x("serviceName",E.target.value),placeholder:"e.g., Trip Planning Consultation",className:n.serviceName?"border-red-500":"","data-testid":"input-service-name"}),n.serviceName&&e.jsxs("p",{className:"text-sm text-red-500 flex items-center gap-1",children:[e.jsx(ns,{className:"w-4 h-4"})," ",n.serviceName]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ye,{children:"Service Type"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:vT.map(E=>e.jsxs("div",{onClick:()=>x("serviceType",E.value),className:te("p-4 rounded-lg border-2 cursor-pointer transition-colors",a.serviceType===E.value?"border-[#FF385C] bg-[#FF385C]/5":"border-gray-200 hover:border-gray-300"),"data-testid":`option-service-type-${E.value}`,children:[e.jsx("p",{className:"font-medium text-gray-900",children:E.label}),e.jsx("p",{className:"text-sm text-gray-600",children:E.description})]},E.value))}),n.serviceType&&e.jsxs("p",{className:"text-sm text-red-500 flex items-center gap-1",children:[e.jsx(ns,{className:"w-4 h-4"})," ",n.serviceType]})]}),u.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(ye,{htmlFor:"category",children:"Category (Optional)"}),e.jsxs(Wt,{value:a.categoryId,onValueChange:E=>x("categoryId",E),children:[e.jsx(Vt,{"data-testid":"select-category",children:e.jsx(Gt,{placeholder:"Select a category"})}),e.jsx(Ut,{children:u.map(E=>e.jsx(Pe,{value:E.id,children:E.name},E.id))})]})]})]}),k=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ye,{htmlFor:"description",children:"Description"}),e.jsx(Ks,{id:"description",value:a.description,onChange:E=>x("description",E.target.value),placeholder:"Describe your service in detail...",rows:4,className:n.description?"border-red-500":"","data-testid":"input-description"}),n.description&&e.jsxs("p",{className:"text-sm text-red-500 flex items-center gap-1",children:[e.jsx(ns,{className:"w-4 h-4"})," ",n.description]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ye,{children:"Delivery Method"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:yT.map(E=>e.jsxs("div",{onClick:()=>x("deliveryMethod",E.value),className:te("p-4 rounded-lg border-2 cursor-pointer transition-colors",a.deliveryMethod===E.value?"border-[#FF385C] bg-[#FF385C]/5":"border-gray-200 hover:border-gray-300"),"data-testid":`option-delivery-${E.value}`,children:[e.jsx(E.icon,{className:te("w-6 h-6 mb-2",a.deliveryMethod===E.value?"text-[#FF385C]":"text-gray-400")}),e.jsx("p",{className:"font-medium text-gray-900",children:E.label}),e.jsx("p",{className:"text-sm text-gray-600",children:E.description})]},E.value))}),n.deliveryMethod&&e.jsxs("p",{className:"text-sm text-red-500 flex items-center gap-1",children:[e.jsx(ns,{className:"w-4 h-4"})," ",n.deliveryMethod]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ye,{htmlFor:"deliveryTimeframe",children:"Delivery Timeframe"}),e.jsx(Ne,{id:"deliveryTimeframe",value:a.deliveryTimeframe,onChange:E=>x("deliveryTimeframe",E.target.value),placeholder:"e.g., 60 min, 2-3 days","data-testid":"input-timeframe"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ye,{htmlFor:"location",children:"Location (if in-person)"}),e.jsx(Ne,{id:"location",value:a.location,onChange:E=>x("location",E.target.value),placeholder:"e.g., Paris, France","data-testid":"input-location"})]})]})]}),C=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ye,{htmlFor:"price",children:"Price (USD)"}),e.jsxs("div",{className:"relative",children:[e.jsx(bt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx(Ne,{id:"price",type:"number",min:"0",step:"0.01",value:a.price,onChange:E=>x("price",E.target.value),placeholder:"0.00",className:te("pl-10",n.price?"border-red-500":""),"data-testid":"input-price"})]}),n.price&&e.jsxs("p",{className:"text-sm text-red-500 flex items-center gap-1",children:[e.jsx(ns,{className:"w-4 h-4"})," ",n.price]})]}),e.jsxs(P,{className:"border-gray-200",children:[e.jsx(Q,{className:"pb-2",children:e.jsx(X,{className:"text-sm font-medium text-gray-900",children:"Pricing Tips"})}),e.jsxs(F,{className:"text-sm text-gray-600 space-y-2",children:[e.jsxs("p",{className:"flex items-start gap-2",children:[e.jsx(rs,{className:"w-4 h-4 text-green-500 mt-0.5"}),"Research competitor pricing in your specialty"]}),e.jsxs("p",{className:"flex items-start gap-2",children:[e.jsx(rs,{className:"w-4 h-4 text-green-500 mt-0.5"}),"Consider your experience and expertise level"]}),e.jsxs("p",{className:"flex items-start gap-2",children:[e.jsx(rs,{className:"w-4 h-4 text-green-500 mt-0.5"}),"Factor in preparation time, not just delivery"]}),e.jsxs("p",{className:"flex items-start gap-2",children:[e.jsx(rs,{className:"w-4 h-4 text-green-500 mt-0.5"}),"Start competitive, adjust based on demand"]})]})]})]}),_=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ye,{htmlFor:"requirements",children:"Requirements from Client"}),e.jsx(Ks,{id:"requirements",value:a.requirements,onChange:E=>x("requirements",E.target.value),placeholder:"What information do you need from clients before the service?",rows:4,"data-testid":"input-requirements"}),e.jsx("p",{className:"text-sm text-gray-500",children:"e.g., Travel dates, budget range, preferences"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ye,{htmlFor:"whatIncluded",children:"What is Included"}),e.jsx(Ks,{id:"whatIncluded",value:a.whatIncluded,onChange:E=>x("whatIncluded",E.target.value),placeholder:"List what clients will receive...",rows:4,"data-testid":"input-included"}),e.jsx("p",{className:"text-sm text-gray-500",children:"e.g., Detailed itinerary, booking links, local recommendations"})]})]}),M=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs(P,{className:"border-gray-200",children:[e.jsxs(Q,{children:[e.jsx(X,{children:a.serviceName||"Untitled Service"}),e.jsx(Tt,{children:a.description||"No description"})]}),e.jsxs(F,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Service Type"}),e.jsx("p",{className:"font-medium",children:vT.find(E=>E.value===a.serviceType)?.label||"Not set"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Delivery Method"}),e.jsx("p",{className:"font-medium",children:yT.find(E=>E.value===a.deliveryMethod)?.label||"Not set"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Price"}),e.jsxs("p",{className:"font-medium text-green-600",children:["$",a.price||"0"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Timeframe"}),e.jsx("p",{className:"font-medium",children:a.deliveryTimeframe||"Not specified"})]})]}),a.requirements&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Requirements"}),e.jsx("p",{className:"text-gray-700",children:a.requirements})]}),a.whatIncluded&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"What is Included"}),e.jsx("p",{className:"text-gray-700",children:a.whatIncluded})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[e.jsx(ns,{className:"w-5 h-5 text-yellow-600"}),e.jsx("p",{className:"text-sm text-yellow-800",children:"You can publish now or save as draft to edit later"})]})]});return e.jsx(Dr,{title:"Create Service",children:e.jsxs("div",{className:"p-6 max-w-3xl mx-auto",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs(S,{variant:"ghost",onClick:()=>c("/expert/services"),className:"mb-4","data-testid":"button-back-to-services",children:[e.jsx(hr,{className:"w-4 h-4 mr-1"})," Back to Services"]}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Create New Service"}),e.jsxs("p",{className:"text-gray-600",children:["Step ",t," of ",Wo.length,": ",Wo[t-1].title]})]}),y(),e.jsxs(P,{className:"border-gray-200",children:[e.jsxs(Q,{children:[e.jsx(X,{children:Wo[t-1].title}),e.jsx(Tt,{children:Wo[t-1].description})]}),e.jsxs(F,{children:[t===1&&w(),t===2&&k(),t===3&&C(),t===4&&_(),t===5&&M()]})]}),e.jsxs("div",{className:"flex items-center justify-between mt-6 gap-4",children:[e.jsxs(S,{variant:"outline",onClick:b,disabled:t===1,"data-testid":"button-wizard-back",children:[e.jsx(hr,{className:"w-4 h-4 mr-1"})," Back"]}),e.jsx("div",{className:"flex items-center gap-3",children:t===Wo.length?e.jsxs(e.Fragment,{children:[e.jsx(S,{variant:"outline",onClick:()=>v(!0),disabled:m.isPending,"data-testid":"button-save-draft",children:"Save as Draft"}),e.jsx(S,{className:"bg-[#FF385C] ",onClick:()=>v(!1),disabled:m.isPending,"data-testid":"button-publish-service",children:m.isPending?"Publishing...":"Publish Service"})]}):e.jsxs(S,{className:"bg-[#FF385C] ",onClick:g,"data-testid":"button-wizard-next",children:["Next ",e.jsx($s,{className:"w-4 h-4 ml-1"})]})})]})]})})}function Mxe(){const{toast:t}=Bs(),[,s]=La(),{data:a=[],isLoading:r}=Le({queryKey:["/api/service-templates"]}),n=Ot({mutationFn:async m=>{const x={serviceName:m.name,description:m.description,categoryId:m.categoryId,price:m.suggestedPrice||"0",serviceType:m.serviceType,deliveryMethod:m.deliveryMethod,deliveryTimeframe:m.deliveryTimeframe,requirements:m.requirements,whatIncluded:m.whatIncluded,status:"draft"};return Ft("POST","/api/provider/services",x)},onSuccess:()=>{_t.invalidateQueries({queryKey:["/api/expert/services"]}),t({title:"Service created from template. You can now customize it."}),s("/expert/services")},onError:()=>{t({title:"Failed to create service",variant:"destructive"})}}),i=m=>{switch(m){case"video":return e.jsx(dm,{className:"w-5 h-5"});case"in-person":return e.jsx(Me,{className:"w-5 h-5"});case"document":return e.jsx(oa,{className:"w-5 h-5"});default:return e.jsx(br,{className:"w-5 h-5"})}},l=m=>{switch(m){case"video":return"Video Call";case"in-person":return"In-Person";case"document":return"Document";case"hybrid":return"Hybrid";default:return"Mixed"}},c=[{id:"quick-consultation",name:"Quick Consultation",description:"15-minute video call to answer quick travel questions and provide immediate guidance",categoryId:null,serviceType:"consultation",deliveryMethod:"video",deliveryTimeframe:"15 min",suggestedPrice:"29",requirements:"Travel question or topic to discuss",whatIncluded:"15-min video call, Personalized advice, Follow-up summary email",isActive:!0,sortOrder:1,createdAt:new Date().toISOString()},{id:"cart-review",name:"Cart Review & Optimization",description:"Expert review of your travel cart to find savings and better alternatives",categoryId:null,serviceType:"review",deliveryMethod:"document",deliveryTimeframe:"24 hours",suggestedPrice:"49",requirements:"Cart link or selections, Budget constraints",whatIncluded:"Written recommendations, Alternative suggestions, Savings estimate",isActive:!0,sortOrder:2,createdAt:new Date().toISOString()},{id:"full-trip-planning",name:"Full Trip Planning",description:"Comprehensive trip planning from start to finish with personalized itinerary",categoryId:null,serviceType:"planning",deliveryMethod:"hybrid",deliveryTimeframe:"3-5 days",suggestedPrice:"249",requirements:"Destination, Dates, Budget, Interests, Travel style",whatIncluded:"Full itinerary, Booking links, Restaurant reservations, Daily schedule, Packing list",isActive:!0,sortOrder:3,createdAt:new Date().toISOString()},{id:"destination-guide",name:"Destination Deep Dive",description:"In-depth guide to a specific destination with local insights and hidden gems",categoryId:null,serviceType:"custom",deliveryMethod:"document",deliveryTimeframe:"48 hours",suggestedPrice:"79",requirements:"Destination, Travel dates, Interests",whatIncluded:"PDF guide, Local recommendations, Maps, Insider tips, Safety advice",isActive:!0,sortOrder:4,createdAt:new Date().toISOString()},{id:"honeymoon-planning",name:"Honeymoon Planning Package",description:"Romantic trip planning with special touches and memorable experiences",categoryId:null,serviceType:"planning",deliveryMethod:"hybrid",deliveryTimeframe:"5-7 days",suggestedPrice:"399",requirements:"Couple preferences, Budget, Dates, Special requests",whatIncluded:"Custom itinerary, Romantic experiences, Special arrangements, Booking assistance",isActive:!0,sortOrder:5,createdAt:new Date().toISOString()},{id:"group-coordination",name:"Group Trip Coordinator",description:"Organize and coordinate travel for groups with complex logistics",categoryId:null,serviceType:"planning",deliveryMethod:"video",deliveryTimeframe:"1 week",suggestedPrice:"349",requirements:"Group size, Budget per person, Destination preferences, Special needs",whatIncluded:"Group logistics, Shared itinerary, Booking coordination, Communication support",isActive:!0,sortOrder:6,createdAt:new Date().toISOString()}],u=[...a,...c];return e.jsx(Dr,{title:"Service Templates",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[e.jsxs("div",{children:[e.jsx(Ce,{href:"/expert/services",children:e.jsxs(S,{variant:"ghost",className:"mb-2","data-testid":"button-back-to-services",children:[e.jsx(hr,{className:"w-4 h-4 mr-1"})," Back to Services"]})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900","data-testid":"text-templates-title",children:"Service Templates"}),e.jsx("p",{className:"text-gray-600",children:"Start with a pre-built template and customize it for your expertise"})]}),e.jsx(Ce,{href:"/expert/services/new",children:e.jsx(S,{variant:"outline","data-testid":"button-create-from-scratch",children:"Create from Scratch"})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r?[...Array(6)].map((m,x)=>e.jsxs(P,{className:"border-gray-200",children:[e.jsxs(Q,{children:[e.jsx(_e,{className:"h-6 w-3/4"}),e.jsx(_e,{className:"h-4 w-full mt-2"})]}),e.jsxs(F,{children:[e.jsx(_e,{className:"h-4 w-1/2 mb-4"}),e.jsx(_e,{className:"h-10 w-full"})]})]},x)):u.map(m=>e.jsxs(P,{className:"border-gray-200 hover:shadow-md transition-shadow",children:[e.jsxs(Q,{className:"pb-3",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-[#FF385C]/10 flex items-center justify-center",children:i(m.deliveryMethod)}),m.suggestedPrice&&e.jsxs(O,{variant:"outline",className:"font-medium",children:["$",m.suggestedPrice]})]}),e.jsx(X,{className:"text-lg mt-3",children:m.name}),e.jsx(Tt,{className:"line-clamp-2",children:m.description})]}),e.jsxs(F,{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm text-gray-600",children:[m.deliveryMethod&&e.jsxs("span",{className:"flex items-center gap-1",children:[i(m.deliveryMethod),l(m.deliveryMethod)]}),m.deliveryTimeframe&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Je,{className:"w-4 h-4"}),m.deliveryTimeframe]})]}),m.whatIncluded&&e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsx("p",{className:"font-medium text-gray-900 mb-1",children:"Includes:"}),e.jsx("p",{className:"line-clamp-2",children:m.whatIncluded})]}),e.jsxs(S,{className:"w-full bg-[#FF385C] ",onClick:()=>n.mutate(m),disabled:n.isPending,"data-testid":`button-use-template-${m.id}`,children:[n.isPending?"Creating...":"Use This Template",e.jsx(Kt,{className:"w-4 h-4 ml-2"})]})]})]},m.id))}),u.length===0&&!r&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(br,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No templates available"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Create your service from scratch instead"}),e.jsx(Ce,{href:"/expert/services/new",children:e.jsx(S,{className:"bg-[#FF385C] ","data-testid":"button-create-service",children:"Create Service"})})]})]})})}function Ixe(){const{user:t,isLoading:s}=qr(),{toast:a}=Bs(),[,r]=La(),n=IT(),[i,l]=h.useState("cart"),[c,u]=h.useState(!1),[m,x]=h.useState(null),[f,g]=h.useState(null),[b,v]=h.useState(null),[y,w]=h.useState([]);h.useEffect(()=>{const B=sessionStorage.getItem("experienceContext");if(B)try{const ae=JSON.parse(B);if(ae.experienceSlug)g(ae.experienceSlug),v(ae.title||ae.experienceType);else{const ke=`${ae.experienceType||"general"}_${ae.destination||"default"}`.replace(/\s+/g,"-").toLowerCase();g(ke),v(ae.title||ae.experienceType)}}catch{console.error("Failed to parse experience context"),g("general")}else g("general")},[]),h.useEffect(()=>{if(f)try{const B=sessionStorage.getItem(`externalCart_${f}`);w(B?JSON.parse(B):[])}catch{w([])}},[f]),h.useEffect(()=>{f&&(y.length>0?sessionStorage.setItem(`externalCart_${f}`,JSON.stringify(y)):sessionStorage.removeItem(`externalCart_${f}`))},[y,f]),h.useEffect(()=>{const ae=new URLSearchParams(n).get("step");if(ae==="itinerary"||ae==="payment"){const ke=sessionStorage.getItem("optimizationResult");if(ke)try{const $=JSON.parse(ke);x($),sessionStorage.removeItem("optimizationResult"),l(ae)}catch{console.error("Failed to parse stored optimization result"),l("cart"),a({variant:"destructive",title:"Unable to load optimization results",description:"Please generate itinerary again"})}else l("cart"),a({title:"Optimization required",description:"Please click 'Generate Itinerary' to see your optimized plan"})}},[n,a]);const{data:k,isLoading:C}=Le({queryKey:["/api/cart",f],queryFn:async()=>{const B=f?`/api/cart?experience=${f}`:"/api/cart",ae=await fetch(B,{credentials:"include"});if(!ae.ok)throw new Error("Failed to fetch cart");return ae.json()},enabled:!!t});h.useEffect(()=>{i==="payment"&&!C&&(k?.items?.length||0)===0&&(l("cart"),a({title:"External bookings only",description:"Complete external bookings on their provider websites. Platform checkout requires at least one platform service."}))},[i,k?.items?.length,C,a]);const _=Ot({mutationFn:async({id:B,quantity:ae})=>Ft("PATCH",`/api/cart/${B}`,{quantity:ae}),onSuccess:()=>{_t.invalidateQueries({queryKey:["/api/cart",f]})},onError:()=>{a({variant:"destructive",title:"Failed to update item"})}}),M=Ot({mutationFn:async B=>Ft("DELETE",`/api/cart/${B}`),onSuccess:()=>{_t.invalidateQueries({queryKey:["/api/cart",f]}),a({title:"Item removed from cart"})},onError:()=>{a({variant:"destructive",title:"Failed to remove item"})}}),E=Ot({mutationFn:async()=>{if((k?.items?.length||0)===0)throw new Error("No platform items to checkout");return Ft("POST","/api/checkout",{})},onSuccess:B=>{_t.invalidateQueries({queryKey:["/api/cart",f]}),_t.invalidateQueries({queryKey:["/api/my-bookings"]}),a({title:"Booking created!",description:"Your services have been booked."}),r("/bookings")},onError:B=>{B?.message==="No platform items to checkout"?a({variant:"destructive",title:"No bookable items",description:"External bookings must be completed on provider websites."}):a({variant:"destructive",title:"Checkout failed"})}}),R=(B,ae)=>{const ke=Math.max(1,Math.min(10,ae));w($=>$.map(L=>L.id===B?{...L,quantity:ke}:L))},z=B=>{w(ae=>ae.filter(ke=>ke.id!==B)),a({title:"Item removed from cart"})},A=y.reduce((B,ae)=>B+ae.price*ae.quantity,0),H=parseFloat(k?.subtotal||"0")+A,I=parseFloat(k?.platformFee||"0"),q=H+I,fe=(k?.itemCount||0)+y.reduce((B,ae)=>B+ae.quantity,0),[oe,Ee]=h.useState(!1),me=async()=>{if(oe)return;const B=k?.items||[];if(C){a({title:"Loading cart...",description:"Please wait a moment"});return}if(B.length===0&&y.length===0){a({variant:"destructive",title:"Cart is empty",description:"Add items to your cart first"});return}Ee(!0);let ae;const ke=sessionStorage.getItem("experienceContext");if(ke)try{ae=JSON.parse(ke)}catch{console.error("Failed to parse experience context")}const $=B.map(se=>({name:se.service?.serviceName||"Service",category:se.service?.serviceType||"service",price:se.service?.price||"0",provider:se.service?.providerName||"Provider",location:se.service?.location||"",description:se.service?.shortDescription||""})),L=y.map(se=>({name:se.name,category:se.type,price:String(se.price),provider:se.provider||"External Provider",location:se.metadata?.meetingPoint||"",description:se.details||""})),W=[...$,...L],re=()=>{if(ae?.destination)return ae.destination;if(B[0]?.service?.location)return B[0].service.location;for(const se of y){if(se?.metadata?.meetingPoint)return se.metadata.meetingPoint;if(se?.name?.includes("")){const ge=se.name.split("")[1]?.trim();if(ge)return ge}if(se?.type==="hotels"||se?.type==="accommodations"){const ge=se?.metadata?.rawData;if(ge?.hotel?.address?.cityName)return ge.hotel.address.cityName;if(ge?.hotel?.cityCode)return ge.hotel.cityCode;if(ge?.destinationLocation)return ge.destinationLocation}if(se?.type==="flights"){const ge=se?.metadata?.rawData;if(ge?.itineraries?.[0]?.segments){const K=ge.itineraries[0].segments,J=K[K.length-1];if(J?.arrival?.iataCode)return J.arrival.iataCode}}}return"Your destination"};try{const ge=await(await Ft("POST","/api/itinerary-comparisons",{title:ae?.title||"My Trip",destination:re(),startDate:ae?.startDate||new Date().toISOString().split("T")[0],endDate:ae?.endDate||new Date(Date.now()+6048e5).toISOString().split("T")[0],budget:String(q),travelers:ae?.travelers||2,baselineItems:W})).json();r(`/itinerary-comparison/${ge.id}`)}catch(se){console.error("Failed to create comparison:",se),a({variant:"destructive",title:"Failed to generate itinerary",description:se?.message||"Please try again"})}finally{Ee(!1)}},ie=()=>{l("payment")};return s?e.jsx(Yt,{children:e.jsxs("div",{className:"container py-8 max-w-4xl mx-auto",children:[e.jsx(_e,{className:"h-10 w-48 mb-6"}),e.jsx(_e,{className:"h-64 w-full"})]})}):t?e.jsx(Yt,{children:e.jsxs("div",{className:"container py-8 max-w-5xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-8",children:[e.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-full ${i==="cart"?"bg-[#FF385C] text-white":"bg-muted"}`,children:[e.jsx(Nn,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Cart"})]}),e.jsx("div",{className:"w-8 h-px bg-border"}),e.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-full ${i==="itinerary"?"bg-[#FF385C] text-white":"bg-muted"}`,children:[e.jsx(qe,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Itinerary"})]}),e.jsx("div",{className:"w-8 h-px bg-border"}),e.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-full ${i==="payment"?"bg-[#FF385C] text-white":"bg-muted"}`,children:[e.jsx(Sa,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Payment"})]})]}),e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx(S,{variant:"ghost",size:"icon",onClick:()=>{i==="cart"?window.history.back():l(i==="itinerary"?"cart":"itinerary")},"data-testid":"button-back",children:e.jsx(la,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("h1",{className:"text-2xl font-bold","data-testid":"text-page-title",children:[i==="cart"&&"Your Cart",i==="itinerary"&&"Your Optimized Itinerary",i==="payment"&&"Complete Payment"]}),i==="cart"&&e.jsx("span",{className:"text-sm text-muted-foreground","data-testid":"text-experience-context",children:b||"General"})]}),fe>0&&i==="cart"&&e.jsxs(O,{variant:"secondary","data-testid":"badge-item-count",children:[fe," items"]})]}),C?e.jsxs("div",{className:"space-y-4",children:[e.jsx(_e,{className:"h-32 w-full"}),e.jsx(_e,{className:"h-32 w-full"})]}):(k?.items?.length||0)===0&&y.length===0?e.jsx(P,{children:e.jsxs(F,{className:"py-12 text-center",children:[e.jsx(Nn,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Your cart is empty"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"Browse our services and add something you like"}),e.jsx(S,{asChild:!0,"data-testid":"button-browse-services",children:e.jsx(Ce,{href:"/discover",children:"Browse Services"})})]})}):e.jsxs(e.Fragment,{children:[i==="cart"&&e.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[(k?.items||[]).map(B=>e.jsx(P,{"data-testid":`card-cart-item-${B.id}`,children:e.jsxs(F,{className:"p-4",children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold","data-testid":`text-service-name-${B.id}`,children:B.service?.serviceName||"Unknown Service"}),B.service?.shortDescription&&e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:B.service.shortDescription}),e.jsxs("div",{className:"flex flex-wrap gap-3 mt-2 text-sm text-muted-foreground",children:[B.service?.location&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Me,{className:"w-3 h-3"}),B.service.location]}),B.scheduledDate&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ge,{className:"w-3 h-3"}),Et(new Date(B.scheduledDate),"PPP")]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-bold text-lg","data-testid":`text-price-${B.id}`,children:["$",parseFloat(B.service?.price||"0").toFixed(2)]}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx(S,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>_.mutate({id:B.id,quantity:Math.max(1,(B.quantity||1)-1)}),disabled:B.quantity<=1||_.isPending,"data-testid":`button-decrease-${B.id}`,children:e.jsx(_b,{className:"w-3 h-3"})}),e.jsx("span",{className:"w-8 text-center","data-testid":`text-quantity-${B.id}`,children:B.quantity||1}),e.jsx(S,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>_.mutate({id:B.id,quantity:(B.quantity||1)+1}),disabled:_.isPending,"data-testid":`button-increase-${B.id}`,children:e.jsx(ps,{className:"w-3 h-3"})})]})]})]}),e.jsx("div",{className:"flex justify-end mt-3",children:e.jsxs(S,{variant:"ghost",size:"sm",className:"text-destructive",onClick:()=>M.mutate(B.id),disabled:M.isPending,"data-testid":`button-remove-${B.id}`,children:[e.jsx(pi,{className:"w-4 h-4 mr-1"}),"Remove"]})})]})},B.id)),y.map(B=>e.jsx(P,{"data-testid":`card-cart-item-${B.id}`,className:"border-[#FF385C]/20",children:e.jsxs(F,{className:"p-4",children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"font-semibold","data-testid":`text-service-name-${B.id}`,children:B.name}),e.jsx(O,{variant:"outline",className:"text-xs border-[#FF385C] text-[#FF385C]",children:B.provider})]}),B.details&&e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:B.details}),e.jsxs("div",{className:"flex flex-wrap gap-3 mt-2 text-sm text-muted-foreground",children:[B.metadata?.meetingPoint&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Me,{className:"w-3 h-3"}),B.metadata.meetingPoint]}),B.metadata?.checkInDate&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ge,{className:"w-3 h-3"}),Et(new Date(B.metadata.checkInDate),"PP")," - ",Et(new Date(B.metadata.checkOutDate||B.metadata.checkInDate),"PP")]}),B.metadata?.departureTime&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Je,{className:"w-3 h-3"}),Et(new Date(B.metadata.departureTime),"PP p")]}),B.metadata?.duration&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Je,{className:"w-3 h-3"}),B.metadata.duration]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-bold text-lg","data-testid":`text-price-${B.id}`,children:["$",B.price.toFixed(2)]}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx(S,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>R(B.id,(B.quantity||1)-1),disabled:B.quantity<=1,"data-testid":`button-decrease-${B.id}`,children:e.jsx(_b,{className:"w-3 h-3"})}),e.jsx("span",{className:"w-8 text-center","data-testid":`text-quantity-${B.id}`,children:B.quantity||1}),e.jsx(S,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>R(B.id,(B.quantity||1)+1),"data-testid":`button-increase-${B.id}`,children:e.jsx(ps,{className:"w-3 h-3"})})]})]})]}),e.jsx("div",{className:"flex justify-end mt-3",children:e.jsxs(S,{variant:"ghost",size:"sm",className:"text-destructive",onClick:()=>z(B.id),"data-testid":`button-remove-${B.id}`,children:[e.jsx(pi,{className:"w-4 h-4 mr-1"}),"Remove"]})})]})},B.id))]}),e.jsx("div",{className:"lg:col-span-1 space-y-4",children:e.jsxs(P,{className:"sticky top-4",children:[e.jsx(Q,{children:e.jsx(X,{children:"Order Summary"})}),e.jsxs(F,{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Subtotal"}),e.jsxs("span",{"data-testid":"text-subtotal",children:["$",H.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Platform Fee (20%)"}),e.jsxs("span",{"data-testid":"text-platform-fee",children:["$",I.toFixed(2)]})]}),e.jsx(Ja,{}),e.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{"data-testid":"text-total",children:["$",q.toFixed(2)]})]})]}),e.jsxs(Mu,{className:"flex flex-col gap-3",children:[e.jsxs("div",{className:"w-full p-3 rounded-lg bg-gradient-to-r from-[#FF385C]/10 to-purple-500/10 border border-[#FF385C]/20",children:[e.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[e.jsx(qe,{className:"w-4 h-4 text-[#FF385C] mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium",children:"Generate Your Itinerary"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"See your selections organized into an itinerary, plus AI-optimized alternatives that could save you money or time."})]})]}),e.jsxs(S,{className:"w-full bg-[#FF385C] hover:bg-[#E23350]",size:"lg",onClick:me,disabled:oe,"data-testid":"button-generate-itinerary-comparison",children:[oe?e.jsx(ot,{className:"w-4 h-4 mr-2 animate-spin"}):e.jsx(qe,{className:"w-4 h-4 mr-2"}),oe?"Creating...":"Generate Itinerary"]})]}),e.jsx(Ja,{}),e.jsxs(S,{variant:"outline",className:"w-full",size:"lg",onClick:()=>l("payment"),"data-testid":"button-skip-to-payment",children:[e.jsx(Sa,{className:"w-4 h-4 mr-2"}),"Proceed to Payment"]})]})]})})]}),i==="itinerary"&&e.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[e.jsx("div",{className:"lg:col-span-2 space-y-6",children:m&&e.jsxs(e.Fragment,{children:[e.jsxs(P,{children:[e.jsx(Q,{children:e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(qe,{className:"w-5 h-5 text-[#FF385C]"}),"Optimization Score"]})}),e.jsxs(F,{children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"text-4xl font-bold text-[#FF385C]",children:[m.overallScore,"%"]}),e.jsx("div",{className:"flex-1",children:e.jsx("div",{className:"h-3 bg-muted rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-[#FF385C] transition-all",style:{width:`${m.overallScore}%`}})})})]}),m.summary&&e.jsx("p",{className:"mt-4 text-muted-foreground",children:m.summary}),m.estimatedTotal.savings>0&&e.jsxs("div",{className:"mt-4 flex items-center gap-2 text-green-600 dark:text-green-400",children:[e.jsx(bt,{className:"w-4 h-4"}),e.jsxs("span",{children:["Potential savings: $",m.estimatedTotal.savings]})]})]})]}),m.recommendations.length>0&&e.jsxs(P,{children:[e.jsx(Q,{children:e.jsx(X,{children:"AI Recommendations"})}),e.jsx(F,{children:e.jsx("ul",{className:"space-y-3",children:m.recommendations.map((B,ae)=>e.jsxs("li",{className:"flex items-start gap-3",children:[e.jsx(Rt,{className:"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:B.title}),e.jsx("div",{className:"text-sm text-muted-foreground",children:B.description}),B.potentialSavings&&B.potentialSavings>0&&e.jsxs("span",{className:"text-xs text-green-600",children:["Save $",B.potentialSavings]})]})]},ae))})})]}),m.optimizedSchedule.length>0&&e.jsxs(P,{children:[e.jsx(Q,{children:e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(Je,{className:"w-5 h-5"}),"Optimized Schedule"]})}),e.jsx(F,{children:e.jsx("div",{className:"space-y-4",children:m.optimizedSchedule.map((B,ae)=>e.jsxs("div",{className:"flex items-start gap-4 p-3 bg-muted/50 rounded-lg",children:[e.jsx("div",{className:"text-sm font-medium text-muted-foreground w-16",children:B.time}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium",children:B.activity}),e.jsx("div",{className:"text-sm text-muted-foreground",children:B.location}),B.notes&&e.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:B.notes})]})]},ae))})})]})]})}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs(P,{className:"sticky top-4",children:[e.jsx(Q,{children:e.jsx(X,{children:"Ready to Book?"})}),e.jsxs(F,{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Subtotal"}),e.jsxs("span",{children:["$",H.toFixed(2)]})]}),m&&m.estimatedTotal.savings>0&&e.jsxs("div",{className:"flex justify-between text-green-600",children:[e.jsx("span",{children:"Savings"}),e.jsxs("span",{children:["-$",m.estimatedTotal.savings]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Platform Fee (20%)"}),e.jsxs("span",{children:["$",I.toFixed(2)]})]}),e.jsx(Ja,{}),e.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{children:["$",(q-(m?.estimatedTotal?.savings||0)).toFixed(2)]})]})]}),e.jsxs(Mu,{className:"flex-col gap-3",children:[y.length>0&&e.jsx("div",{className:"w-full p-3 bg-amber-50 dark:bg-amber-950 border border-amber-200 dark:border-amber-800 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(_l,{className:"w-4 h-4 text-amber-500 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm text-amber-700 dark:text-amber-300",children:[e.jsxs("strong",{children:[y.length," external booking",y.length>1?"s":""]})," (flights, hotels, activities) will need to be completed on the provider's website."]})]})}),(k?.items?.length||0)>0?e.jsxs(S,{className:"w-full bg-[#FF385C] hover:bg-[#E23350]",size:"lg",onClick:ie,"data-testid":"button-proceed-payment",children:[e.jsx(Sa,{className:"w-4 h-4 mr-2"}),"Proceed to Payment"]}):e.jsx("div",{className:"w-full text-center text-muted-foreground text-sm",children:"External bookings must be completed on provider websites"}),m?.warnings&&m.warnings.length>0&&e.jsx("div",{className:"w-full p-3 bg-amber-50 dark:bg-amber-950 border border-amber-200 dark:border-amber-800 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(_l,{className:"w-4 h-4 text-amber-500 flex-shrink-0 mt-0.5"}),e.jsx("div",{className:"text-sm text-amber-700 dark:text-amber-300",children:m.warnings[0]})]})})]})]})})]}),i==="payment"&&e.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(P,{children:[e.jsx(Q,{children:e.jsx(X,{children:"Payment Method"})}),e.jsxs(F,{className:"space-y-4",children:[e.jsxs("div",{className:"border rounded-lg p-4 flex items-center gap-4 bg-muted/30",children:[e.jsx(Sa,{className:"w-8 h-8 text-muted-foreground"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium",children:"Credit / Debit Card"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Secure payment via Stripe"})]}),e.jsx(O,{variant:"secondary",children:"Selected"})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Your payment information is processed securely. We do not store your card details."})]})]}),e.jsxs(P,{children:[e.jsx(Q,{children:e.jsx(X,{children:"Order Review"})}),e.jsx(F,{children:e.jsxs("div",{className:"space-y-3",children:[(k?.items||[]).map(B=>e.jsxs("div",{className:"flex justify-between items-center py-2 border-b last:border-0",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:B.service?.serviceName}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Qty: ",B.quantity]})]}),e.jsxs("div",{className:"font-medium",children:["$",(parseFloat(B.service?.price||"0")*B.quantity).toFixed(2)]})]},B.id)),y.map(B=>e.jsxs("div",{className:"flex justify-between items-center py-2 border-b last:border-0",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:B.name}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Qty: ",B.quantity," | ",B.provider]})]}),e.jsxs("div",{className:"font-medium",children:["$",(B.price*B.quantity).toFixed(2)]})]},B.id))]})})]})]}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs(P,{className:"sticky top-4",children:[e.jsx(Q,{children:e.jsx(X,{children:"Complete Booking"})}),e.jsxs(F,{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Subtotal"}),e.jsxs("span",{children:["$",H.toFixed(2)]})]}),m&&m.estimatedTotal.savings>0&&e.jsxs("div",{className:"flex justify-between text-green-600",children:[e.jsx("span",{children:"Savings"}),e.jsxs("span",{children:["-$",m.estimatedTotal.savings]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Platform Fee (20%)"}),e.jsxs("span",{children:["$",I.toFixed(2)]})]}),e.jsx(Ja,{}),e.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{children:["$",(q-(m?.estimatedTotal?.savings||0)).toFixed(2)]})]})]}),e.jsxs(Mu,{className:"flex-col gap-3",children:[y.length>0&&e.jsx("div",{className:"w-full p-3 bg-amber-50 dark:bg-amber-950 border border-amber-200 dark:border-amber-800 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(_l,{className:"w-4 h-4 text-amber-500 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm text-amber-700 dark:text-amber-300",children:[e.jsxs("strong",{children:[y.length," external booking",y.length>1?"s":""]})," (flights, hotels, activities) will need to be completed on the provider's website."]})]})}),(k?.items?.length||0)>0?e.jsxs(S,{className:"w-full bg-[#FF385C] hover:bg-[#E23350]",size:"lg",onClick:()=>E.mutate(),disabled:E.isPending,"data-testid":"button-complete-booking",children:[e.jsx(Rt,{className:"w-4 h-4 mr-2"}),E.isPending?"Processing...":"Complete Booking"]}):e.jsx("div",{className:"w-full text-center text-muted-foreground text-sm",children:"External bookings must be completed on provider websites"})]})]})})]})]})]})}):e.jsx(Yt,{children:e.jsxs("div",{className:"container py-8 max-w-4xl mx-auto text-center",children:[e.jsx(Nn,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),e.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Your Cart"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"Please sign in to view your cart"}),e.jsx("a",{href:"/api/login",children:e.jsx(S,{"data-testid":"button-sign-in",children:"Sign In"})})]})})}const jT={pending:{label:"Pending",variant:"secondary",icon:Je},confirmed:{label:"Confirmed",variant:"default",icon:Fa},in_progress:{label:"In Progress",variant:"default",icon:ot},completed:{label:"Completed",variant:"default",icon:Fa},cancelled:{label:"Cancelled",variant:"destructive",icon:po},refunded:{label:"Refunded",variant:"outline",icon:bt}};function Rxe(){const{user:t,isLoading:s}=qr(),[a,r]=h.useState(!1),[n,i]=h.useState(null),{data:l,isLoading:c}=Le({queryKey:["/api/my-bookings"],enabled:!!t});if(s)return e.jsx(Yt,{children:e.jsxs("div",{className:"container py-8 max-w-4xl mx-auto",children:[e.jsx(_e,{className:"h-10 w-48 mb-6"}),e.jsx(_e,{className:"h-64 w-full"})]})});if(!t)return e.jsx(Yt,{children:e.jsxs("div",{className:"container py-8 max-w-4xl mx-auto text-center",children:[e.jsx(br,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),e.jsx("h1",{className:"text-2xl font-bold mb-2",children:"My Bookings"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"Please sign in to view your bookings"}),e.jsx("a",{href:"/api/login",children:e.jsx(S,{"data-testid":"button-sign-in",children:"Sign In"})})]})});const u=l?.filter(g=>g.status==="pending")||[],m=l?.filter(g=>["confirmed","in_progress"].includes(g.status))||[],x=l?.filter(g=>["completed","cancelled","refunded"].includes(g.status))||[],f=g=>{i(g),r(!0)};return e.jsxs(Yt,{children:[e.jsxs("div",{className:"container py-8 max-w-4xl mx-auto",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6","data-testid":"text-page-title",children:"My Bookings"}),c?e.jsxs("div",{className:"space-y-4",children:[e.jsx(_e,{className:"h-32 w-full"}),e.jsx(_e,{className:"h-32 w-full"})]}):!l||l.length===0?e.jsx(P,{children:e.jsxs(F,{className:"py-12 text-center",children:[e.jsx(br,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"No bookings yet"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"Browse our services and make your first booking"}),e.jsx(S,{asChild:!0,"data-testid":"button-browse-services",children:e.jsx(Ce,{href:"/discover",children:"Browse Services"})})]})}):e.jsxs(Na,{defaultValue:"all",className:"space-y-4",children:[e.jsxs(ca,{"data-testid":"tabs-booking-status",children:[e.jsxs(it,{value:"all","data-testid":"tab-all",children:["All (",l.length,")"]}),e.jsxs(it,{value:"pending","data-testid":"tab-pending",children:["Pending (",u.length,")"]}),e.jsxs(it,{value:"active","data-testid":"tab-active",children:["Active (",m.length,")"]}),e.jsxs(it,{value:"completed","data-testid":"tab-completed",children:["Completed (",x.length,")"]})]}),e.jsx(xt,{value:"all",className:"space-y-4",children:l.map(g=>e.jsx(Ef,{booking:g,onReview:f},g.id))}),e.jsx(xt,{value:"pending",className:"space-y-4",children:u.length===0?e.jsx(fb,{message:"No pending bookings"}):u.map(g=>e.jsx(Ef,{booking:g,onReview:f},g.id))}),e.jsx(xt,{value:"active",className:"space-y-4",children:m.length===0?e.jsx(fb,{message:"No active bookings"}):m.map(g=>e.jsx(Ef,{booking:g,onReview:f},g.id))}),e.jsx(xt,{value:"completed",className:"space-y-4",children:x.length===0?e.jsx(fb,{message:"No completed bookings"}):x.map(g=>e.jsx(Ef,{booking:g,onReview:f},g.id))})]})]}),e.jsx(Lxe,{open:a,onOpenChange:r,booking:n})]})}function Ef({booking:t,onReview:s}){const a=jT[t.status]||jT.pending,r=a.icon,n=t.status==="completed"&&!t.hasReview;return e.jsx(P,{"data-testid":`card-booking-${t.id}`,children:e.jsx(F,{className:"p-4",children:e.jsxs("div",{className:"flex items-start justify-between gap-4 flex-wrap",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[e.jsxs(O,{variant:a.variant,"data-testid":`badge-status-${t.id}`,children:[e.jsx(r,{className:"w-3 h-3 mr-1"}),a.label]}),t.hasReview&&e.jsxs(O,{variant:"outline","data-testid":`badge-reviewed-${t.id}`,children:[e.jsx(rt,{className:"w-3 h-3 mr-1 fill-current"}),"Reviewed"]}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Booked on ",Et(new Date(t.createdAt),"MMM d, yyyy")]})]}),e.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[t.bookingDetails?.scheduledDate&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ge,{className:"w-3 h-3"}),"Scheduled: ",Et(new Date(t.bookingDetails.scheduledDate),"PPP")]}),t.bookingDetails?.notes&&e.jsxs("p",{className:"line-clamp-2",children:["Notes: ",t.bookingDetails.notes]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-bold text-lg","data-testid":`text-amount-${t.id}`,children:["$",parseFloat(t.totalAmount).toFixed(2)]}),e.jsxs("div",{className:"flex gap-2 mt-2 flex-wrap justify-end",children:[n&&e.jsxs(S,{variant:"default",size:"sm",onClick:()=>s(t),"data-testid":`button-review-${t.id}`,children:[e.jsx(rt,{className:"w-4 h-4 mr-1"}),"Review"]}),t.contractId&&e.jsx(S,{variant:"outline",size:"sm",asChild:!0,"data-testid":`button-view-contract-${t.id}`,children:e.jsxs(Ce,{href:`/contracts/${t.contractId}`,children:[e.jsx(oa,{className:"w-4 h-4 mr-1"}),"Contract"]})}),e.jsx(S,{variant:"outline",size:"sm",asChild:!0,"data-testid":`button-message-${t.id}`,children:e.jsxs(Ce,{href:`/chat?provider=${t.providerId}`,children:[e.jsx(Vs,{className:"w-4 h-4 mr-1"}),"Message"]})})]})]})]})})})}function Lxe({open:t,onOpenChange:s,booking:a}){const{toast:r}=Bs(),[n,i]=h.useState(5),[l,c]=h.useState(""),[u,m]=h.useState(0),x=Ot({mutationFn:async g=>Ft("POST",`/api/services/${a?.serviceId}/reviews`,{bookingId:a?.id,rating:g.rating,reviewText:g.reviewText}),onSuccess:()=>{r({title:"Review submitted",description:"Thank you for your feedback!"}),_t.invalidateQueries({queryKey:["/api/my-bookings"]}),s(!1),i(5),c("")},onError:()=>{r({title:"Error",description:"Failed to submit review",variant:"destructive"})}}),f=()=>{if(n<1||n>5){r({title:"Invalid rating",description:"Please select a rating",variant:"destructive"});return}x.mutate({rating:n,reviewText:l})};return e.jsx(rn,{open:t,onOpenChange:s,children:e.jsxs(zr,{children:[e.jsxs(Vr,{children:[e.jsx(Ur,{"data-testid":"text-review-dialog-title",children:"Leave a Review"}),e.jsx(nn,{children:"Share your experience with this service"})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{children:[e.jsx(ye,{className:"mb-2 block",children:"Rating"}),e.jsx("div",{className:"flex gap-1","data-testid":"input-rating-stars",children:[1,2,3,4,5].map(g=>e.jsx("button",{type:"button",onClick:()=>i(g),onMouseEnter:()=>m(g),onMouseLeave:()=>m(0),className:"p-1 transition-transform hover:scale-110","data-testid":`button-star-${g}`,children:e.jsx(rt,{className:`w-8 h-8 ${g<=(u||n)?"fill-yellow-400 text-yellow-400":"text-muted-foreground"}`})},g))})]}),e.jsxs("div",{children:[e.jsx(ye,{htmlFor:"reviewText",className:"mb-2 block",children:"Your Review (optional)"}),e.jsx(Ks,{id:"reviewText",value:l,onChange:g=>c(g.target.value),placeholder:"Tell others about your experience...",rows:4,"data-testid":"input-review-text"})]})]}),e.jsxs(jo,{className:"gap-2",children:[e.jsx(S,{variant:"outline",onClick:()=>s(!1),"data-testid":"button-cancel-review",children:"Cancel"}),e.jsx(S,{onClick:f,disabled:x.isPending,"data-testid":"button-submit-review",children:x.isPending?e.jsxs(e.Fragment,{children:[e.jsx(ot,{className:"w-4 h-4 mr-2 animate-spin"}),"Submitting..."]}):"Submit Review"})]})]})})}function fb({message:t}){return e.jsx(P,{children:e.jsx(F,{className:"py-8 text-center text-muted-foreground",children:t})})}const bT={draft:{label:"Draft",variant:"secondary"},pending_signature:{label:"Pending Signature",variant:"outline"},active:{label:"Active",variant:"default"},completed:{label:"Completed",variant:"default"},cancelled:{label:"Cancelled",variant:"destructive"},expired:{label:"Expired",variant:"secondary"}};function Oxe(){const{id:t}=vx(),{data:s,isLoading:a,error:r}=Le({queryKey:["/api/contracts",t],enabled:!!t});if(a)return e.jsx(Yt,{children:e.jsxs("div",{className:"container py-8 max-w-3xl mx-auto",children:[e.jsx(_e,{className:"h-8 w-48 mb-6"}),e.jsx(P,{children:e.jsxs(F,{className:"p-6 space-y-4",children:[e.jsx(_e,{className:"h-6 w-3/4"}),e.jsx(_e,{className:"h-4 w-full"}),e.jsx(_e,{className:"h-4 w-full"}),e.jsx(_e,{className:"h-4 w-2/3"})]})})]})});if(r||!s)return e.jsx(Yt,{children:e.jsxs("div",{className:"container py-8 max-w-3xl mx-auto text-center",children:[e.jsx(oa,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),e.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Contract Not Found"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"The contract you're looking for doesn't exist or you don't have access."}),e.jsx(S,{asChild:!0,"data-testid":"button-back-bookings",children:e.jsx(Ce,{href:"/bookings",children:"Back to Bookings"})})]})});const n=bT[s.status]||bT.draft;return e.jsx(Yt,{children:e.jsxs("div",{className:"container py-8 max-w-3xl mx-auto",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx(S,{variant:"outline",size:"icon",asChild:!0,"data-testid":"button-back",children:e.jsx(Ce,{href:"/bookings",children:e.jsx(la,{className:"w-4 h-4"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-contract-title",children:"Contract Details"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["ID: ",s.id]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(S,{variant:"outline",size:"icon","data-testid":"button-print",children:e.jsx(N$,{className:"w-4 h-4"})}),e.jsx(S,{variant:"outline",size:"icon","data-testid":"button-download",children:e.jsx(Un,{className:"w-4 h-4"})})]})]}),e.jsxs(P,{className:"mb-6",children:[e.jsx(Q,{className:"pb-4",children:e.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[e.jsxs("div",{children:[e.jsx(X,{className:"text-lg",children:"Service Contract"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:s.contractType.replace(/_/g," ").replace(/\b\w/g,i=>i.toUpperCase())})]}),e.jsx(O,{variant:n.variant,"data-testid":"badge-status",children:n.label})]})}),e.jsxs(F,{className:"space-y-6",children:[e.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center shrink-0",children:e.jsx(Ge,{className:"w-5 h-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Created"}),e.jsx("p",{className:"font-medium","data-testid":"text-created-date",children:Et(new Date(s.createdAt),"PPP")})]})]}),s.totalValue&&e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center shrink-0",children:e.jsx(bt,{className:"w-5 h-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Value"}),e.jsxs("p",{className:"font-medium text-lg","data-testid":"text-total-value",children:["$",parseFloat(s.totalValue).toFixed(2)]})]})]})]}),(s.startDate||s.endDate)&&e.jsxs(e.Fragment,{children:[e.jsx(Ja,{}),e.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[s.startDate&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Start Date"}),e.jsx("p",{className:"font-medium","data-testid":"text-start-date",children:Et(new Date(s.startDate),"PPP")})]}),s.endDate&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"End Date"}),e.jsx("p",{className:"font-medium","data-testid":"text-end-date",children:Et(new Date(s.endDate),"PPP")})]})]})]}),e.jsx(Ja,{}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-3",children:"Signatures"}),e.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/30",children:[e.jsx(Wn,{className:"w-5 h-5 text-muted-foreground"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Customer"}),s.signedByUserAt?e.jsxs("div",{className:"flex items-center gap-1 text-green-600 dark:text-green-400",children:[e.jsx(Fa,{className:"w-4 h-4"}),e.jsxs("span",{className:"text-sm",children:["Signed ",Et(new Date(s.signedByUserAt),"PP")]})]}):e.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[e.jsx(Je,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"Pending"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/30",children:[e.jsx(Cd,{className:"w-5 h-5 text-muted-foreground"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Provider"}),s.signedByProviderAt?e.jsxs("div",{className:"flex items-center gap-1 text-green-600 dark:text-green-400",children:[e.jsx(Fa,{className:"w-4 h-4"}),e.jsxs("span",{className:"text-sm",children:["Signed ",Et(new Date(s.signedByProviderAt),"PP")]})]}):e.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[e.jsx(Je,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"Pending"})]})]})]})]})]}),s.terms&&Object.keys(s.terms).length>0&&e.jsxs(e.Fragment,{children:[e.jsx(Ja,{}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-3",children:"Contract Terms"}),e.jsxs("div",{className:"p-4 rounded-lg bg-muted/30 text-sm",children:[s.terms.autoGenerated&&e.jsx("p",{className:"text-muted-foreground mb-2",children:"This contract was auto-generated upon checkout."}),s.terms.serviceName&&e.jsxs("p",{children:[e.jsx("strong",{children:"Service:"})," ",s.terms.serviceName]}),s.terms.quantity&&e.jsxs("p",{children:[e.jsx("strong",{children:"Quantity:"})," ",s.terms.quantity]}),s.terms.unitPrice&&e.jsxs("p",{children:[e.jsx("strong",{children:"Unit Price:"})," $",parseFloat(s.terms.unitPrice).toFixed(2)]})]})]})]}),s.platformFee&&e.jsxs(e.Fragment,{children:[e.jsx(Ja,{}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Platform Fee (20%)"}),e.jsxs("span",{children:["$",parseFloat(s.platformFee).toFixed(2)]})]})]})]})]}),e.jsxs("div",{className:"flex gap-3 flex-wrap",children:[e.jsx(S,{variant:"outline",asChild:!0,"data-testid":"button-back-bookings",children:e.jsx(Ce,{href:"/bookings",children:"Back to Bookings"})}),s.status==="pending_signature"&&e.jsx(S,{"data-testid":"button-sign",children:"Sign Contract"})]})]})})}function $xe(){const{id:t}=vx(),{user:s}=qr(),{toast:a}=Bs(),{data:r,isLoading:n}=Le({queryKey:["/api/services",t],enabled:!!t}),{data:i,isLoading:l}=Le({queryKey:["/api/services",t,"reviews"],enabled:!!t}),c=Ot({mutationFn:async()=>Ft("POST","/api/cart",{serviceId:t,quantity:1}),onSuccess:()=>{a({title:"Added to cart",description:"Service has been added to your cart"}),_t.invalidateQueries({queryKey:["/api/cart"]})},onError:()=>{a({title:"Error",description:"Failed to add to cart",variant:"destructive"})}});if(n)return e.jsx(Yt,{children:e.jsxs("div",{className:"container py-8 max-w-4xl mx-auto",children:[e.jsx(_e,{className:"h-8 w-48 mb-6"}),e.jsx(_e,{className:"h-64 w-full mb-6"}),e.jsx(_e,{className:"h-32 w-full"})]})});if(!r)return e.jsx(Yt,{children:e.jsxs("div",{className:"container py-8 max-w-4xl mx-auto text-center",children:[e.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Service Not Found"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"The service you're looking for doesn't exist"}),e.jsx(S,{asChild:!0,"data-testid":"button-back-discover",children:e.jsx(Ce,{href:"/discover",children:"Browse Services"})})]})});const u=parseFloat(r.averageRating||"0")||0,m=parseFloat(r.price||"0")||0;return e.jsx(Yt,{children:e.jsxs("div",{className:"container py-8 max-w-4xl mx-auto",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx(S,{variant:"outline",size:"icon",asChild:!0,"data-testid":"button-back",children:e.jsx(Ce,{href:"/discover",children:e.jsx(la,{className:"w-4 h-4"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-service-name",children:r.serviceName}),e.jsxs("div",{className:"flex items-center gap-4 mt-1 text-muted-foreground flex-wrap",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Me,{className:"w-4 h-4"}),e.jsx("span",{"data-testid":"text-location",children:r.location||"Remote"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(rt,{className:"w-4 h-4 text-amber-500 fill-amber-500"}),e.jsxs("span",{"data-testid":"text-rating",children:[u.toFixed(1)," (",r.reviewCount," reviews)"]})]})]})]})]}),e.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(P,{children:[e.jsx(Q,{children:e.jsx(X,{children:"About this service"})}),e.jsxs(F,{children:[e.jsx("p",{className:"text-muted-foreground","data-testid":"text-description",children:r.description||r.shortDescription||"No description available"}),r.deliveryTimeframe&&e.jsxs("div",{className:"flex items-center gap-2 mt-4 text-sm",children:[e.jsx(Je,{className:"w-4 h-4 text-muted-foreground"}),e.jsxs("span",{children:["Delivery: ",r.deliveryTimeframe]})]}),r.deliveryMethod&&e.jsx("div",{className:"flex items-center gap-2 mt-2 text-sm",children:e.jsx(O,{variant:"outline",children:r.deliveryMethod})})]})]}),r.whatIncluded&&r.whatIncluded.length>0&&e.jsxs(P,{children:[e.jsx(Q,{children:e.jsx(X,{children:"What's Included"})}),e.jsx(F,{children:e.jsx("ul",{className:"space-y-2",children:r.whatIncluded.map((x,f)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(Rt,{className:"w-4 h-4 text-green-500 mt-0.5 shrink-0"}),e.jsx("span",{className:"text-muted-foreground",children:x})]},f))})})]}),e.jsxs(P,{children:[e.jsx(Q,{children:e.jsxs(X,{className:"flex items-center justify-between gap-2 flex-wrap",children:[e.jsx("span",{children:"Reviews"}),r.reviewCount>0&&e.jsxs("div",{className:"flex items-center gap-1 text-sm font-normal",children:[e.jsx(rt,{className:"w-4 h-4 text-amber-500 fill-amber-500"}),e.jsx("span",{children:u.toFixed(1)}),e.jsxs("span",{className:"text-muted-foreground",children:["(",r.reviewCount,")"]})]})]})}),e.jsx(F,{children:l?e.jsxs("div",{className:"space-y-4",children:[e.jsx(_e,{className:"h-20 w-full"}),e.jsx(_e,{className:"h-20 w-full"})]}):!i||i.length===0?e.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No reviews yet. Be the first to review this service!"}):e.jsx("div",{className:"space-y-4",children:i.map(x=>e.jsx(Bxe,{review:x},x.id))})})]})]}),e.jsx("div",{className:"lg:col-span-1",children:e.jsx(P,{className:"sticky top-4",children:e.jsxs(F,{className:"p-6",children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsxs("p",{className:"text-3xl font-bold","data-testid":"text-price",children:["$",m.toFixed(0)]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"per service"})]}),e.jsx(Ja,{className:"my-4"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(S,{className:"w-full",onClick:()=>c.mutate(),disabled:c.isPending||!s,"data-testid":"button-add-to-cart",children:c.isPending?e.jsxs(e.Fragment,{children:[e.jsx(ot,{className:"w-4 h-4 mr-2 animate-spin"}),"Adding..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Nn,{className:"w-4 h-4 mr-2"}),"Add to Cart"]})}),e.jsx(S,{variant:"outline",className:"w-full",asChild:!0,"data-testid":"button-contact-provider",children:e.jsxs(Ce,{href:`/chat?provider=${r.userId}`,children:[e.jsx(Vs,{className:"w-4 h-4 mr-2"}),"Contact Provider"]})})]}),!s&&e.jsxs("p",{className:"text-xs text-muted-foreground text-center mt-4",children:[e.jsx("a",{href:"/api/login",className:"underline",children:"Sign in"})," to book this service"]})]})})})]})]})})}function Bxe({review:t}){return e.jsx("div",{className:"border-b last:border-0 pb-4 last:pb-0","data-testid":`card-review-${t.id}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Ls,{className:"w-10 h-10",children:e.jsx(Os,{children:e.jsx(Wn,{className:"w-5 h-5"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[e.jsx("div",{className:"flex items-center gap-0.5",children:[1,2,3,4,5].map(s=>e.jsx(rt,{className:`w-4 h-4 ${s<=t.rating?"text-amber-500 fill-amber-500":"text-muted-foreground"}`},s))}),t.isVerified&&e.jsxs(O,{variant:"secondary",className:"text-xs",children:[e.jsx(Rt,{className:"w-3 h-3 mr-1"}),"Verified"]})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:Et(new Date(t.createdAt),"MMM d, yyyy")}),t.reviewText&&e.jsx("p",{className:"text-sm","data-testid":`text-review-${t.id}`,children:t.reviewText}),t.responseText&&e.jsxs("div",{className:"mt-3 pl-4 border-l-2 border-primary/20",children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Provider Response:"}),e.jsx("p",{className:"text-sm","data-testid":`text-response-${t.id}`,children:t.responseText})]})]})]})})}const zxe="AIzaSyAlhW2MsmHjk_W4toxac-sILDb-YLOeg3s";function Vxe(){const[t,s]=h.useState(new Date),[a,r]=h.useState(new Date(Date.now()+10080*60*1e3)),[n,i]=h.useState("activities");return e.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[e.jsx("header",{className:"flex items-center justify-between px-4 py-3 border-b bg-white shrink-0",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xl font-bold text-[#FF385C]",children:"TRAVELOURE"}),e.jsx("span",{className:"text-xs bg-[#FF385C] text-white px-2 py-0.5 rounded",children:"BETA"})]})}),e.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[e.jsxs("div",{className:"w-[60%] overflow-y-auto",children:[e.jsxs("div",{className:"relative h-56 md:h-72 lg:h-80 overflow-hidden",children:[e.jsx("img",{src:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=1600",alt:"Trip cover",className:"w-full h-full object-cover"}),e.jsxs("div",{className:"absolute top-0 left-0 right-0 bg-white/90 backdrop-blur-sm px-4 py-2 flex items-center justify-end gap-3",children:[e.jsxs(S,{variant:"outline",size:"sm",className:"gap-2 bg-white/90",children:[e.jsx("span",{className:"text-amber-500",children:"0 Credits"}),e.jsx("span",{children:"+"})]}),e.jsx(S,{className:"bg-[#FF385C] hover:bg-[#E02D50]",children:"Generate Itinerary"})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-md border p-4 sm:p-6 w-full max-w-xl mx-auto mt-[-200px] z-20 relative",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-xl font-semibold",children:"Trip Details"}),e.jsx(S,{variant:"ghost",size:"icon",className:"h-8 w-8",children:e.jsx(et,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Trip to:"}),e.jsx(Ne,{className:"mt-1",placeholder:"Eg: Paris, New York, Japan"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Travel Dates:"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-1",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"From"}),e.jsxs(yn,{children:[e.jsx(jn,{asChild:!0,children:e.jsxs(S,{variant:"outline",size:"sm",className:"w-full mt-1 justify-start",children:[e.jsx(Ge,{className:"h-4 w-4 mr-2"}),t?.toLocaleDateString()||"Start Date"]})}),e.jsx(tn,{className:"w-auto p-0",align:"start",children:e.jsx(Tl,{mode:"single",selected:t,onSelect:s})})]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"To"}),e.jsxs(yn,{children:[e.jsx(jn,{asChild:!0,children:e.jsxs(S,{variant:"outline",size:"sm",className:"w-full mt-1 justify-start",children:[e.jsx(Ge,{className:"h-4 w-4 mr-2"}),a?.toLocaleDateString()||"End Date"]})}),e.jsx(tn,{className:"w-auto p-0",align:"start",children:e.jsx(Tl,{mode:"single",selected:a,onSelect:r})})]})]})]})]}),e.jsx(S,{className:"w-full bg-[#FF385C] hover:bg-[#E02D50]",children:"Submit Trip Details"})]})]}),e.jsx("div",{className:"px-4 mt-6 pb-8",children:e.jsxs(Na,{value:n,onValueChange:i,className:"w-full",children:[e.jsxs(ca,{className:"bg-transparent gap-2 p-0 h-auto",children:[e.jsx(it,{value:"activities",className:"data-[state=active]:bg-[#FF385C] data-[state=active]:text-white rounded-full px-4 py-2 border",children:"Activities"}),e.jsx(it,{value:"hotels",className:"data-[state=active]:bg-[#FF385C] data-[state=active]:text-white rounded-full px-4 py-2 border",children:"Hotels"}),e.jsx(it,{value:"services",className:"data-[state=active]:bg-[#FF385C] data-[state=active]:text-white rounded-full px-4 py-2 border",children:"Services"}),e.jsx(it,{value:"ai",className:"data-[state=active]:bg-[#FF385C] data-[state=active]:text-white rounded-full px-4 py-2 border",children:"AI Optimization"})]}),e.jsxs("div",{className:"mt-4 space-y-1",children:[e.jsx("div",{className:"h-px bg-gray-200 w-full"}),e.jsx("div",{className:"h-px bg-gray-200 w-full"})]}),e.jsx(xt,{value:"activities",className:"mt-6",children:e.jsx("div",{className:"text-muted-foreground",children:"Activities content goes here..."})}),e.jsx(xt,{value:"hotels",className:"mt-6",children:e.jsx("div",{className:"text-muted-foreground",children:"Hotels content goes here..."})}),e.jsx(xt,{value:"services",className:"mt-6",children:e.jsx("div",{className:"text-muted-foreground",children:"Services content goes here..."})}),e.jsx(xt,{value:"ai",className:"mt-6",children:e.jsx("div",{className:"text-muted-foreground",children:"AI Optimization content goes here..."})})]})})]}),e.jsx("div",{className:"w-[40%] h-full border-l bg-muted/30",children:e.jsx(_I,{apiKey:zxe,children:e.jsx(_2,{defaultCenter:{lat:48.8566,lng:2.3522},defaultZoom:12,mapId:"layout-mock-map",className:"w-full h-full",gestureHandling:"greedy",disableDefaultUI:!1,children:e.jsx(MI,{position:{lat:48.8566,lng:2.3522},children:e.jsx("div",{className:"w-8 h-8 bg-[#FF385C] rounded-full flex items-center justify-center shadow-lg",children:e.jsx(Me,{className:"w-4 h-4 text-white"})})})})})})]})]})}function Uxe(){const{id:t}=vx(),{user:s,isLoading:a}=qr(),{toast:r}=Bs(),[,n]=La(),[i,l]=h.useState(null),[c,u]=h.useState(null),[m,x]=h.useState(!1),[f,g]=h.useState(""),b=$=>["transport","ground_transport","train","bus","ferry","event","entertainment","concert","show"].some(W=>$?.toLowerCase().includes(W))?"partner":"inApp",v=$=>{if(b($.serviceType)!=="partner")return null;const L="13805109",W="15532";return["transport","ground_transport","train","bus","ferry"].some(re=>$.serviceType?.toLowerCase().includes(re))?`https://12go.co/en/travel?affiliate_id=${L}`:["event","entertainment","concert","show"].some(re=>$.serviceType?.toLowerCase().includes(re))?`https://feverup.com/en?utm_source=impact&utm_medium=affiliate&utm_campaign=${W}`:null},y=Ot({mutationFn:async $=>Ft("POST","/api/expert-booking-requests",$),onSuccess:()=>{x(!1),g(""),r({title:"Request Sent",description:"An expert will review your itinerary and handle all bookings."})},onError:()=>{r({title:"Request Failed",description:"Unable to submit your request. Please try again.",variant:"destructive"})}}),w=()=>{t&&y.mutate({tripId:t,notes:f})},{data:k,isLoading:C,refetch:_}=Le({queryKey:["/api/itinerary-comparisons",t],enabled:!!t&&!!s,refetchInterval:$=>$.state.data?.comparison?.status==="generating"?2e3:!1}),M=k?.comparison?.destination,{data:E,isLoading:R,isError:z}=Le({queryKey:["/api/travelpulse/cities",M],enabled:!!M}),{data:A,isLoading:V}=Le({queryKey:["/api/travelpulse/trending",M],enabled:!!M}),H=R||V,I=Ot({mutationFn:async()=>Ft("POST",`/api/itinerary-comparisons/${t}/generate`,{baselineItems:[]}),onSuccess:()=>{r({title:"Regenerating alternatives",description:"AI is creating optimized versions..."}),_()},onError:()=>{r({variant:"destructive",title:"Failed to regenerate",description:"Please try again"})}}),q=Ot({mutationFn:async $=>Ft("POST",`/api/itinerary-comparisons/${t}/select`,{variantId:$}),onSuccess:()=>{r({title:"Itinerary selected",description:"Your chosen plan has been saved"}),_t.invalidateQueries({queryKey:["/api/itinerary-comparisons",t]})},onError:()=>{r({variant:"destructive",title:"Failed to select",description:"Please try again"})}}),fe=Ot({mutationFn:async()=>Ft("POST",`/api/itinerary-comparisons/${t}/apply-to-cart`),onSuccess:()=>{r({title:"Cart updated",description:"Your selected itinerary has been added to cart"}),_t.invalidateQueries({queryKey:["/api/cart"]}),n("/cart")},onError:()=>{r({variant:"destructive",title:"Failed to update cart",description:"Please try again"})}});if(h.useEffect(()=>{k?.comparison?.selectedVariantId&&l(k.comparison.selectedVariantId)},[k]),a)return e.jsx(Yt,{children:e.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[e.jsx(_e,{className:"h-8 w-64 mb-6"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[1,2,3].map($=>e.jsx(_e,{className:"h-96"},$))})]})});if(!s)return n("/api/login"),null;const oe=k?.comparison?.status==="generating",Ee=k?.comparison?.status==="failed",me=k?.variants&&k.variants.length>0,ie=k?.variants?.find($=>$.source==="user"),B=k?.variants?.filter($=>$.source==="ai_optimized")||[],ae=$=>{switch($){case"total_cost":return bt;case"average_rating":return rt;case"travel_time":return Je;case"free_time":return Ge;case"optimization_score":return oi;default:return qa}},ke=$=>$.comparison?$.comparison==="saves"||$.comparison==="better"?"text-green-600 dark:text-green-400":$.comparison==="costs more"||$.comparison==="lower"?"text-orange-600 dark:text-orange-400":"text-muted-foreground":"text-muted-foreground";return e.jsx(Yt,{children:e.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx(S,{variant:"ghost",size:"icon",onClick:()=>window.history.back(),"data-testid":"button-back",children:e.jsx(la,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:k?.comparison?.title||"Itinerary Comparison"}),e.jsxs("p",{className:"text-muted-foreground",children:[k?.comparison?.destination," - ",k?.comparison?.travelers||1," traveler(s)"]})]})]}),oe&&e.jsx(P,{className:"mb-6 border-primary/50 bg-primary/5",children:e.jsx(F,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(ot,{className:"h-6 w-6 animate-spin text-primary"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:"AI is optimizing your itinerary..."}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"This usually takes 30-60 seconds. We're analyzing your selections and finding better alternatives."})]})]})})}),Ee&&e.jsx(P,{className:"mb-6 border-destructive/50 bg-destructive/5",children:e.jsxs(F,{className:"p-8 text-center",children:[e.jsx(ns,{className:"h-12 w-12 mx-auto mb-4 text-destructive"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Generation failed"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"Something went wrong while optimizing your itinerary. Please try again."}),e.jsxs("div",{className:"flex justify-center gap-3",children:[e.jsxs(S,{variant:"outline",onClick:()=>n("/cart"),"data-testid":"button-back-to-cart",children:[e.jsx(la,{className:"mr-2 h-4 w-4"}),"Back to Cart"]}),e.jsxs(S,{onClick:()=>I.mutate(),disabled:I.isPending,"data-testid":"button-retry",children:[I.isPending?e.jsx(ot,{className:"mr-2 h-4 w-4 animate-spin"}):e.jsx(Cn,{className:"mr-2 h-4 w-4"}),"Try Again"]})]})]})}),!me&&!oe&&!Ee&&e.jsx(P,{className:"mb-6",children:e.jsxs(F,{className:"p-8 text-center",children:[e.jsx(qe,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No itinerary data found"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"It looks like the comparison is empty. Please go back to your cart and try again."}),e.jsxs(S,{variant:"outline",onClick:()=>n("/cart"),"data-testid":"button-back-to-cart",children:[e.jsx(la,{className:"mr-2 h-4 w-4"}),"Back to Cart"]})]})}),me&&e.jsxs(e.Fragment,{children:[M&&e.jsxs(P,{className:"mb-6 border-purple-200 bg-gradient-to-r from-purple-50 to-indigo-50 dark:from-purple-950/20 dark:to-indigo-950/20 dark:border-purple-800",children:[e.jsx(Q,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-purple-100 dark:bg-purple-900/50 flex items-center justify-center",children:H?e.jsx(ot,{className:"h-4 w-4 text-purple-600 dark:text-purple-400 animate-spin"}):e.jsx(qe,{className:"h-4 w-4 text-purple-600 dark:text-purple-400"})}),e.jsxs("div",{children:[e.jsx(X,{className:"text-base text-purple-800 dark:text-purple-200",children:"AI-Powered Destination Intelligence"}),e.jsxs(Tt,{className:"text-purple-600 dark:text-purple-400",children:["Real-time insights for ",M," powered by xAI Grok"]})]})]})}),e.jsxs(F,{children:[H&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[1,2,3,4].map($=>e.jsxs("div",{className:"bg-white/60 dark:bg-gray-900/40 rounded-lg p-3 animate-pulse",children:[e.jsx("div",{className:"h-4 w-20 bg-purple-200/50 dark:bg-purple-800/30 rounded mb-2"}),e.jsx("div",{className:"h-6 w-12 bg-purple-200/50 dark:bg-purple-800/30 rounded"})]},$))}),z&&!R&&e.jsx("div",{className:"text-sm text-muted-foreground text-center py-4",children:"Unable to load destination intelligence. Comparison data is still available below."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[E?.city?.pulseScore&&e.jsxs("div",{className:"bg-white/60 dark:bg-gray-900/40 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(qa,{className:"h-4 w-4 text-amber-500"}),e.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Pulse Score"})]}),e.jsxs("div",{className:"flex items-baseline gap-1",children:[e.jsx("span",{className:"text-2xl font-bold text-purple-700 dark:text-purple-300",children:E.city.pulseScore}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"/100"})]})]}),E?.city?.trendingScore&&e.jsxs("div",{className:"bg-white/60 dark:bg-gray-900/40 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(Xt,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Trending"})]}),e.jsxs("div",{className:"flex items-baseline gap-1",children:[e.jsx("span",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:E.city.trendingScore}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"/100"})]})]}),E?.city?.crowdLevel&&e.jsxs("div",{className:"bg-white/60 dark:bg-gray-900/40 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(et,{className:"h-4 w-4 text-blue-500"}),e.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Crowd Level"})]}),e.jsx("span",{className:"text-lg font-semibold capitalize text-blue-600 dark:text-blue-400",children:E.city.crowdLevel})]}),E?.city?.aiBudgetEstimate&&e.jsxs("div",{className:"bg-white/60 dark:bg-gray-900/40 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(bt,{className:"h-4 w-4 text-emerald-500"}),e.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Budget Estimate"})]}),e.jsx("span",{className:"text-sm font-medium text-emerald-600 dark:text-emerald-400 line-clamp-2",children:E.city.aiBudgetEstimate})]})]}),(E?.city?.aiTravelTips||E?.city?.aiLocalInsights)&&e.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:[E?.city?.aiTravelTips&&e.jsxs("div",{className:"bg-white/60 dark:bg-gray-900/40 rounded-lg p-3",children:[e.jsxs("h4",{className:"text-sm font-medium text-purple-700 dark:text-purple-300 mb-2 flex items-center gap-1",children:[e.jsx(qe,{className:"h-3 w-3"})," Travel Tips"]}),e.jsx("p",{className:"text-xs text-muted-foreground line-clamp-3",children:E.city.aiTravelTips})]}),E?.city?.aiLocalInsights&&e.jsxs("div",{className:"bg-white/60 dark:bg-gray-900/40 rounded-lg p-3",children:[e.jsxs("h4",{className:"text-sm font-medium text-purple-700 dark:text-purple-300 mb-2 flex items-center gap-1",children:[e.jsx(Me,{className:"h-3 w-3"})," Local Insights"]}),e.jsx("p",{className:"text-xs text-muted-foreground line-clamp-3",children:E.city.aiLocalInsights})]})]}),A?.experiences&&A.experiences.length>0&&e.jsxs("div",{className:"mt-4",children:[e.jsxs("h4",{className:"text-sm font-medium text-purple-700 dark:text-purple-300 mb-2 flex items-center gap-1",children:[e.jsx(Xt,{className:"h-3 w-3"})," Trending Experiences"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:A.experiences.slice(0,5).map($=>e.jsxs(O,{variant:"secondary",className:"bg-purple-100 text-purple-700 dark:bg-purple-900/50 dark:text-purple-300",children:[$.name,$.trendingScore>80&&e.jsx(qa,{className:"h-3 w-3 ml-1 text-amber-500"})]},$.id))})]}),E?.city?.aiMustSeeAttractions&&e.jsxs("div",{className:"mt-4 bg-white/60 dark:bg-gray-900/40 rounded-lg p-3",children:[e.jsxs("h4",{className:"text-sm font-medium text-purple-700 dark:text-purple-300 mb-2 flex items-center gap-1",children:[e.jsx(rt,{className:"h-3 w-3"})," Must-See Attractions"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:E.city.aiMustSeeAttractions})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[ie&&e.jsxs(P,{className:te("cursor-pointer transition-all",i===ie.id&&"ring-2 ring-primary"),onClick:()=>l(ie.id),"data-testid":`card-variant-${ie.id}`,children:[e.jsxs(Q,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(O,{variant:"secondary",children:"Your Plan"}),i===ie.id&&e.jsx(rs,{className:"h-5 w-5 text-primary"})]}),e.jsx(X,{className:"text-lg",children:ie.name}),e.jsx(Tt,{children:ie.description})]}),e.jsx(F,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Cost"}),e.jsxs("span",{className:"text-xl font-bold",children:["$",parseFloat(ie.totalCost||"0").toLocaleString()]})]}),e.jsx(Ja,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h4",{className:"text-sm font-medium",children:["Items (",ie.items.length,")"]}),e.jsxs(S,{variant:"outline",size:"sm",onClick:$=>{$.stopPropagation(),u(ie)},"data-testid":`button-view-plan-${ie.id}`,children:[e.jsx(LC,{className:"h-3 w-3 mr-1"}),"View Full Plan"]})]}),e.jsxs(Ha,{className:"h-32",children:[ie.items.slice(0,4).map(($,L)=>{const W=b($.serviceType);return e.jsx("div",{className:"py-2 text-sm border-b last:border-0",children:e.jsxs("div",{className:"flex items-center justify-between gap-2 flex-wrap",children:[e.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[e.jsxs(O,{variant:"outline",className:"text-xs shrink-0",children:["Day ",$.dayNumber]}),e.jsx("span",{className:"truncate max-w-32",children:$.name})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[W==="partner"?e.jsx(O,{className:"bg-blue-100 text-blue-700 text-xs shrink-0",children:$.serviceType?.toLowerCase().includes("transport")?e.jsxs(e.Fragment,{children:[e.jsx(Ma,{className:"h-2.5 w-2.5 mr-1"}),"12Go"]}):e.jsxs(e.Fragment,{children:[e.jsx($r,{className:"h-2.5 w-2.5 mr-1"}),"Fever"]})}):e.jsxs(O,{className:"bg-green-100 text-green-700 text-xs shrink-0",children:[e.jsx(rs,{className:"h-2.5 w-2.5 mr-1"}),"In-App"]}),e.jsxs("span",{className:"text-muted-foreground",children:["$",parseFloat($.price||"0")]})]})]})},$.id||L)}),ie.items.length>4&&e.jsxs("p",{className:"text-xs text-muted-foreground text-center py-2",children:["+",ie.items.length-4," more activities..."]})]})]})]})}),e.jsx(Mu,{className:"flex-col gap-2",children:e.jsx(S,{variant:i===ie.id?"default":"outline",className:"w-full",onClick:$=>{$.stopPropagation(),q.mutate(ie.id)},disabled:q.isPending,"data-testid":`button-select-${ie.id}`,children:i===ie.id?"Selected":"Select This Plan"})})]}),B.map(($,L)=>e.jsxs(P,{className:te("cursor-pointer transition-all relative",i===$.id&&"ring-2 ring-primary",L===0&&"border-green-500/50"),onClick:()=>l($.id),"data-testid":`card-variant-${$.id}`,children:[L===0&&e.jsx("div",{className:"absolute -top-3 left-4",children:e.jsxs(O,{className:"bg-green-600",children:[e.jsx(jr,{className:"h-3 w-3 mr-1"}),"Recommended"]})}),e.jsxs(Q,{className:"pt-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(O,{variant:"default",className:"bg-primary/10 text-primary",children:[e.jsx(qe,{className:"h-3 w-3 mr-1"}),"AI Optimized"]}),i===$.id&&e.jsx(rs,{className:"h-5 w-5 text-primary"})]}),e.jsx(X,{className:"text-lg",children:$.name}),e.jsx(Tt,{children:$.description})]}),e.jsx(F,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Cost"}),e.jsxs("span",{className:"text-xl font-bold text-green-600 dark:text-green-400",children:["$",parseFloat($.totalCost||"0").toLocaleString()]})]}),$.metrics&&$.metrics.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(Ja,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-medium",children:"Why it's better"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:$.metrics.slice(0,4).map(W=>{const re=ae(W.metricKey);return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(re,{className:te("h-4 w-4",ke(W))}),e.jsx("span",{className:"text-xs truncate",children:W.description})]},W.id)})})]})]}),$.aiReasoning&&e.jsxs(e.Fragment,{children:[e.jsx(Ja,{}),e.jsxs("p",{className:"text-sm text-muted-foreground italic",children:['"',$.aiReasoning,'"']})]}),e.jsx(Ja,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h4",{className:"text-sm font-medium",children:["Items (",$.items.length,")"]}),e.jsxs(S,{variant:"outline",size:"sm",onClick:W=>{W.stopPropagation(),u($)},"data-testid":`button-view-plan-${$.id}`,children:[e.jsx(LC,{className:"h-3 w-3 mr-1"}),"View Full Plan"]})]}),e.jsxs(Ha,{className:"h-32",children:[$.items.slice(0,4).map((W,re)=>{const se=b(W.serviceType);return e.jsx("div",{className:"py-2 text-sm border-b last:border-0",children:e.jsxs("div",{className:"flex items-center justify-between gap-2 flex-wrap",children:[e.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[e.jsxs(O,{variant:"outline",className:"text-xs shrink-0",children:["Day ",W.dayNumber]}),e.jsx("span",{className:"truncate max-w-32",children:W.name}),W.isReplacement&&e.jsx(O,{variant:"secondary",className:"text-xs bg-green-100 text-green-700 shrink-0",children:"New"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[se==="partner"?e.jsx(O,{className:"bg-blue-100 text-blue-700 text-xs shrink-0",children:W.serviceType?.toLowerCase().includes("transport")?e.jsxs(e.Fragment,{children:[e.jsx(Ma,{className:"h-2.5 w-2.5 mr-1"}),"12Go"]}):e.jsxs(e.Fragment,{children:[e.jsx($r,{className:"h-2.5 w-2.5 mr-1"}),"Fever"]})}):e.jsxs(O,{className:"bg-green-100 text-green-700 text-xs shrink-0",children:[e.jsx(rs,{className:"h-2.5 w-2.5 mr-1"}),"In-App"]}),e.jsxs("span",{className:"text-muted-foreground",children:["$",parseFloat(W.price||"0")]})]})]})},W.id||re)}),$.items.length>4&&e.jsxs("p",{className:"text-xs text-muted-foreground text-center py-2",children:["+",$.items.length-4," more activities..."]})]})]})]})}),e.jsx(Mu,{children:e.jsx(S,{variant:i===$.id?"default":"outline",className:"w-full",onClick:W=>{W.stopPropagation(),q.mutate($.id)},disabled:q.isPending,"data-testid":`button-select-${$.id}`,children:i===$.id?"Selected":"Select This Plan"})})]},$.id))]}),k?.comparison?.selectedVariantId&&e.jsx(P,{className:"border-primary bg-primary/5",children:e.jsx(F,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(rs,{className:"h-8 w-8 text-primary"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:"Plan Selected"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Ready to proceed with your"," ",k.variants.find($=>$.id===k.comparison.selectedVariantId)?.name||"selected"," ","plan"]})]})]}),e.jsxs(S,{onClick:()=>fe.mutate(),disabled:fe.isPending,"data-testid":"button-apply-to-cart",children:[fe.isPending?e.jsx(ot,{className:"mr-2 h-4 w-4 animate-spin"}):e.jsx(Nn,{className:"mr-2 h-4 w-4"}),"Apply to Cart & Checkout"]})]})})}),e.jsx(P,{className:"mt-6 border-amber-200 bg-amber-50 dark:bg-amber-950/20 dark:border-amber-800",children:e.jsx(F,{className:"p-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-amber-100 dark:bg-amber-900/50 flex items-center justify-center shrink-0",children:e.jsx(et,{className:"h-6 w-6 text-amber-600 dark:text-amber-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-amber-800 dark:text-amber-200 mb-1",children:"Let an Expert Book Everything"}),e.jsx("p",{className:"text-sm text-amber-700 dark:text-amber-300 mb-4",children:"Our travel experts can handle all bookings for your selected plan - hotels, activities, ground transport, and event tickets. They'll coordinate everything and confirm details with you."}),e.jsxs(S,{variant:"outline",className:"border-amber-300 hover:bg-amber-100 dark:border-amber-700 dark:hover:bg-amber-900/50",onClick:()=>x(!0),"data-testid":"button-expert-booking",children:[e.jsx(et,{className:"mr-2 h-4 w-4"}),"Request Expert Booking"]})]})]})})})]}),e.jsx(rn,{open:!!c,onOpenChange:()=>u(null),children:e.jsxs(zr,{className:"max-w-4xl h-[90vh] flex flex-col p-0",children:[e.jsx(Vr,{className:"px-6 pt-6 pb-4 border-b shrink-0",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs(Ur,{className:"text-xl flex items-center gap-2",children:[c?.source==="ai"&&e.jsxs(O,{variant:"default",className:"bg-primary/10 text-primary",children:[e.jsx(qe,{className:"h-3 w-3 mr-1"}),"AI Optimized"]}),c?.name]}),e.jsx(nn,{className:"mt-1",children:c?.description})]}),e.jsxs("div",{className:"text-right shrink-0 ml-4",children:[e.jsxs("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:["$",parseFloat(c?.totalCost||"0").toLocaleString()]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[c?.items?.length," activities"]})]})]})}),e.jsx(Ha,{className:"flex-1 px-6",children:e.jsxs("div",{className:"py-4 space-y-6",children:[c?.metrics&&c.metrics.length>0&&e.jsxs("div",{className:"bg-green-50 dark:bg-green-950/20 rounded-lg p-4 space-y-3",children:[e.jsxs("h4",{className:"font-medium text-green-800 dark:text-green-200 flex items-center gap-2",children:[e.jsx(Xt,{className:"h-4 w-4"}),"Why it's better"]}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:c.metrics.map($=>{const L=ae($.metricKey);return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(L,{className:te("h-4 w-4 shrink-0",ke($))}),e.jsx("span",{className:"text-sm",children:$.description})]},$.id)})})]}),c?.aiReasoning&&e.jsx("div",{className:"bg-primary/5 rounded-lg p-4",children:e.jsxs("p",{className:"text-sm text-muted-foreground italic",children:['"',c.aiReasoning,'"']})}),c&&(()=>{const $=c.items.reduce((W,re)=>{const se=re.dayNumber;return W[se]||(W[se]=[]),W[se].push(re),W},{});return Object.keys($).map(Number).sort((W,re)=>W-re).map(W=>e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(O,{variant:"outline",className:"text-sm font-semibold",children:[e.jsx(Ge,{className:"h-3.5 w-3.5 mr-1"}),"Day ",W]}),e.jsx(Ja,{className:"flex-1"})]}),e.jsx("div",{className:"space-y-3 pl-4",children:$[W].sort((re,se)=>(re.startTime||re.timeSlot||"").localeCompare(se.startTime||se.timeSlot||"")).map((re,se)=>{const ge=b(re.serviceType),K=v(re);return e.jsxs("div",{className:"bg-muted/30 rounded-lg p-4 space-y-2",children:[e.jsxs("div",{className:"flex items-start justify-between gap-3 flex-wrap",children:[e.jsxs("div",{className:"space-y-1 flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("h4",{className:"font-medium",children:re.name}),re.isReplacement&&e.jsx(O,{variant:"secondary",className:"bg-green-100 text-green-700 text-xs",children:"New"})]}),re.description&&e.jsx("p",{className:"text-sm text-muted-foreground",children:re.description})]}),e.jsxs("div",{className:"flex flex-col items-end gap-1 shrink-0",children:[e.jsxs("span",{className:"font-semibold",children:["$",parseFloat(re.price||"0")]}),ge==="partner"?e.jsx(O,{className:"bg-blue-100 text-blue-700 text-xs",children:re.serviceType?.toLowerCase().includes("transport")?e.jsxs(e.Fragment,{children:[e.jsx(Ma,{className:"h-2.5 w-2.5 mr-1"}),"12Go"]}):e.jsxs(e.Fragment,{children:[e.jsx($r,{className:"h-2.5 w-2.5 mr-1"}),"Fever"]})}):e.jsxs(O,{className:"bg-green-100 text-green-700 text-xs",children:[e.jsx(rs,{className:"h-2.5 w-2.5 mr-1"}),"Book on Traveloure"]})]})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground flex-wrap",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Je,{className:"h-3.5 w-3.5"}),re.startTime," - ",re.endTime]}),re.duration>0&&e.jsxs("span",{children:["(",re.duration," mins)"]}),re.location&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Me,{className:"h-3.5 w-3.5"}),re.location]}),re.rating&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(rt,{className:"h-3.5 w-3.5 fill-amber-400 text-amber-400"}),re.rating]})]}),re.replacementReason&&e.jsx("p",{className:"text-sm text-green-600 dark:text-green-400 italic",children:re.replacementReason}),K&&e.jsxs("a",{href:K,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-sm text-blue-600 hover:underline",children:["Book on Partner Site ",e.jsx(er,{className:"h-3 w-3"})]})]},re.id||se)})})]},W))})()]})}),e.jsxs(jo,{className:"px-6 py-4 border-t shrink-0",children:[e.jsx(S,{variant:"outline",onClick:()=>u(null),children:"Close"}),e.jsx(S,{onClick:()=>{c&&(q.mutate(c.id),u(null))},disabled:q.isPending,children:i===c?.id?"Selected":"Select This Plan"})]})]})}),e.jsx(rn,{open:m,onOpenChange:x,children:e.jsxs(zr,{className:"sm:max-w-lg",children:[e.jsxs(Vr,{children:[e.jsxs(Ur,{className:"flex items-center gap-2",children:[e.jsx(et,{className:"h-5 w-5 text-amber-600"}),"Request Expert Booking Assistance"]}),e.jsx(nn,{children:"Let our travel experts handle all bookings for your itinerary. They'll coordinate both on-site and partner bookings, ensuring everything is confirmed before your trip."})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"bg-amber-50 dark:bg-amber-950/20 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-amber-800 dark:text-amber-200 mb-2",children:"What's included:"}),e.jsxs("ul",{className:"text-sm text-amber-700 dark:text-amber-300 space-y-1",children:[e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(rs,{className:"h-3 w-3"}),"All hotel and accommodation bookings"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(rs,{className:"h-3 w-3"}),"Tour and activity reservations"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(rs,{className:"h-3 w-3"}),"Ground transportation (trains, buses, ferries via 12Go)"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(rs,{className:"h-3 w-3"}),"Event and show tickets (via Fever)"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(rs,{className:"h-3 w-3"}),"Restaurant reservations"]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Special requests or notes (optional)"}),e.jsx(Ks,{value:f,onChange:$=>g($.target.value),placeholder:"Any specific preferences, dietary requirements, or special requests...",className:"min-h-20","data-testid":"input-expert-notes"})]}),e.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[e.jsx(Je,{className:"h-3 w-3"}),"An expert will contact you within 24 hours to confirm details and payment."]})]}),e.jsxs(jo,{children:[e.jsx(S,{variant:"outline",onClick:()=>x(!1),children:"Cancel"}),e.jsx(S,{onClick:w,disabled:y.isPending,className:"bg-amber-600 hover:bg-amber-700 text-white","data-testid":"button-confirm-expert-booking",children:y.isPending?e.jsxs(e.Fragment,{children:[e.jsx(ot,{className:"mr-2 h-4 w-4 animate-spin"}),"Submitting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(et,{className:"mr-2 h-4 w-4"}),"Submit Request"]})})]})]})})]})})}const qxe=["Tokyo","Paris","New York","Barcelona","Rome","London","Sydney","Dubai"];function Hxe(t){switch(t){case"festival":return e.jsx(ya,{className:"h-4 w-4"});case"sporting":return e.jsx(ed,{className:"h-4 w-4"});case"conference":return e.jsx(Cd,{className:"h-4 w-4"});case"holiday":return e.jsx(Pt,{className:"h-4 w-4"});default:return e.jsx(Ge,{className:"h-4 w-4"})}}function Wxe(t){switch(t){case"extreme":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400";case"high":return"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400";case"moderate":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400";case"low":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"}}function Gxe(t){switch(t){case"surge":return{text:"+50%+",color:"text-red-600"};case"higher":return{text:"+20%",color:"text-orange-600"};case"normal":return{text:"Normal",color:"text-green-600"};case"lower":return{text:"-15%",color:"text-blue-600"};default:return{text:"-",color:"text-gray-500"}}}function Kxe(){const[t,s]=h.useState("Tokyo"),[a,r]=h.useState(""),[n,i]=h.useState(new Date),[l,c]=h.useState(null),u=an(n),m=sm(Vn(n,2)),x=`/api/travelpulse/calendar/${encodeURIComponent(t)}?startDate=${u.toISOString()}&endDate=${m.toISOString()}`,{data:f,isLoading:g}=Le({queryKey:[x],staleTime:3600*1e3}),b=h.useMemo(()=>oY({start:an(n),end:sm(n)}),[n]),v=k=>f?.events?f.events.filter(C=>{const _=mf(C.startDate),M=C.endDate?mf(C.endDate):_;return dQ(k,{start:_,end:M})||sn(k,_)}):[],y=l?v(l):[],w=()=>{a.trim()&&(s(a.trim()),c(null))};return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("div",{className:"bg-gradient-to-br from-primary/10 via-background to-primary/5 py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[e.jsx(Ge,{className:"h-8 w-8 text-primary"}),e.jsx("h1",{className:"text-3xl font-bold",children:"Global Travel Calendar"})]}),e.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Plan around festivals, holidays, and peak seasons. See crowd and price predictions for any destination."})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-3 max-w-xl mx-auto mb-6",children:[e.jsxs("div",{className:"relative flex-1 w-full",children:[e.jsx(Me,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(Ne,{placeholder:"Enter city name...",value:a,onChange:k=>r(k.target.value),onKeyDown:k=>k.key==="Enter"&&w(),className:"pl-9","data-testid":"input-calendar-city"})]}),e.jsxs(S,{onClick:w,"data-testid":"button-search-calendar",children:[e.jsx(ws,{className:"h-4 w-4 mr-2"}),"View Calendar"]})]}),e.jsx("div",{className:"flex flex-wrap items-center justify-center gap-2",children:qxe.map(k=>e.jsx(S,{variant:t===k?"default":"outline",size:"sm",onClick:()=>{s(k),c(null)},"data-testid":`button-city-${k.toLowerCase().replace(/\s+/g,"-")}`,children:k},k))})]})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(P,{children:[e.jsxs(Q,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[e.jsxs(X,{className:"text-lg font-medium",children:[Et(n,"MMMM yyyy")," - ",t]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(S,{variant:"outline",size:"icon",onClick:()=>i(Vn(n,-1)),"aria-label":"Previous month","data-testid":"button-prev-month",children:e.jsx(hr,{className:"h-4 w-4"})}),e.jsx(S,{variant:"outline",size:"icon",onClick:()=>i(Vn(n,1)),"aria-label":"Next month","data-testid":"button-next-month",children:e.jsx($s,{className:"h-4 w-4"})})]})]}),e.jsxs(F,{children:[g?e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"grid grid-cols-7 gap-1",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(k=>e.jsx("div",{className:"p-2 text-center text-sm font-medium text-muted-foreground",children:k},k))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:Array(35).fill(0).map((k,C)=>e.jsx(_e,{className:"h-16 w-full"},C))})]}):e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"grid grid-cols-7 gap-1",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(k=>e.jsx("div",{className:"p-2 text-center text-sm font-medium text-muted-foreground",children:k},k))}),e.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[Array(b[0].getDay()).fill(null).map((k,C)=>e.jsx("div",{className:"h-16"},`empty-${C}`)),b.map(k=>{const C=v(k),_=C.some(z=>z.crowdImpact==="extreme"||z.crowdImpact==="high"),M=l&&sn(k,l),E=Et(k,"MMMM d, yyyy"),R=C.length;return e.jsxs("button",{onClick:()=>c(k),"aria-label":`${E}${R>0?`, ${R} event${R>1?"s":""}`:""}`,className:te("h-16 p-1 rounded-lg border transition-all text-left relative hover-elevate active-elevate-2",M?"border-primary bg-primary/10 ring-2 ring-primary":"border-border",C.length>0&&"bg-muted/50",_&&"border-orange-300"),"data-testid":`button-date-${Et(k,"yyyy-MM-dd")}`,children:[e.jsx("span",{className:te("text-sm font-medium",M&&"text-primary"),children:Et(k,"d")}),C.length>0&&e.jsx("div",{className:"absolute bottom-1 left-1 right-1 flex gap-0.5 overflow-hidden",children:C.slice(0,3).map((z,A)=>e.jsx("div",{className:te("h-1.5 flex-1 rounded-full",z.crowdImpact==="extreme"?"bg-red-500":z.crowdImpact==="high"?"bg-orange-500":z.crowdImpact==="moderate"?"bg-yellow-500":"bg-green-500")},A))})]},k.toISOString())})]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 mt-4 pt-4 border-t",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Crowd Impact:"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"h-3 w-3 rounded-full bg-green-500"}),e.jsx("span",{className:"text-xs",children:"Low"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"h-3 w-3 rounded-full bg-yellow-500"}),e.jsx("span",{className:"text-xs",children:"Moderate"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"h-3 w-3 rounded-full bg-orange-500"}),e.jsx("span",{className:"text-xs",children:"High"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"h-3 w-3 rounded-full bg-red-500"}),e.jsx("span",{className:"text-xs",children:"Extreme"})]})]})]})]})}),e.jsx("div",{children:e.jsxs(P,{className:"sticky top-4 z-50",children:[e.jsx(Q,{children:e.jsx(X,{className:"text-lg flex items-center gap-2",children:l?e.jsxs(e.Fragment,{children:[e.jsx(Ge,{className:"h-5 w-5 text-primary"}),Et(l,"MMMM d, yyyy")]}):e.jsxs(e.Fragment,{children:[e.jsx(qe,{className:"h-5 w-5 text-primary"}),"Select a Date"]})})}),e.jsx(F,{children:l?y.length>0?e.jsx(Ha,{className:"h-[400px] pr-4",children:e.jsx("div",{className:"space-y-4",children:y.map(k=>{const C=Gxe(k.priceImpact);return e.jsxs("div",{className:"p-4 border rounded-lg space-y-3","data-testid":`card-event-${k.id}`,children:[e.jsxs("div",{className:"flex items-start justify-between gap-2 flex-wrap",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[Hxe(k.eventType),e.jsx("h4",{className:"font-medium","data-testid":`text-event-name-${k.id}`,children:k.eventName})]}),e.jsx(O,{className:Wxe(k.crowdImpact),"data-testid":`badge-impact-${k.id}`,children:k.crowdImpact||"Normal"})]}),e.jsx("p",{className:"text-sm text-muted-foreground","data-testid":`text-event-desc-${k.id}`,children:k.description}),e.jsxs("div",{className:"flex items-center gap-4 text-sm flex-wrap",children:[e.jsxs("div",{className:"flex items-center gap-1","data-testid":`text-crowd-${k.id}`,children:[e.jsx(et,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{children:["+",k.crowdImpactPercent||0,"% crowds"]})]}),e.jsxs("div",{className:"flex items-center gap-1","data-testid":`text-price-${k.id}`,children:[e.jsx(bt,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{className:C.color,children:[C.text," prices"]})]})]}),k.affectedAreas&&k.affectedAreas.length>0&&e.jsxs("div",{className:"space-y-1",children:[e.jsxs("p",{className:"text-xs font-medium text-muted-foreground flex items-center gap-1",children:[e.jsx(ns,{className:"h-3 w-3"}),"Affected Areas"]}),e.jsx("div",{className:"flex flex-wrap gap-1",children:k.affectedAreas.map((_,M)=>e.jsx(O,{variant:"outline",className:"text-xs",children:_},M))})]}),k.tips&&k.tips.length>0&&e.jsxs("div",{className:"space-y-1",children:[e.jsxs("p",{className:"text-xs font-medium text-muted-foreground flex items-center gap-1",children:[e.jsx(zn,{className:"h-3 w-3 text-blue-500"}),"Tips"]}),e.jsx("ul",{className:"space-y-1",children:k.tips.map((_,M)=>e.jsxs("li",{className:"text-xs flex items-start gap-1",children:[e.jsx("span",{className:"text-primary",children:""}),e.jsx("span",{children:_})]},M))})]}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[Et(mf(k.startDate),"MMM d"),k.endDate&&` - ${Et(mf(k.endDate),"MMM d")}`]})]},k.id)})})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Ge,{className:"h-12 w-12 text-muted-foreground mx-auto mb-3"}),e.jsx("p",{className:"text-muted-foreground",children:"No major events on this date"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"This is typically a good time to visit with normal crowd levels."})]}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Ge,{className:"h-12 w-12 text-muted-foreground mx-auto mb-3"}),e.jsx("p",{className:"text-muted-foreground",children:"Click on a date to see events and predictions"})]})})]})})]})})]})}const Pf={tonight:{label:"Tonight",icon:Eb,description:"Things happening in the next few hours"},tomorrow:{label:"Tomorrow",icon:Ml,description:"Plan something for tomorrow"},weekend:{label:"This Weekend",icon:tg,description:"Weekend activities and events"},surprise_me:{label:"Surprise Me!",icon:qe,description:"Random exciting opportunities"}},NT={last_minute:"bg-orange-500/10 dark:bg-orange-500/20 text-orange-600 dark:text-orange-400 border-orange-200 dark:border-orange-800",trending:"bg-blue-500/10 dark:bg-blue-500/20 text-blue-600 dark:text-blue-400 border-blue-200 dark:border-blue-800",local_event:"bg-purple-500/10 dark:bg-purple-500/20 text-purple-600 dark:text-purple-400 border-purple-200 dark:border-purple-800",flash_deal:"bg-green-500/10 dark:bg-green-500/20 text-green-600 dark:text-green-400 border-green-200 dark:border-green-800"},Yxe={viator:Ai,fever:$r,amadeus:Us};function Qxe({city:t,lat:s,lng:a,showPreferencesButton:r=!0}){const[n,i]=h.useState("tonight"),[l,c]=h.useState(t||""),[u,m]=h.useState(t||""),{data:x,isLoading:f,refetch:g,isFetching:b}=Le({queryKey:["/api/spontaneous/quick-search",n,u],queryFn:async()=>{const E=new URLSearchParams;u&&E.set("city",u),s&&E.set("lat",s.toString()),a&&E.set("lng",a.toString());const R=await fetch(`/api/spontaneous/quick-search/${n}?${E}`);if(!R.ok)throw new Error("Failed to fetch opportunities");return R.json()},staleTime:1e3*60*5,refetchInterval:1e3*60*10}),v=Ot({mutationFn:async E=>(await Ft("POST",`/api/spontaneous/${E}/book`)).json(),onSuccess:E=>{E.redirectUrl&&window.open(E.redirectUrl,"_blank")}}),y=()=>{m(l)},w=E=>{E.key==="Enter"&&y()},k=(E,R)=>E===null?"Price varies":new Intl.NumberFormat("en-US",{style:"currency",currency:R||"USD"}).format(E),C=E=>E?new Date(E).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}):null,_=E=>E?new Date(E).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}):null,M=E=>E>=80?{label:"Act Now!",color:"text-red-500 dark:text-red-400"}:E>=60?{label:"Limited Time",color:"text-orange-500 dark:text-orange-400"}:E>=40?{label:"Good Deal",color:"text-yellow-500 dark:text-yellow-400"}:{label:"Available",color:"text-green-500 dark:text-green-400"};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-br from-amber-500 to-orange-500",children:e.jsx(qa,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold",children:"Spontaneous Discovery"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Real-time opportunities happening near you"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Ne,{placeholder:"Enter city...",value:l,onChange:E=>c(E.target.value),onKeyPress:w,className:"w-40 sm:w-48","data-testid":"input-spontaneous-city"}),e.jsxs(S,{size:"sm",onClick:y,"data-testid":"button-spontaneous-search",children:[e.jsx(Me,{className:"h-4 w-4 mr-1"}),"Search"]})]}),e.jsx(S,{variant:"outline",size:"icon",onClick:()=>g(),disabled:b,"data-testid":"button-refresh-opportunities",children:e.jsx(Cn,{className:`h-4 w-4 ${b?"animate-spin":""}`})})]})]}),e.jsxs(Na,{value:n,onValueChange:E=>i(E),className:"w-full",children:[e.jsx(ca,{className:"grid w-full grid-cols-4 mb-4",children:Object.keys(Pf).map(E=>{const R=Pf[E],z=R.icon;return e.jsxs(it,{value:E,className:"flex items-center gap-1.5","data-testid":`tab-${E}`,children:[e.jsx(z,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:R.label})]},E)})}),e.jsxs("div",{className:"text-sm text-muted-foreground mb-4",children:[Pf[n].description,u&&e.jsxs("span",{className:"ml-1",children:["in ",e.jsx("strong",{children:u})]})]}),e.jsx(xt,{value:n,className:"mt-0",children:f?e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[...Array(6)].map((E,R)=>e.jsxs(P,{className:"overflow-hidden",children:[e.jsx(_e,{className:"h-40 w-full"}),e.jsxs(F,{className:"p-4 space-y-3",children:[e.jsx(_e,{className:"h-4 w-3/4"}),e.jsx(_e,{className:"h-3 w-1/2"}),e.jsx(_e,{className:"h-8 w-full"})]})]},R))}):x?.opportunities&&x.opportunities.length>0?e.jsx(xm,{mode:"popLayout",children:e.jsx(He.div,{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:x.opportunities.map((E,R)=>{const z=Yxe[E.source]||Ai,A=M(E.urgencyScore);return e.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:R*.05},children:e.jsxs(P,{className:"overflow-hidden hover-elevate h-full flex flex-col","data-testid":`card-opportunity-${E.id}`,children:[E.imageUrl?e.jsxs("div",{className:"relative h-40 overflow-hidden bg-muted",children:[e.jsx("img",{src:E.imageUrl,alt:E.title,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),e.jsx("div",{className:"absolute top-2 left-2 flex gap-1",children:e.jsx(O,{variant:"secondary",className:`${NT[E.type]} text-xs`,children:E.type.replace("_"," ")})}),e.jsx("div",{className:"absolute top-2 right-2",children:e.jsxs(O,{variant:"secondary",className:"bg-white/90 text-xs",children:[e.jsx(z,{className:"h-3 w-3 mr-1"}),E.source]})}),e.jsx("div",{className:"absolute bottom-2 left-2 right-2",children:e.jsx("h3",{className:"text-white font-semibold text-sm line-clamp-2",children:E.title})})]}):e.jsxs("div",{className:"relative h-32 bg-gradient-to-br from-muted to-muted/50 flex items-center justify-center",children:[e.jsx(z,{className:"h-12 w-12 text-muted-foreground/30"}),e.jsx("div",{className:"absolute top-2 left-2 flex gap-1",children:e.jsx(O,{variant:"secondary",className:`${NT[E.type]} text-xs`,children:E.type.replace("_"," ")})})]}),e.jsxs(F,{className:"p-4 flex-1 flex flex-col",children:[!E.imageUrl&&e.jsx("h3",{className:"font-semibold text-sm line-clamp-2 mb-2",children:E.title}),e.jsxs("div",{className:"space-y-2 flex-1",children:[E.city&&e.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground",children:[e.jsx(Me,{className:"h-3 w-3"}),e.jsx("span",{children:E.city}),E.distance!==void 0&&e.jsxs("span",{children:["(",E.distance.toFixed(1)," km away)"]})]}),E.startTime&&e.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground",children:[e.jsx(Ge,{className:"h-3 w-3"}),e.jsxs("span",{children:[_(E.startTime)," at ",C(E.startTime)]})]}),E.category&&e.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground",children:[e.jsx(Di,{className:"h-3 w-3"}),e.jsx("span",{children:E.category})]}),E.trendingOn&&E.trendingOn.length>0&&e.jsxs("div",{className:"flex items-center gap-1.5 text-xs",children:[e.jsx(Xt,{className:"h-3 w-3 text-blue-500 dark:text-blue-400"}),e.jsxs("span",{className:"text-blue-600 dark:text-blue-400",children:["Trending on ",E.trendingOn.join(", ")]})]}),E.remainingSpots!==null&&E.remainingSpots>0&&E.remainingSpots<10&&e.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-red-600 dark:text-red-400",children:[e.jsx(Je,{className:"h-3 w-3"}),e.jsxs("span",{children:["Only ",E.remainingSpots," spots left!"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between mt-4 pt-3 border-t",children:[e.jsxs("div",{children:[E.currentPrice!==null?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-bold text-lg",children:k(E.currentPrice,E.currency)}),E.discountPercent&&E.discountPercent>0&&e.jsxs(O,{variant:"secondary",className:"bg-green-500/10 dark:bg-green-500/20 text-green-600 dark:text-green-400 text-xs",children:[E.discountPercent,"% off"]})]}):e.jsx("span",{className:"text-sm text-muted-foreground",children:"See details"}),e.jsx("p",{className:`text-xs ${A.color}`,children:A.label})]}),e.jsxs(S,{size:"sm",onClick:()=>{E.affiliateUrl?window.open(E.affiliateUrl,"_blank"):v.mutate(E.id)},disabled:v.isPending,"data-testid":`button-book-${E.id}`,children:[e.jsx(er,{className:"h-3.5 w-3.5 mr-1"}),"Book"]})]})]})]})},E.id)})})}):e.jsx(P,{className:"p-8 text-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"p-4 rounded-full bg-muted",children:e.jsx(ya,{className:"h-8 w-8 text-muted-foreground"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg mb-1",children:"No opportunities found"}),e.jsx("p",{className:"text-sm text-muted-foreground max-w-md mx-auto",children:u?`We couldn't find any spontaneous activities in ${u} for ${Pf[n].label.toLowerCase()}. Try a different time window or city.`:"Enter a city to discover spontaneous activities and events happening near you."})]}),e.jsxs(S,{variant:"outline",onClick:()=>g(),className:"mt-2",children:[e.jsx(Cn,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})})})]}),x?.refreshedAt&&e.jsxs("p",{className:"text-xs text-muted-foreground text-center",children:["Last updated: ",new Date(x.refreshedAt).toLocaleTimeString()]})]})}function Xxe(){return e.jsx(Yt,{children:e.jsxs("div",{className:"container mx-auto py-8 px-4 max-w-7xl",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Live Intel Engine"}),e.jsx("p",{className:"text-muted-foreground max-w-2xl",children:"Discover spontaneous activities, trending experiences, and last-minute deals happening in real-time. Enter a city to find opportunities happening tonight, tomorrow, or this weekend."})]}),e.jsx(Qxe,{})]})})}const Zxe={local_food_secrets:i0,hidden_viewpoints:ld,off_tourist_path:dr,seasonal_events:ya,cultural_experiences:rg,secret_beaches:Ab,street_art:rg,local_markets:Vu,sunset_spots:Ab,historic_gems:Cd,nature_escapes:Rh,nightlife_secrets:ei};function Jxe(){const{toast:t}=Bs(),[s,a]=h.useState(""),[r,n]=h.useState("all"),[i,l]=h.useState(""),{data:c,isLoading:u}=Le({queryKey:["/api/discovery/categories"]}),m=new URLSearchParams;s&&m.append("destination",s),r!=="all"&&m.append("category",r),m.append("limit","50");const x=`/api/discovery/gems?${m.toString()}`,{data:f,isLoading:g,error:b}=Le({queryKey:[x]}),{data:v}=Le({queryKey:["/api/discovery/destinations"]}),y=Ot({mutationFn:async R=>Ft("POST","/api/discovery/scan",{destination:R}),onSuccess:R=>{t({title:"Discovery Complete",description:R.message||`Discovered ${R.totalGems} hidden gems!`}),_t.invalidateQueries({predicate:z=>{const A=z.queryKey[0];return typeof A=="string"&&A.startsWith("/api/discovery/gems")}}),_t.invalidateQueries({queryKey:["/api/discovery/destinations"]}),l("")},onError:R=>{t({title:"Discovery Failed",description:R.message||"Failed to discover hidden gems",variant:"destructive"})}}),w=c?.categories||[],k=f?.gems||[],C=v?.destinations||[],_=()=>{if(!i.trim()){t({title:"Enter a destination",description:"Please enter a city or destination to discover hidden gems",variant:"destructive"});return}y.mutate(i.trim())},M=R=>{const z=Zxe[R]||cr;return e.jsx(z,{className:"h-4 w-4"})},E=R=>{switch(R){case"free":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"budget":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"moderate":return"bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-200";case"expensive":return"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200";default:return""}};return e.jsxs("div",{className:"container mx-auto py-8 px-4 space-y-8","data-testid":"hidden-gems-page",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(cr,{className:"h-8 w-8 text-primary"}),e.jsx("h1",{className:"text-3xl font-bold","data-testid":"text-page-title",children:"Hidden Gems"})]}),e.jsx("p",{className:"text-muted-foreground",children:"AI-discovered local secrets and authentic experiences that tourists rarely find"})]}),e.jsxs(P,{children:[e.jsxs(Q,{children:[e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(qe,{className:"h-5 w-5"}),"Discover New Destinations"]}),e.jsx(Tt,{children:"Let AI scan a destination and uncover hidden gems across all categories"})]}),e.jsxs(F,{children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Ne,{placeholder:"Enter a city (e.g., Barcelona, Tokyo, Lisbon...)",value:i,onChange:R=>l(R.target.value),onKeyDown:R=>R.key==="Enter"&&_(),className:"flex-1","data-testid":"input-discover-destination"}),e.jsx(S,{onClick:_,disabled:y.isPending,"data-testid":"button-discover",children:y.isPending?e.jsxs(e.Fragment,{children:[e.jsx(qe,{className:"h-4 w-4 mr-2 animate-pulse"}),"Discovering..."]}):e.jsxs(e.Fragment,{children:[e.jsx(qe,{className:"h-4 w-4 mr-2"}),"Discover Gems"]})})]}),y.isPending&&e.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Grok is researching local secrets... This may take a moment."})]})]}),C.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Explore Destinations"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:C.map(R=>e.jsxs(S,{variant:s===R.destination?"default":"outline",size:"sm",onClick:()=>a(s===R.destination?"":R.destination),"data-testid":`button-destination-${R.destination}`,children:[e.jsx(Me,{className:"h-3 w-3 mr-1"}),R.destination,e.jsx(O,{variant:"secondary",className:"ml-2","data-testid":`badge-gem-count-${R.destination}`,children:R.gemCount})]},R.destination))})]}),e.jsxs(Na,{value:r,onValueChange:n,children:[e.jsxs(ca,{className:"flex flex-wrap h-auto gap-1",children:[e.jsxs(it,{value:"all","data-testid":"tab-all",children:[e.jsx(cr,{className:"h-4 w-4 mr-1"}),"All"]}),u?e.jsx(_e,{className:"h-8 w-32","data-testid":"skeleton-categories"}):w.map(R=>e.jsxs(it,{value:R.value,"data-testid":`tab-${R.value}`,children:[M(R.value),e.jsx("span",{className:"ml-1",children:R.label})]},R.value))]}),e.jsx(xt,{value:r,className:"mt-6",children:b?e.jsx(P,{"data-testid":"card-gems-error",children:e.jsxs(F,{className:"py-12 text-center",children:[e.jsx("div",{className:"text-destructive mb-4","data-testid":"text-error-title",children:"Failed to load hidden gems"}),e.jsx("p",{className:"text-muted-foreground","data-testid":"text-error-message",children:"Please try again later"})]})}):g?e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[1,2,3,4,5,6].map(R=>e.jsx(P,{children:e.jsxs(F,{className:"pt-6 space-y-4",children:[e.jsx(_e,{className:"h-6 w-3/4"}),e.jsx(_e,{className:"h-20 w-full"}),e.jsx(_e,{className:"h-4 w-1/2"})]})},R))}):k.length===0?e.jsx(P,{"data-testid":"card-gems-empty",children:e.jsxs(F,{className:"py-12 text-center",children:[e.jsx(cr,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2","data-testid":"text-empty-title",children:"No hidden gems yet"}),e.jsx("p",{className:"text-muted-foreground mb-4","data-testid":"text-empty-message",children:s?`No gems found for ${s}. Try discovering new ones!`:"Start by discovering gems for a destination above"})]})}):e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:k.map(R=>e.jsxs(P,{className:"hover-elevate","data-testid":`card-gem-${R.id}`,children:[e.jsxs(Q,{className:"pb-3",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[M(R.category),e.jsx(O,{variant:"secondary",className:"text-xs","data-testid":`badge-category-${R.id}`,children:w.find(z=>z.value===R.category)?.label||R.category})]}),R.priceRange&&e.jsx(O,{className:E(R.priceRange),"data-testid":`badge-price-${R.id}`,children:R.priceRange})]}),e.jsx(X,{className:"text-lg mt-2","data-testid":`text-gem-name-${R.id}`,children:R.name}),R.approximateLocation&&e.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[e.jsx(Me,{className:"h-3 w-3"}),R.approximateLocation,", ",R.destination]})]}),e.jsxs(F,{className:"space-y-3",children:[e.jsx("p",{className:"text-sm text-muted-foreground","data-testid":`text-gem-description-${R.id}`,children:R.description}),R.whySpecial&&e.jsxs("div",{className:"bg-primary/5 p-3 rounded-md","data-testid":`section-special-${R.id}`,children:[e.jsxs("div",{className:"flex items-center gap-1 text-xs font-medium text-primary mb-1",children:[e.jsx(rt,{className:"h-3 w-3"}),"What makes it special"]}),e.jsx("p",{className:"text-sm",children:R.whySpecial})]}),R.insiderTip&&e.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 p-3 rounded-md","data-testid":`section-tip-${R.id}`,children:[e.jsxs("div",{className:"flex items-center gap-1 text-xs font-medium text-amber-700 dark:text-amber-300 mb-1",children:[e.jsx(zn,{className:"h-3 w-3"}),"Insider Tip"]}),e.jsx("p",{className:"text-sm",children:R.insiderTip})]}),R.bestTimeToVisit&&e.jsxs("div",{className:"flex items-center gap-2 text-sm","data-testid":`section-best-time-${R.id}`,children:[e.jsx(Je,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-muted-foreground",children:"Best time:"}),e.jsx("span",{"data-testid":`text-best-time-${R.id}`,children:R.bestTimeToVisit})]}),R.tags&&R.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1","data-testid":`section-tags-${R.id}`,children:R.tags.map((z,A)=>e.jsx(O,{variant:"outline",className:"text-xs","data-testid":`badge-tag-${R.id}-${A}`,children:z},A))}),e.jsxs("div",{className:"flex items-center gap-4 pt-2 text-xs text-muted-foreground border-t","data-testid":`section-stats-${R.id}`,children:[e.jsxs("div",{className:"flex items-center gap-1","data-testid":`text-views-${R.id}`,children:[e.jsx(Er,{className:"h-3 w-3"}),R.viewCount||0," views"]}),e.jsxs("div",{className:"flex items-center gap-1","data-testid":`text-saves-${R.id}`,children:[e.jsx(b_,{className:"h-3 w-3"}),R.saveCount||0," saves"]})]})]})]},R.id))})})]})]})}function wT({type:t="search",from:s,to:a,language:r="en",className:n=""}){const i=h.useRef(null),l="13805109";return h.useEffect(()=>{if(!i.current)return;const c=i.current;if(c.innerHTML="",t==="search"){const u=document.createElement("iframe");let m=`https://12go.asia/en/searchwidget?z=0&marker=${l}`;s&&(m+=`&from=${encodeURIComponent(s)}`),a&&(m+=`&to=${encodeURIComponent(a)}`),u.src=m,u.width="100%",u.height="400",u.style.border="none",u.style.borderRadius="8px",u.title="12Go Transportation Search",c.appendChild(u)}else if(t==="timetable"){const u=document.createElement("iframe");let m=`https://12go.asia/en/timetable?marker=${l}`;s&&a&&(m=`https://12go.asia/en/travel/${encodeURIComponent(s)}/${encodeURIComponent(a)}?marker=${l}`),u.src=m,u.width="100%",u.height="500",u.style.border="none",u.style.borderRadius="8px",u.title="12Go Timetable",c.appendChild(u)}else if(t==="city"){const u=document.createElement("iframe"),m=s||"bangkok";u.src=`https://12go.asia/en/travel/${encodeURIComponent(m)}?marker=${l}`,u.width="100%",u.height="500",u.style.border="none",u.style.borderRadius="8px",u.title=`Transportation from ${m}`,c.appendChild(u)}return()=>{c&&(c.innerHTML="")}},[t,s,a,r]),e.jsxs(P,{className:n,children:[e.jsx(Q,{className:"pb-3",children:e.jsxs(X,{className:"flex items-center gap-2 text-lg",children:[e.jsx(Ma,{className:"h-5 w-5"}),"Book Transportation with 12Go"]})}),e.jsxs(F,{children:[e.jsx("div",{ref:i,className:"min-h-[400px] rounded-lg overflow-hidden","data-testid":"twelve-go-widget-container"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-3 text-center",children:"Powered by 12Go Asia - Trains, buses, ferries & flights across Asia"})]})]})}function epe({from:t,to:s,children:a,className:r=""}){const i=`https://12go.asia/en/travel/${encodeURIComponent(t)}/${encodeURIComponent(s)}?marker=13805109`;return e.jsx("a",{href:i,target:"_blank",rel:"noopener noreferrer",className:r,"data-testid":`twelve-go-link-${t}-${s}`,children:a})}const tpe=[{from:"bangkok",to:"chiang-mai",label:"Bangkok  Chiang Mai",icon:Ma},{from:"bangkok",to:"phuket",label:"Bangkok  Phuket",icon:Jr},{from:"phuket",to:"phi-phi",label:"Phuket  Koh Phi Phi",icon:Rf},{from:"siem-reap",to:"bangkok",label:"Siem Reap  Bangkok",icon:Jr},{from:"hanoi",to:"sapa",label:"Hanoi  Sapa",icon:Jr},{from:"kuala-lumpur",to:"singapore",label:"KL  Singapore",icon:Jr}];function spe(){const[t,s]=h.useState(""),[a,r]=h.useState(""),[n,i]=h.useState({}),l=()=>{t&&a&&i({from:t.toLowerCase().replace(/\s+/g,"-"),to:a.toLowerCase().replace(/\s+/g,"-")})};return e.jsxs("div",{className:"container mx-auto py-8 px-4 max-w-6xl",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Book Ground Transportation"}),e.jsx("p",{className:"text-muted-foreground",children:"Trains, buses, ferries and more across Southeast Asia"})]}),e.jsxs(Na,{defaultValue:"search",className:"space-y-6",children:[e.jsxs(ca,{children:[e.jsx(it,{value:"search","data-testid":"tab-search",children:"Search"}),e.jsx(it,{value:"popular","data-testid":"tab-popular",children:"Popular Routes"})]}),e.jsxs(xt,{value:"search",className:"space-y-6",children:[e.jsxs(P,{children:[e.jsxs(Q,{children:[e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(Me,{className:"h-5 w-5"}),"Custom Route Search"]}),e.jsx(Tt,{children:"Enter your origin and destination to search for available transportation"})]}),e.jsx(F,{children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-end",children:[e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx(ye,{htmlFor:"from",children:"From"}),e.jsx(Ne,{id:"from",placeholder:"e.g., Bangkok",value:t,onChange:c=>s(c.target.value),"data-testid":"input-from"})]}),e.jsx(Kt,{className:"hidden sm:block h-5 w-5 text-muted-foreground mb-2"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx(ye,{htmlFor:"to",children:"To"}),e.jsx(Ne,{id:"to",placeholder:"e.g., Chiang Mai",value:a,onChange:c=>r(c.target.value),"data-testid":"input-to"})]}),e.jsx(S,{onClick:l,disabled:!t||!a,"data-testid":"button-search",children:"Search Routes"})]})})]}),n.from&&n.to?e.jsx(wT,{type:"timetable",from:n.from,to:n.to}):e.jsx(wT,{type:"search"})]}),e.jsxs(xt,{value:"popular",className:"space-y-6",children:[e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:tpe.map(c=>e.jsx(epe,{from:c.from,to:c.to,className:"block",children:e.jsx(P,{className:"hover-elevate cursor-pointer h-full",children:e.jsx(F,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:e.jsx(c.icon,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:c.label}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"View schedules & prices"})]})]})})})},`${c.from}-${c.to}`))}),e.jsx(P,{className:"bg-muted/50",children:e.jsx(F,{className:"pt-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-3 rounded-full bg-primary/10",children:e.jsx(Ma,{className:"h-6 w-6 text-primary"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-1",children:"Why Book with 12Go?"}),e.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[e.jsx("li",{children:" Compare all operators in one place"}),e.jsx("li",{children:" Instant e-tickets - no printing needed"}),e.jsx("li",{children:" 24/7 customer support"}),e.jsx("li",{children:" Free cancellation on many routes"})]})]})]})})})]})]})]})}function ape(){return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("header",{className:"bg-white dark:bg-gray-900 border-b sticky top-0 z-50",children:e.jsx("div",{className:"container mx-auto px-4 max-w-4xl",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsx(Ce,{href:"/",children:e.jsxs(S,{variant:"ghost",className:"gap-2","data-testid":"link-back-home",children:[e.jsx(la,{className:"w-4 h-4"}),"Back to Home"]})}),e.jsx("span",{className:"font-semibold text-lg",children:"Traveloure"}),e.jsx("div",{className:"w-24"})]})})}),e.jsxs("main",{className:"container mx-auto px-4 py-12 max-w-4xl",children:[e.jsx("h1",{className:"text-4xl font-bold mb-2","data-testid":"text-privacy-title",children:"Privacy Policy"}),e.jsx("p",{className:"text-muted-foreground mb-8",children:"Effective Date: January 25, 2026"}),e.jsxs("div",{className:"prose prose-gray dark:prose-invert max-w-none space-y-8",children:[e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"1. Introduction"}),e.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:'Traveloure LLC ("Traveloure," "we," "us," or "our") operates a three-party marketplace platform connecting travelers with authenticated Local Experts and Service Providers to facilitate personalized travel experiences and life events. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you use our platform, whether as a Traveler, Local Expert, or Service Provider.'}),e.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"We are committed to protecting your privacy and complying with applicable data protection laws, including the General Data Protection Regulation (GDPR), California Consumer Privacy Act (CCPA), and other international privacy regulations."}),e.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"By accessing or using Traveloure, you acknowledge that you have read, understood, and agree to be bound by this Privacy Policy. If you do not agree with this Privacy Policy, please do not access or use our services."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"2. Information We Collect"}),e.jsx("h3",{className:"text-xl font-medium mb-3",children:"2.1 Information You Provide Directly"}),e.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"We collect information that you voluntarily provide when you:"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground mb-6",children:[e.jsx("li",{children:"Create an account (name, email address, password, phone number, profile photo)"}),e.jsx("li",{children:"Complete your user profile (travel preferences, interests, accessibility needs, dietary restrictions)"}),e.jsx("li",{children:"Apply as a Local Expert (professional qualifications, certifications, work history, language skills, areas of expertise, government-issued identification for verification)"}),e.jsx("li",{children:"Register as a Service Provider (business information, licensing, insurance documentation, service descriptions, pricing)"}),e.jsx("li",{children:"Book services or experiences (trip details, dates, participant information, special requests)"}),e.jsx("li",{children:"Communicate through our platform (messages, reviews, ratings, feedback)"}),e.jsx("li",{children:"Contact customer support (correspondence, support tickets, complaints)"}),e.jsx("li",{children:"Participate in surveys, promotions, or contests"})]}),e.jsx("h3",{className:"text-xl font-medium mb-3",children:"2.2 Payment Information"}),e.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"Payment processing is handled through Stripe Connect. We do not directly store complete credit card numbers. We collect:"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground mb-6",children:[e.jsx("li",{children:"Billing address and contact information"}),e.jsx("li",{children:"Last four digits of credit/debit cards for display purposes"}),e.jsx("li",{children:"Payment transaction history and records"}),e.jsx("li",{children:"Platform credit balances and usage"}),e.jsx("li",{children:"For Experts and Providers: bank account information, tax identification numbers, payout preferences (processed securely through Stripe Connect)"})]}),e.jsx("h3",{className:"text-xl font-medium mb-3",children:"2.3 Automatically Collected Information"}),e.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"When you access our platform, we automatically collect:"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground mb-6",children:[e.jsx("li",{children:"Device information (IP address, browser type, operating system, device identifiers)"}),e.jsx("li",{children:"Usage data (pages viewed, features used, time spent, search queries, click patterns)"}),e.jsx("li",{children:"Location information (approximate location based on IP address; precise location if you grant permission)"}),e.jsx("li",{children:"Cookies and similar tracking technologies (see Section 11)"}),e.jsx("li",{children:"Log files (access times, error logs, performance data)"})]}),e.jsx("h3",{className:"text-xl font-medium mb-3",children:"2.4 Information from Third Parties"}),e.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"We may receive information about you from third-party sources:"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground mb-6",children:[e.jsx("li",{children:"Background verification services (for Expert and Provider vetting)"}),e.jsx("li",{children:"Social media platforms (if you connect your account or use social login)"}),e.jsx("li",{children:"Travel inventory partners (Viator, GetYourGuide, Klook, Fever, Musement, 12Go)"}),e.jsx("li",{children:"Payment processors and financial institutions"}),e.jsx("li",{children:"Analytics and marketing service providers"}),e.jsx("li",{children:"Publicly available sources for identity verification"})]}),e.jsx("h3",{className:"text-xl font-medium mb-3",children:"2.5 Social Media Information (Facebook/Instagram)"}),e.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"When you connect your Facebook or Instagram account, we may collect:"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[e.jsx("li",{children:"Your public profile information (name, email, profile picture)"}),e.jsx("li",{children:"Instagram username and follower count (for influencer verification)"}),e.jsx("li",{children:"Account type (personal, business, or creator)"}),e.jsx("li",{children:"Linked Facebook Pages (if applicable)"})]}),e.jsx("p",{className:"text-muted-foreground leading-relaxed mt-4",children:"We do not post to your social media accounts without your explicit permission. We comply with Meta's Platform Terms and Developer Policies."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"3. How We Use Your Information"}),e.jsx("h3",{className:"text-xl font-medium mb-3",children:"3.1 Platform Operations"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground mb-6",children:[e.jsx("li",{children:"Create and manage your account"}),e.jsx("li",{children:"Facilitate connections between Travelers, Experts, and Service Providers"}),e.jsx("li",{children:"Process bookings, reservations, and transactions"}),e.jsx("li",{children:"Enable communication between users through our platform"}),e.jsx("li",{children:"Display relevant content, recommendations, and search results"}),e.jsx("li",{children:"Manage platform credits and process payments"})]}),e.jsx("h3",{className:"text-xl font-medium mb-3",children:"3.2 Safety and Trust"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground mb-6",children:[e.jsx("li",{children:"Verify identity and credentials of Experts and Service Providers"}),e.jsx("li",{children:"Conduct background checks and screening processes"}),e.jsx("li",{children:"Monitor and prevent fraud, abuse, and security incidents"}),e.jsx("li",{children:"Enforce our Terms of Service and policies"}),e.jsx("li",{children:"Investigate and resolve disputes and complaints"}),e.jsx("li",{children:"Comply with legal obligations and regulatory requirements"})]}),e.jsx("h3",{className:"text-xl font-medium mb-3",children:"3.3 Customer Service and Support"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground mb-6",children:[e.jsx("li",{children:"Respond to your inquiries and support requests"}),e.jsx("li",{children:"Provide customer service and technical assistance"}),e.jsx("li",{children:"Send service-related notifications and updates"}),e.jsx("li",{children:"Gather feedback to improve our services"})]}),e.jsx("h3",{className:"text-xl font-medium mb-3",children:"3.4 Platform Improvement and Personalization"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground mb-6",children:[e.jsx("li",{children:"Analyze usage patterns and trends"}),e.jsx("li",{children:"Conduct research, testing, and development"}),e.jsx("li",{children:"Personalize your experience and provide tailored recommendations"}),e.jsx("li",{children:"Develop new features and services"}),e.jsx("li",{children:"Optimize platform performance and user experience"})]}),e.jsx("h3",{className:"text-xl font-medium mb-3",children:"3.5 Marketing and Communications"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[e.jsx("li",{children:"Send promotional materials, newsletters, and special offers (with your consent)"}),e.jsx("li",{children:"Conduct marketing campaigns and analytics"}),e.jsx("li",{children:"Measure advertising effectiveness"}),e.jsx("li",{children:"Manage loyalty and referral programs"})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"4. Information Sharing and Disclosure"}),e.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"We share your information in the following circumstances:"}),e.jsx("h3",{className:"text-xl font-medium mb-3",children:"4.1 Within the Platform Ecosystem"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground mb-6",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Travelers, Experts, and Service Providers:"})," Information necessary to facilitate bookings and services (names, contact information, trip details, special requirements)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Public profiles:"})," Information you choose to make public (profile photos, bios, reviews, ratings, areas of expertise)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Reviews and ratings:"})," Public feedback about experiences, experts, and service providers"]})]}),e.jsx("h3",{className:"text-xl font-medium mb-3",children:"4.2 Service Providers and Business Partners"}),e.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"We share information with third-party service providers who perform services on our behalf:"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground mb-6",children:[e.jsx("li",{children:"Payment processors (Stripe Connect for transaction processing and payouts)"}),e.jsx("li",{children:"Background verification services (for Expert and Provider screening)"}),e.jsx("li",{children:"Cloud hosting and data storage providers"}),e.jsx("li",{children:"Email and communication service providers"}),e.jsx("li",{children:"Analytics and marketing platforms"}),e.jsx("li",{children:"Customer support tools and ticketing systems"}),e.jsx("li",{children:"Travel inventory partners (Viator, GetYourGuide, Klook, Fever, Musement, 12Go)"})]}),e.jsx("h3",{className:"text-xl font-medium mb-3",children:"4.3 Legal Obligations and Protection"}),e.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"We may disclose your information when required by law or to protect our rights:"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground mb-6",children:[e.jsx("li",{children:"Comply with legal process, court orders, or governmental requests"}),e.jsx("li",{children:"Enforce our Terms of Service and other agreements"}),e.jsx("li",{children:"Protect the safety, rights, or property of Traveloure, our users, or the public"}),e.jsx("li",{children:"Detect, prevent, or address fraud, security, or technical issues"}),e.jsx("li",{children:"Respond to claims that content violates third-party rights"}),e.jsx("li",{children:"Comply with Anti-Money Laundering (AML) and Know Your Customer (KYC) regulations"})]}),e.jsx("h3",{className:"text-xl font-medium mb-3",children:"4.4 Business Transfers"}),e.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"In the event of a merger, acquisition, reorganization, bankruptcy, or sale of assets, your information may be transferred as part of that transaction. We will notify you of any such change and any choices you may have regarding your information."}),e.jsx("h3",{className:"text-xl font-medium mb-3",children:"4.5 With Your Consent"}),e.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"We may share your information for other purposes with your explicit consent or at your direction. We never sell your personal information to third parties."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"5. International Data Transfers"}),e.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"Traveloure operates across eight strategic global markets: Mumbai, Bogot, Goa, Kyoto, Edinburgh, Cartagena, Jaipur, and Porto. Your information may be transferred to, stored, and processed in the United States and other countries where our service providers operate."}),e.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"When we transfer personal data from the European Economic Area (EEA), United Kingdom, or Switzerland to other countries, we implement appropriate safeguards:"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[e.jsx("li",{children:"Standard Contractual Clauses approved by the European Commission"}),e.jsx("li",{children:"Adequacy decisions by the European Commission"}),e.jsx("li",{children:"Binding Corporate Rules for transfers within our corporate group"}),e.jsx("li",{children:"Data Processing Agreements with third-party service providers"})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"6. Data Retention"}),e.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"We retain your personal information for as long as necessary to fulfill the purposes outlined in this Privacy Policy, unless a longer retention period is required or permitted by law. Specific retention periods include:"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground mb-4",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Account information:"})," Retained for the duration of your active account plus 7 years after account closure (for legal, tax, and audit purposes)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Transaction records:"})," 7 years from transaction date (for financial reporting and regulatory compliance)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Verification documents:"})," 7 years from verification date or account closure"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Communication records:"})," 3 years from last interaction (for customer service quality and dispute resolution)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Marketing communications:"})," Until you opt-out or withdraw consent"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Usage logs and analytics:"})," 2 years from collection"]})]}),e.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"After the retention period expires, we securely delete or anonymize your personal information. Some information may be retained in backup systems for up to 90 days after the retention period."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"7. Data Security"}),e.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"We implement comprehensive security measures to protect your information:"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground mb-4",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Encryption:"})," Data encrypted in transit (TLS 1.2+) and at rest (AES-256)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Secure payment processing:"})," PCI DSS compliance through Stripe Connect"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Access controls:"})," Role-based access with multi-factor authentication for employees"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Network security:"})," Firewalls, intrusion detection, and regular security audits"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Data segregation:"})," Customer funds held in FDIC-insured segregated accounts"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Incident response:"})," Established protocols for security breach detection and response"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Regular testing:"})," Penetration testing and vulnerability assessments"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Employee training:"})," Regular security awareness training for staff"]})]}),e.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"While we strive to protect your information, no security system is impenetrable. We cannot guarantee absolute security. If you become aware of any security vulnerability or breach, please contact us immediately at admin@traveloure.com."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"8. Your Rights and Choices"}),e.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"Depending on your location and applicable law, you may have the following rights regarding your personal information:"}),e.jsx("h3",{className:"text-xl font-medium mb-3",children:"8.1 GDPR Rights (EEA, UK, Switzerland)"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground mb-6",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Right of access:"})," Request a copy of your personal data"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Right to rectification:"})," Correct inaccurate or incomplete data"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Right to erasure (right to be forgotten):"})," Request deletion of your data"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Right to restriction of processing:"})," Limit how we use your data"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Right to data portability:"})," Receive your data in a structured, machine-readable format"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Right to object:"})," Object to processing based on legitimate interests or for direct marketing"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Right to withdraw consent:"})," Withdraw consent for processing at any time"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Right to lodge a complaint:"})," File a complaint with your local data protection authority"]})]}),e.jsx("h3",{className:"text-xl font-medium mb-3",children:"8.2 CCPA Rights (California Residents)"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground mb-6",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Right to know:"})," Request disclosure of categories and specific pieces of personal information collected"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Right to delete:"})," Request deletion of personal information"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Right to opt-out:"})," Opt-out of sale of personal information (Note: We do not sell personal information)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Right to non-discrimination:"})," Equal service and pricing regardless of privacy choices"]})]}),e.jsx("h3",{className:"text-xl font-medium mb-3",children:"8.3 General Rights (All Users)"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground mb-6",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Account management:"})," Update your profile and preferences through account settings"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Communication preferences:"})," Unsubscribe from marketing emails via links in messages or account settings"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Cookie controls:"})," Manage cookie preferences through browser settings or our cookie consent tool"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Location services:"})," Disable location tracking through device settings"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Account closure:"})," Request account deletion (subject to legal retention requirements)"]})]}),e.jsx("h3",{className:"text-xl font-medium mb-3",children:"8.4 Exercising Your Rights"}),e.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"To exercise any of these rights, please:"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[e.jsx("li",{children:"Email us at admin@traveloure.com"}),e.jsx("li",{children:"Submit a request through your account settings"})]}),e.jsx("p",{className:"text-muted-foreground leading-relaxed mt-4",children:"We will respond to verified requests within 30 days (or as required by applicable law). We may need to verify your identity before processing your request."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"9. Third-Party Services and Links"}),e.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"Our platform integrates with and may contain links to third-party services, including:"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground mb-4",children:[e.jsx("li",{children:"Travel inventory providers (Viator, GetYourGuide, Klook, Fever, Musement, 12Go)"}),e.jsx("li",{children:"Payment processors (Stripe)"}),e.jsx("li",{children:"Social media platforms (Meta/Facebook/Instagram)"}),e.jsx("li",{children:"Analytics and advertising services"}),e.jsx("li",{children:"Mapping and location services"}),e.jsx("li",{children:"Customer support tools"})]}),e.jsxs("p",{className:"text-muted-foreground leading-relaxed",children:["These third-party services have their own privacy policies. We are not responsible for their practices. We encourage you to review their privacy policies before providing information to them. For more information about Meta's data practices, visit"," ",e.jsx("a",{href:"https://www.facebook.com/privacy/policy",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"Facebook's Privacy Policy"}),"."]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"10. Children's Privacy"}),e.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"Traveloure is not directed to individuals under the age of 18. We do not knowingly collect personal information from children under 18. If you are under 18, please do not use our services or provide any personal information."}),e.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"If we become aware that we have collected personal information from a child under 18 without parental consent, we will take steps to delete that information. If you believe we have collected information from a child under 18, please contact us immediately at admin@traveloure.com."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"11. Cookies and Tracking Technologies"}),e.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"We use cookies and similar tracking technologies to enhance your experience and gather information about visitors and visits to our platform."}),e.jsx("h3",{className:"text-xl font-medium mb-3",children:"11.1 Types of Cookies We Use"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground mb-6",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Essential cookies:"})," Required for platform functionality (authentication, security, preferences)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Performance cookies:"})," Collect information about how you use our platform (analytics, error tracking)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Functional cookies:"})," Remember your preferences and personalization settings"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Marketing cookies:"})," Track your activity across websites for advertising purposes"]})]}),e.jsx("h3",{className:"text-xl font-medium mb-3",children:"11.2 Third-Party Tracking"}),e.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"We use third-party analytics and advertising services that may collect information through cookies and similar technologies:"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground mb-6",children:[e.jsx("li",{children:"Google Analytics: Website usage analytics"}),e.jsx("li",{children:"Facebook Pixel: Advertising and conversion tracking"}),e.jsx("li",{children:"Marketing automation platforms: Email campaign tracking"})]}),e.jsx("h3",{className:"text-xl font-medium mb-3",children:"11.3 Managing Cookies"}),e.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"You can control cookies through:"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[e.jsx("li",{children:"Our cookie consent tool (available on first visit and in settings)"}),e.jsx("li",{children:"Browser settings (most browsers allow you to refuse or delete cookies)"}),e.jsx("li",{children:"Opt-out tools provided by advertising networks"})]}),e.jsx("p",{className:"text-muted-foreground leading-relaxed mt-4",children:"Note: Disabling essential cookies may affect platform functionality. Performance, functional, and marketing cookies are optional."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"12. Do Not Track Signals"}),e.jsx("p",{className:"text-muted-foreground leading-relaxed",children:'Some browsers offer a "Do Not Track" (DNT) signal. Because there is no common understanding of how to interpret DNT signals, our platform does not currently respond to DNT browser signals. We continue to monitor developments and may implement DNT signal recognition in the future.'})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"13. Changes to This Privacy Policy"}),e.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"We may update this Privacy Policy from time to time to reflect changes in our practices, technology, legal requirements, or other factors. When we make material changes, we will:"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[e.jsx("li",{children:"Post the updated Privacy Policy on our platform"}),e.jsx("li",{children:'Update the "Effective Date" at the top of this document'}),e.jsx("li",{children:"Notify you via email or prominent notice on our platform"}),e.jsx("li",{children:"For material changes affecting your rights, obtain your consent where required by law"})]}),e.jsx("p",{className:"text-muted-foreground leading-relaxed mt-4",children:"Your continued use of Traveloure after changes become effective constitutes acceptance of the updated Privacy Policy. We encourage you to review this Privacy Policy periodically."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"14. Contact Information"}),e.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"If you have questions, concerns, or requests regarding this Privacy Policy or our data practices, please contact us:"}),e.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[e.jsx("p",{className:"font-medium",children:"Traveloure LLC"}),e.jsx("p",{className:"text-muted-foreground",children:"Data Protection Officer"}),e.jsx("p",{className:"text-muted-foreground",children:"Email: admin@traveloure.com"}),e.jsx("p",{className:"text-muted-foreground",children:"Website: www.traveloure.com"})]}),e.jsx("p",{className:"text-muted-foreground leading-relaxed mt-4",children:"We will respond to all legitimate requests within 30 days or as required by applicable law."})]}),e.jsx("div",{className:"p-4 bg-muted/50 rounded-lg mt-8",children:e.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"This Privacy Policy was last updated on January 25, 2026. Thank you for trusting Traveloure with your personal information."})})]}),e.jsx("div",{className:"mt-12 pt-8 border-t",children:e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsx(Ce,{href:"/terms",children:e.jsx(S,{variant:"outline","data-testid":"link-terms",children:"Terms of Service"})}),e.jsx(Ce,{href:"/",children:e.jsx(S,{variant:"outline","data-testid":"link-home",children:"Back to Home"})})]})})]})]})}function rpe(){return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("header",{className:"bg-white dark:bg-gray-900 border-b sticky top-0 z-50",children:e.jsx("div",{className:"container mx-auto px-4 max-w-4xl",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsx(Ce,{href:"/",children:e.jsxs(S,{variant:"ghost",className:"gap-2","data-testid":"link-back-home",children:[e.jsx(la,{className:"w-4 h-4"}),"Back to Home"]})}),e.jsx("span",{className:"font-semibold text-lg",children:"Traveloure"}),e.jsx("div",{className:"w-24"})]})})}),e.jsxs("main",{className:"container mx-auto px-4 py-12 max-w-4xl",children:[e.jsx("h1",{className:"text-4xl font-bold mb-2","data-testid":"text-terms-title",children:"Terms and Conditions"}),e.jsx("p",{className:"text-muted-foreground mb-8",children:"Effective Date: January 25, 2026"}),e.jsxs("div",{className:"prose prose-gray dark:prose-invert max-w-none space-y-8",children:[e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"1. Agreement to Terms"}),e.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:'These Terms and Conditions ("Terms") constitute a legally binding agreement between you and Traveloure LLC ("Traveloure," "we," "us," or "our") governing your access to and use of the Traveloure platform, website, mobile applications, and related services (collectively, the "Platform").'}),e.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4 font-medium",children:"BY ACCESSING OR USING THE PLATFORM, YOU AGREE TO BE BOUND BY THESE TERMS AND OUR PRIVACY POLICY. IF YOU DO NOT AGREE TO THESE TERMS, DO NOT ACCESS OR USE THE PLATFORM."}),e.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"We reserve the right to modify these Terms at any time. Material changes will be communicated via email or prominent notice on the Platform. Your continued use after changes become effective constitutes acceptance of the modified Terms."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"2. Platform Description"}),e.jsx("h3",{className:"text-xl font-medium mb-3",children:"2.1 Three-Party Marketplace"}),e.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"Traveloure operates as a three-party marketplace connecting:"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground mb-6",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Travelers:"})," Individuals seeking personalized travel experiences and life event planning services"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Local Experts:"})," Authenticated professionals providing consultation, cultural interpretation, and personalized planning services"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Service Providers:"})," Businesses and individuals offering travel services, accommodations, activities, and experiences"]})]}),e.jsx("h3",{className:"text-xl font-medium mb-3",children:"2.2 Platform Role"}),e.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"Traveloure acts as an intermediary platform that facilitates connections and transactions between users. We do not:"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground mb-6",children:[e.jsx("li",{children:"Directly provide travel services, accommodations, or experiences"}),e.jsx("li",{children:"Employ Local Experts or Service Providers as our agents or employees"}),e.jsx("li",{children:"Guarantee the quality, safety, or legality of services offered through the Platform"}),e.jsx("li",{children:"Control or manage the day-to-day operations of Experts or Providers"})]}),e.jsx("h3",{className:"text-xl font-medium mb-3",children:"2.3 Service Areas"}),e.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Traveloure currently operates in eight strategic global markets: Mumbai, Bogot, Goa, Kyoto, Edinburgh, Cartagena, Jaipur, and Porto. We may expand to additional markets without prior notice."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"3. User Accounts and Registration"}),e.jsx("h3",{className:"text-xl font-medium mb-3",children:"3.1 Account Creation"}),e.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"To use certain features of the Platform, you must create an account. You agree to:"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground mb-6",children:[e.jsx("li",{children:"Provide accurate, current, and complete information"}),e.jsx("li",{children:"Maintain and promptly update your account information"}),e.jsx("li",{children:"Maintain the security of your password and account"}),e.jsx("li",{children:"Notify us immediately of any unauthorized access or security breach"}),e.jsx("li",{children:"Accept responsibility for all activities under your account"})]}),e.jsx("h3",{className:"text-xl font-medium mb-3",children:"3.2 Eligibility"}),e.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"You must be at least 18 years old to create an account and use the Platform. By creating an account, you represent and warrant that:"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground mb-6",children:[e.jsx("li",{children:"You are at least 18 years of age"}),e.jsx("li",{children:"You have the legal capacity to enter into binding contracts"}),e.jsx("li",{children:"You are not prohibited from using the Platform under applicable laws"}),e.jsx("li",{children:"All information you provide is truthful and accurate"})]}),e.jsx("h3",{className:"text-xl font-medium mb-3",children:"3.3 Account Types"}),e.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"Different account types have different requirements:"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Traveler Accounts:"})," Basic registration with email verification"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Expert Accounts:"})," Comprehensive verification process (see Section 4)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Service Provider Accounts:"})," Business verification and insurance documentation (see Section 5)"]})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"4. Local Expert Requirements and Verification"}),e.jsx("h3",{className:"text-xl font-medium mb-3",children:"4.1 Expert Application Process"}),e.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"To become a Local Expert, applicants must complete a comprehensive verification process:"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground mb-6",children:[e.jsx("li",{children:"Submit application with detailed profile information"}),e.jsx("li",{children:"Provide government-issued identification for identity verification"}),e.jsx("li",{children:"Submit professional qualifications and certifications"}),e.jsx("li",{children:"Undergo criminal background screening"}),e.jsx("li",{children:"Complete platform training and orientation"}),e.jsx("li",{children:"Accept and agree to Expert Code of Conduct"})]}),e.jsx("h3",{className:"text-xl font-medium mb-3",children:"4.2 Verification Timeline"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground mb-6",children:[e.jsx("li",{children:"Standard verification: 2-3 weeks"}),e.jsx("li",{children:"Expedited verification: 5-7 business days (additional fee applies)"}),e.jsx("li",{children:"Provisional approval may be granted during verification for qualified candidates"}),e.jsx("li",{children:"Annual re-verification required for all active Experts"})]}),e.jsx("h3",{className:"text-xl font-medium mb-3",children:"4.3 Expert Responsibilities"}),e.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"Local Experts agree to:"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground mb-6",children:[e.jsx("li",{children:"Provide honest, accurate, and unbiased recommendations"}),e.jsx("li",{children:"Act as client advocates, prioritizing traveler interests"}),e.jsx("li",{children:"Disclose any conflicts of interest or financial relationships"}),e.jsx("li",{children:"Maintain professional communication and response times"}),e.jsx("li",{children:"Respect cultural differences and provide culturally sensitive guidance"}),e.jsx("li",{children:"Maintain confidentiality of client information"}),e.jsx("li",{children:"Update availability and service offerings promptly"})]}),e.jsx("h3",{className:"text-xl font-medium mb-3",children:"4.4 Expert Code of Conduct"}),e.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"All Local Experts must adhere to our Code of Conduct, which includes:"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Professional Communication:"})," Respond to inquiries within 24 hours; maintain courteous, professional tone"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Cultural Sensitivity:"})," Demonstrate respect for diverse backgrounds; provide culturally appropriate recommendations"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Safety and Responsibility:"})," Prioritize client safety; provide accurate risk assessments; maintain emergency protocols"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Platform Integrity:"})," Provide accurate information; avoid misleading claims; maintain honest representation"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Business Ethics:"})," Transparent pricing; disclosure of all fees; avoid conflicts of interest"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Continuous Improvement:"})," Integrate feedback; pursue professional development; maintain expertise"]})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"5. Service Provider Requirements"}),e.jsx("h3",{className:"text-xl font-medium mb-3",children:"5.1 Four-Tier Insurance Structure"}),e.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"Service Providers must maintain insurance coverage based on service risk level:"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground mb-6",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Tier 1 (Low-Risk):"})," Photographers, local guides, cultural experiences - $100,000 general liability OR platform group policy participation"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Tier 2 (Moderate-Risk):"})," Small restaurants, home dining, wellness services - $300,000 general liability + $100,000 professional liability"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Tier 3 (Higher-Risk Commercial):"})," Adventure activities, transportation, accommodations - $1,000,000+ comprehensive coverage"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Tier 4 (Specialized High-Risk):"})," Extreme sports, aviation, watercraft, medical treatments - Enhanced coverage determined case-by-case"]})]}),e.jsx("h3",{className:"text-xl font-medium mb-3",children:"5.2 Licensing and Permits"}),e.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"Service Providers must maintain all required licenses, permits, and certifications for their services, including business operating licenses, professional certifications, health and safety permits, tourism or hospitality licenses, and any other licenses required by local authorities."}),e.jsx("h3",{className:"text-xl font-medium mb-3",children:"5.3 Verification and Compliance"}),e.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Service Providers must submit and maintain: proof of insurance coverage, valid licenses and permits, business registration documentation, tax identification numbers, proof of identity for business owners, and annual renewal documentation."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"6. Services and Bookings"}),e.jsx("h3",{className:"text-xl font-medium mb-3",children:"6.1 Service Descriptions"}),e.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"Experts and Service Providers are solely responsible for the accuracy of their service descriptions, pricing, availability, and terms. Traveloure does not verify or guarantee the accuracy of service listings."}),e.jsx("h3",{className:"text-xl font-medium mb-3",children:"6.2 Booking Process"}),e.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"When you book services through the Platform:"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground mb-6",children:[e.jsx("li",{children:"You enter into a direct agreement with the Expert or Service Provider"}),e.jsx("li",{children:"Traveloure acts solely as an intermediary facilitating the connection"}),e.jsx("li",{children:"You agree to the specific terms and conditions of the Expert or Provider"}),e.jsx("li",{children:"Payment is processed through our secure payment system"}),e.jsx("li",{children:"You receive booking confirmation via email"})]}),e.jsx("h3",{className:"text-xl font-medium mb-3",children:"6.3 Service Fulfillment"}),e.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Experts and Service Providers are solely responsible for delivering services as described, meeting quality standards and safety requirements, complying with applicable laws and regulations, maintaining appropriate insurance coverage, and handling customer service issues related to their services."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"7. Payment Terms"}),e.jsx("h3",{className:"text-xl font-medium mb-3",children:"7.1 Payment Processing"}),e.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"All payments are processed through Stripe Connect, our secure payment processor. By using the Platform, you agree to Stripe's terms of service and privacy policy. Payment information is collected and processed by Stripe; Traveloure does not store complete credit card numbers."}),e.jsx("h3",{className:"text-xl font-medium mb-3",children:"7.2 Platform Credit System"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground mb-6",children:[e.jsx("li",{children:"Users purchase platform credits in advance"}),e.jsx("li",{children:"Credits are used to pay for platform fees and Expert consultation services"}),e.jsx("li",{children:"Service Provider services may be paid through credits or direct payment"}),e.jsx("li",{children:"Credits are non-refundable except as required by law"}),e.jsx("li",{children:"Unused credits do not expire but may be subject to inactivity fees after 24 months"})]}),e.jsx("h3",{className:"text-xl font-medium mb-3",children:"7.3 Commission Structure"}),e.jsxs("p",{className:"text-muted-foreground leading-relaxed mb-4",children:[e.jsx("strong",{children:"Local Expert Commissions:"})," Experts receive 75-85% of consultation fees; Traveloure retains 15-25% as platform fee. Exact split determined by Expert tier, performance, and volume."]}),e.jsxs("p",{className:"text-muted-foreground leading-relaxed mb-6",children:[e.jsx("strong",{children:"Service Provider Commissions:"})," Standard commission of 4-12% of booking value. Rate varies by service category, volume, and partnership level."]}),e.jsx("h3",{className:"text-xl font-medium mb-3",children:"7.4 Payout Terms"}),e.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"For Experts and Service Providers:"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground mb-6",children:[e.jsx("li",{children:"Payouts processed through Stripe Connect"}),e.jsx("li",{children:"Standard payout schedule: 2-3 business days after service completion"}),e.jsx("li",{children:"Funds may be held for up to 14 days for quality assurance and dispute resolution"}),e.jsx("li",{children:"Minimum payout threshold: $25"}),e.jsx("li",{children:"Tax reporting required; Forms 1099 issued for US-based users earning $600+ annually"})]}),e.jsx("h3",{className:"text-xl font-medium mb-3",children:"7.5 Taxes and Currency"}),e.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Users are responsible for all applicable taxes. Travelers are responsible for applicable sales tax, VAT, or tourism taxes. Experts and Providers are responsible for income tax, self-employment tax, and business taxes. All transactions are processed in US Dollars (USD) unless otherwise specified. Currency conversion fees may apply for international transactions."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"8. Cancellation and Refunds"}),e.jsx("h3",{className:"text-xl font-medium mb-3",children:"8.1 Cancellation by Travelers"}),e.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"Cancellation policies are set by individual Experts and Service Providers. Standard platform policies include:"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground mb-6",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Expert Consultations:"})," 24-hour cancellation notice for full credit refund; less than 24 hours may forfeit fees"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Service Bookings:"})," Varies by provider; typically 48-72 hours for partial refund"]})]}),e.jsx("h3",{className:"text-xl font-medium mb-3",children:"8.2 Cancellation by Experts or Providers"}),e.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"If an Expert or Provider cancels: full refund of all fees and charges; Traveloure may assist in finding alternative providers; excessive cancellations may result in account suspension."}),e.jsx("h3",{className:"text-xl font-medium mb-3",children:"8.3 Refund Processing"}),e.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Refunds are processed within 5-10 business days to original payment method or as platform credits. Payment processing fees are non-refundable. In cases of force majeure (natural disasters, pandemics, etc.), special cancellation and refund policies may apply."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"9. User Conduct and Prohibited Activities"}),e.jsx("h3",{className:"text-xl font-medium mb-3",children:"9.1 Acceptable Use"}),e.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"You agree to use the Platform only for lawful purposes and in accordance with these Terms. You agree not to:"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground mb-6",children:[e.jsx("li",{children:"Violate any applicable laws, regulations, or third-party rights"}),e.jsx("li",{children:"Use the Platform for fraudulent or illegal activities"}),e.jsx("li",{children:"Impersonate any person or entity"}),e.jsx("li",{children:"Interfere with or disrupt the Platform or servers"}),e.jsx("li",{children:"Attempt to gain unauthorized access to any systems"}),e.jsx("li",{children:"Collect or harvest information about other users"}),e.jsx("li",{children:"Transmit viruses, malware, or harmful code"}),e.jsx("li",{children:"Use automated systems (bots, scrapers) without permission"}),e.jsx("li",{children:"Circumvent payment systems or avoid fees"}),e.jsx("li",{children:"Post false, misleading, or defamatory content"})]}),e.jsx("h3",{className:"text-xl font-medium mb-3",children:"9.2 Content Standards"}),e.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"User-generated content must not contain:"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground mb-6",children:[e.jsx("li",{children:"Harassment, hate speech, or discriminatory language"}),e.jsx("li",{children:"Explicit sexual content or nudity"}),e.jsx("li",{children:"Violence or threats of violence"}),e.jsx("li",{children:"Spam, advertising, or solicitations"}),e.jsx("li",{children:"Infringement of intellectual property rights"}),e.jsx("li",{children:"Private information of others without consent"})]}),e.jsx("h3",{className:"text-xl font-medium mb-3",children:"9.3 Off-Platform Transactions"}),e.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Users may not circumvent the Platform to avoid fees by conducting transactions outside the Platform for services discovered through Traveloure. All transactions for services facilitated by the Platform must be processed through our payment system."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"10. Reviews and Ratings"}),e.jsx("h3",{className:"text-xl font-medium mb-3",children:"10.1 Review Guidelines"}),e.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"Reviews and ratings must:"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground mb-6",children:[e.jsx("li",{children:"Be based on genuine, first-hand experiences"}),e.jsx("li",{children:"Be honest, fair, and constructive"}),e.jsx("li",{children:"Focus on service quality and experience"}),e.jsx("li",{children:"Comply with content standards"}),e.jsx("li",{children:"Not contain personal attacks or irrelevant information"})]}),e.jsx("h3",{className:"text-xl font-medium mb-3",children:"10.2 Prohibited Review Conduct"}),e.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"The following are strictly prohibited: fake reviews or ratings, reviews in exchange for compensation, reviews of competitors to harm their business, reviews containing threats or extortion, and manipulation of rating systems."}),e.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Traveloure reserves the right to remove reviews that violate these guidelines. We may also suspend or terminate accounts for review abuse."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"11. Intellectual Property"}),e.jsx("h3",{className:"text-xl font-medium mb-3",children:"11.1 Platform Ownership"}),e.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"The Platform, including all content, features, functionality, software, code, designs, logos, trademarks, and other intellectual property, is owned by Traveloure LLC or our licensors and is protected by copyright, trademark, and other intellectual property laws."}),e.jsx("h3",{className:"text-xl font-medium mb-3",children:"11.2 User Content License"}),e.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"By posting content to the Platform (profiles, reviews, photos, messages), you grant Traveloure a worldwide, non-exclusive, royalty-free, sublicensable license to use, reproduce, modify, distribute, and display such content for the purpose of operating and promoting the Platform. You retain all ownership rights to your content and may remove it at any time, though copies may remain in backups and caches."}),e.jsx("h3",{className:"text-xl font-medium mb-3",children:"11.3 Trademark Policy"}),e.jsx("p",{className:"text-muted-foreground leading-relaxed",children:'"Traveloure" and associated logos are trademarks of Traveloure LLC. You may not use our trademarks without prior written permission.'})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"12. Disclaimers and Limitations of Liability"}),e.jsx("h3",{className:"text-xl font-medium mb-3",children:"12.1 Platform Disclaimers"}),e.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4 font-medium",children:'THE PLATFORM IS PROVIDED "AS IS" AND "AS AVAILABLE" WITHOUT WARRANTIES OF ANY KIND, EITHER EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, OR NON-INFRINGEMENT.'}),e.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"We do not warrant that the Platform will be uninterrupted, secure, or error-free; that the Platform will meet your requirements; that information on the Platform is accurate or complete; that services provided by third parties meet quality standards; or that defects will be corrected."}),e.jsx("h3",{className:"text-xl font-medium mb-3",children:"12.2 Third-Party Services"}),e.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"Traveloure is not responsible for the quality, safety, or legality of services offered by Experts or Providers; the accuracy of Expert recommendations or advice; the actions, conduct, or performance of any users; disputes between users; or losses or damages resulting from user interactions."}),e.jsx("h3",{className:"text-xl font-medium mb-3",children:"12.3 Limitation of Liability"}),e.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4 font-medium",children:"TO THE MAXIMUM EXTENT PERMITTED BY LAW, TRAVELOURE SHALL NOT BE LIABLE FOR ANY INDIRECT, INCIDENTAL, SPECIAL, CONSEQUENTIAL, OR PUNITIVE DAMAGES, OR ANY LOSS OF PROFITS, REVENUE, DATA, OR USE, WHETHER IN CONTRACT, TORT, OR OTHERWISE, ARISING FROM OR RELATED TO YOUR USE OF THE PLATFORM."}),e.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"OUR TOTAL LIABILITY TO YOU FOR ALL CLAIMS ARISING FROM OR RELATED TO THE PLATFORM SHALL NOT EXCEED THE GREATER OF (A) $100 OR (B) THE AMOUNT YOU PAID TO TRAVELOURE IN THE TWELVE MONTHS PRECEDING THE CLAIM. Some jurisdictions do not allow the limitation of certain warranties or damages, so some of these limitations may not apply to you."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"13. Indemnification"}),e.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"You agree to defend, indemnify, and hold harmless Traveloure LLC, its affiliates, and their respective officers, directors, employees, agents, and contractors from and against any claims, liabilities, damages, losses, costs, or expenses (including reasonable attorneys' fees) arising from or related to: your use of the Platform; your violation of these Terms; your violation of any third-party rights; your provision of services as an Expert or Provider; content you post or transmit through the Platform; your interactions with other users; and your negligence or willful misconduct."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"14. Dispute Resolution"}),e.jsx("h3",{className:"text-xl font-medium mb-3",children:"14.1 Informal Resolution"}),e.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"Before filing any formal dispute, you agree to contact us at admin@traveloure.com to seek informal resolution. We will attempt to resolve disputes through good faith negotiation within 30 days."}),e.jsx("h3",{className:"text-xl font-medium mb-3",children:"14.2 Arbitration Agreement"}),e.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"Any dispute, claim, or controversy arising from or relating to these Terms or the Platform that cannot be resolved informally shall be settled by binding arbitration administered by the American Arbitration Association (AAA) under its Commercial Arbitration Rules."}),e.jsx("h3",{className:"text-xl font-medium mb-3",children:"14.3 Class Action Waiver"}),e.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4 font-medium",children:"YOU AGREE THAT ANY ARBITRATION OR PROCEEDING SHALL BE LIMITED TO THE DISPUTE BETWEEN YOU AND TRAVELOURE INDIVIDUALLY. YOU WAIVE THE RIGHT TO PARTICIPATE IN A CLASS ACTION, CLASS ARBITRATION, OR OTHER REPRESENTATIVE ACTION."}),e.jsx("h3",{className:"text-xl font-medium mb-3",children:"14.4 Exceptions to Arbitration"}),e.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Either party may seek injunctive or equitable relief in court for: intellectual property infringement, unauthorized access to systems, or violation of confidentiality obligations."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"15. Governing Law and Jurisdiction"}),e.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"These Terms shall be governed by and construed in accordance with the laws of the State of Florida, United States, without regard to its conflict of law provisions. For disputes not subject to arbitration, you agree to the exclusive jurisdiction of the state and federal courts located in Palm Beach County, Florida."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"16. Termination"}),e.jsx("h3",{className:"text-xl font-medium mb-3",children:"16.1 Termination by You"}),e.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"You may terminate your account at any time by using account deletion features in settings or contacting admin@traveloure.com. Termination does not affect outstanding payment obligations, active bookings or services in progress, or our right to retain data per our Privacy Policy."}),e.jsx("h3",{className:"text-xl font-medium mb-3",children:"16.2 Termination by Traveloure"}),e.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"We may suspend or terminate your account immediately without notice for: violation of these Terms, fraudulent or illegal activity, providing false information, excessive cancellations or poor performance (Experts/Providers), abuse of other users, payment disputes or chargebacks, or any reason if required by law or for platform safety."}),e.jsx("h3",{className:"text-xl font-medium mb-3",children:"16.3 Effect of Termination"}),e.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Upon termination: your access to the Platform will cease; your account data may be deleted (subject to retention requirements); unused platform credits may be forfeited (subject to applicable law); sections of these Terms that by nature should survive will remain in effect."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"17. General Provisions"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Entire Agreement:"})," These Terms, together with our Privacy Policy, constitute the entire agreement between you and Traveloure regarding the Platform."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Severability:"})," If any provision is found invalid or unenforceable, that provision shall be limited or eliminated to the minimum extent necessary, and the remaining provisions shall remain in full force."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Waiver:"})," No waiver of any provision shall be deemed a further or continuing waiver."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Assignment:"})," You may not assign or transfer these Terms without our prior written consent. We may assign these Terms without restriction."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Force Majeure:"})," Neither party shall be liable for failure to perform obligations due to causes beyond reasonable control."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"No Agency:"})," No agency, partnership, joint venture, or employment relationship is created between you and Traveloure. Experts and Service Providers are independent contractors."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Compliance with Laws:"})," You agree to comply with all applicable laws and regulations in your use of the Platform."]})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"18. Contact Information"}),e.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"For questions, concerns, or notices regarding these Terms, please contact:"}),e.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[e.jsx("p",{className:"font-medium",children:"Traveloure LLC"}),e.jsx("p",{className:"text-muted-foreground",children:"Email: admin@traveloure.com"}),e.jsx("p",{className:"text-muted-foreground",children:"Website: www.traveloure.com"})]})]}),e.jsx("div",{className:"p-4 bg-muted/50 rounded-lg mt-8",children:e.jsxs("p",{className:"text-sm text-muted-foreground text-center",children:["By using Traveloure, you acknowledge that you have read, understood, and agree to be bound by these Terms and Conditions.",e.jsx("br",{}),"Last Updated: January 25, 2026 | Version 1.0"]})})]}),e.jsx("div",{className:"mt-12 pt-8 border-t",children:e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsx(Ce,{href:"/privacy",children:e.jsx(S,{variant:"outline","data-testid":"link-privacy",children:"Privacy Policy"})}),e.jsx(Ce,{href:"/",children:e.jsx(S,{variant:"outline","data-testid":"link-home",children:"Back to Home"})})]})})]})]})}function npe(){const{toast:t}=Bs(),[,s]=La(),a=bo(),[r,n]=h.useState(!1),[i,l]=h.useState(!1),{data:c,isLoading:u}=Le({queryKey:["/api/auth/user"],retry:!1}),m=Ot({mutationFn:async()=>Ft("POST","/api/auth/accept-terms",{acceptTerms:!0,acceptPrivacy:!0}),onSuccess:()=>{a.invalidateQueries({queryKey:["/api/auth/user"]}),t({title:"Welcome to Traveloure!",description:"Thank you for accepting our terms. You now have full access to the platform."}),s("/")},onError:g=>{t({title:"Error",description:g.message||"Failed to accept terms. Please try again.",variant:"destructive"})}});h.useEffect(()=>{!u&&!c&&(window.location.href="/api/login")},[u,c]),h.useEffect(()=>{c?.termsAcceptedAt&&c?.privacyAcceptedAt&&s("/")},[c,s]);const x=r&&i,f=()=>{x&&m.mutate()};return u?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx(ot,{className:"w-8 h-8 animate-spin text-primary"})}):c?e.jsx("div",{className:"min-h-screen bg-gradient-to-b from-background to-muted/30 flex items-center justify-center p-4",children:e.jsxs(P,{className:"w-full max-w-lg",children:[e.jsxs(Q,{className:"text-center pb-2",children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mb-4",children:e.jsx(sr,{className:"w-8 h-8 text-primary"})}),e.jsx(X,{className:"text-2xl",children:"Welcome to Traveloure"}),e.jsx(Tt,{className:"text-base",children:"Before you continue, please review and accept our Terms of Service and Privacy Policy."})]}),e.jsxs(F,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-3 p-4 rounded-lg border bg-muted/50",children:[e.jsx(Fl,{id:"accept-terms",checked:r,onCheckedChange:g=>n(g===!0),"data-testid":"checkbox-accept-terms"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{htmlFor:"accept-terms",className:"text-sm font-medium cursor-pointer",children:"I have read and agree to the Terms of Service"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Our terms outline your rights and responsibilities when using Traveloure."}),e.jsxs("a",{href:"/terms",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-xs text-primary hover:underline mt-2","data-testid":"link-view-terms",children:[e.jsx(oa,{className:"w-3 h-3"}),"View Terms of Service"]})]})]}),e.jsxs("div",{className:"flex items-start gap-3 p-4 rounded-lg border bg-muted/50",children:[e.jsx(Fl,{id:"accept-privacy",checked:i,onCheckedChange:g=>l(g===!0),"data-testid":"checkbox-accept-privacy"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{htmlFor:"accept-privacy",className:"text-sm font-medium cursor-pointer",children:"I have read and agree to the Privacy Policy"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Our privacy policy explains how we collect, use, and protect your personal information."}),e.jsxs("a",{href:"/privacy",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-xs text-primary hover:underline mt-2","data-testid":"link-view-privacy",children:[e.jsx(sr,{className:"w-3 h-3"}),"View Privacy Policy"]})]})]})]}),e.jsx(S,{onClick:f,disabled:!x||m.isPending,className:"w-full",size:"lg","data-testid":"button-accept-continue",children:m.isPending?e.jsxs(e.Fragment,{children:[e.jsx(ot,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing..."]}):"Accept and Continue"}),e.jsx("p",{className:"text-xs text-center text-muted-foreground",children:'By clicking "Accept and Continue", you confirm that you are at least 18 years old and agree to be bound by these terms.'})]})]})}):e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx(ot,{className:"w-8 h-8 animate-spin text-primary"})})}const ipe=[{id:1,title:"Senior Full Stack Engineer",department:"Engineering",location:"Remote",type:"Full-time",salary:"$120k - $180k",description:"Build and scale our travel platform using React, Node.js, and modern cloud technologies."},{id:2,title:"Travel Experience Designer",department:"Product",location:"San Francisco, CA",type:"Full-time",salary:"$90k - $130k",description:"Design intuitive experiences that help travelers discover and book their perfect trips."},{id:3,title:"Local Expert Partnership Manager",department:"Partnerships",location:"Remote",type:"Full-time",salary:"$70k - $100k",description:"Build relationships with local experts and service providers worldwide."},{id:4,title:"AI/ML Engineer",department:"Engineering",location:"Remote",type:"Full-time",salary:"$140k - $200k",description:"Develop AI-powered recommendation engines and travel planning systems."},{id:5,title:"Customer Success Lead",department:"Customer Success",location:"New York, NY",type:"Full-time",salary:"$60k - $85k",description:"Ensure travelers and experts have exceptional experiences on our platform."},{id:6,title:"Content Marketing Manager",department:"Marketing",location:"Remote",type:"Full-time",salary:"$75k - $110k",description:"Create compelling content that inspires travel and showcases our platform."}],lpe=[{icon:Nr,title:"Remote First",description:"Work from anywhere in the world"},{icon:Qt,title:"Health & Wellness",description:"Comprehensive health insurance and wellness programs"},{icon:Xt,title:"Growth Opportunities",description:"Professional development and learning budget"},{icon:et,title:"Amazing Team",description:"Collaborate with talented, passionate people"},{icon:bt,title:"Competitive Pay",description:"Market-rate salaries and equity options"},{icon:qa,title:"Travel Credits",description:"Annual travel credits to explore new destinations"}];function ope(){return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("section",{className:"bg-gradient-to-br from-primary to-primary/80 text-primary-foreground py-20",children:e.jsxs("div",{className:"container mx-auto px-4 max-w-4xl text-center",children:[e.jsx(O,{className:"mb-4 bg-white/20 text-white",children:"We're Hiring!"}),e.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:"Join Our Mission to Transform Travel"}),e.jsx("p",{className:"text-xl text-primary-foreground/90 mb-8 max-w-2xl mx-auto",children:"Help us build the future of personalized travel experiences. Work with a passionate team making travel planning effortless and inspiring."}),e.jsxs(S,{size:"lg",variant:"secondary",onClick:()=>document.getElementById("positions")?.scrollIntoView({behavior:"smooth"}),children:["View Open Positions",e.jsx(Kt,{className:"w-4 h-4 ml-2"})]})]})}),e.jsx("section",{className:"py-16 bg-muted/30",children:e.jsxs("div",{className:"container mx-auto px-4 max-w-6xl",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Why Traveloure?"}),e.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"We're building a company culture that values innovation, diversity, and work-life balance"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:lpe.map(t=>{const s=t.icon;return e.jsx(P,{className:"text-center",children:e.jsxs(F,{className:"pt-6",children:[e.jsx("div",{className:"w-12 h-12 mx-auto mb-4 rounded-full bg-primary/10 flex items-center justify-center",children:e.jsx(s,{className:"w-6 h-6 text-primary"})}),e.jsx("h3",{className:"font-semibold mb-2",children:t.title}),e.jsx("p",{className:"text-sm text-muted-foreground",children:t.description})]})},t.title)})})]})}),e.jsx("section",{id:"positions",className:"py-16",children:e.jsxs("div",{className:"container mx-auto px-4 max-w-4xl",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Open Positions"}),e.jsx("p",{className:"text-muted-foreground",children:"Join our growing team and help shape the future of travel"})]}),e.jsx("div",{className:"space-y-4",children:ipe.map(t=>e.jsx(P,{className:"hover:shadow-lg transition-shadow",children:e.jsx(Q,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(X,{className:"text-xl mb-2",children:t.title}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:t.description}),e.jsxs("div",{className:"flex flex-wrap gap-3 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[e.jsx(Ta,{className:"w-4 h-4"}),e.jsx("span",{children:t.department})]}),e.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[e.jsx(Me,{className:"w-4 h-4"}),e.jsx("span",{children:t.location})]}),e.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[e.jsx(Je,{className:"w-4 h-4"}),e.jsx("span",{children:t.type})]}),e.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[e.jsx(bt,{className:"w-4 h-4"}),e.jsx("span",{children:t.salary})]})]})]}),e.jsx(S,{className:"ml-4",children:"Apply Now"})]})})},t.id))})]})}),e.jsx("section",{className:"py-16 bg-muted/30",children:e.jsxs("div",{className:"container mx-auto px-4 max-w-4xl text-center",children:[e.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Don't See the Right Role?"}),e.jsx("p",{className:"text-muted-foreground mb-8 max-w-2xl mx-auto",children:"We're always looking for talented people. Send us your resume and tell us why you'd be a great fit for Traveloure."}),e.jsx(Ce,{href:"/contact",children:e.jsx(S,{size:"lg",children:"Get in Touch"})})]})})]})}const kT=[{id:1,title:"10 Hidden Gems in Paris You've Never Heard Of",excerpt:"Discover the secret spots that locals cherish but tourists rarely find. From hidden gardens to underground speakeasies...",author:"Marie Laurent",authorRole:"Paris Expert",date:"2024-01-15",category:"Destinations",readTime:"5 min read",image:"https://images.unsplash.com/photo-1502602898657-3e91760cbb34?w=800&h=500&fit=crop",featured:!0},{id:2,title:"The Ultimate Guide to Planning a Honeymoon in Bali",excerpt:"Everything you need to know to plan the perfect romantic getaway to Indonesia's paradise island...",author:"Isabella Chen",authorRole:"Honeymoon Specialist",date:"2024-01-12",category:"Romance",readTime:"8 min read",image:"https://images.unsplash.com/photo-1537996194471-e657df975ab4?w=800&h=500&fit=crop",featured:!0},{id:3,title:"Budget Travel: How to See Europe on $50 a Day",excerpt:"Practical tips and insider strategies for exploring Europe without breaking the bank...",author:"Travel Team",authorRole:"Budget Travel Experts",date:"2024-01-10",category:"Tips & Guides",readTime:"6 min read",image:"https://images.unsplash.com/photo-1488646953014-85cb44e25828?w=800&h=500&fit=crop",featured:!1},{id:4,title:"Tokyo Street Food: A Local's Guide",excerpt:"Navigate Tokyo's incredible street food scene like a local with our comprehensive guide...",author:"Kenji Tanaka",authorRole:"Tokyo Expert",date:"2024-01-08",category:"Food & Drink",readTime:"7 min read",image:"https://images.unsplash.com/photo-1542051841857-5f90071e7989?w=800&h=500&fit=crop",featured:!1},{id:5,title:"Sustainable Travel: How to Reduce Your Carbon Footprint",excerpt:"Travel responsibly with these eco-friendly tips that make a real difference...",author:"Green Travel Initiative",authorRole:"Sustainability Experts",date:"2024-01-05",category:"Sustainability",readTime:"6 min read",image:"https://images.unsplash.com/photo-1501594907352-04cda38ebc29?w=800&h=500&fit=crop",featured:!1},{id:6,title:"Best Photography Spots in Santorini",excerpt:"Capture the magic of Greece's most photogenic island with our location guide...",author:"Sophie Anderson",authorRole:"Travel Photographer",date:"2024-01-03",category:"Photography",readTime:"5 min read",image:"https://images.unsplash.com/photo-1613395877344-13d4a8e0d49e?w=800&h=500&fit=crop",featured:!1}],cpe=["All Posts","Destinations","Tips & Guides","Food & Drink","Romance","Photography","Sustainability"];function dpe(){const[t,s]=h.useState(""),[a,r]=h.useState("All Posts"),n=kT.filter(c=>{const u=t===""||c.title.toLowerCase().includes(t.toLowerCase())||c.excerpt.toLowerCase().includes(t.toLowerCase()),m=a==="All Posts"||c.category===a;return u&&m}),i=kT.filter(c=>c.featured),l=n.filter(c=>!c.featured);return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("section",{className:"bg-gradient-to-br from-primary to-primary/80 text-primary-foreground py-16",children:e.jsxs("div",{className:"container mx-auto px-4 max-w-6xl",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Traveloure Blog"}),e.jsx("p",{className:"text-xl text-primary-foreground/90 max-w-2xl mx-auto",children:"Travel inspiration, insider tips, and destination guides from our community of local experts"})]}),e.jsx("div",{className:"max-w-2xl mx-auto",children:e.jsxs("div",{className:"relative",children:[e.jsx(ws,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),e.jsx(Ne,{placeholder:"Search articles...",value:t,onChange:c=>s(c.target.value),className:"pl-10 h-12 bg-white"})]})})]})}),e.jsx("section",{className:"py-8 border-b",children:e.jsx("div",{className:"container mx-auto px-4 max-w-6xl",children:e.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:cpe.map(c=>e.jsx(S,{variant:a===c?"default":"outline",onClick:()=>r(c),className:"rounded-full",children:c},c))})})}),a==="All Posts"&&i.length>0&&e.jsx("section",{className:"py-12 bg-muted/30",children:e.jsxs("div",{className:"container mx-auto px-4 max-w-6xl",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx(Xt,{className:"w-5 h-5 text-primary"}),e.jsx("h2",{className:"text-2xl font-bold",children:"Featured Articles"})]}),e.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:i.map(c=>e.jsxs(P,{className:"overflow-hidden hover:shadow-lg transition-shadow group cursor-pointer",children:[e.jsxs("div",{className:"relative h-64 overflow-hidden",children:[e.jsx("img",{src:c.image,alt:c.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),e.jsx(O,{className:"absolute top-4 left-4",children:c.category})]}),e.jsxs(F,{className:"p-6",children:[e.jsx("h3",{className:"text-xl font-bold mb-2 group-hover:text-primary transition-colors",children:c.title}),e.jsx("p",{className:"text-muted-foreground mb-4 line-clamp-2",children:c.excerpt}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Wn,{className:"w-4 h-4"}),e.jsx("span",{children:c.author})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ge,{className:"w-4 h-4"}),e.jsx("span",{children:new Date(c.date).toLocaleDateString()})]})]}),e.jsx("span",{children:c.readTime})]}),e.jsxs(S,{variant:"ghost",className:"w-full mt-4 group/btn",children:["Read More",e.jsx(Kt,{className:"w-4 h-4 ml-2 group-hover/btn:translate-x-1 transition-transform"})]})]})]},c.id))})]})}),e.jsx("section",{className:"py-12",children:e.jsxs("div",{className:"container mx-auto px-4 max-w-6xl",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:a==="All Posts"?"Latest Articles":a}),l.length>0?e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(c=>e.jsxs(P,{className:"overflow-hidden hover:shadow-lg transition-shadow group cursor-pointer",children:[e.jsxs("div",{className:"relative h-48 overflow-hidden",children:[e.jsx("img",{src:c.image,alt:c.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),e.jsx(O,{className:"absolute top-4 left-4",variant:"secondary",children:c.category})]}),e.jsxs(F,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-bold mb-2 group-hover:text-primary transition-colors line-clamp-2",children:c.title}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4 line-clamp-2",children:c.excerpt}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground mb-4",children:[e.jsx("span",{children:c.author}),e.jsx("span",{children:c.readTime})]}),e.jsxs(S,{variant:"ghost",size:"sm",className:"w-full group/btn",children:["Read Article",e.jsx(Kt,{className:"w-4 h-4 ml-2 group-hover/btn:translate-x-1 transition-transform"})]})]})]},c.id))}):e.jsxs("div",{className:"text-center py-16",children:[e.jsx(dr,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No articles found"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Try adjusting your search or browse all posts"}),e.jsx(S,{variant:"outline",onClick:()=>{s(""),r("All Posts")},children:"Clear Filters"})]})]})}),e.jsx("section",{className:"py-16 bg-muted/30",children:e.jsxs("div",{className:"container mx-auto px-4 max-w-4xl text-center",children:[e.jsx(Qt,{className:"w-12 h-12 mx-auto mb-4 text-primary"}),e.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Never Miss an Adventure"}),e.jsx("p",{className:"text-muted-foreground mb-8 max-w-2xl mx-auto",children:"Subscribe to our newsletter for travel inspiration, insider tips, and exclusive deals delivered to your inbox"}),e.jsxs("div",{className:"flex gap-2 max-w-md mx-auto",children:[e.jsx(Ne,{type:"email",placeholder:"Enter your email",className:"flex-1"}),e.jsx(S,{children:"Subscribe"})]})]})})]})}const upe=[{id:1,title:"Traveloure Raises $15M Series A to Transform Travel Planning with AI",date:"2024-01-15",excerpt:"Leading travel platform secures funding to expand AI-powered recommendations and local expert network worldwide..."},{id:2,title:"Traveloure Surpasses 1 Million Users Milestone",date:"2023-12-10",excerpt:"Platform celebrates rapid growth as travelers embrace personalized, expert-guided trip planning..."},{id:3,title:"Partnership Announcement: Traveloure Partners with Major Airlines",date:"2023-11-05",excerpt:"New integrations bring seamless booking experiences to travelers planning their perfect trips..."}],mpe=[{title:"Company Logos",description:"High-resolution logos in various formats",icon:Eu,files:["PNG","SVG","EPS"]},{title:"Brand Guidelines",description:"Our visual identity and usage rules",icon:oa,files:["PDF"]},{title:"Product Screenshots",description:"Platform screenshots and mockups",icon:Eu,files:["ZIP"]},{title:"Executive Headshots",description:"Leadership team photos",icon:Eu,files:["ZIP"]}],hpe=[{label:"Active Users",value:"1M+",icon:et},{label:"Countries",value:"150+",icon:Nr},{label:"Local Experts",value:"5,000+",icon:jr},{label:"Growth Rate",value:"300%",icon:Xt}],xpe=[{outlet:"TechCrunch",headline:"Traveloure is changing how we plan trips",url:"#"},{outlet:"Forbes",headline:"The future of personalized travel planning",url:"#"},{outlet:"The Wall Street Journal",headline:"AI meets local expertise in new travel platform",url:"#"},{outlet:"Travel + Leisure",headline:"How Traveloure connects travelers with local experts",url:"#"}];function ppe(){return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("section",{className:"bg-gradient-to-br from-primary to-primary/80 text-primary-foreground py-20",children:e.jsxs("div",{className:"container mx-auto px-4 max-w-4xl text-center",children:[e.jsx(O,{className:"mb-4 bg-white/20 text-white",children:"Press & Media"}),e.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:"Newsroom"}),e.jsx("p",{className:"text-xl text-primary-foreground/90 mb-8",children:"Latest news, press releases, and media resources from Traveloure"}),e.jsxs(S,{variant:"secondary",size:"lg",children:[e.jsx(qn,{className:"w-4 h-4 mr-2"}),"Contact Press Team"]})]})}),e.jsx("section",{className:"py-12 border-b bg-muted/30",children:e.jsx("div",{className:"container mx-auto px-4 max-w-6xl",children:e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:hpe.map(t=>{const s=t.icon;return e.jsxs("div",{className:"text-center",children:[e.jsx(s,{className:"w-8 h-8 mx-auto mb-3 text-primary"}),e.jsx("div",{className:"text-3xl font-bold mb-1",children:t.value}),e.jsx("div",{className:"text-sm text-muted-foreground",children:t.label})]},t.label)})})})}),e.jsx("section",{className:"py-16",children:e.jsxs("div",{className:"container mx-auto px-4 max-w-4xl",children:[e.jsx("h2",{className:"text-3xl font-bold mb-8",children:"Latest Press Releases"}),e.jsx("div",{className:"space-y-6",children:upe.map(t=>e.jsx(P,{className:"hover:shadow-lg transition-shadow",children:e.jsx(F,{className:"p-6",children:e.jsx("div",{className:"flex items-start justify-between gap-4",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-sm text-muted-foreground mb-2",children:new Date(t.date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}),e.jsx("h3",{className:"text-xl font-bold mb-3",children:t.title}),e.jsx("p",{className:"text-muted-foreground mb-4",children:t.excerpt}),e.jsxs(S,{variant:"outline",children:["Read Full Release",e.jsx(er,{className:"w-4 h-4 ml-2"})]})]})})})},t.id))})]})}),e.jsx("section",{className:"py-16 bg-muted/30",children:e.jsxs("div",{className:"container mx-auto px-4 max-w-6xl",children:[e.jsx("h2",{className:"text-3xl font-bold mb-8 text-center",children:"Featured In"}),e.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:xpe.map((t,s)=>e.jsx(P,{className:"hover:shadow-lg transition-shadow",children:e.jsx(F,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-lg mb-2",children:t.outlet}),e.jsx("p",{className:"text-muted-foreground text-sm",children:t.headline})]}),e.jsx(S,{variant:"ghost",size:"sm",children:e.jsx(er,{className:"w-4 h-4"})})]})})},s))})]})}),e.jsx("section",{className:"py-16",children:e.jsxs("div",{className:"container mx-auto px-4 max-w-6xl",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Media Kit"}),e.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Download our brand assets, logos, and other resources for your coverage"})]}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:mpe.map(t=>{const s=t.icon;return e.jsx(P,{className:"hover:shadow-lg transition-shadow",children:e.jsxs(F,{className:"p-6 text-center",children:[e.jsx("div",{className:"w-12 h-12 mx-auto mb-4 rounded-full bg-primary/10 flex items-center justify-center",children:e.jsx(s,{className:"w-6 h-6 text-primary"})}),e.jsx("h3",{className:"font-semibold mb-2",children:t.title}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:t.description}),e.jsx("div",{className:"flex flex-wrap gap-2 justify-center mb-4",children:t.files.map(a=>e.jsx(O,{variant:"secondary",children:a},a))}),e.jsxs(S,{variant:"outline",size:"sm",className:"w-full",children:[e.jsx(Un,{className:"w-4 h-4 mr-2"}),"Download"]})]})},t.title)})}),e.jsx("div",{className:"text-center mt-8",children:e.jsxs(S,{size:"lg",children:[e.jsx(Un,{className:"w-4 h-4 mr-2"}),"Download Complete Media Kit"]})})]})}),e.jsx("section",{className:"py-16 bg-muted/30",children:e.jsxs("div",{className:"container mx-auto px-4 max-w-4xl text-center",children:[e.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Press Inquiries"}),e.jsx("p",{className:"text-muted-foreground mb-8 max-w-2xl mx-auto",children:"For media inquiries, interview requests, or additional information, please contact our press team"}),e.jsx(P,{className:"max-w-md mx-auto",children:e.jsxs(F,{className:"p-6",children:[e.jsxs("div",{className:"space-y-3 text-left",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Email"}),e.jsx("div",{className:"font-medium",children:"press@traveloure.com"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Phone"}),e.jsx("div",{className:"font-medium",children:"+1 (555) 123-4567"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Response Time"}),e.jsx("div",{className:"font-medium",children:"Within 24 hours"})]})]}),e.jsxs(S,{className:"w-full mt-6",children:[e.jsx(qn,{className:"w-4 h-4 mr-2"}),"Send Press Inquiry"]})]})})]})})]})}const fpe=[{title:"Getting Started",icon:s$,articles:["How to create an account","Planning your first trip","Understanding the platform","Setting up your profile"]},{title:"Booking & Payments",icon:Sa,articles:["How to book services","Payment methods","Refund policy","Cancellation policy"]},{title:"Working with Experts",icon:et,articles:["Finding the right expert","Communicating with experts","Expert recommendations","Rating and reviews"]},{title:"Destinations",icon:Me,articles:["Destination guides","Local tips and customs","Safety information","Best time to visit"]},{title:"Account & Privacy",icon:sr,articles:["Account security","Privacy settings","Managing notifications","Deleting your account"]}],gpe=[{question:"How do I book a service?",answer:"Browse services on the Discover page, add items to your cart, and proceed to checkout. You can also work with local experts who will help plan and book services for you."},{question:"What payment methods do you accept?",answer:"We accept all major credit cards (Visa, Mastercard, American Express), PayPal, and digital wallets like Apple Pay and Google Pay."},{question:"Can I cancel my booking?",answer:"Cancellation policies vary by service provider. Generally, you can cancel up to 24-48 hours before your scheduled service for a full refund. Check the specific service details for exact policies."},{question:"How do I become a local expert?",answer:"Visit our 'Become an Expert' page and fill out the application form. We review all applications and typically respond within 5-7 business days."},{question:"Are the local experts verified?",answer:"Yes! All our local experts go through a verification process including identity verification, background checks, and expertise validation."},{question:"How does the AI trip planning work?",answer:"Our AI analyzes your preferences, budget, and travel style to create personalized itineraries. You can then refine these suggestions with help from local experts."},{question:"What if I have an issue during my trip?",answer:"We offer 24/7 support for active bookings. You can reach our emergency support team via the app or by calling our hotline."},{question:"Can I get a refund?",answer:"Refunds are processed according to our cancellation policy and the specific service provider's terms. Most cancellations made 24+ hours in advance receive full refunds."}];function CT(){const[t,s]=h.useState(""),a=gpe.filter(r=>r.question.toLowerCase().includes(t.toLowerCase())||r.answer.toLowerCase().includes(t.toLowerCase()));return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("section",{className:"bg-gradient-to-br from-primary to-primary/80 text-primary-foreground py-20",children:e.jsxs("div",{className:"container mx-auto px-4 max-w-4xl text-center",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:"How can we help you?"}),e.jsx("p",{className:"text-xl text-primary-foreground/90 mb-8",children:"Search our help center or browse categories below"}),e.jsx("div",{className:"max-w-2xl mx-auto",children:e.jsxs("div",{className:"relative",children:[e.jsx(ws,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),e.jsx(Ne,{placeholder:"Search for help...",value:t,onChange:r=>s(r.target.value),className:"pl-12 h-14 bg-white text-foreground text-lg"})]})})]})}),e.jsx("section",{className:"py-8 border-b bg-muted/30",children:e.jsx("div",{className:"container mx-auto px-4 max-w-6xl",children:e.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.jsx(Ce,{href:"/contact",children:e.jsx(P,{className:"hover:shadow-lg transition-shadow cursor-pointer",children:e.jsxs(F,{className:"p-6 text-center",children:[e.jsx(Qi,{className:"w-8 h-8 mx-auto mb-3 text-primary"}),e.jsx("h3",{className:"font-semibold mb-1",children:"Live Chat"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Chat with our support team"})]})})}),e.jsx(P,{className:"hover:shadow-lg transition-shadow cursor-pointer",children:e.jsxs(F,{className:"p-6 text-center",children:[e.jsx(qn,{className:"w-8 h-8 mx-auto mb-3 text-primary"}),e.jsx("h3",{className:"font-semibold mb-1",children:"Email Support"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"support@traveloure.com"})]})}),e.jsx(P,{className:"hover:shadow-lg transition-shadow cursor-pointer",children:e.jsxs(F,{className:"p-6 text-center",children:[e.jsx($l,{className:"w-8 h-8 mx-auto mb-3 text-primary"}),e.jsx("h3",{className:"font-semibold mb-1",children:"Phone Support"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"+1 (555) 123-4567"})]})})]})})}),e.jsx("section",{className:"py-16",children:e.jsxs("div",{className:"container mx-auto px-4 max-w-6xl",children:[e.jsx("h2",{className:"text-3xl font-bold mb-8",children:"Browse by Category"}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:fpe.map(r=>{const n=r.icon;return e.jsxs(P,{className:"hover:shadow-lg transition-shadow",children:[e.jsx(Q,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:e.jsx(n,{className:"w-6 h-6 text-primary"})}),e.jsx(X,{className:"text-lg",children:r.title})]})}),e.jsxs(F,{children:[e.jsx("ul",{className:"space-y-2",children:r.articles.map((i,l)=>e.jsx("li",{children:e.jsxs("button",{className:"text-sm text-muted-foreground hover:text-primary hover:underline text-left flex items-center gap-2 w-full",children:[e.jsx(Kt,{className:"w-3 h-3 flex-shrink-0"}),i]})},l))}),e.jsxs(S,{variant:"ghost",className:"w-full mt-4",size:"sm",children:["View All Articles",e.jsx(er,{className:"w-4 h-4 ml-2"})]})]})]},r.title)})})]})}),e.jsx("section",{className:"py-16 bg-muted/30",children:e.jsxs("div",{className:"container mx-auto px-4 max-w-4xl",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx(xi,{className:"w-12 h-12 mx-auto mb-4 text-primary"}),e.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Frequently Asked Questions"}),e.jsx("p",{className:"text-muted-foreground",children:"Quick answers to common questions"})]}),a.length>0?e.jsx(y2,{type:"single",collapsible:!0,className:"w-full",children:a.map((r,n)=>e.jsxs(J0,{value:`item-${n}`,children:[e.jsx(ev,{className:"text-left",children:r.question}),e.jsx(tv,{className:"text-muted-foreground",children:r.answer})]},n))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsxs("p",{className:"text-muted-foreground",children:['No results found for "',t,'"']}),e.jsx(S,{variant:"outline",className:"mt-4",onClick:()=>s(""),children:"Clear Search"})]})]})}),e.jsx("section",{className:"py-16",children:e.jsxs("div",{className:"container mx-auto px-4 max-w-4xl text-center",children:[e.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Still need help?"}),e.jsx("p",{className:"text-muted-foreground mb-8 max-w-2xl mx-auto",children:"Our support team is available 24/7 to assist you with any questions or concerns"}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[e.jsx(Ce,{href:"/contact",children:e.jsx(S,{size:"lg",children:"Contact Support"})}),e.jsx(Ce,{href:"/faq",children:e.jsx(S,{size:"lg",variant:"outline",children:"View All FAQs"})})]})]})})]})}function vpe(){const[,t]=Xf("/experts/:id"),s=t?.id,{data:a,isLoading:r}=Le({queryKey:["/api/experts",s],queryFn:async()=>{const w=await fetch(`/api/experts/${s}`);if(!w.ok)throw new Error("Expert not found");return w.json()},enabled:!!s}),{data:n=[]}=Le({queryKey:["/api/expert-services",s],queryFn:async()=>{const w=await fetch(`/api/experts/${s}/services`);return w.ok?w.json():[]},enabled:!!s}),{data:i=[]}=Le({queryKey:["/api/expert-reviews",s],queryFn:async()=>{const w=await fetch(`/api/experts/${s}/reviews`);return w.ok?w.json():[]},enabled:!!s});if(r)return e.jsx(Yt,{children:e.jsx("div",{className:"min-h-screen bg-background py-8",children:e.jsxs("div",{className:"container mx-auto px-4 max-w-6xl",children:[e.jsx(_e,{className:"h-8 w-32 mb-6"}),e.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsx(_e,{className:"h-64 mb-6"}),e.jsx(_e,{className:"h-48"})]}),e.jsx("div",{children:e.jsx(_e,{className:"h-96"})})]})]})})});if(!a)return e.jsx(Yt,{children:e.jsx("div",{className:"min-h-screen bg-background py-16",children:e.jsxs("div",{className:"container mx-auto px-4 max-w-4xl text-center",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Expert Not Found"}),e.jsx("p",{className:"text-muted-foreground mb-8",children:"The expert you're looking for doesn't exist or has been removed."}),e.jsx(Ce,{href:"/experts",children:e.jsx(S,{children:"Browse All Experts"})})]})})});const l=`${a.firstName||""} ${a.lastName||""}`.trim(),c=`${a.firstName?.[0]||""}${a.lastName?.[0]||""}`.toUpperCase(),u=a.averageRating?parseFloat(a.averageRating):0,m=a.reviewCount||i.length||0,x=a.expertForm?.responseTime||"< 24 hours",f=a.expertForm?.languages||["English"],g=a.expertForm?.specializations||[],b=a.expertForm?.destinations||[],v=a.expertForm?.bio||"Experienced local expert ready to help plan your perfect trip.",y=a.superExpert||!1;return a.verified,e.jsx(Yt,{children:e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("div",{className:"border-b bg-muted/30",children:e.jsx("div",{className:"container mx-auto px-4 max-w-6xl py-4",children:e.jsx(Ce,{href:"/experts",children:e.jsxs(S,{variant:"ghost",size:"sm",children:[e.jsx(la,{className:"w-4 h-4 mr-2"}),"Back to Experts"]})})})}),e.jsx("section",{className:"py-12 bg-muted/30",children:e.jsx("div",{className:"container mx-auto px-4 max-w-6xl",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-start",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsxs(Ls,{className:"w-32 h-32 border-4 border-background shadow-lg",children:[e.jsx(Br,{src:a.profileImage,alt:l}),e.jsx(Os,{className:"text-3xl",children:c})]})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-start justify-between gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h1",{className:"text-3xl font-bold",children:l}),e.jsx(Rt,{className:"w-6 h-6 text-primary",title:"Verified Expert"}),y&&e.jsxs(O,{className:"bg-amber-500",children:[e.jsx(jr,{className:"w-3 h-3 mr-1"}),"Super Expert"]})]}),e.jsx("p",{className:"text-muted-foreground mb-4",children:v})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(S,{variant:"outline",size:"icon",children:e.jsx(Qt,{className:"w-4 h-4"})}),e.jsx(S,{variant:"outline",size:"icon",children:e.jsx(cw,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-6 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(rt,{className:"w-5 h-5 text-amber-500 fill-amber-500"}),e.jsx("span",{className:"font-semibold",children:u.toFixed(1)}),e.jsxs("span",{className:"text-muted-foreground",children:["(",m," reviews)"]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[e.jsx(Ta,{className:"w-5 h-5"}),e.jsxs("span",{children:[a.completedTrips||0," trips completed"]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[e.jsx(Je,{className:"w-5 h-5"}),e.jsxs("span",{children:[x," response time"]})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-4",children:[b.length>0&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Me,{className:"w-4 h-4 text-muted-foreground"}),e.jsxs("div",{className:"flex gap-2",children:[b.slice(0,3).map(w=>e.jsx(O,{variant:"secondary",children:w},w)),b.length>3&&e.jsxs(O,{variant:"secondary",children:["+",b.length-3]})]})]}),f.length>0&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(No,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:f.join(", ")})]})]})]})]})})}),e.jsx("section",{className:"py-12",children:e.jsx("div",{className:"container mx-auto px-4 max-w-6xl",children:e.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(Na,{defaultValue:"about",className:"w-full",children:[e.jsxs(ca,{className:"mb-6",children:[e.jsx(it,{value:"about",children:"About"}),e.jsx(it,{value:"services",children:"Services"}),e.jsxs(it,{value:"reviews",children:["Reviews (",m,")"]})]}),e.jsx(xt,{value:"about",children:e.jsxs(P,{children:[e.jsx(Q,{children:e.jsxs(X,{children:["About ",a.firstName]})}),e.jsxs(F,{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Bio"}),e.jsx("p",{className:"text-muted-foreground",children:v})]}),g.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Specializations"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:g.map(w=>e.jsx(O,{variant:"outline",children:w},w))})]}),b.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Destinations"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:b.map(w=>e.jsxs(O,{variant:"secondary",children:[e.jsx(Nr,{className:"w-3 h-3 mr-1"}),w]},w))})]}),a.expertForm?.certifications&&e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Certifications"}),e.jsx("p",{className:"text-muted-foreground",children:a.expertForm.certifications})]})]})]})}),e.jsx(xt,{value:"services",children:n.length>0?e.jsx("div",{className:"space-y-4",children:n.map(w=>e.jsx(P,{children:e.jsxs(F,{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg mb-2",children:w.name}),e.jsx("p",{className:"text-muted-foreground text-sm",children:w.description})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"flex items-center gap-1 text-lg font-bold",children:[e.jsx(bt,{className:"w-5 h-5"}),w.price]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:w.deliveryMethod})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Je,{className:"w-4 h-4"}),w.deliveryTimeframe]}),w.location&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Me,{className:"w-4 h-4"}),w.location]})]}),e.jsx(S,{children:"Book Now"})]})]})},w.id))}):e.jsx(P,{children:e.jsxs(F,{className:"p-12 text-center",children:[e.jsx(Ta,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),e.jsx("p",{className:"text-muted-foreground",children:"No services available yet"})]})})}),e.jsx(xt,{value:"reviews",children:i.length>0?e.jsx("div",{className:"space-y-4",children:i.map(w=>e.jsx(P,{children:e.jsx(F,{className:"p-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx(Ls,{children:e.jsx(Os,{children:w.userName?.[0]?.toUpperCase()||"U"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"font-semibold",children:w.userName||"Anonymous"}),e.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((k,C)=>e.jsx(rt,{className:`w-4 h-4 ${C<w.rating?"text-amber-500 fill-amber-500":"text-gray-300"}`},C))})]}),e.jsx("p",{className:"text-muted-foreground text-sm mb-2",children:w.comment}),e.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(w.createdAt).toLocaleDateString()})]})]})})},w.id))}):e.jsx(P,{children:e.jsxs(F,{className:"p-12 text-center",children:[e.jsx(rt,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),e.jsx("p",{className:"text-muted-foreground",children:"No reviews yet"})]})})})]})}),e.jsx("div",{children:e.jsxs(P,{className:"sticky top-4",children:[e.jsx(Q,{children:e.jsxs(X,{children:["Book with ",a.firstName]})}),e.jsxs(F,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Starting from"}),e.jsxs("span",{className:"text-2xl font-bold",children:["$",n[0]?.price||"Contact"]})]}),n.length>0&&e.jsx("p",{className:"text-xs text-muted-foreground",children:n[0]?.name||"Custom service"})]}),e.jsxs(S,{className:"w-full",size:"lg",children:[e.jsx(Qi,{className:"w-4 h-4 mr-2"}),"Contact Expert"]}),e.jsxs(S,{variant:"outline",className:"w-full",size:"lg",children:[e.jsx(Ge,{className:"w-4 h-4 mr-2"}),"Schedule Consultation"]}),e.jsxs("div",{className:"pt-4 border-t space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[e.jsx(Rt,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{children:"Free cancellation up to 24h"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[e.jsx(Rt,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{children:"Instant confirmation"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[e.jsx(Rt,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{children:"24/7 support"})]})]})]})]})})]})})})]})})}function wt({component:t,skipTermsCheck:s=!1,...a}){const{user:r,isLoading:n}=qr();return n?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsx(ot,{className:"w-10 h-10 animate-spin text-primary"})}):r?!s&&r&&(!r.termsAcceptedAt||!r.privacyAcceptedAt)?(window.location.href="/accept-terms",null):e.jsx(t,{...a}):(window.location.href="/api/login",null)}function ype(){return e.jsxs(l7,{children:[e.jsx($e,{path:"/",children:e.jsx(Yt,{children:e.jsx(WQ,{})})}),e.jsx($e,{path:"/landing-mockups",children:e.jsx(GQ,{})}),e.jsx($e,{path:"/how-it-works",children:e.jsx(Yt,{children:e.jsx(Lre,{})})}),e.jsx($e,{path:"/pricing",children:e.jsx(Yt,{children:e.jsx(zre,{})})}),e.jsx($e,{path:"/about",children:e.jsx(Yt,{children:e.jsx(Wre,{})})}),e.jsx($e,{path:"/architecture",children:e.jsx(khe,{})}),e.jsx($e,{path:"/optimize",children:e.jsx(Ooe,{})}),e.jsx($e,{path:"/experts",children:e.jsx(Yt,{children:e.jsx(qoe,{})})}),e.jsx($e,{path:"/experts/:id",children:e.jsx(vpe,{})}),e.jsx($e,{path:"/service-providers",children:e.jsx(Koe,{})}),e.jsx($e,{path:"/discover",children:e.jsx(kde,{})}),e.jsx($e,{path:"/services/:id",children:e.jsx($xe,{})}),e.jsx($e,{path:"/cart",children:e.jsx(Ixe,{})}),e.jsx($e,{path:"/itinerary-comparison/:id",children:()=>e.jsx(wt,{component:Uxe})}),e.jsx($e,{path:"/bookings",children:e.jsx(Rxe,{})}),e.jsx($e,{path:"/contracts/:id",children:e.jsx(Oxe,{})}),e.jsx($e,{path:"/global-calendar",children:e.jsx(Yt,{children:e.jsx(Kxe,{})})}),e.jsx($e,{path:"/transportation",children:e.jsx(Yt,{children:e.jsx(spe,{})})}),e.jsx($e,{path:"/partner-with-us",children:e.jsx(Yt,{children:e.jsx(Ede,{})})}),e.jsx($e,{path:"/contact",children:e.jsx(Yt,{children:e.jsx(Fde,{})})}),e.jsx($e,{path:"/faq",children:e.jsx(Yt,{children:e.jsx(Rde,{})})}),e.jsx($e,{path:"/features",children:e.jsx(Yt,{children:e.jsx(Bde,{})})}),e.jsx($e,{path:"/careers",children:e.jsx(Yt,{children:e.jsx(ope,{})})}),e.jsx($e,{path:"/blog",children:e.jsx(Yt,{children:e.jsx(dpe,{})})}),e.jsx($e,{path:"/press",children:e.jsx(Yt,{children:e.jsx(ppe,{})})}),e.jsx($e,{path:"/help",children:e.jsx(Yt,{children:e.jsx(CT,{})})}),e.jsx($e,{path:"/support",children:e.jsx(Yt,{children:e.jsx(CT,{})})}),e.jsx($e,{path:"/privacy",children:e.jsx(ape,{})}),e.jsx($e,{path:"/terms",children:e.jsx(rpe,{})}),e.jsx($e,{path:"/accept-terms",children:e.jsx(npe,{})}),e.jsx($e,{path:"/experiences",children:e.jsx(Ehe,{})}),e.jsx($e,{path:"/experiences/:slug",children:e.jsx(uT,{})}),e.jsx($e,{path:"/experiences/:slug/new",children:e.jsx(uT,{})}),e.jsx($e,{path:"/discover-experiences",children:e.jsx(Fhe,{})}),e.jsx($e,{path:"/deals",children:e.jsx(Yt,{children:e.jsx(Ihe,{})})}),e.jsx($e,{path:"/spontaneous",children:e.jsx(Xxe,{})}),e.jsx($e,{path:"/hidden-gems",children:e.jsx(Yt,{children:e.jsx(Jxe,{})})}),e.jsx($e,{path:"/payment",children:e.jsx(Yhe,{})}),e.jsx($e,{path:"/become-expert",children:e.jsx(txe,{})}),e.jsx($e,{path:"/become-provider",children:e.jsx(nxe,{})}),e.jsx($e,{path:"/layout-mock",children:e.jsx(Vxe,{})}),e.jsx($e,{path:"/dashboard",children:()=>e.jsx(wt,{component:tae})}),e.jsx($e,{path:"/my-trips",children:()=>e.jsx(wt,{component:Wae})}),e.jsx($e,{path:"/profile",children:()=>e.jsx(wt,{component:Xae})}),e.jsx($e,{path:"/credits",children:()=>e.jsx(wt,{component:fxe})}),e.jsx($e,{path:"/notifications",children:()=>e.jsx(wt,{component:Jae})}),e.jsx($e,{path:"/expert-status",children:()=>e.jsx(wt,{component:vxe})}),e.jsx($e,{path:"/provider-status",children:()=>e.jsx(wt,{component:jxe})}),e.jsx($e,{path:"/itinerary/:id",children:e.jsx(uxe,{})}),e.jsx($e,{path:"/expert/dashboard",children:()=>e.jsx(wt,{component:Qre})}),e.jsx($e,{path:"/expert/ai-assistant",children:()=>e.jsx(wt,{component:ine})}),e.jsx($e,{path:"/expert/messages",children:()=>e.jsx(wt,{component:lne})}),e.jsx($e,{path:"/expert/clients",children:()=>e.jsx(wt,{component:Zre})}),e.jsx($e,{path:"/expert/bookings",children:()=>e.jsx(wt,{component:Bie})}),e.jsx($e,{path:"/expert/services",children:()=>e.jsx(wt,{component:zie})}),e.jsx($e,{path:"/expert/services/new",children:()=>e.jsx(wt,{component:Fxe})}),e.jsx($e,{path:"/expert/services/templates",children:()=>e.jsx(wt,{component:Mxe})}),e.jsx($e,{path:"/expert/custom-services",children:()=>e.jsx(wt,{component:Uie})}),e.jsx($e,{path:"/expert/earnings",children:()=>e.jsx(wt,{component:Jre})}),e.jsx($e,{path:"/expert/performance",children:()=>e.jsx(wt,{component:Vie})}),e.jsx($e,{path:"/expert/revenue-optimization",children:()=>e.jsx(wt,{component:wxe})}),e.jsx($e,{path:"/expert/leaderboard",children:()=>e.jsx(wt,{component:kxe})}),e.jsx($e,{path:"/expert/analytics",children:()=>e.jsx(wt,{component:Sxe})}),e.jsx($e,{path:"/expert/templates",children:()=>e.jsx(wt,{component:_xe})}),e.jsx($e,{path:"/expert/content-studio",children:()=>e.jsx(wt,{component:Axe})}),e.jsx($e,{path:"/expert/profile",children:()=>e.jsx(wt,{component:nne})}),e.jsx($e,{path:"/expert/contract-categories",children:()=>e.jsx(wt,{component:Nxe})}),e.jsx($e,{path:"/ea/dashboard",children:()=>e.jsx(wt,{component:Gie})}),e.jsx($e,{path:"/ea/executives",children:()=>e.jsx(wt,{component:Kie})}),e.jsx($e,{path:"/ea/calendar",children:()=>e.jsx(wt,{component:Yie})}),e.jsx($e,{path:"/ea/events",children:()=>e.jsx(wt,{component:Qie})}),e.jsx($e,{path:"/ea/communications",children:()=>e.jsx(wt,{component:Xie})}),e.jsx($e,{path:"/ea/ai-assistant",children:()=>e.jsx(wt,{component:Zie})}),e.jsx($e,{path:"/ea/travel",children:()=>e.jsx(wt,{component:Jie})}),e.jsx($e,{path:"/ea/venues",children:()=>e.jsx(wt,{component:ele})}),e.jsx($e,{path:"/ea/gifts",children:()=>e.jsx(wt,{component:tle})}),e.jsx($e,{path:"/ea/reports",children:()=>e.jsx(wt,{component:sle})}),e.jsx($e,{path:"/ea/profile",children:()=>e.jsx(wt,{component:ale})}),e.jsx($e,{path:"/ea/settings",children:()=>e.jsx(wt,{component:rle})}),e.jsx($e,{path:"/provider/dashboard",children:()=>e.jsx(wt,{component:dle})}),e.jsx($e,{path:"/provider/bookings",children:()=>e.jsx(wt,{component:mle})}),e.jsx($e,{path:"/provider/services",children:()=>e.jsx(wt,{component:ple})}),e.jsx($e,{path:"/provider/earnings",children:()=>e.jsx(wt,{component:fle})}),e.jsx($e,{path:"/provider/performance",children:()=>e.jsx(wt,{component:vle})}),e.jsx($e,{path:"/provider/calendar",children:()=>e.jsx(wt,{component:yle})}),e.jsx($e,{path:"/provider/profile",children:()=>e.jsx(wt,{component:Nle})}),e.jsx($e,{path:"/provider/settings",children:()=>e.jsx(wt,{component:wle})}),e.jsx($e,{path:"/provider/resources",children:()=>e.jsx(wt,{component:Tle})}),e.jsx($e,{path:"/admin/dashboard",children:()=>e.jsx(wt,{component:Dle})}),e.jsx($e,{path:"/admin/users",children:()=>e.jsx(wt,{component:Mle})}),e.jsx($e,{path:"/admin/experts",children:()=>e.jsx(wt,{component:Rle})}),e.jsx($e,{path:"/admin/providers",children:()=>e.jsx(wt,{component:Ole})}),e.jsx($e,{path:"/admin/plans",children:()=>e.jsx(wt,{component:zle})}),e.jsx($e,{path:"/admin/revenue",children:()=>e.jsx(wt,{component:qle})}),e.jsx($e,{path:"/admin/analytics",children:()=>e.jsx(wt,{component:Kle})}),e.jsx($e,{path:"/admin/categories",children:()=>e.jsx(wt,{component:hoe})}),e.jsx($e,{path:"/admin/search",children:()=>e.jsx(wt,{component:goe})}),e.jsx($e,{path:"/admin/notifications",children:()=>e.jsx(wt,{component:boe})}),e.jsx($e,{path:"/admin/system",children:()=>e.jsx(wt,{component:woe})}),e.jsx($e,{path:"/admin/data",children:()=>e.jsx(wt,{component:koe})}),e.jsx($e,{path:"/admin/affiliate-partners",children:()=>e.jsx(wt,{component:Coe})}),e.jsx($e,{path:"/admin/content-tracking",children:()=>e.jsx(wt,{component:Soe})}),e.jsx($e,{path:"/admin/ai-costs",children:()=>e.jsx(wt,{component:Toe})}),e.jsx($e,{path:"/create-trip",children:e.jsx(Lc,{to:"/experiences"})}),e.jsx($e,{path:"/help-me-decide",children:e.jsx(Lc,{to:"/discover"})}),e.jsx($e,{path:"/explore",children:e.jsx(Lc,{to:"/discover"})}),e.jsx($e,{path:"/browse",children:e.jsx(Lc,{to:"/discover"})}),e.jsx($e,{path:"/travel-experts",children:e.jsx(Lc,{to:"/become-expert"})}),e.jsx($e,{path:"/services-provider",children:e.jsx(Lc,{to:"/become-provider"})}),e.jsx($e,{path:"/credits-billing",children:e.jsx(Lc,{to:"/credits"})}),e.jsx($e,{path:"/trip/:id",children:()=>e.jsx(Yt,{children:e.jsx(wt,{component:iae})})}),e.jsx($e,{path:"/chat",children:()=>e.jsx(Yt,{children:e.jsx(wt,{component:rre})})}),e.jsx($e,{path:"/ai-assistant",children:()=>e.jsx(Yt,{children:e.jsx(wt,{component:nre})})}),e.jsx($e,{path:"/vendors",children:()=>e.jsx(Yt,{children:e.jsx(wt,{component:Fre})})}),e.jsx($e,{path:"/executive-assistant",children:()=>e.jsx(Yt,{children:e.jsx(wt,{component:Mre})})}),e.jsx($e,{children:e.jsx(Yt,{children:e.jsx(Gre,{})})})]})}function jpe(){return e.jsx(D7,{client:_t,children:e.jsxs(wE,{children:[e.jsx(x9,{}),e.jsx(ype,{})]})})}BL.createRoot(document.getElementById("root")).render(e.jsx(jpe,{}));
